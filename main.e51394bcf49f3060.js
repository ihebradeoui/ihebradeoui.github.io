"use strict";(self.webpackChunkthe_project=self.webpackChunkthe_project||[]).push([[179],{2011:(Je,Ie,x)=>{x.d(Ie,{Dh:()=>le,GT:()=>he,cc:()=>Se,hO:()=>ke,on:()=>G,pX:()=>oe,xv:()=>pe});var c=x(4650),B=x(127),P=x(5813);Je=x.hmd(Je);const re=["ngOnDestroy"],oe=(de,He,$e,Re={})=>new Proxy(de,{get:(Ae,ve)=>$e.runOutsideAngular(()=>{var Le;if(de[ve])return!(null===(Le=Re?.spy)||void 0===Le)&&Le.get&&Re.spy.get(ve,de[ve]),de[ve];if(re.indexOf(ve)>-1)return()=>{};const ne=He.toPromise().then(ae=>{const ge=ae&&ae[ve];return"function"==typeof ge?ge.bind(ae):ge&&ge.then?ge.then(K=>$e.run(()=>K)):$e.run(()=>ge)});return new Proxy(()=>{},{get:(ae,ge)=>ne[ge],apply:(ae,ge,K)=>ne.then(Q=>{var ue;const ie=Q&&Q(...K);return!(null===(ue=Re?.spy)||void 0===ue)&&ue.apply&&Re.spy.apply(ve,K,ie),ie})})})}),he=(de,He)=>{He.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Re=>{Object.defineProperty(de.prototype,Re,Object.getOwnPropertyDescriptor($e.prototype||$e,Re))})})};class ce{constructor(He){return He}}const le=new c.OlP("angularfire2.app.options"),pe=new c.OlP("angularfire2.app.name");function G(de,He,$e){const Ae="object"==typeof $e&&$e||{};Ae.name=Ae.name||"string"==typeof $e&&$e||"[DEFAULT]";const Le=B.Z.apps.filter(ne=>ne&&ne.name===Ae.name)[0]||He.runOutsideAngular(()=>B.Z.initializeApp(de,Ae));try{JSON.stringify(de)!==JSON.stringify(Le.options)&&H("error",`${Le.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(Le)}const H=(de,...He)=>{(0,c.X6Q)()&&typeof console<"u"&&console[de](...He)},Y={provide:ce,useFactory:G,deps:[le,c.R0b,[new c.FiY,pe]]};let ke=(()=>{class de{constructor($e){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,$e.toString())}static initializeApp($e,Re){return{ngModule:de,providers:[{provide:le,useValue:$e},{provide:pe,useValue:Re}]}}}return de.\u0275fac=function($e){return new($e||de)(c.LFG(c.Lbi))},de.\u0275mod=c.oAB({type:de}),de.\u0275inj=c.cJS({providers:[Y]}),de})();function Se(de,He,$e,Re,Ae){const[,ve,Le]=globalThis.\u0275AngularfireInstanceCache.find(ne=>ne[0]===de)||[];if(ve)return function ye(de,He){try{return de.toString()===He.toString()}catch{return de===He}}(Ae,Le)||(me("error",`${He} was already initialized on the ${$e} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ae,was:Le})),ve;{const ne=Re();return globalThis.\u0275AngularfireInstanceCache.push([de,ne,Ae]),ne}}const Ze=!!Je.hot,me=(de,...He)=>{(0,c.X6Q)()&&typeof console<"u"&&console[de](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Je,Ie,x)=>{x.d(Ie,{q4:()=>Pl,iC:()=>Mn,HU:()=>as,vb:()=>ki,JM:()=>Qs,u3:()=>Xr});var c=x(4650),B=x(5867),P=x(5861),re=x(9681),oe=x(2090),he=x(4859),ce=x(1877),le=x(8766);const pe="@firebase/installations",G="0.5.16",Y=`w:${G}`,ke="FIS_v2",He=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $e(w){return w instanceof oe.ZR&&w.code.includes("request-failed")}function Re({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function Ae(w){return{token:w.token,requestStatus:2,expiresIn:Q(w.expiresIn),creationTime:Date.now()}}function ve(w,D){return Le.apply(this,arguments)}function Le(){return(Le=(0,P.Z)(function*(w,D){const L=(yield D.json()).error;return He.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ne({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function ae(w,{refreshToken:D}){const A=ne(w);return A.append("Authorization",function ue(w){return`${ke} ${w}`}(D)),A}function ge(w){return K.apply(this,arguments)}function K(){return(K=(0,P.Z)(function*(w){const D=yield w();return D.status>=500&&D.status<600?w():D})).apply(this,arguments)}function Q(w){return Number(w.replace("s","000"))}function ie(w,D){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:D},{fid:A}){const L=Re(w),q=ne(w),se=D.getImmediate({optional:!0});if(se){const mt=yield se.getHeartbeatsHeader();mt&&q.append("x-firebase-client",mt)}const Fe={method:"POST",headers:q,body:JSON.stringify({fid:A,authVersion:ke,appId:w.appId,sdkVersion:Y})},nt=yield ge(()=>fetch(L,Fe));if(nt.ok){const mt=yield nt.json();return{fid:mt.fid||A,registrationStatus:2,refreshToken:mt.refreshToken,authToken:Ae(mt.authToken)}}throw yield ve("Create Installation",nt)})).apply(this,arguments)}function xe(w){return new Promise(D=>{setTimeout(D,w)})}const Vt=/^[cdef][\w-]{21}$/;function Ue(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const A=function $t(w){return function Xe(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Vt.test(A)?A:""}catch{return""}}function Qt(w){return`${w.appName}!${w.appId}`}const Ft=new Map;function Lt(w,D){const A=Qt(w);qn(A,D),function jr(w,D){const A=function gn(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=w=>{qn(w.data.key,w.data.fid)}),sr}();A&&A.postMessage({key:w,fid:D}),function Hr(){0===Ft.size&&sr&&(sr.close(),sr=null)}()}(A,D)}function qn(w,D){const A=Ft.get(w);if(A)for(const L of A)L(D)}let sr=null;const yn="firebase-installations-store";let Rr=null;function Gr(){return Rr||(Rr=(0,le.X3)("firebase-installations-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(yn)}})),Rr}function je(w,D){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(w,D){const A=Qt(w),q=(yield Gr()).transaction(yn,"readwrite"),se=q.objectStore(yn),_e=yield se.get(A);return yield se.put(D,A),yield q.done,(!_e||_e.fid!==D.fid)&&Lt(w,D.fid),D})).apply(this,arguments)}function Dn(w){return qt.apply(this,arguments)}function qt(){return(qt=(0,P.Z)(function*(w){const D=Qt(w),L=(yield Gr()).transaction(yn,"readwrite");yield L.objectStore(yn).delete(D),yield L.done})).apply(this,arguments)}function Wn(w,D){return zi.apply(this,arguments)}function zi(){return(zi=(0,P.Z)(function*(w,D){const A=Qt(w),q=(yield Gr()).transaction(yn,"readwrite"),se=q.objectStore(yn),_e=yield se.get(A),Fe=D(_e);return void 0===Fe?yield se.delete(A):yield se.put(Fe,A),yield q.done,Fe&&(!_e||_e.fid!==Fe.fid)&&Lt(w,Fe.fid),Fe})).apply(this,arguments)}function Kt(w){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,P.Z)(function*(w){let D;const A=yield Wn(w.appConfig,L=>{const q=zt(L),se=et(w,q);return D=se.registrationPromise,se.installationEntry});return""===A.fid?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}})).apply(this,arguments)}function zt(w){return ut(w||{fid:Ue(),registrationStatus:0})}function et(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(He.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function tt(w,D){return pt.apply(this,arguments)}(w,A);return{installationEntry:A,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:ar(w)}:{installationEntry:D}}function pt(){return(pt=(0,P.Z)(function*(w,D){try{const A=yield ie(w,D);return je(w.appConfig,A)}catch(A){throw $e(A)&&409===A.customData.serverCode?yield Dn(w.appConfig):yield je(w.appConfig,{fid:D.fid,registrationStatus:0}),A}})).apply(this,arguments)}function ar(w){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(w){let D=yield Xn(w.appConfig);for(;1===D.registrationStatus;)yield xe(100),D=yield Xn(w.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:L}=yield Kt(w);return L||A}return D})).apply(this,arguments)}function Xn(w){return Wn(w,D=>{if(!D)throw He.create("installation-not-found");return ut(D)})}function ut(w){return function er(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function yt(w,D){return fr.apply(this,arguments)}function fr(){return(fr=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:D},A){const L=Pt(w,A),q=ae(w,A),se=D.getImmediate({optional:!0});if(se){const mt=yield se.getHeartbeatsHeader();mt&&q.append("x-firebase-client",mt)}const Fe={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Y,appId:w.appId}})},nt=yield ge(()=>fetch(L,Fe));if(nt.ok)return Ae(yield nt.json());throw yield ve("Generate Auth Token",nt)})).apply(this,arguments)}function Pt(w,{fid:D}){return`${Re(w)}/${D}/authTokens:generate`}function Vn(w){return rn.apply(this,arguments)}function rn(){return(rn=(0,P.Z)(function*(w,D=!1){let A;const L=yield Wn(w.appConfig,se=>{if(!xt(se))throw He.create("not-registered");const _e=se.authToken;if(!D&&W(_e))return se;if(1===_e.requestStatus)return A=We(w,D),se;{if(!navigator.onLine)throw He.create("app-offline");const Fe=Z(se);return A=at(w,Fe),Fe}});return A?yield A:L.authToken})).apply(this,arguments)}function We(w,D){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,P.Z)(function*(w,D){let A=yield Ge(w.appConfig);for(;1===A.authToken.requestStatus;)yield xe(100),A=yield Ge(w.appConfig);const L=A.authToken;return 0===L.requestStatus?Vn(w,D):L})).apply(this,arguments)}function Ge(w){return Wn(w,D=>{if(!xt(D))throw He.create("not-registered");return function V(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function at(w,D){return lt.apply(this,arguments)}function lt(){return(lt=(0,P.Z)(function*(w,D){try{const A=yield yt(w,D),L=Object.assign(Object.assign({},D),{authToken:A});return yield je(w.appConfig,L),A}catch(A){if(!$e(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield je(w.appConfig,L)}else yield Dn(w.appConfig);throw A}})).apply(this,arguments)}function xt(w){return void 0!==w&&2===w.registrationStatus}function W(w){return 2===w.requestStatus&&!function $(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+36e5}(w)}function Z(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}function k(){return(k=(0,P.Z)(function*(w){const D=w,{installationEntry:A,registrationPromise:L}=yield Kt(D);return L?L.catch(console.error):Vn(D).catch(console.error),A.fid})).apply(this,arguments)}function Me(){return(Me=(0,P.Z)(function*(w,D=!1){const A=w;return yield qe(A),(yield Vn(A,D)).token})).apply(this,arguments)}function qe(w){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,P.Z)(function*(w){const{registrationPromise:D}=yield Kt(w);D&&(yield D)})).apply(this,arguments)}function Zi(w){return He.create("missing-app-config-values",{valueName:w})}const Ds="installations",qi=w=>{const D=w.getProvider("app").getImmediate(),A=function Xt(w){if(!w||!w.options)throw Zi("App Configuration");if(!w.name)throw Zi("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!w.options[A])throw Zi(A);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,re._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Ki=w=>{const D=w.getProvider("app").getImmediate(),A=(0,re._getProvider)(D,Ds).getImmediate();return{getId:()=>function R(w){return k.apply(this,arguments)}(A),getToken:q=>function ee(w){return Me.apply(this,arguments)}(A,q)}};(function oa(){(0,re._registerComponent)(new he.wA(Ds,qi,"PUBLIC")),(0,re._registerComponent)(new he.wA("installations-internal",Ki,"PRIVATE"))})(),(0,re.registerVersion)(pe,G),(0,re.registerVersion)(pe,G,"esm2017");const ui="@firebase/remote-config",Tn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fl{constructor(D,A,L,q){this.client=D,this.storage=A,this.storageCache=L,this.logger=q}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-A,q=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${q}.`),q}fetch(D){var A=this;return(0,P.Z)(function*(){const[L,q]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(q&&A.isCachedDataFresh(D.cacheMaxAgeMillis,L))return q;D.eTag=q&&q.eTag;const se=yield A.client.fetch(D),_e=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&_e.push(A.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(_e),se})()}}function mo(w=navigator){return w.languages&&w.languages[0]||w.language}class Xi{constructor(D,A,L,q,se,_e){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=L,this.projectId=q,this.apiKey=se,this.appId=_e}fetch(D){var A=this;return(0,P.Z)(function*(){var L,q,se;const[_e,Fe]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},it={sdk_version:A.sdkVersion,app_instance_id:_e,app_instance_id_token:Fe,app_id:A.appId,language_code:mo()},Rn={method:"POST",headers:Ct,body:JSON.stringify(it)},ir=fetch(mt,Rn),cs=new Promise((Vi,Zn)=>{D.signal.addEventListener(()=>{const xu=new Error("The operation was aborted.");xu.name="AbortError",Zn(xu)})});let Dt;try{yield Promise.race([ir,cs]),Dt=yield ir}catch(Vi){let Zn="fetch-client-network";throw"AbortError"===(null===(L=Vi)||void 0===L?void 0:L.name)&&(Zn="fetch-timeout"),Tn.create(Zn,{originalErrorMessage:null===(q=Vi)||void 0===q?void 0:q.message})}let Yn=Dt.status;const ds=Dt.headers.get("ETag")||void 0;let Li,Aa;if(200===Dt.status){let Vi;try{Vi=yield Dt.json()}catch(Zn){throw Tn.create("fetch-client-parse",{originalErrorMessage:null===(se=Zn)||void 0===se?void 0:se.message})}Li=Vi.entries,Aa=Vi.state}if("INSTANCE_STATE_UNSPECIFIED"===Aa?Yn=500:"NO_CHANGE"===Aa?Yn=304:("NO_TEMPLATE"===Aa||"EMPTY_CONFIG"===Aa)&&(Li={}),304!==Yn&&200!==Yn)throw Tn.create("fetch-status",{httpStatus:Yn});return{status:Yn,eTag:ds,config:Li}})()}}class di{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,P.Z)(function*(){const L=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:L}){var q=this;return(0,P.Z)(function*(){yield function br(w,D){return new Promise((A,L)=>{const q=Math.max(D-Date.now(),0),se=setTimeout(A,q);w.addEventListener(()=>{clearTimeout(se),L(Tn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const se=yield q.client.fetch(D);return yield q.storage.deleteThrottleMetadata(),se}catch(se){if(!function fh(w){if(!(w instanceof oe.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(se))throw se;const _e={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(_e),q.attemptFetch(D,_e)}})()}}class gh{constructor(D,A,L,q,se){this.app=D,this._client=A,this._storageCache=L,this._storage=q,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _o(w,D){var A;const L=w.target.error||void 0;return Tn.create(D,{originalErrorMessage:L&&(null===(A=L)||void 0===A?void 0:A.message)})}const bs="app_namespace_store";class lu{constructor(D,A,L,q=function _h(){return new Promise((w,D)=>{var A;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=q=>{D(_o(q,"storage-open"))},L.onsuccess=q=>{w(q.target.result)},L.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(bs,{keyPath:"compositeKey"})}}catch(L){D(Tn.create("storage-open",{originalErrorMessage:null===(A=L)||void 0===A?void 0:A.message}))}})}()){this.appId=D,this.appName=A,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,P.Z)(function*(){const L=yield A.openDbPromise;return new Promise((q,se)=>{var _e;const nt=L.transaction([bs],"readonly").objectStore(bs),mt=A.createCompositeKey(D);try{const Ct=nt.get(mt);Ct.onerror=it=>{se(_o(it,"storage-get"))},Ct.onsuccess=it=>{const Rn=it.target.result;q(Rn?Rn.value:void 0)}}catch(Ct){se(Tn.create("storage-get",{originalErrorMessage:null===(_e=Ct)||void 0===_e?void 0:_e.message}))}})})()}set(D,A){var L=this;return(0,P.Z)(function*(){const q=yield L.openDbPromise;return new Promise((se,_e)=>{var Fe;const mt=q.transaction([bs],"readwrite").objectStore(bs),Ct=L.createCompositeKey(D);try{const it=mt.put({compositeKey:Ct,value:A});it.onerror=Rn=>{_e(_o(Rn,"storage-set"))},it.onsuccess=()=>{se()}}catch(it){_e(Tn.create("storage-set",{originalErrorMessage:null===(Fe=it)||void 0===Fe?void 0:Fe.message}))}})})()}delete(D){var A=this;return(0,P.Z)(function*(){const L=yield A.openDbPromise;return new Promise((q,se)=>{var _e;const nt=L.transaction([bs],"readwrite").objectStore(bs),mt=A.createCompositeKey(D);try{const Ct=nt.delete(mt);Ct.onerror=it=>{se(_o(it,"storage-delete"))},Ct.onsuccess=()=>{q()}}catch(Ct){se(Tn.create("storage-delete",{originalErrorMessage:null===(_e=Ct)||void 0===_e?void 0:_e.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ts{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const A=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),q=D.storage.getActiveConfig(),se=yield A;se&&(D.lastFetchStatus=se);const _e=yield L;_e&&(D.lastSuccessfulFetchTimestampMillis=_e);const Fe=yield q;Fe&&(D.activeConfig=Fe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function wp(){return aa.apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function uu(){(0,re._registerComponent)(new he.wA("remote-config",function w(D,{instanceIdentifier:A}){const L=D.getProvider("app").getImmediate(),q=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Tn.create("registration-window");if(!(0,oe.hl)())throw Tn.create("indexed-db-unavailable");const{projectId:se,apiKey:_e,appId:Fe}=L.options;if(!se)throw Tn.create("registration-project-id");if(!_e)throw Tn.create("registration-api-key");if(!Fe)throw Tn.create("registration-app-id");const nt=new lu(Fe,L.name,A=A||"firebase"),mt=new Ts(nt),Ct=new ce.Yd(ui);Ct.logLevel=ce.in.ERROR;const it=new Xi(q,re.SDK_VERSION,A,se,_e,Fe),Rn=new di(it,nt),ir=new fl(Rn,nt,mt,Ct),cs=new gh(L,ir,mt,nt,Ct);return function An(w){const D=(0,oe.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(cs),cs},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(ui,"0.3.15"),(0,re.registerVersion)(ui,"0.3.15","esm2017")}();const Kn="/firebase-messaging-sw.js",Ss="/firebase-cloud-messaging-push-scope",Ai="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",la="google.c.a.c_id",pl="google.c.a.c_l",hu="google.c.a.ts",Ms="google.c.a.e";var Tr=(()=>{return(w=Tr||(Tr={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Tr;var w})();function hi(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mr(w){const A=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(A),q=new Uint8Array(L.length);for(let se=0;se<L.length;++se)q[se]=L.charCodeAt(se);return q}const es="fcm_token_details_db",yo="fcm_token_object_Store";function vh(w){return gl.apply(this,arguments)}function gl(){return gl=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(es))return null;let D=null;return(yield(0,le.X3)(es,5,{upgrade:(L=(0,P.Z)(function*(q,se,_e,Fe){var nt;if(se<2||!q.objectStoreNames.contains(yo))return;const mt=Fe.objectStore(yo),Ct=yield mt.index("fcmSenderId").get(w);if(yield mt.clear(),Ct)if(2===se){const it=Ct;if(!it.auth||!it.p256dh||!it.endpoint)return;D={token:it.fcmToken,createTime:null!==(nt=it.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:it.auth,p256dh:it.p256dh,endpoint:it.endpoint,swScope:it.swScope,vapidKey:"string"==typeof it.vapidKey?it.vapidKey:hi(it.vapidKey)}}}else if(3===se){const it=Ct;D={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:hi(it.auth),p256dh:hi(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:hi(it.vapidKey)}}}else if(4===se){const it=Ct;D={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:hi(it.auth),p256dh:hi(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:hi(it.vapidKey)}}}}),function(se,_e,Fe,nt){return L.apply(this,arguments)})})).close(),yield(0,le.Lj)(es),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),mn(D)?D:null;var L}),gl.apply(this,arguments)}function mn(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Nr="firebase-messaging-store";let Gn=null;function ua(){return Gn||(Gn=(0,le.X3)("firebase-messaging-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(Nr)}})),Gn}function Rs(w){return zr.apply(this,arguments)}function zr(){return(zr=(0,P.Z)(function*(w){const D=Ar(w),L=yield(yield ua()).transaction(Nr).objectStore(Nr).get(D);if(L)return L;{const q=yield vh(w.appConfig.senderId);if(q)return yield Ut(w,q),q}})).apply(this,arguments)}function Ut(w,D){return ml.apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(w,D){const A=Ar(w),q=(yield ua()).transaction(Nr,"readwrite");return yield q.objectStore(Nr).put(D,A),yield q.done,D})).apply(this,arguments)}function Si(w){return _l.apply(this,arguments)}function _l(){return(_l=(0,P.Z)(function*(w){const D=Ar(w),L=(yield ua()).transaction(Nr,"readwrite");yield L.objectStore(Nr).delete(D),yield L.done})).apply(this,arguments)}function Ar({appConfig:w}){return w.appId}const vn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _t(w,D){return Co.apply(this,arguments)}function Co(){return(Co=(0,P.Z)(function*(w,D){var A;const L=yield Do(w),q=be(D),se={method:"POST",headers:L,body:JSON.stringify(q)};let _e;try{_e=yield(yield fetch(ts(w.appConfig),se)).json()}catch(Fe){throw vn.create("token-subscribe-failed",{errorInfo:null===(A=Fe)||void 0===A?void 0:A.toString()})}if(_e.error)throw vn.create("token-subscribe-failed",{errorInfo:_e.error.message});if(!_e.token)throw vn.create("token-subscribe-no-token");return _e.token})).apply(this,arguments)}function Ch(w,D){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,P.Z)(function*(w,D){var A;const L=yield Do(w),q=be(D.subscriptionOptions),se={method:"PATCH",headers:L,body:JSON.stringify(q)};let _e;try{_e=yield(yield fetch(`${ts(w.appConfig)}/${D.token}`,se)).json()}catch(Fe){throw vn.create("token-update-failed",{errorInfo:null===(A=Fe)||void 0===A?void 0:A.toString()})}if(_e.error)throw vn.create("token-update-failed",{errorInfo:_e.error.message});if(!_e.token)throw vn.create("token-update-no-token");return _e.token})).apply(this,arguments)}function pu(w,D){return wo.apply(this,arguments)}function wo(){return(wo=(0,P.Z)(function*(w,D){var A;const q={method:"DELETE",headers:yield Do(w)};try{const _e=yield(yield fetch(`${ts(w.appConfig)}/${D}`,q)).json();if(_e.error)throw vn.create("token-unsubscribe-failed",{errorInfo:_e.error.message})}catch(se){throw vn.create("token-unsubscribe-failed",{errorInfo:null===(A=se)||void 0===A?void 0:A.toString()})}})).apply(this,arguments)}function ts({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Do(w){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,P.Z)(function*({appConfig:w,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function be({p256dh:w,auth:D,endpoint:A,vapidKey:L}){const q={web:{endpoint:A,auth:D,p256dh:w}};return L!==Ai&&(q.web.applicationPubKey=L),q}const Rt=6048e5;function Eh(w){return Io.apply(this,arguments)}function Io(){return(Io=(0,P.Z)(function*(w){const D=yield Mc(w.swRegistration,w.vapidKey),A={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:D.endpoint,auth:hi(D.getKey("auth")),p256dh:hi(D.getKey("p256dh"))},L=yield Rs(w.firebaseDependencies);if(L){if(wh(L.subscriptionOptions,A))return Date.now()>=L.createTime+Rt?ca(w,{token:L.token,createTime:Date.now(),subscriptionOptions:A}):L.token;try{yield pu(w.firebaseDependencies,L.token)}catch(q){console.warn(q)}return da(w.firebaseDependencies,A)}return da(w.firebaseDependencies,A)})).apply(this,arguments)}function kn(w){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,P.Z)(function*(w){const D=yield Rs(w.firebaseDependencies);D&&(yield pu(w.firebaseDependencies,D.token),yield Si(w.firebaseDependencies));const A=yield w.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function ca(w,D){return lr.apply(this,arguments)}function lr(){return(lr=(0,P.Z)(function*(w,D){try{const A=yield Ch(w.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield Ut(w.firebaseDependencies,L),A}catch(A){throw yield kn(w),A}})).apply(this,arguments)}function da(w,D){return xs.apply(this,arguments)}function xs(){return(xs=(0,P.Z)(function*(w,D){const L={token:yield _t(w,D),createTime:Date.now(),subscriptionOptions:D};return yield Ut(w,L),L.token})).apply(this,arguments)}function Mc(w,D){return bo.apply(this,arguments)}function bo(){return(bo=(0,P.Z)(function*(w,D){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mr(D)})})).apply(this,arguments)}function wh(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}function ns(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Fn(w,D){if(!D.notification)return;w.notification={};const A=D.notification.title;A&&(w.notification.title=A);const L=D.notification.body;L&&(w.notification.body=L);const q=D.notification.image;q&&(w.notification.image=q);const se=D.notification.icon;se&&(w.notification.icon=se)}(D,w),function Zr(w,D){!D.data||(w.data=D.data)}(D,w),function To(w,D){var A,L,q,se,_e;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;w.fcmOptions={};const Fe=null!==(q=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==q?q:null===(se=D.notification)||void 0===se?void 0:se.click_action;Fe&&(w.fcmOptions.link=Fe);const nt=null===(_e=D.fcmOptions)||void 0===_e?void 0:_e.analytics_label;nt&&(w.fcmOptions.analyticsLabel=nt)}(D,w),D}function Ao(w){return"object"==typeof w&&!!w&&la in w}function fi(w,D){const A=[];for(let L=0;L<w.length;L++)A.push(w.charAt(L)),L<D.length&&A.push(D.charAt(L));return A.join("")}function yl(w){return vn.create("missing-app-config-values",{valueName:w})}fi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mu{constructor(D,A,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function gu(w){if(!w||!w.options)throw yl("App Configuration Object");if(!w.name)throw yl("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=w;for(const L of D)if(!A[L])throw yl(L);return{appName:w.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:q,installations:A,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Rc(w){return Os.apply(this,arguments)}function Os(){return(Os=(0,P.Z)(function*(w){var D;try{w.swRegistration=yield navigator.serviceWorker.register(Kn,{scope:Ss}),w.swRegistration.update().catch(()=>{})}catch(A){throw vn.create("failed-service-worker-registration",{browserErrorMessage:null===(D=A)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function vl(w,D){return So.apply(this,arguments)}function So(){return(So=(0,P.Z)(function*(w,D){if(!D&&!w.swRegistration&&(yield Rc(w)),D||!w.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw vn.create("invalid-sw-registration");w.swRegistration=D}})).apply(this,arguments)}function Cl(w,D){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,P.Z)(function*(w,D){D?w.vapidKey=D:w.vapidKey||(w.vapidKey=Ai)})).apply(this,arguments)}function ks(){return(ks=(0,P.Z)(function*(w,D){if(!navigator)throw vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vn.create("permission-blocked");return yield Cl(w,D?.vapidKey),yield vl(w,D?.serviceWorkerRegistration),Eh(w)})).apply(this,arguments)}function Pc(w,D,A){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,P.Z)(function*(w,D,A){const L=Nc(D);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:A[la],message_name:A[pl],message_time:A[hu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Nc(w){switch(w){case Tr.NOTIFICATION_CLICKED:return"notification_open";case Tr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Mi(){return(Mi=(0,P.Z)(function*(w,D){const A=D.data;if(!A.isFirebaseMessaging)return;w.onMessageHandler&&A.messageType===Tr.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(ns(A)):w.onMessageHandler.next(ns(A)));const L=A.data;Ao(L)&&"1"===L[Ms]&&(yield Pc(w,A.messageType,L))})).apply(this,arguments)}const Ri="@firebase/messaging",cn=w=>{const D=new mu(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function yu(w,D){return Mi.apply(this,arguments)}(D,A)),D},pi=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:L=>function _u(w,D){return ks.apply(this,arguments)}(D,L)}};function Cu(){return El.apply(this,arguments)}function El(){return(El=(0,P.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function sn(){(0,re._registerComponent)(new he.wA("messaging",cn,"PUBLIC")),(0,re._registerComponent)(new he.wA("messaging-internal",pi,"PRIVATE")),(0,re.registerVersion)(Ri,"0.11.0"),(0,re.registerVersion)(Ri,"0.11.0","esm2017")}();const Vs="analytics",wu="firebase_id",bl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Du="https://www.googletagmanager.com/gtag/js",Cn=new ce.Yd("@firebase/analytics");function fa(w){return Promise.all(w.map(D=>D.catch(A=>A)))}function pa(w,D){const A=document.createElement("script");A.src=`${Du}?l=${w}&id=${D}`,A.async=!0,document.head.appendChild(A)}function Oc(w,D,A,L,q,se){return ma.apply(this,arguments)}function ma(){return(ma=(0,P.Z)(function*(w,D,A,L,q,se){const _e=L[q];try{if(_e)yield D[_e];else{const nt=(yield fa(A)).find(mt=>mt.measurementId===q);nt&&(yield D[nt.appId])}}catch(Fe){Cn.error(Fe)}w("config",q,se)})).apply(this,arguments)}function gi(w,D,A,L,q){return Po.apply(this,arguments)}function Po(){return(Po=(0,P.Z)(function*(w,D,A,L,q){try{let se=[];if(q&&q.send_to){let _e=q.send_to;Array.isArray(_e)||(_e=[_e]);const Fe=yield fa(A);for(const nt of _e){const mt=Fe.find(it=>it.measurementId===nt),Ct=mt&&D[mt.appId];if(!Ct){se=[];break}se.push(Ct)}}0===se.length&&(se=Object.values(D)),yield Promise.all(se),w("event",L,q||{})}catch(se){Cn.error(se)}})).apply(this,arguments)}function Iu(w){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(Du)&&A.src.includes(w))return A;return null}const Ln=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xo=new class Al{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Us(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Lc(w){return En.apply(this,arguments)}function En(){return(En=(0,P.Z)(function*(w){var D;const{appId:A,apiKey:L}=w,q={method:"GET",headers:Us(L)},se=bl.replace("{app-id}",A),_e=yield fetch(se,q);if(200!==_e.status&&304!==_e.status){let Fe="";try{const nt=yield _e.json();null!==(D=nt.error)&&void 0!==D&&D.message&&(Fe=nt.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:_e.status,responseMessage:Fe})}return _e.json()})).apply(this,arguments)}function bu(w){return _r.apply(this,arguments)}function _r(){return(_r=(0,P.Z)(function*(w,D=xo,A){const{appId:L,apiKey:q,measurementId:se}=w.options;if(!L)throw Ln.create("no-app-id");if(!q){if(se)return{measurementId:se,appId:L};throw Ln.create("no-api-key")}const _e=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fe=new Oo;return setTimeout((0,P.Z)(function*(){Fe.abort()}),void 0!==A?A:6e4),Tu({appId:L,apiKey:q,measurementId:se},_e,Fe,D)})).apply(this,arguments)}function Tu(w,D,A){return mi.apply(this,arguments)}function mi(){return(mi=(0,P.Z)(function*(w,{throttleEndTimeMillis:D,backoffCount:A},L,q=xo){var se,_e;const{appId:Fe,measurementId:nt}=w;try{yield Sl(L,D)}catch(mt){if(nt)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${null===(se=mt)||void 0===se?void 0:se.message}]`),{appId:Fe,measurementId:nt};throw mt}try{const mt=yield Lc(w);return q.deleteThrottleMetadata(Fe),mt}catch(mt){const Ct=mt;if(!_a(Ct)){if(q.deleteThrottleMetadata(Fe),nt)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${Ct?.message}]`),{appId:Fe,measurementId:nt};throw mt}const it=503===Number(null===(_e=Ct?.customData)||void 0===_e?void 0:_e.httpStatus)?(0,oe.$s)(A,q.intervalMillis,30):(0,oe.$s)(A,q.intervalMillis),Rn={throttleEndTimeMillis:Date.now()+it,backoffCount:A+1};return q.setThrottleMetadata(Fe,Rn),Cn.debug(`Calling attemptFetch again in ${it} millis`),Tu(w,Rn,L,q)}})).apply(this,arguments)}function Sl(w,D){return new Promise((A,L)=>{const q=Math.max(D-Date.now(),0),se=setTimeout(A,q);w.addEventListener(()=>{clearTimeout(se),L(Ln.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function _a(w){if(!(w instanceof oe.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Oo{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let rs,va;function Bs(){return(Bs=(0,P.Z)(function*(w,D,A,L,q){if(q&&q.global)w("event",A,L);else{const se=yield D;w("event",A,Object.assign(Object.assign({},L),{send_to:se}))}})).apply(this,arguments)}function Ws(w){va=w}function Ml(w){rs=w}function Ni(){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,P.Z)(function*(){var w;if(!(0,oe.hl)())return Cn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(D){return Cn.warn(Ln.create("indexeddb-unavailable",{errorInfo:null===(w=D)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function zs(){return(zs=(0,P.Z)(function*(w,D,A,L,q,se,_e){var Fe;const nt=bu(w);nt.then(ir=>{A[ir.measurementId]=ir.appId,w.options.measurementId&&ir.measurementId!==w.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>Cn.error(ir)),D.push(nt);const mt=Ni().then(ir=>{if(ir)return L.getId()}),[Ct,it]=yield Promise.all([nt,mt]);Iu(se)||pa(se,Ct.measurementId),va&&(q("consent","default",va),Ws(void 0)),q("js",new Date);const Rn=null!==(Fe=_e?.config)&&void 0!==Fe?Fe:{};return Rn.origin="firebase",Rn.update=!0,null!=it&&(Rn[wu]=it),q("config",Ct.measurementId,Rn),rs&&(q("set",rs),Ml(void 0)),Ct.measurementId})).apply(this,arguments)}class Ca{constructor(D){this.app=D}_delete(){return delete tr[this.app.options.appId],Promise.resolve()}}let tr={},Zs=[];const is={};let Ks,Kr,qs="dataLayer",Su=!1;function Bc(w,D,A){!function Dh(){const w=[];if((0,oe.ru)()&&w.push("This is a browser extension environment."),(0,oe.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((L,q)=>`(${q+1}) ${L}`).join(" "),A=Ln.create("invalid-analytics-context",{errorInfo:D});Cn.warn(A.message)}}();const L=w.options.appId;if(!L)throw Ln.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Ln.create("no-api-key");Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=tr[L])throw Ln.create("already-exists",{id:L});if(!Su){!function ga(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(qs);const{wrappedGtag:se,gtagCore:_e}=function No(w,D,A,L,q){let se=function(..._e){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(se=window[q]),window[q]=function Tl(w,D,A,L){function se(){return(se=(0,P.Z)(function*(_e,Fe,nt){try{"event"===_e?yield gi(w,D,A,Fe,nt):"config"===_e?yield Oc(w,D,A,L,Fe,nt):"consent"===_e?w("consent","update",nt):w("set",Fe)}catch(mt){Cn.error(mt)}})).apply(this,arguments)}return function q(_e,Fe,nt){return se.apply(this,arguments)}}(se,w,D,A),{gtagCore:se,wrappedGtag:window[q]}}(tr,Zs,is,qs,"gtag");Kr=se,Ks=_e,Su=!0}return tr[L]=function Uc(w,D,A,L,q,se,_e){return zs.apply(this,arguments)}(w,Zs,is,D,Ks,qs,A),new Ca(w)}function Ip(){return $c.apply(this,arguments)}function $c(){return($c=(0,P.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Ye="@firebase/analytics";!function nn(){(0,re._registerComponent)(new he.wA(Vs,(D,{options:A})=>Bc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,re._registerComponent)(new he.wA("analytics-internal",function w(D){try{const A=D.getProvider(Vs).getImmediate();return{logEvent:(L,q,se)=>function tn(w,D,A,L){w=(0,oe.m9)(w),function ko(w,D,A,L,q){return Bs.apply(this,arguments)}(Kr,tr[w.app.options.appId],D,A,L).catch(q=>Cn.error(q))}(A,L,q,se)}}catch(A){throw Ln.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,re.registerVersion)(Ye,"0.8.4"),(0,re.registerVersion)(Ye,"0.8.4","esm2017")}();var _i=x(4408),nr=x(7565);const Mu=new class os extends nr.v{}(class ss extends _i.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,A,L):(D.flush(this),0)}});var jc=x(4986),xi=x(9751),Pu=x(8505),Oi=x(9468),st=x(5363);const Pl=new c.GfV("7.5.0"),Jr="__angularfire_symbol__analyticsIsSupportedValue",wa="__angularfire_symbol__analyticsIsSupported",Lo="__angularfire_symbol__remoteConfigIsSupportedValue",Sn="__angularfire_symbol__remoteConfigIsSupported",Vo="__angularfire_symbol__messagingIsSupportedValue",Da="__angularfire_symbol__messagingIsSupported";function Qs(w,D,A){if(D){if(1===D.length)return D[0];const se=D.filter(_e=>_e.app===A);if(1===se.length)return se[0]}return A.container.getProvider(w).getImmediate({optional:!0})}globalThis[wa]||(globalThis[wa]=Ip().then(w=>globalThis[Jr]=w).catch(()=>globalThis[Jr]=!1)),globalThis[Da]||(globalThis[Da]=Cu().then(w=>globalThis[Vo]=w).catch(()=>globalThis[Vo]=!1)),globalThis[Sn]||(globalThis[Sn]=wp().then(w=>globalThis[Lo]=w).catch(()=>globalThis[Lo]=!1));const ki=(w,D)=>{const A=D?[D]:(0,B.C6)(),L=[];return A.forEach(q=>{q.container.getProvider(w).instances.forEach(_e=>{L.includes(_e)||L.push(_e)})}),L};function Or(){}class ba{constructor(D,A=Mu){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,L){const q=this.zone;return this.delegate.schedule(function(_e){q.runGuarded(()=>{D.apply(this,[_e])})},A,L)}}class Fi{constructor(D){this.zone=D,this.task=null}call(D,A){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Or,{},Or,Or)),A.pipe((0,Pu.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let as=(()=>{class w{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new ba(Zone.current)),this.insideAngular=A.run(()=>new ba(Zone.current,jc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(A){return new(A||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function rr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Nu(w){return rr().ngZone.runOutsideAngular(()=>w())}function on(w){return rr().ngZone.run(()=>w())}function Mn(w){return rr(),function an(w){return function(A){return(A=A.lift(new Fi(w.ngZone))).pipe((0,Oi.R)(w.outsideAngular),(0,st.Q)(w.insideAngular))}}(rr())(w)}const Ta=(w,D)=>function(){const L=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),on(()=>w.apply(void 0,L))},Xr=(w,D)=>function(){let A;const L=arguments;for(let se=0;se<arguments.length;se++)"function"==typeof L[se]&&(D&&(A||(A=on(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Or,{},Or,Or)))),L[se]=Ta(L[se],A));const q=Nu(()=>w.apply(this,L));if(!D){if(q instanceof xi.y){const se=rr();return q.pipe((0,Oi.R)(se.outsideAngular),(0,st.Q)(se.insideAngular))}return on(()=>q)}return q instanceof xi.y?q.pipe(Mn):q instanceof Promise?on(()=>new Promise((se,_e)=>q.then(Fe=>on(()=>se(Fe)),Fe=>on(()=>_e(Fe))))):"function"==typeof q&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),q.apply(this,arguments)}:on(()=>q)}},8247:(Je,Ie,x)=>{x.d(Ie,{$:()=>ts,A:()=>H,B:()=>Se,G:()=>Ki,H:()=>pr,J:()=>di,L:()=>W,M:()=>aa,N:()=>du,P:()=>jc,Q:()=>la,R:()=>bp,T:()=>pl,U:()=>Ai,V:()=>Tr,W:()=>hi,X:()=>vh,Y:()=>vo,Z:()=>_t,_:()=>Ch,a:()=>Pi,a0:()=>Eh,a1:()=>kn,a2:()=>ca,a3:()=>da,a4:()=>Mc,a5:()=>wh,a6:()=>Fn,a7:()=>Zr,a8:()=>Ao,a9:()=>fi,aA:()=>$,aB:()=>Fe,aC:()=>on,aD:()=>Nu,aE:()=>rt,aI:()=>Us,aL:()=>Ms,aa:()=>Rc,ab:()=>vl,ac:()=>Cl,af:()=>Pc,ag:()=>Nc,ah:()=>yu,ak:()=>Nr,al:()=>wl,an:()=>Du,ao:()=>ma,ap:()=>ge,aq:()=>Pe,ar:()=>qe,as:()=>$e,at:()=>Bo,au:()=>Yn,av:()=>gt,aw:()=>Re,ax:()=>ne,ay:()=>Rn,az:()=>Q,b:()=>Ln,c:()=>Sn,d:()=>Hc,e:()=>Da,f:()=>Mn,g:()=>A,h:()=>Xr,i:()=>Gs,j:()=>se,k:()=>ei,l:()=>Qr,m:()=>Kc,n:()=>Yc,o:()=>le,r:()=>_i,s:()=>Yr,u:()=>Mu});var c=x(5861),B=x(2090),P=x(9681),re=x(1877),oe=x(655),he=x(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ye=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new re.Yd("@firebase/auth");function He(_,...f){de.logLevel<=re.in.ERROR&&de.error(`Auth (${P.SDK_VERSION}): ${_}`,...f)}function $e(_,...f){throw Le(_,...f)}function Re(_,...f){return Le(_,...f)}function Ae(_,f,p){const C=Object.assign(Object.assign({},ye()),{[f]:p});return new B.LL("auth","Firebase",C).create(f,{appName:_.name})}function ve(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&$e(_,"argument-error"),Ae(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(_,...f){if("string"!=typeof _){const p=f[0],C=[...f.slice(1)];return C[0]&&(C[0].appName=_.name),_._errorFactory.create(p,...C)}return Ze.create(_,...f)}function ne(_,f,...p){if(!_)throw Le(f,...p)}function ae(_){const f="INTERNAL ASSERTION FAILED: "+_;throw He(f),new Error(f)}function ge(_,f){_||ae(f)}const K=new Map;function Q(_){ge(_ instanceof Function,"Expected a class definition");let f=K.get(_);return f?(ge(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,K.set(_,f),f)}function Ne(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function xe(){return"http:"===Xe()||"https:"===Xe()}function Xe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ue{constructor(f,p){this.shortDelay=f,this.longDelay=p,ge(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xe()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $t(_,f){ge(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Qt{static initialize(f,p,C){this.fetchImpl=f,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Lt=new Ue(3e4,6e4);function St(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function wt(_,f,p,C){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(_,f,p,C,T={}){return jr(_,T,(0,c.Z)(function*(){let N={},X={};C&&("GET"===f?X=C:N={body:JSON.stringify(C)});const De=(0,B.xO)(Object.assign({key:_.config.apiKey},X)).slice(1),ze=yield _._getAdditionalHeaders();return ze["Content-Type"]="application/json",_.languageCode&&(ze["X-Firebase-Locale"]=_.languageCode),Qt.fetch()(Wr(_,_.config.apiHost,p,De),Object.assign({method:f,headers:ze,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function jr(_,f,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(_,f,p){_._canInitEmulator=!1;const C=Object.assign(Object.assign({},Ft),f);try{const T=new or(_),N=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const X=yield N.json();if("needConfirmation"in X)throw yn(_,"account-exists-with-different-credential",X);if(N.ok&&!("errorMessage"in X))return X;{const De=N.ok?X.errorMessage:X.error.message,[ze,ot]=De.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw yn(_,"credential-already-in-use",X);if("EMAIL_EXISTS"===ze)throw yn(_,"email-already-in-use",X);if("USER_DISABLED"===ze)throw yn(_,"user-disabled",X);const Mt=C[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Ae(_,Mt,ot);$e(_,Mt)}}catch(T){if(T instanceof B.ZR)throw T;$e(_,"network-request-failed")}})).apply(this,arguments)}function gn(_,f,p,C){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(_,f,p,C,T={}){const N=yield wt(_,f,p,C,T);return"mfaPendingCredential"in N&&$e(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Wr(_,f,p,C){const T=`${f}${p}?${C}`;return _.config.emulator?$t(_.config,T):`${_.config.apiScheme}://${T}`}class or{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(Re(this.auth,"network-request-failed")),Lt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yn(_,f,p){const C={appName:_.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const T=Re(_,f,C);return T.customData._tokenResponse=p,T}function Gr(){return(Gr=(0,c.Z)(function*(_,f){return wt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function je(_,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(_,f){return wt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Dn(_,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(_,f){return wt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Wn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Jt(){return(Jt=(0,c.Z)(function*(_,f=!1){const p=(0,B.m9)(_),C=yield p.getIdToken(f),T=et(C);ne(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,X=N?.sign_in_provider;return{claims:T,token:C,authTime:Wn(zt(T.auth_time)),issuedAtTime:Wn(zt(T.iat)),expirationTime:Wn(zt(T.exp)),signInProvider:X||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function zt(_){return 1e3*Number(_)}function et(_){var f;const[p,C,T]=_.split(".");if(void 0===p||void 0===C||void 0===T)return He("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,B.tV)(C);return N?JSON.parse(N):(He("Failed to decode base64 JWT payload"),null)}catch(N){return He("Caught error parsing JWT payload as JSON",null===(f=N)||void 0===f?void 0:f.toString()),null}}function pt(_,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(C){throw C instanceof B.ZR&&In(C)&&_.auth.currentUser===_&&(yield _.auth.signOut()),C}})).apply(this,arguments)}function In({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Xn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),C)}iteration(){var f=this;return(0,c.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(p=C)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class ut{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wn(this.lastLoginAt),this.creationTime=Wn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function er(_){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(_){var f;const p=_.auth,C=yield _.getIdToken(),T=yield pt(_,Dn(p,{idToken:C}));ne(T?.users.length,p,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const X=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?rn(N.providerUserInfo):[],De=Vn(_.providerData,X),Mt=!!_.isAnonymous&&!(_.email&&N.passwordHash||De?.length),Zt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:De,metadata:new ut(N.createdAt,N.lastLoginAt),isAnonymous:Mt};Object.assign(_,Zt)})).apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(_){const f=(0,B.m9)(_);yield er(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Vn(_,f){return[..._.filter(C=>!f.some(T=>T.providerId===C.providerId)),...f]}function rn(_){return _.map(f=>{var{providerId:p}=f,C=(0,oe._T)(f,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ee(){return(Ee=(0,c.Z)(function*(_,f){const p=yield jr(_,{},(0,c.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,X=Wr(_,T,"/v1/token",`key=${N}`),De=yield _._getAdditionalHeaders();return De["Content-Type"]="application/x-www-form-urlencoded",Qt.fetch()(X,{method:"POST",headers:De,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ne(f.idToken,"internal-error"),ne(typeof f.idToken<"u","internal-error"),ne(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function tt(_){const f=et(_);return ne(f,"internal-error"),ne(typeof f.exp<"u","internal-error"),ne(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var C=this;return(0,c.Z)(function*(){return ne(!C.accessToken||C.refreshToken,f,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(f,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var C=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:X}=yield function We(_,f){return Ee.apply(this,arguments)}(f,p);C.updateTokensAndExpiration(T,N,Number(X))})()}updateTokensAndExpiration(f,p,C){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(f,p){const{refreshToken:C,accessToken:T,expirationTime:N}=p,X=new Ge;return C&&(ne("string"==typeof C,"internal-error",{appName:f}),X.refreshToken=C),T&&(ne("string"==typeof T,"internal-error",{appName:f}),X.accessToken=T),N&&(ne("number"==typeof N,"internal-error",{appName:f}),X.expirationTime=N),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ge,this.toJSON())}_performRefresh(){return ae("not implemented")}}function at(_,f){ne("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class lt{constructor(f){var{uid:p,auth:C,stsTokenManager:T}=f,N=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new ut(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const C=yield pt(p,p.stsTokenManager.getToken(p.auth,f));return ne(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(f){return function Kt(_){return Jt.apply(this,arguments)}(this,f)}reload(){return function fr(_){return Pt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ne(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new lt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var C=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(f),T=!0),p&&(yield er(C)),yield C.auth._persistUserIfCurrent(C),T&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield pt(f,function Rr(_,f){return Gr.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var C,T,N,X,De,ze,ot,Mt;const Zt=null!==(C=p.displayName)&&void 0!==C?C:void 0,Mr=null!==(T=p.email)&&void 0!==T?T:void 0,kr=null!==(N=p.phoneNumber)&&void 0!==N?N:void 0,jo=null!==(X=p.photoURL)&&void 0!==X?X:void 0,kl=null!==(De=p.tenantId)&&void 0!==De?De:void 0,Fu=null!==(ze=p._redirectEventId)&&void 0!==ze?ze:void 0,Js=null!==(ot=p.createdAt)&&void 0!==ot?ot:void 0,Ph=null!==(Mt=p.lastLoginAt)&&void 0!==Mt?Mt:void 0,{uid:Ho,emailVerified:Qc,isAnonymous:Nh,providerData:Wo,stsTokenManager:Xs}=p;ne(Ho&&Xs,f,"internal-error");const xh=Ge.fromJSON(this.name,Xs);ne("string"==typeof Ho,f,"internal-error"),at(Zt,f.name),at(Mr,f.name),ne("boolean"==typeof Qc,f,"internal-error"),ne("boolean"==typeof Nh,f,"internal-error"),at(kr,f.name),at(jo,f.name),at(kl,f.name),at(Fu,f.name),at(Js,f.name),at(Ph,f.name);const Lu=new lt({uid:Ho,auth:f,email:Mr,emailVerified:Qc,displayName:Zt,isAnonymous:Nh,photoURL:jo,phoneNumber:kr,tenantId:kl,stsTokenManager:xh,createdAt:Js,lastLoginAt:Ph});return Wo&&Array.isArray(Wo)&&(Lu.providerData=Wo.map(xa=>Object.assign({},xa))),Fu&&(Lu._redirectEventId=Fu),Lu}static _fromIdTokenResponse(f,p,C=!1){return(0,c.Z)(function*(){const T=new Ge;T.updateFromServerResponse(p);const N=new lt({uid:p.localId,auth:f,stsTokenManager:T,isAnonymous:C});return yield er(N),N})()}}const W=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,C){var T=this;return(0,c.Z)(function*(){T.storage[p]=C})()}_get(p){var C=this;return(0,c.Z)(function*(){const T=C.storage[p];return void 0===T?null:T})()}_remove(p){var C=this;return(0,c.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return _.type="NONE",_})();function $(_,f,p){return`firebase:${_}:${f}:${p}`}class Z{constructor(f,p,C){this.persistence=f,this.auth=p,this.userKey=C;const{config:T,name:N}=this.auth;this.fullUserKey=$(this.userKey,T.apiKey,N),this.fullPersistenceKey=$("persistence",T.apiKey,N),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?lt._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,C="authUser"){return(0,c.Z)(function*(){if(!p.length)return new Z(Q(W),f,C);const T=(yield Promise.all(p.map(function(){var ot=(0,c.Z)(function*(Mt){if(yield Mt._isAvailable())return Mt});return function(Mt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let N=T[0]||Q(W);const X=$(C,f.config.apiKey,f.name);let De=null;for(const ot of p)try{const Mt=yield ot._get(X);if(Mt){const Zt=lt._fromJSON(f,Mt);ot!==N&&(De=Zt),N=ot;break}}catch{}const ze=T.filter(ot=>ot._shouldAllowMigration);return N._shouldAllowMigration&&ze.length?(N=ze[0],De&&(yield N._set(X,De.toJSON())),yield Promise.all(p.map(function(){var ot=(0,c.Z)(function*(Mt){if(Mt!==N)try{yield Mt._remove(X)}catch{}});return function(Mt){return ot.apply(this,arguments)}}())),new Z(N,f,C)):new Z(N,f,C)})()}}function V(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Me(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(R(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ke(f))return"Blackberry";if(we(f))return"Webos";if(k(f))return"Safari";if((f.includes("chrome/")||ee(f))&&!f.includes("edge/"))return"Chrome";if(qe(f))return"Android";{const C=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function R(_=(0,B.z$)()){return/firefox\//i.test(_)}function k(_=(0,B.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ee(_=(0,B.z$)()){return/crios\//i.test(_)}function Me(_=(0,B.z$)()){return/iemobile/i.test(_)}function qe(_=(0,B.z$)()){return/android/i.test(_)}function Ke(_=(0,B.z$)()){return/blackberry/i.test(_)}function we(_=(0,B.z$)()){return/webos/i.test(_)}function Pe(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function gt(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function Ht(_=(0,B.z$)()){return Pe(_)||qe(_)||we(_)||Ke(_)||/windows phone/i.test(_)||Me(_)}function Xt(_,f=[]){let p;switch(_){case"Browser":p=V((0,B.z$)());break;case"Worker":p=`${V((0,B.z$)())}-${_}`;break;default:p=_}const C=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${P.SDK_VERSION}/${C}`}class Zi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const C=N=>new Promise((X,De)=>{try{X(f(N))}catch(ze){De(ze)}});C.onAbort=p,this.queue.push(C);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){var C;if(p.auth.currentUser===f)return;const T=[];try{for(const N of p.queue)yield N(f),N.onAbort&&T.push(N.onAbort)}catch(N){T.reverse();for(const X of T)try{X()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=N)||void 0===C?void 0:C.message})}})()}}class Ds{constructor(f,p,C){this.app=f,this.heartbeatServiceProvider=p,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qi(this),this.idTokenSubscription=new qi(this),this.beforeStateQueue=new Zi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(f,p){var C=this;return p&&(this._popupRedirectResolver=Q(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,N;if(!C._deleted&&(C.persistenceManager=yield Z.create(C,f),!C._deleted)){if(null!==(T=C._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var C;const T=yield p.assertedPersistence.getCurrentUser();let N=T,X=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const De=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,ze=N?._redirectEventId,ot=yield p.tryRedirectSignIn(f);(!De||De===ze)&&ot?.user&&(N=ot.user,X=!0)}if(!N)return p.directlySetCurrentUser(null);if(!N._redirectEventId){if(X)try{yield p.beforeStateQueue.runMiddleware(N)}catch(De){N=T,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(De))}return N?p.reloadAndSetCurrentUserOrClear(N):p.directlySetCurrentUser(null)}return ne(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===N._redirectEventId?p.directlySetCurrentUser(N):p.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){var C;try{yield er(f)}catch(T){if("auth/network-request-failed"!==(null===(C=T)||void 0===C?void 0:C.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function bt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const C=f?(0,B.m9)(f):null;return C&&ne(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(f,p=!1){var C=this;return(0,c.Z)(function*(){if(!C._deleted)return f&&ne(C.tenantId===f.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(f)),C.queue((0,c.Z)(function*(){yield C.directlySetCurrentUser(f),C.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(Q(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,p,C){return this.registerStateListener(this.authStateSubscription,f,p,C)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,C){return this.registerStateListener(this.idTokenSubscription,f,p,C)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var C=this;return(0,c.Z)(function*(){const T=yield C.getOrInitRedirectPersistenceManager(p);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const C=f&&Q(f)||p._popupRedirectResolver;ne(C,p,"argument-error"),p.redirectPersistenceManager=yield Z.create(p,[Q(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var C,T;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===f?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,C,T){if(this._deleted)return()=>{};const N="function"==typeof p?p:p.next.bind(p),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(X,this,"internal-error"),X.then(()=>N(this.currentUser)),"function"==typeof p?f.addObserver(p,C,T):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Xt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const C={"X-Client-Version":f.clientVersion};f.app.options.appId&&(C["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return T&&(C["X-Firebase-Client"]=T),C})()}}function rt(_){return(0,B.m9)(_)}class qi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(p=>this.observer=p)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ki(_,f,p){const C=rt(_);ne(C._canInitEmulator,C,"emulator-config-failed"),ne(/^https?:\/\//.test(f),C,"invalid-emulator-scheme");const T=!!p?.disableWarnings,N=oa(f),{host:X,port:De}=function ui(_){const f=oa(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(C);if(T){const N=T[1];return{host:N,port:bn(C.substr(N.length+1))}}{const[N,X]=C.split(":");return{host:N,port:bn(X)}}}(f);C.config.emulator={url:`${N}//${X}${null===De?"":`:${De}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:X,port:De,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Yi(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function oa(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function bn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class pr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return ae("not implemented")}_getIdTokenResponse(f){return ae("not implemented")}_linkToIdToken(f,p){return ae("not implemented")}_getReauthenticationResolver(f){return ae("not implemented")}}function Dr(_,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(_,f){return wt(_,"POST","/v1/accounts:resetPassword",St(_,f))})).apply(this,arguments)}function cl(_,f){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(_,f){return wt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Tc(_,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(_,f){return wt(_,"POST","/v1/accounts:update",St(_,f))})).apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:signInWithPassword",St(_,f))})).apply(this,arguments)}function Ti(_,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(_,f){return wt(_,"POST","/v1/accounts:sendOobCode",St(_,f))})).apply(this,arguments)}function ci(_,f){return An.apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(_,f){return Ti(_,f)})).apply(this,arguments)}function Ac(_,f){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(_,f){return Ti(_,f)})).apply(this,arguments)}function Ir(_,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(_,f){return Ti(_,f)})).apply(this,arguments)}function dl(_,f){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(_,f){return Ti(_,f)})).apply(this,arguments)}function hl(){return(hl=(0,c.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:signInWithEmailLink",St(_,f))})).apply(this,arguments)}function fl(){return(fl=(0,c.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:signInWithEmailLink",St(_,f))})).apply(this,arguments)}class mo extends pr{constructor(f,p,C,T=null){super("password",C),this._email=f,this._password=p,this._tenantId=T}static _fromEmailAndPassword(f,p){return new mo(f,p,"password")}static _fromEmailAndCode(f,p,C=null){return new mo(f,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function po(_,f){return Qi.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function gr(_,f){return hl.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:$e(f,"internal-error")}})()}_linkToIdToken(f,p){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return cl(f,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function hh(_,f){return fl.apply(this,arguments)}(f,{idToken:p,email:C._email,oobCode:C._password});default:$e(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Xi(_,f){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:signInWithIdp",St(_,f))})).apply(this,arguments)}class di extends pr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new di(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):$e("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:T}=p,N=(0,oe._T)(p,["providerId","signInMethod"]);if(!C||!T)return null;const X=new di(C,T);return X.idToken=N.idToken||void 0,X.accessToken=N.accessToken||void 0,X.secret=N.secret,X.nonce=N.nonce,X.pendingToken=N.pendingToken||null,X}_getIdTokenResponse(f){return Xi(f,this.buildRequest())}_linkToIdToken(f,p){const C=this.buildRequest();return C.idToken=p,Xi(f,C)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Xi(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,B.xO)(p)}return f}}function ph(_,f){return ou.apply(this,arguments)}function ou(){return(ou=(0,c.Z)(function*(_,f){return wt(_,"POST","/v1/accounts:sendVerificationCode",St(_,f))})).apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:signInWithPhoneNumber",St(_,f))})).apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(_,f){const p=yield gn(_,"POST","/v1/accounts:signInWithPhoneNumber",St(_,f));if(p.temporaryProof)throw yn(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const mh={USER_NOT_FOUND:"user-not-found"};function lu(){return(lu=(0,c.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:signInWithPhoneNumber",St(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),mh)})).apply(this,arguments)}class Ts extends pr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Ts({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Ts({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function gh(_,f){return _o.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function bs(_,f){return au.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function _h(_,f){return lu.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:C,verificationCode:T}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:C,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:C,phoneNumber:T,temporaryProof:N}=f;return C||p||T||N?new Ts({verificationId:p,verificationCode:C,phoneNumber:T,temporaryProof:N}):null}}class As{constructor(f){var p,C,T,N,X,De;const ze=(0,B.zd)((0,B.pd)(f)),ot=null!==(p=ze.apiKey)&&void 0!==p?p:null,Mt=null!==(C=ze.oobCode)&&void 0!==C?C:null,Zt=function uu(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=ze.mode)&&void 0!==T?T:null);ne(ot&&Mt&&Zt,"argument-error"),this.apiKey=ot,this.operation=Zt,this.code=Mt,this.continueUrl=null!==(N=ze.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(X=ze.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(De=ze.tenantId)&&void 0!==De?De:null}static parseLink(f){const p=function cu(_){const f=(0,B.zd)((0,B.pd)(_)).link,p=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||p||f||_}(f);try{return new As(p)}catch{return null}}}let aa=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,C){return mo._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const T=As.parseLink(C);return ne(T,"argument-error"),mo._fromEmailAndCode(p,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Kn{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ss extends Kn{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ai extends Ss{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return ne("providerId"in p&&"signInMethod"in p,"argument-error"),di._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ne(f.idToken||f.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ai.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ai.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:C,oauthTokenSecret:T,pendingToken:N,nonce:X,providerId:De}=f;if(!C&&!T&&!p&&!N||!De)return null;try{return new Ai(De)._credential({idToken:p,accessToken:C,nonce:X,pendingToken:N})}catch{return null}}}let du=(()=>{class _ extends Ss{constructor(){super("facebook.com")}static credential(p){return di._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),la=(()=>{class _ extends Ss{constructor(){super("google.com"),this.addScope("profile")}static credential(p,C){return di._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:C})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:C,oauthAccessToken:T}=p;if(!C&&!T)return null;try{return _.credential(C,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),pl=(()=>{class _ extends Ss{constructor(){super("github.com")}static credential(p){return di._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ms extends pr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Xi(f,this.buildRequest())}_linkToIdToken(f,p){const C=this.buildRequest();return C.idToken=p,Xi(f,C)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Xi(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:T,pendingToken:N}=p;return C&&T&&N&&C===T?new Ms(C,N):null}static _create(f,p){return new Ms(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tr extends Kn{constructor(f){ne(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Tr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Tr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Ms.fromJSON(f);return ne(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:C}=f;if(!p||!C)return null;try{return Ms._create(C,p)}catch{return null}}}let hi=(()=>{class _ extends Ss{constructor(){super("twitter.com")}static credential(p,C){return di._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:C})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:C,oauthTokenSecret:T}=p;if(!C||!T)return null;try{return _.credential(C,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function mr(_,f){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:signUp",St(_,f))})).apply(this,arguments)}class Pr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,C,T=!1){return(0,c.Z)(function*(){const N=yield lt._fromIdTokenResponse(f,C,T),X=yo(C);return new Pr({user:N,providerId:X,_tokenResponse:C,operationType:p})})()}static _forOperation(f,p,C){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(C,!0);const T=yo(C);return new Pr({user:f,providerId:T,_tokenResponse:C,operationType:p})})()}}function yo(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function vh(_){return gl.apply(this,arguments)}function gl(){return(gl=(0,c.Z)(function*(_){var f;const p=rt(_);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new Pr({user:p.currentUser,providerId:null,operationType:"signIn"});const C=yield mr(p,{returnSecureToken:!0}),T=yield Pr._fromIdTokenResponse(p,"signIn",C,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class mn extends B.ZR{constructor(f,p,C,T){var N;super(p.code,p.message),this.operationType=C,this.user=T,Object.setPrototypeOf(this,mn.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(f,p,C,T){return new mn(f,p,C,T)}}function fu(_,f,p,C){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?mn._fromErrorAndOperation(_,N,f,C):N})}function Sc(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Nr(_,f){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_);yield zr(!0,p,f);const{providerUserInfo:C}=yield je(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),T=Sc(C||[]);return p.providerData=p.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ua(_,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(_,f,p=!1){const C=yield pt(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return Pr._forOperation(_,"link",C)})).apply(this,arguments)}function zr(_,f,p){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(_,f,p){yield er(f);const T=!1===_?"provider-already-linked":"no-such-provider";ne(Sc(f.providerData).has(p)===_,f.auth,T)})).apply(this,arguments)}function ml(_,f){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(_,f,p=!1){var C;const{auth:T}=_,N="reauthenticate";try{const X=yield pt(_,fu(T,N,f,_),p);ne(X.idToken,T,"internal-error");const De=et(X.idToken);ne(De,T,"internal-error");const{sub:ze}=De;return ne(_.uid===ze,T,"user-mismatch"),Pr._forOperation(_,N,X)}catch(X){throw"auth/user-not-found"===(null===(C=X)||void 0===C?void 0:C.code)&&$e(T,"user-mismatch"),X}})).apply(this,arguments)}function _l(_,f){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(_,f,p=!1){const C="signIn",T=yield fu(_,C,f),N=yield Pr._fromIdTokenResponse(_,C,T);return p||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function vo(_,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(_,f){return _l(rt(_),f)})).apply(this,arguments)}function _t(_,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_);return yield zr(!1,p,f.providerId),ua(p,f)})).apply(this,arguments)}function Ch(_,f){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(_,f){return ml((0,B.m9)(_),f)})).apply(this,arguments)}function pu(_,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:signInWithCustomToken",St(_,f))})).apply(this,arguments)}function ts(_,f){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(_,f){const p=rt(_),C=yield pu(p,{token:f,returnSecureToken:!0}),T=yield Pr._fromIdTokenResponse(p,"signIn",C);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ps{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?be._fromServerResponse(f,p):$e(f,"internal-error")}}class be extends Ps{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new be(p)}}function Rt(_,f,p){var C;ne((null===(C=p.url)||void 0===C?void 0:C.length)>0,_,"invalid-continue-uri"),ne(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ne(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(ne(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Eh(_,f,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(_,f,p){const C=(0,B.m9)(_),T={requestType:"PASSWORD_RESET",email:f};p&&Rt(C,T,p),yield Ac(C,T)})).apply(this,arguments)}function kn(_,f,p){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(_,f,p){yield Dr((0,B.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function ca(_,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(_,f){yield Tc((0,B.m9)(_),{oobCode:f})})).apply(this,arguments)}function da(_,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_),C=yield Dr(p,{oobCode:f}),T=C.requestType;switch(ne(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(C.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(C.mfaInfo,p,"internal-error");default:ne(C.email,p,"internal-error")}let N=null;return C.mfaInfo&&(N=Ps._fromServerResponse(rt(p),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function Mc(_,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(_,f){const{data:p}=yield da((0,B.m9)(_),f);return p.email})).apply(this,arguments)}function wh(_,f,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(_,f,p){const C=rt(_),T=yield mr(C,{returnSecureToken:!0,email:f,password:p}),N=yield Pr._fromIdTokenResponse(C,"signIn",T);return yield C._updateCurrentUser(N.user),N})).apply(this,arguments)}function Fn(_,f,p){return vo((0,B.m9)(_),aa.credential(f,p))}function Zr(_,f,p){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(_,f,p){const C=(0,B.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};ne(p.handleCodeInApp,C,"argument-error"),p&&Rt(C,T,p),yield Ir(C,T)})).apply(this,arguments)}function Ao(_,f){return"EMAIL_SIGNIN"===As.parseLink(f)?.operation}function fi(_,f,p){return gu.apply(this,arguments)}function gu(){return(gu=(0,c.Z)(function*(_,f,p){const C=(0,B.m9)(_),T=aa.credentialWithLink(f,p||Ne());return ne(T._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),vo(C,T)})).apply(this,arguments)}function yl(_,f){return mu.apply(this,arguments)}function mu(){return(mu=(0,c.Z)(function*(_,f){return wt(_,"POST","/v1/accounts:createAuthUri",St(_,f))})).apply(this,arguments)}function Rc(_,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(_,f){const C={identifier:f,continueUri:xe()?Ne():"http://localhost"},{signinMethods:T}=yield yl((0,B.m9)(_),C);return T||[]})).apply(this,arguments)}function vl(_,f){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Rt(p.auth,T,f);const{email:N}=yield ci(p.auth,T);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function Cl(_,f,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(_,f,p){const C=(0,B.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&Rt(C.auth,N,p);const{email:X}=yield dl(C.auth,N);X!==_.email&&(yield _.reload())})).apply(this,arguments)}function _u(_,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(_,f){return wt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Pc(_,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const C=(0,B.m9)(_),N={idToken:yield C.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},X=yield pt(C,_u(C.auth,N));C.displayName=X.displayName||null,C.photoURL=X.photoUrl||null;const De=C.providerData.find(({providerId:ze})=>"password"===ze);De&&(De.displayName=C.displayName,De.photoURL=C.photoURL),yield C._updateTokensIfNecessary(X)})).apply(this,arguments)}function Nc(_,f){return Mi((0,B.m9)(_),f,null)}function yu(_,f){return Mi((0,B.m9)(_),null,f)}function Mi(_,f,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(_,f,p){const{auth:C}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),p&&(N.password=p);const X=yield pt(_,cl(C,N));yield _._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class cn{constructor(f,p,C={}){this.isNewUser=f,this.providerId=p,this.profile=C}}class pi extends cn{constructor(f,p,C,T){super(f,p,C),this.username=T}}class sn extends cn{constructor(f,p){super(f,"facebook.com",p)}}class Cu extends pi{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class El extends cn{constructor(f,p){super(f,"google.com",p)}}class xc extends pi{constructor(f,p,C){super(f,"twitter.com",p,C)}}function wl(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function vu(_){var f,p;if(!_)return null;const{providerId:C}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!C&&_?.idToken){const X=null===(p=null===(f=et(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(X)return new cn(N,"anonymous"!==X&&"custom"!==X?X:null)}if(!C)return null;switch(C){case"facebook.com":return new sn(N,T);case"github.com":return new Cu(N,T);case"google.com":return new El(N,T);case"twitter.com":return new xc(N,T,_.screenName||null);case"custom":case"anonymous":return new cn(N,null);default:return new cn(N,C,T)}}(p)}class Sr{constructor(f,p,C){this.type=f,this.credential=p,this.auth=C}static _fromIdtoken(f,p){return new Sr("enroll",f,p)}static _fromMfaPendingCredential(f){return new Sr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,C;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Sr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(C=f.multiFactorSession)&&void 0!==C&&C.idToken)return Sr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class bl{constructor(f,p,C){this.session=f,this.hints=p,this.signInResolver=C}static _fromError(f,p){const C=rt(f),T=p.customData._serverResponse,N=(T.mfaInfo||[]).map(De=>Ps._fromServerResponse(C,De));ne(T.mfaPendingCredential,C,"internal-error");const X=Sr._fromMfaPendingCredential(T.mfaPendingCredential);return new bl(X,N,function(){var De=(0,c.Z)(function*(ze){const ot=yield ze._process(C,X);delete T.mfaInfo,delete T.mfaPendingCredential;const Mt=Object.assign(Object.assign({},T),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(p.operationType){case"signIn":const Zt=yield Pr._fromIdTokenResponse(C,p.operationType,Mt);return yield C._updateCurrentUser(Zt.user),Zt;case"reauthenticate":return ne(p.user,C,"internal-error"),Pr._forOperation(p.user,p.operationType,Mt);default:$e(C,"internal-error")}});return function(ze){return De.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}function Du(_,f){var p;const C=(0,B.m9)(_),T=f;return ne(f.customData.operationType,C,"argument-error"),ne(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,C,"argument-error"),bl._fromError(C,T)}function Cn(_,f){return wt(_,"POST","/v2/accounts/mfaEnrollment:start",St(_,f))}class ga{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(C=>Ps._fromServerResponse(f.auth,C)))})}static _fromUser(f){return new ga(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Sr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var C=this;return(0,c.Z)(function*(){const T=f,N=yield C.getSession(),X=yield pt(C.user,T._process(C.user.auth,N,p));return yield C.user._updateTokensIfNecessary(X),C.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){var C;const T="string"==typeof f?f:f.uid,N=yield p.user.getIdToken(),X=yield pt(p.user,function pa(_,f){return wt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",St(_,f))}(p.user.auth,{idToken:N,mfaEnrollmentId:T}));p.enrolledFactors=p.enrolledFactors.filter(({uid:De})=>De!==T),yield p.user._updateTokensIfNecessary(X);try{yield p.user.reload()}catch(De){if("auth/user-token-expired"!==(null===(C=De)||void 0===C?void 0:C.code))throw De}})()}}const Oc=new WeakMap;function ma(_){const f=(0,B.m9)(_);return Oc.has(f)||Oc.set(f,ga._fromUser(f)),Oc.get(f)}const gi="__sak";class Po{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(gi,"1"),this.storage.removeItem(gi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ln=(()=>{class _ extends Po{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tl(){const _=(0,B.z$)();return k(_)||Pe(_)}()&&function li(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ht(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const T=this.storage.getItem(C),N=this.localCache[C];T!==N&&p(C,N,T)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((De,ze,ot)=>{this.notifyListeners(De,ot)});const T=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const De=this.storage.getItem(T);if(p.newValue!==De)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!C)return}const N=()=>{const De=this.storage.getItem(T);!C&&this.localCache[T]===De||this.notifyListeners(T,De)},X=this.storage.getItem(T);!function vt(){return(0,B.w1)()&&10===document.documentMode}()||X===p.newValue||p.newValue===p.oldValue?N():setTimeout(N,10)}notifyListeners(p,C){this.localCache[p]=C;const T=this.listeners[p];if(T)for(const N of Array.from(T))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var T=()=>super._set,N=this;return(0,c.Z)(function*(){yield T().call(N,p,C),N.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,T=this;return(0,c.Z)(function*(){const N=yield C().call(T,p);return T.localCache[p]=JSON.stringify(N),N})()}_remove(p){var C=()=>super._remove,T=this;return(0,c.Z)(function*(){yield C().call(T,p),delete T.localCache[p]})()}}return _.type="LOCAL",_})(),Pi=(()=>{class _ extends Po{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return _.type="SESSION",_})();let xo=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(N=>N.isListeningto(p));if(C)return C;const T=new _(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,c.Z)(function*(){const T=p,{eventId:N,eventType:X,data:De}=T.data,ze=C.handlersMap[X];if(!ze?.size)return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:X});const ot=Array.from(ze).map(function(){var Zt=(0,c.Z)(function*(Mr){return Mr(T.origin,De)});return function(Mr){return Zt.apply(this,arguments)}}()),Mt=yield function Al(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return f.apply(this,arguments)}}()))}(ot);T.ports[0].postMessage({status:"done",eventId:N,eventType:X,response:Mt})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Us(_="",f=10){let p="";for(let C=0;C<f;C++)p+=Math.floor(10*Math.random());return _+p}class Lc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,C=50){var T=this;return(0,c.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let X,De;return new Promise((ze,ot)=>{const Mt=Us("",20);N.port1.start();const Zt=setTimeout(()=>{ot(new Error("unsupported_event"))},C);De={messageChannel:N,onMessage(Mr){const kr=Mr;if(kr.data.eventId===Mt)switch(kr.data.status){case"ack":clearTimeout(Zt),X=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),ze(kr.data.response);break;default:clearTimeout(Zt),clearTimeout(X),ot(new Error("invalid_response"))}}},T.handlers.add(De),N.port1.addEventListener("message",De.onMessage),T.target.postMessage({eventType:f,eventId:Mt,data:p},[N.port2])}).finally(()=>{De&&T.removeMessageHandler(De)})})()}}function En(){return window}function _r(){return typeof En().WorkerGlobalScope<"u"&&"function"==typeof En().importScripts}function mi(){return(mi=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Oo="firebaseLocalStorageDb",ko="firebaseLocalStorage",Bs="fbase_key";class $s{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function js(_,f){return _.transaction([ko],f?"readwrite":"readonly").objectStore(ko)}function ya(){const _=indexedDB.open(Oo,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const C=_.result;try{C.createObjectStore(ko,{keyPath:Bs})}catch(T){p(T)}}),_.addEventListener("success",(0,c.Z)(function*(){const C=_.result;C.objectStoreNames.contains(ko)?f(C):(C.close(),yield function Au(){const _=indexedDB.deleteDatabase(Oo);return new $s(_).toPromise()}(),f(yield ya()))}))})}function Fo(_,f,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(_,f,p){const C=js(_,!0).put({[Bs]:f,value:p});return new $s(C).toPromise()})).apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(_,f){const p=js(_,!1).get(f),C=yield new $s(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function va(_,f){const p=js(_,!0).delete(f);return new $s(p).toPromise()}const Gs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield ya()),p.db})()}_withRetries(p){var C=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const N=yield C._openDb();return yield p(N)}catch(N){if(T++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return _r()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=xo._getInstance(function _a(){return _r()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(T,N){return{keyProcessed:(yield p._poll()).includes(N.key)}});return function(T,N){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var C,T;if(p.activeServiceWorker=yield function Tu(){return mi.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Lc(p.activeServiceWorker);const N=yield p.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Sl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ya();return yield Fo(p,gi,"1"),yield va(p,gi),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(N=>Fo(N,p,C)),T.localCache[p]=C,T.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,c.Z)(function*(){const T=yield C._withRetries(N=>function Vc(_,f){return Hs.apply(this,arguments)}(N,p));return C.localCache[p]=T,T})()}_remove(p){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(T=>va(T,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const C=yield p._withRetries(X=>{const De=js(X,!1).getAll();return new $s(De).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:X,value:De}of C)N.add(X),JSON.stringify(p.localCache[X])!==JSON.stringify(De)&&(p.notifyListeners(X,De),T.push(X));for(const X of Object.keys(p.localCache))p.localCache[X]&&!N.has(X)&&(p.notifyListeners(X,null),T.push(X));return T})()}notifyListeners(p,C){this.localCache[p]=C;const T=this.listeners[p];if(T)for(const N of Array.from(T))N(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Uc(_,f){return wt(_,"POST","/v2/accounts/mfaSignIn:start",St(_,f))}function tr(){return(tr=(0,c.Z)(function*(_){return(yield wt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function is(_){return new Promise((f,p)=>{const C=document.createElement("script");C.setAttribute("src",_),C.onload=f,C.onerror=T=>{const N=Re("internal-error");N.customData=T,p(N)},C.type="text/javascript",C.charset="UTF-8",function Zs(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(C)})}function qs(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Kr=1e12;class Su{constructor(f){this.auth=f,this.counter=Kr,this._widgets=new Map}render(f,p){const C=this.counter;return this._widgets.set(C,new en(f,this.auth.name,p||{})),this.counter++,C}reset(f){var p;const C=f||Kr;null===(p=this._widgets.get(C))||void 0===p||p.delete(),this._widgets.delete(C)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Kr))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var C;return null===(C=p._widgets.get(f||Kr))||void 0===C||C.execute(),""})()}}class en{constructor(f,p,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;ne(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dh(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<_;C++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bc=qs("rcb"),D_=new Ue(3e4,6e4);class Ip{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=En().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return ne(function $c(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(En().grecaptcha):new Promise((C,T)=>{const N=En().setTimeout(()=>{T(Re(f,"network-request-failed"))},D_.get());En()[Bc]=()=>{En().clearTimeout(N),delete En()[Bc];const De=En().grecaptcha;if(!De)return void T(Re(f,"internal-error"));const ze=De.render;De.render=(ot,Mt)=>{const Zt=ze(ot,Mt);return this.counter++,Zt},this.hostLanguage=p,C(De)},is(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Bc,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(N),T(Re(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=En().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class I_{load(f){return(0,c.Z)(function*(){return new Su(f)})()}clearedOneInstance(){}}const Ea="recaptcha",b_={theme:"light",type:"image"};class bp{constructor(f,p=Object.assign({},b_),C){this.parameters=p,this.type=Ea,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rt(C),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;ne(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new I_:new Ip,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),C=f.getAssertedRecaptcha();return C.getResponse(p)||new Promise(N=>{const X=De=>{!De||(f.tokenChangeListeners.delete(X),N(De))};f.tokenChangeListeners.add(X),f.isInvisible&&C.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(C=>C(p)),"function"==typeof f)f(p);else if("string"==typeof f){const C=En()[f];"function"==typeof C&&C(p)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const C=document.createElement("div");p.appendChild(C),p=C}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){ne(xe()&&!_r(),f.auth,"internal-error"),yield function zn(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Ca(_){return tr.apply(this,arguments)}(f.auth);ne(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tn{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Ts._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Yr(_,f,p){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(_,f,p){const C=rt(_),T=yield nr(C,f,(0,B.m9)(p));return new tn(T,N=>vo(C,N))})).apply(this,arguments)}function Qr(_,f,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(_,f,p){const C=(0,B.m9)(_);yield zr(!1,C,"phone");const T=yield nr(C.auth,f,(0,B.m9)(p));return new tn(T,N=>_t(C,N))})).apply(this,arguments)}function _i(_,f,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(_,f,p){const C=(0,B.m9)(_),T=yield nr(C.auth,f,(0,B.m9)(p));return new tn(T,N=>Ch(C,N))})).apply(this,arguments)}function nr(_,f,p){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(_,f,p){var C;const T=yield p.verify();try{let N;if(ne("string"==typeof T,_,"argument-error"),ne(p.type===Ea,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const X=N.session;if("phoneNumber"in N)return ne("enroll"===X.type,_,"internal-error"),(yield Cn(_,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ne("signin"===X.type,_,"internal-error");const De=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return ne(De,_,"missing-multi-factor-info"),(yield Uc(_,{mfaPendingCredential:X.credential,mfaEnrollmentId:De,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield ph(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return X}}finally{p._reset()}})).apply(this,arguments)}function Mu(_,f){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,c.Z)(function*(_,f){yield ua((0,B.m9)(_),f)})).apply(this,arguments)}let jc=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=rt(p)}verifyPhoneNumber(p,C){return nr(this.auth,p,(0,B.m9)(C))}static credential(p,C){return Ts._fromVerification(p,C)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:C,temporaryProof:T}=p;return C&&T?Ts._fromTokenResponse(C,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function xi(_,f){return f?Q(f):(ne(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Pu extends pr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Xi(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Xi(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Xi(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Oi(_){return _l(_.auth,new Pu(_),_.bypassAuthState)}function st(_){const{auth:f,user:p}=_;return ne(p,f,"internal-error"),ml(p,new Pu(_),_.bypassAuthState)}function Pl(_){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(_){const{auth:f,user:p}=_;return ne(p,f,"internal-error"),ua(p,new Pu(_),_.bypassAuthState)})).apply(this,arguments)}class wa{constructor(f,p,C,T,N=!1){this.auth=f,this.resolver=C,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(C,T){f.pendingPromise={resolve:C,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(C,T){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:T,postBody:N,tenantId:X,error:De,type:ze}=f;if(De)return void p.reject(De);const ot={auth:p.auth,requestUri:C,sessionId:T,tenantId:X||void 0,postBody:N||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ze)(ot))}catch(Mt){p.reject(Mt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Oi;case"linkViaPopup":case"linkViaRedirect":return Pl;case"reauthViaPopup":case"reauthViaRedirect":return st;default:$e(this.auth,"internal-error")}}resolve(f){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lo=new Ue(2e3,1e4);function Sn(_,f,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(_,f,p){const C=rt(_);ve(_,f,Kn);const T=xi(C,p);return new Ia(C,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Da(_,f,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(_,f,p){const C=(0,B.m9)(_);ve(C.auth,f,Kn);const T=xi(C.auth,p);return new Ia(C.auth,"reauthViaPopup",f,T,C).executeNotNull()})).apply(this,arguments)}function Hc(_,f,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(_,f,p){const C=(0,B.m9)(_);ve(C.auth,f,Kn);const T=xi(C.auth,p);return new Ia(C.auth,"linkViaPopup",f,T,C).executeNotNull()})).apply(this,arguments)}let Ia=(()=>{class _ extends wa{constructor(p,C,T,N,X){super(p,C,N,X),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const C=yield p.execute();return ne(C,p.auth,"internal-error"),C})()}onExecution(){var p=this;return(0,c.Z)(function*(){ge(1===p.filter.length,"Popup operations only handle one event");const C=Us();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],C),p.authWindow.associatedEvent=C,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(Re(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var C,T;this.pollId=null!==(T=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Lo.get())};p()}}return _.currentPopupAction=null,_})();const ki=new Map;class Or extends wa{constructor(f,p,C=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let C=ki.get(p.auth._key());if(!C){try{const N=(yield function ba(_,f){return Fi.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;C=()=>Promise.resolve(N)}catch(T){C=()=>Promise.reject(T)}ki.set(p.auth._key(),C)}return p.bypassAuthState||ki.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(C,f);if("unknown"!==f.type){if(f.eventId){const T=yield C.auth._redirectUserForId(f.eventId);if(T)return C.user=T,p().call(C,f);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Fi(){return(Fi=(0,c.Z)(function*(_,f){const p=us(f),C=ls(_);if(!(yield C._isAvailable()))return!1;const T="true"===(yield C._get(p));return yield C._remove(p),T})).apply(this,arguments)}function as(_,f){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(_,f){return ls(_)._set(us(f),"true")})).apply(this,arguments)}function Nu(){ki.clear()}function on(_,f){ki.set(_._key(),f)}function ls(_){return Q(_._redirectPersistence)}function us(_){return $("pendingRedirect",_.config.apiKey,_.name)}function Mn(_,f,p){return function an(_,f,p){return Ta.apply(this,arguments)}(_,f,p)}function Ta(){return(Ta=(0,c.Z)(function*(_,f,p){const C=rt(_);ve(_,f,Kn);const T=xi(C,p);return yield as(T,C),T._openRedirect(C,f,"signInViaRedirect")})).apply(this,arguments)}function Xr(_,f,p){return function w(_,f,p){return D.apply(this,arguments)}(_,f,p)}function D(){return(D=(0,c.Z)(function*(_,f,p){const C=(0,B.m9)(_);ve(C.auth,f,Kn);const T=xi(C.auth,p);yield as(T,C.auth);const N=yield mt(C);return T._openRedirect(C.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function A(_,f,p){return function L(_,f,p){return q.apply(this,arguments)}(_,f,p)}function q(){return(q=(0,c.Z)(function*(_,f,p){const C=(0,B.m9)(_);ve(C.auth,f,Kn);const T=xi(C.auth,p);yield zr(!1,C,f.providerId),yield as(T,C.auth);const N=yield mt(C);return T._openRedirect(C.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function se(_,f){return _e.apply(this,arguments)}function _e(){return(_e=(0,c.Z)(function*(_,f){return yield rt(_)._initializationPromise,Fe(_,f,!1)})).apply(this,arguments)}function Fe(_,f){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(_,f,p=!1){const C=rt(_),T=xi(C,f),X=yield new Or(C,T,p).execute();return X&&!p&&(delete X.user._redirectEventId,yield C._persistUserIfCurrent(X.user),yield C._setRedirectUser(null,f)),X})).apply(this,arguments)}function mt(_){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,c.Z)(function*(_){const f=Us(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Rn{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(f,C)&&(p=!0,this.sendToConsumer(f,C),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Dt(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cs(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var C;if(f.error&&!cs(f)){const T=(null===(C=f.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(Re(this.auth,T))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const C=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&C}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ir(f))}saveEventToCache(f){this.cachedEventUids.add(ir(f)),this.lastProcessedEventTime=Date.now()}}function ir(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function cs({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Yn(_){return ds.apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(_,f={}){return wt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Li=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aa=/^https?/;function Zn(){return(Zn=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Yn(_);for(const p of f)try{if(xu(p))return}catch{}$e(_,"unauthorized-domain")})).apply(this,arguments)}function xu(_){const f=Ne(),{protocol:p,hostname:C}=new URL(f);if(_.startsWith("chrome-extension://")){const X=new URL(_);return""===X.hostname&&""===C?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&X.hostname===C}if(!Aa.test(p))return!1;if(Li.test(_))return C===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(C)}const Ih=new Ue(3e4,6e4);function Wc(){const _=En().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let wn=null;function hs(_){return wn=wn||function T_(_){return new Promise((f,p)=>{var C,T,N;function X(){Wc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Wc(),p(Re(_,"network-request-failed"))},timeout:Ih.get()})}if(null!==(T=null===(C=En().gapi)||void 0===C?void 0:C.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(N=En().gapi)||void 0===N||!N.load){const De=qs("iframefcb");return En()[De]=()=>{gapi.load?X():p(Re(_,"network-request-failed"))},is(`https://apis.google.com/js/api.js?onload=${De}`).catch(ze=>p(ze))}X()}}).catch(f=>{throw wn=null,f})}(_),wn}const Gc=new Ue(5e3,15e3),zc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ap(_){const f=_.config;ne(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?$t(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,C={apiKey:f.apiKey,appName:_.name,v:P.SDK_VERSION},T=Tp.get(_.config.apiHost);T&&(C.eid=T);const N=_._getFrameworks();return N.length&&(C.fw=N.join(",")),`${p}?${(0,B.xO)(C).slice(1)}`}function Nl(){return Nl=(0,c.Z)(function*(_){const f=yield hs(_),p=En().gapi;return ne(p,_,"internal-error"),f.open({where:document.body,url:Ap(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zc,dontclear:!0},C=>new Promise(function(){var T=(0,c.Z)(function*(N,X){yield C.restyle({setHideOnLeave:!1});const De=Re(_,"network-request-failed"),ze=En().setTimeout(()=>{X(De)},Gc.get());function ot(){En().clearTimeout(ze),N(C)}C.ping(ot).then(ot,()=>{X(De)})});return function(N,X){return T.apply(this,arguments)}}()))}),Nl.apply(this,arguments)}const Sp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bo(_,f,p,C,T,N){ne(_.config.authDomain,_,"auth-domain-config-required"),ne(_.config.apiKey,_,"invalid-api-key");const X={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:C,v:P.SDK_VERSION,eventId:T};if(f instanceof Kn){f.setDefaultLanguage(_.languageCode),X.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(X.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ze,ot]of Object.entries(N||{}))X[ze]=ot}if(f instanceof Ss){const ze=f.getScopes().filter(ot=>""!==ot);ze.length>0&&(X.scopes=ze.join(","))}_.tenantId&&(X.tid=_.tenantId);const De=X;for(const ze of Object.keys(De))void 0===De[ze]&&delete De[ze];return`${function Ah({config:_}){return _.emulator?$t(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,B.xO)(De).slice(1)}`}const $o="webStorageSupport",ei=class Pa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pi,this._completeRedirectFn=Fe,this._overrideRedirectResult=on}_openPopup(f,p,C,T){var N=this;return(0,c.Z)(function*(){var X;ge(null===(X=N.eventManagers[f._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const De=Bo(f,p,C,Ne(),T);return function S_(_,f,p,C=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),X=Math.max((window.screen.availWidth-C)/2,0).toString();let De="";const ze=Object.assign(Object.assign({},Sp),{width:C.toString(),height:T.toString(),top:N,left:X}),ot=(0,B.z$)().toLowerCase();p&&(De=ee(ot)?"_blank":p),R(ot)&&(f=f||"http://localhost",ze.scrollbars="yes");const Mt=Object.entries(ze).reduce((Mr,[kr,jo])=>`${Mr}${kr}=${jo},`,"");if(function jt(_=(0,B.z$)()){var f;return Pe(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ot)&&"_self"!==De)return function Ra(_,f){const p=document.createElement("a");p.href=_,p.target=f;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(f||"",De),new xl(null);const Zt=window.open(f||"",De,Mt);ne(Zt,_,"popup-blocked");try{Zt.focus()}catch{}return new xl(Zt)}(f,De,Us())})()}_openRedirect(f,p,C,T){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(f),function bu(_){En().location.href=_}(Bo(f,p,C,Ne(),T)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:T,promise:N}=this.eventManagers[p];return T?Promise.resolve(T):(ge(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(f);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const C=yield function Th(_){return Nl.apply(this,arguments)}(f),T=new Rn(f);return C.register("authEvent",N=>(ne(N?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:T},p.iframes[f._key()]=C,T})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send($o,{type:$o},T=>{var N;const X=null===(N=T?.[0])||void 0===N?void 0:N[$o];void 0!==X&&p(!!X),$e(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Vi(_){return Zn.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ht()||k()||Pe()}};class qc extends class Ou{constructor(f){this.factorId=f}_process(f,p,C){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,C);case"signin":return this._finalizeSignIn(f,p.credential);default:return ae("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new qc(f)}_finalizeEnroll(f,p,C){return function fa(_,f){return wt(_,"POST","/v2/accounts/mfaEnrollment:finalize",St(_,f))}(f,{idToken:p,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function zs(_,f){return wt(_,"POST","/v2/accounts/mfaSignIn:finalize",St(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kc=(()=>{class _{constructor(){}static assertion(p){return qc._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Na="@firebase/auth",Ol="0.20.11";class Sh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(C=>{var T;f((null===(T=C)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ku=(0,B.Pz)("authIdTokenMaxAge")||300;let Rh=null;const yr=_=>function(){var f=(0,c.Z)(function*(p){const C=p&&(yield p.getIdTokenResult()),T=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(T&&T>ku)return;const N=C?.token;Rh!==N&&(Rh=N,yield fetch(_,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(p){return f.apply(this,arguments)}}();function Yc(_=(0,P.getApp)()){const f=(0,P._getProvider)(_,"auth");if(f.isInitialized())return f.getImmediate();const p=function ue(_,f){const p=(0,P._getProvider)(_,"auth");if(p.isInitialized()){const T=p.getImmediate(),N=p.getOptions();if((0,B.vZ)(N,f??{}))return T;$e(T,"already-initialized")}return p.initialize({options:f})}(_,{popupRedirectResolver:ei,persistence:[Gs,Ln,Pi]}),C=(0,B.Pz)("authTokenSyncURL");if(C){const N=yr(C);(function ha(_,f,p){(0,B.m9)(_).beforeAuthStateChanged(f,p)})(p,N,()=>N(p.currentUser)),function Il(_,f,p,C){(0,B.m9)(_).onIdTokenChanged(f,p,C)}(p,X=>N(X))}const T=(0,B.q4)("auth");return T&&Ki(p,`http://${T}`),p}!function Np(_){(0,P._registerComponent)(new he.wA("auth",(f,{options:p})=>{const C=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:N,authDomain:X}=C.options;return((De,ze)=>{ne(N&&!N.includes(":"),"invalid-api-key",{appName:De.name}),ne(!X?.includes(":"),"argument-error",{appName:De.name});const ot={apiKey:N,authDomain:X,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xt(_)},Mt=new Ds(De,ze,ot);return function ie(_,f){const p=f?.persistence||[],C=(Array.isArray(p)?p:[p]).map(Q);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(C,f?.popupRedirectResolver)}(Mt,p),Mt})(C,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,C)=>{f.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new he.wA("auth-internal",f=>{const p=rt(f.getProvider("auth").getImmediate());return new Sh(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Na,Ol,function Pp(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,P.registerVersion)(Na,Ol,"esm2017")}("Browser")},2090:(Je,Ie,x)=>{x.d(Ie,{$s:()=>Ge,BH:()=>bt,DV:()=>yn,Dv:()=>ar,GJ:()=>Wr,L:()=>le,LL:()=>Ft,P0:()=>xe,Pz:()=>Vt,Sg:()=>Ue,UG:()=>ye,UI:()=>Gr,US:()=>he,Wj:()=>ut,Wl:()=>qn,Yr:()=>Ae,ZB:()=>H,ZR:()=>Qt,aH:()=>Xe,b$:()=>de,cI:()=>wt,dS:()=>yt,eu:()=>ne,g5:()=>P,gK:()=>In,gQ:()=>Kt,h$:()=>ce,hl:()=>Le,hu:()=>B,jU:()=>Ze,lb:()=>er,m9:()=>xt,ne:()=>Jt,p$:()=>G,pd:()=>zi,q4:()=>Ne,r3:()=>or,ru:()=>me,tV:()=>pe,uI:()=>Se,ug:()=>fr,vZ:()=>je,w1:()=>$e,w9:()=>Hr,xO:()=>qt,xb:()=>Rr,z$:()=>ke,zI:()=>ae,zd:()=>Wn});const B=function(W,$){if(!W)throw P($)},P=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},re=function(W){const $=[];let Z=0;for(let V=0;V<W.length;V++){let R=W.charCodeAt(V);R<128?$[Z++]=R:R<2048?($[Z++]=R>>6|192,$[Z++]=63&R|128):55296==(64512&R)&&V+1<W.length&&56320==(64512&W.charCodeAt(V+1))?(R=65536+((1023&R)<<10)+(1023&W.charCodeAt(++V)),$[Z++]=R>>18|240,$[Z++]=R>>12&63|128,$[Z++]=R>>6&63|128,$[Z++]=63&R|128):($[Z++]=R>>12|224,$[Z++]=R>>6&63|128,$[Z++]=63&R|128)}return $},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let R=0;R<W.length;R+=3){const k=W[R],ee=R+1<W.length,Me=ee?W[R+1]:0,qe=R+2<W.length,Ke=qe?W[R+2]:0;let gt=(15&Me)<<2|Ke>>6,jt=63&Ke;qe||(jt=64,ee||(gt=64)),V.push(Z[k>>2],Z[(3&k)<<4|Me>>4],Z[gt],Z[jt])}return V.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(re(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let Z=0,V=0;for(;Z<W.length;){const R=W[Z++];if(R<128)$[V++]=String.fromCharCode(R);else if(R>191&&R<224){const k=W[Z++];$[V++]=String.fromCharCode((31&R)<<6|63&k)}else if(R>239&&R<365){const qe=((7&R)<<18|(63&W[Z++])<<12|(63&W[Z++])<<6|63&W[Z++])-65536;$[V++]=String.fromCharCode(55296+(qe>>10)),$[V++]=String.fromCharCode(56320+(1023&qe))}else{const k=W[Z++],ee=W[Z++];$[V++]=String.fromCharCode((15&R)<<12|(63&k)<<6|63&ee)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const Z=$?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let R=0;R<W.length;){const k=Z[W.charAt(R++)],Me=R<W.length?Z[W.charAt(R)]:0;++R;const Ke=R<W.length?Z[W.charAt(R)]:64;++R;const Pe=R<W.length?Z[W.charAt(R)]:64;if(++R,null==k||null==Me||null==Ke||null==Pe)throw Error();V.push(k<<2|Me>>4),64!==Ke&&(V.push(Me<<4&240|Ke>>2),64!==Pe&&V.push(Ke<<6&192|Pe))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ce=function(W){const $=re(W);return he.encodeByteArray($,!0)},le=function(W){return ce(W).replace(/\./g,"")},pe=function(W){try{return he.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function G(W){return H(void 0,W)}function H(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const Z in $)!$.hasOwnProperty(Z)||!Y(Z)||(W[Z]=H(W[Z],$[Z]));return W}function Y(W){return"__proto__"!==W}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return"object"==typeof self&&self.self===self}function me(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){const W=ke();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Ae(){return!1}function Le(){return"object"==typeof indexedDB}function ne(){return new Promise((W,$)=>{try{let Z=!0;const V="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(V);R.onsuccess=()=>{R.result.close(),Z||self.indexedDB.deleteDatabase(V),W(!0)},R.onupgradeneeded=()=>{Z=!1},R.onerror=()=>{var k;$((null===(k=R.error)||void 0===k?void 0:k.message)||"")}}catch(Z){$(Z)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ie=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=W&&pe(W[1]);return $&&JSON.parse($)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},Ne=W=>{var $,Z;return null===(Z=null===($=ie())||void 0===$?void 0:$.emulatorHosts)||void 0===Z?void 0:Z[W]},xe=W=>{const $=Ne(W);if(!$)return;const Z=$.lastIndexOf(":");if(Z<=0||Z+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const V=parseInt($.substring(Z+1),10);return"["===$[0]?[$.substring(1,Z-1),V]:[$.substring(0,Z),V]},Xe=()=>{var W;return null===(W=ie())||void 0===W?void 0:W.config},Vt=W=>{var $;return null===($=ie())||void 0===$?void 0:$[`_${W}`]};class bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Z)=>{this.resolve=$,this.reject=Z})}wrapCallback($){return(Z,V)=>{Z?this.reject(Z):this.resolve(V),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Z):$(Z,V))}}}function Ue(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=$||"demo-project",R=W.iat||0,k=W.sub||W.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:R,exp:R+3600,auth_time:R,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},W);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(ee)),""].join(".")}class Qt extends Error{constructor($,Z,V){super(Z),this.code=$,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ft.prototype.create)}}class Ft{constructor($,Z,V){this.service=$,this.serviceName=Z,this.errors=V}create($,...Z){const V=Z[0]||{},R=`${this.service}/${$}`,k=this.errors[$],ee=k?function Lt(W,$){return W.replace(St,(Z,V)=>{const R=$[V];return null!=R?String(R):`<${V}?>`})}(k,V):"Error";return new Qt(R,`${this.serviceName}: ${ee} (${R}).`,V)}}const St=/\{\$([^}]+)}/g;function wt(W){return JSON.parse(W)}function qn(W){return JSON.stringify(W)}const jr=function(W){let $={},Z={},V={},R="";try{const k=W.split(".");$=wt(pe(k[0])||""),Z=wt(pe(k[1])||""),R=k[2],V=Z.d||{},delete Z.d}catch{}return{header:$,claims:Z,data:V,signature:R}},Hr=function(W){const Z=jr(W).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},Wr=function(W){const $=jr(W).claims;return"object"==typeof $&&!0===$.admin};function or(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function yn(W,$){if(Object.prototype.hasOwnProperty.call(W,$))return W[$]}function Rr(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function Gr(W,$,Z){const V={};for(const R in W)Object.prototype.hasOwnProperty.call(W,R)&&(V[R]=$.call(Z,W[R],R,W));return V}function je(W,$){if(W===$)return!0;const Z=Object.keys(W),V=Object.keys($);for(const R of Z){if(!V.includes(R))return!1;const k=W[R],ee=$[R];if(xn(k)&&xn(ee)){if(!je(k,ee))return!1}else if(k!==ee)return!1}for(const R of V)if(!Z.includes(R))return!1;return!0}function xn(W){return null!==W&&"object"==typeof W}function qt(W){const $=[];for(const[Z,V]of Object.entries(W))Array.isArray(V)?V.forEach(R=>{$.push(encodeURIComponent(Z)+"="+encodeURIComponent(R))}):$.push(encodeURIComponent(Z)+"="+encodeURIComponent(V));return $.length?"&"+$.join("&"):""}function Wn(W){const $={};return W.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[R,k]=V.split("=");$[decodeURIComponent(R)]=decodeURIComponent(k)}}),$}function zi(W){const $=W.indexOf("?");if(!$)return"";const Z=W.indexOf("#",$);return W.substring($,Z>0?Z:void 0)}class Kt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,Z){Z||(Z=0);const V=this.W_;if("string"==typeof $)for(let Pe=0;Pe<16;Pe++)V[Pe]=$.charCodeAt(Z)<<24|$.charCodeAt(Z+1)<<16|$.charCodeAt(Z+2)<<8|$.charCodeAt(Z+3),Z+=4;else for(let Pe=0;Pe<16;Pe++)V[Pe]=$[Z]<<24|$[Z+1]<<16|$[Z+2]<<8|$[Z+3],Z+=4;for(let Pe=16;Pe<80;Pe++){const gt=V[Pe-3]^V[Pe-8]^V[Pe-14]^V[Pe-16];V[Pe]=4294967295&(gt<<1|gt>>>31)}let Ke,we,R=this.chain_[0],k=this.chain_[1],ee=this.chain_[2],Me=this.chain_[3],qe=this.chain_[4];for(let Pe=0;Pe<80;Pe++){Pe<40?Pe<20?(Ke=Me^k&(ee^Me),we=1518500249):(Ke=k^ee^Me,we=1859775393):Pe<60?(Ke=k&ee|Me&(k|ee),we=2400959708):(Ke=k^ee^Me,we=3395469782);const gt=(R<<5|R>>>27)+Ke+qe+we+V[Pe]&4294967295;qe=Me,Me=ee,ee=4294967295&(k<<30|k>>>2),k=R,R=gt}this.chain_[0]=this.chain_[0]+R&4294967295,this.chain_[1]=this.chain_[1]+k&4294967295,this.chain_[2]=this.chain_[2]+ee&4294967295,this.chain_[3]=this.chain_[3]+Me&4294967295,this.chain_[4]=this.chain_[4]+qe&4294967295}update($,Z){if(null==$)return;void 0===Z&&(Z=$.length);const V=Z-this.blockSize;let R=0;const k=this.buf_;let ee=this.inbuf_;for(;R<Z;){if(0===ee)for(;R<=V;)this.compress_($,R),R+=this.blockSize;if("string"==typeof $){for(;R<Z;)if(k[ee]=$.charCodeAt(R),++ee,++R,ee===this.blockSize){this.compress_(k),ee=0;break}}else for(;R<Z;)if(k[ee]=$[R],++ee,++R,ee===this.blockSize){this.compress_(k),ee=0;break}}this.inbuf_=ee,this.total_+=Z}digest(){const $=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let R=this.blockSize-1;R>=56;R--)this.buf_[R]=255&Z,Z/=256;this.compress_(this.buf_);let V=0;for(let R=0;R<5;R++)for(let k=24;k>=0;k-=8)$[V]=this.chain_[R]>>k&255,++V;return $}}function Jt(W,$){const Z=new zt(W,$);return Z.subscribe.bind(Z)}class zt{constructor($,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{$(this)}).catch(V=>{this.error(V)})}next($){this.forEachObserver(Z=>{Z.next($)})}error($){this.forEachObserver(Z=>{Z.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Z,V){let R;if(void 0===$&&void 0===Z&&void 0===V)throw new Error("Missing Observer.");R=function tt(W,$){if("object"!=typeof W||null===W)return!1;for(const Z of $)if(Z in W&&"function"==typeof W[Z])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Z,complete:V},void 0===R.next&&(R.next=pt),void 0===R.error&&(R.error=pt),void 0===R.complete&&(R.complete=pt);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),k}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,$)}sendOne($,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Z(this.observers[$])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pt(){}const ar=function(W,$,Z,V){let R;if(V<$?R="at least "+$:V>Z&&(R=0===Z?"none":"no more than "+Z),R)throw new Error(W+" failed: Was called with "+V+(1===V?" argument.":" arguments.")+" Expects "+R+".")};function In(W,$){return`${W} failed: ${$} argument `}function ut(W,$,Z,V){if((!V||Z)&&"function"!=typeof Z)throw new Error(In(W,$)+"must be a valid function.")}function er(W,$,Z,V){if((!V||Z)&&("object"!=typeof Z||null===Z))throw new Error(In(W,$)+"must be a valid context object.")}const yt=function(W){const $=[];let Z=0;for(let V=0;V<W.length;V++){let R=W.charCodeAt(V);if(R>=55296&&R<=56319){const k=R-55296;V++,B(V<W.length,"Surrogate pair missing trail surrogate."),R=65536+(k<<10)+(W.charCodeAt(V)-56320)}R<128?$[Z++]=R:R<2048?($[Z++]=R>>6|192,$[Z++]=63&R|128):R<65536?($[Z++]=R>>12|224,$[Z++]=R>>6&63|128,$[Z++]=63&R|128):($[Z++]=R>>18|240,$[Z++]=R>>12&63|128,$[Z++]=R>>6&63|128,$[Z++]=63&R|128)}return $},fr=function(W){let $=0;for(let Z=0;Z<W.length;Z++){const V=W.charCodeAt(Z);V<128?$++:V<2048?$+=2:V>=55296&&V<=56319?($+=4,Z++):$+=3}return $};function Ge(W,$=1e3,Z=2){const V=$*Math.pow(Z,W),R=Math.round(.5*V*(Math.random()-.5)*2);return Math.min(144e5,V+R)}function xt(W){return W&&W._delegate?W._delegate:W}},4914:(Je,Ie,x)=>{var c=x(4650);let B=null;function P(){return B}const ce=new c.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function pe(){return(0,c.LFG)(H)}()},providedIn:"platform"}),n})();const G=new c.OlP("Location Initialized");let H=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){Y()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){Y()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ke(){return new H((0,c.LFG)(ce))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ye(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(He)},providedIn:"root"}),n})();const de=new c.OlP("appBaseHref");let He=(()=>{class n extends me{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Ze(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,d){const g=this.prepareExternalUrl(a+Ze(d));this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){const g=this.prepareExternalUrl(a+Ze(d));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$e=(()=>{class n extends me{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Se(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,d){let g=this.prepareExternalUrl(a+Ze(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){let g=this.prepareExternalUrl(a+Ze(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._baseHref=ye(Le(s)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Ze(s))}normalize(e){return n.stripTrailingSlash(function ve(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Le(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._locationStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(s)),a)}replaceState(e,s="",a=null){this._locationStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=Se,n.stripTrailingSlash=ye,n.\u0275fac=function(e){return new(e||n)(c.LFG(me))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ae(){return new Re((0,c.LFG)(me))}()},providedIn:"root"}),n})();function Le(n){return n.replace(/\/index.html$/,"")}class Qi{constructor(t,e,s,a){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ti=(()=>{class n{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((a,d,g)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new Qi(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)s.remove(null===d?void 0:d);else if(null!==d){const y=s.get(d);s.move(y,g),Ji(y,a)}});for(let a=0,d=s.length;a<d;a++){const y=s.get(a).context;y.index=a,y.count=d,y.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Ji(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ji(n,t){n.context.$implicit=t.item}let An=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new Ac,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){On("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){On("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ac{constructor(){this.$implicit=null,this.ngIf=null}}function On(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let yh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();let fu=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Sc((0,c.LFG)(ce),window)}),n})();class Sc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Gn(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const d=a.shadowRoot;if(d){const g=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(g)return g}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Nr(this.window.history)||Nr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Nr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Mi extends class yu extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){B||(B=n)}(new Mi)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function vu(){return Ri=Ri||document.querySelector("base"),Ri?Ri.getAttribute("href"):null}();return null==e?null:function pi(n){cn=cn||document.createElement("a"),cn.setAttribute("href",n);const t=cn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ri=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function cl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,d]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let cn,Ri=null;const sn=new c.OlP("TRANSITION_ID"),El=[{provide:c.ip1,useFactory:function Cu(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const s=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)s.remove(a[d])})}},deps:[sn,ce,c.zs3],multi:!0}];let wl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Dl=new c.OlP("EventManagerPlugins");let Il=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let d=0;d<a.length;d++){const g=a[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Dl),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ha{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let Fs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ls=(()=>{class n extends Fs{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,a.push(s.appendChild(g))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Eu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Eu))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Eu(n){P().remove(n)}const Vs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wu=/%COMP%/g;function pa(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?pa(n,a,e):(a=a.replace(wu,n),e.push(a))}return e}function ga(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ma=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new gi(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case c.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Iu(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case c.ifc.ShadowDom:return new kc(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=pa(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Il),c.LFG(Ls),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class gi{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Vs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(No(t)?t.content:t).appendChild(e)}insertBefore(t,e,s){t&&(No(t)?t.content:t).insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const d=Vs[a];d?t.setAttributeNS(d,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=Vs[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,s,a&c.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ga(s)):this.eventManager.addEventListener(t,e,ga(s))}}function No(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Iu extends gi{constructor(t,e,s,a){super(t),this.component=s;const d=pa(a+"-"+s.id,s.styles,[]);e.addStyles(d),this.contentAttr=function Cn(n){return"_ngcontent-%COMP%".replace(wu,n)}(a+"-"+s.id),this.hostAttr=function fa(n){return"_nghost-%COMP%".replace(wu,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class kc extends gi{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=pa(a.id,a.styles,[]);for(let g=0;g<d.length;g++){const y=document.createElement("style");y.textContent=d[g],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ln=(()=>{class n extends ha{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Fc=["alt","control","meta","shift"],Pi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Al={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xo=(()=>{class n extends ha{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const d=n.parseEventName(s),g=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(s.pop());let g="",y=s.indexOf("code");if(y>-1&&(s.splice(y,1),g="code."),Fc.forEach(S=>{const j=s.indexOf(S);j>-1&&(s.splice(j,1),g+=S+".")}),g+=d,0!=s.length||0===d.length)return null;const I={};return I.domEventName=a,I.fullKey=g,I}static matchEventFullKeyCode(e,s){let a=Pi[e.key]||e.key,d="";return s.indexOf("code.")>-1&&(a=e.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Fc.forEach(g=>{g!==a&&(0,Al[g])(e)&&(d+=g+".")}),d+=a,d===s)}static eventCallback(e,s,a){return d=>{n.matchEventFullKeyCode(d,e)&&a.runGuarded(()=>s(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Oo=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Tu(){Mi.makeCurrent()},multi:!0},{provide:ce,useFactory:function Sl(){return(0,c.RDi)(document),document},deps:[]}]),rs=new c.OlP(""),ko=[{provide:c.rWj,useClass:class xc{addToWindow(t){c.dqk.getAngularTestability=(s,a=!0)=>{const d=t.findTestabilityInTree(s,a);if(null==d)throw new Error("Could not find testability for element.");return d},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(s=>{const a=c.dqk.getAllAngularTestabilities();let d=a.length,g=!1;const y=function(I){g=g||I,d--,0==d&&s(g)};a.forEach(function(I){I.whenStable(y)})})}findTestabilityInTree(t,e,s){return null==e?null:t.getTestability(e)??(s?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Bs=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function mi(){return new c.qLn},deps:[]},{provide:Dl,useClass:Ln,multi:!0,deps:[ce,c.R0b,c.Lbi]},{provide:Dl,useClass:xo,multi:!0,deps:[ce]},{provide:ma,useClass:ma,deps:[Il,Ls,c.AFp]},{provide:c.FYo,useExisting:ma},{provide:Fs,useExisting:Ls},{provide:Ls,useClass:Ls,deps:[ce]},{provide:Il,useClass:Il,deps:[Dl,c.R0b]},{provide:class Rs{},useClass:wl,deps:[]},[]];let $s=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:sn,useExisting:c.AFp},El]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(rs,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Bs,...ko],imports:[yh,c.hGG]}),n})(),qr=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function Fo(){return new qr((0,c.LFG)(ce))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var tn=x(8996),Yr=x(7669);function Ye(...n){const t=(0,Yr.yG)(n);return(0,tn.D)(n,t)}var Qr=x(7579);class nn extends Qr.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}const ss=(0,x(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var nr=x(9751);const{isArray:os}=Array,{getPrototypeOf:Mu,prototype:Ru,keys:jc}=Object;function xi(n){if(1===n.length){const t=n[0];if(os(t))return{args:t,keys:null};if(function Pu(n){return n&&"object"==typeof n&&Mu(n)===Ru}(t)){const e=jc(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}var Oi=x(4671),st=x(4004);const{isArray:Pl}=Array;function wa(n){return(0,st.U)(t=>function Jr(n,t){return Pl(t)?n(...t):n(t)}(n,t))}function Lo(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}var Sn=x(5403),Vo=x(9672);function Da(...n){const t=(0,Yr.yG)(n),e=(0,Yr.jO)(n),{args:s,keys:a}=xi(n);if(0===s.length)return(0,tn.D)([],t);const d=new nr.y(function Uo(n,t,e=Oi.y){return s=>{Hc(t,()=>{const{length:a}=n,d=new Array(a);let g=a,y=a;for(let I=0;I<a;I++)Hc(t,()=>{const S=(0,tn.D)(n[I],t);let j=!1;S.subscribe((0,Sn.x)(s,U=>{d[I]=U,j||(j=!0,y--),y||s.next(e(d.slice()))},()=>{--g||s.complete()}))},s)},s)}}(s,t,a?g=>Lo(a,g):Oi.y));return e?d.pipe(wa(e)):d}function Hc(n,t,e){n?(0,Vo.f)(e,n,t):t()}var Ys=x(8189);function Qs(...n){return function Ia(){return(0,Ys.J)(1)}()((0,tn.D)(n,(0,Yr.yG)(n)))}var ki=x(8421);function Or(n){return new nr.y(t=>{(0,ki.Xf)(n()).subscribe(t)})}var ba=x(9635),Fi=x(576);function as(n,t){const e=(0,Fi.m)(n)?n:()=>n,s=a=>a.error(e());return new nr.y(t?a=>t.schedule(s,0,a):s)}var rr=x(515),Nu=x(727),on=x(4482);function ls(){return(0,on.e)((n,t)=>{let e=null;n._refCount++;const s=(0,Sn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class us extends nr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,on.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Nu.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Sn.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Nu.w0.EMPTY)}return t}refCount(){return ls()(this)}}function Mn(n,t){return(0,on.e)((e,s)=>{let a=null,d=0,g=!1;const y=()=>g&&!a&&s.complete();e.subscribe((0,Sn.x)(s,I=>{a?.unsubscribe();let S=0;const j=d++;(0,ki.Xf)(n(I,j)).subscribe(a=(0,Sn.x)(s,U=>s.next(t?t(I,U,j,S++):U),()=>{a=null,y()}))},()=>{g=!0,y()}))})}function an(n){return n<=0?()=>rr.E:(0,on.e)((t,e)=>{let s=0;t.subscribe((0,Sn.x)(e,a=>{++s<=n&&(e.next(a),n<=s&&e.complete())}))})}function Xr(n,t){return(0,on.e)((e,s)=>{let a=0;e.subscribe((0,Sn.x)(s,d=>n.call(t,d,a++)&&s.next(d)))})}var w=x(5577);function D(n){return(0,on.e)((t,e)=>{let s=!1;t.subscribe((0,Sn.x)(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function A(n=L){return(0,on.e)((t,e)=>{let s=!1;t.subscribe((0,Sn.x)(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function L(){return new ss}function q(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Xr((a,d)=>n(a,d,s)):Oi.y,an(1),e?D(t):A(()=>new ss))}function se(n,t){return(0,Fi.m)(t)?(0,w.z)(n,t,1):(0,w.z)(n,1)}var _e=x(8505);function Fe(n){return(0,on.e)((t,e)=>{let d,s=null,a=!1;s=t.subscribe((0,Sn.x)(e,void 0,void 0,g=>{d=(0,ki.Xf)(n(g,Fe(n)(t))),s?(s.unsubscribe(),s=null,d.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,d.subscribe(e))})}function nt(n,t,e,s,a){return(d,g)=>{let y=e,I=t,S=0;d.subscribe((0,Sn.x)(g,j=>{const U=S++;I=y?n(I,j,U):(y=!0,j),s&&g.next(I)},a&&(()=>{y&&g.next(I),g.complete()})))}}function mt(n,t){return(0,on.e)(nt(n,t,arguments.length>=2,!0))}function Ct(n){return n<=0?()=>rr.E:(0,on.e)((t,e)=>{let s=[];t.subscribe((0,Sn.x)(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}function it(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Xr((a,d)=>n(a,d,s)):Oi.y,Ct(1),e?D(t):A(()=>new ss))}function cs(n){return(0,on.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Dt="primary",Yn=Symbol("RouteTitle");class ds{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Li(n){return new ds(n)}function Aa(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let d=0;d<s.length;d++){const g=s[d],y=n[d];if(g.startsWith(":"))a[g.substring(1)]=y;else if(g!==y.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Zn(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!xu(n[a],t[a]))return!1;return!0}function xu(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,d)=>s[d]===a)}return n===t}function Ih(n){return Array.prototype.concat.apply([],n)}function Wc(n){return n.length>0?n[n.length-1]:null}function wn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function hs(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,tn.D)(Promise.resolve(n)):Ye(n)}const A_={exact:function Th(n,t,e){if(!Ra(n.segments,t.segments)||!Sa(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!Th(n.children[s],t.children[s],e))return!1;return!0},subset:Sp},zc={exact:function Ap(n,t){return Zn(n,t)},subset:function Nl(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>xu(n[e],t[e]))},ignored:()=>!0};function Tp(n,t,e){return A_[e.paths](n.root,t.root,e.matrixParams)&&zc[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Sp(n,t,e){return Mp(n,t,t.segments,e)}function Mp(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Ra(a,e)||t.hasChildren()||!Sa(a,e,s))}if(n.segments.length===e.length){if(!Ra(n.segments,e)||!Sa(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!Sp(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(Ra(n.segments,a)&&Sa(n.segments,a,s)&&n.children[Dt])&&Mp(n.children[Dt],t,d,s)}}function Sa(n,t,e){return t.every((s,a)=>zc[e](n[a].parameters,s.parameters))}class Ma{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Li(this.queryParams)),this._queryParamMap}toString(){return Ah.serialize(this)}}class Ot{constructor(t,e){this.segments=t,this.children=e,this.parent=null,wn(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $o(this)}}class xl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Li(this.parameters)),this._parameterMap}toString(){return Sh(this)}}function Ra(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}let Zc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Bo},providedIn:"root"}),n})();class Bo{parse(t){const e=new f(t);return new Ma(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Pa(t.root,!0)}`,s=function Np(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${Ou(e)}=${Ou(a)}`).join("&"):`${Ou(e)}=${Ou(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function qc(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ah=new Bo;function $o(n){return n.segments.map(t=>Sh(t)).join("/")}function Pa(n,t){if(!n.hasChildren())return $o(n);if(t){const e=n.children[Dt]?Pa(n.children[Dt],!1):"",s=[];return wn(n.children,(a,d)=>{d!==Dt&&s.push(`${d}:${Pa(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function Rp(n,t){let e=[];return wn(n.children,(s,a)=>{a===Dt&&(e=e.concat(t(s,a)))}),wn(n.children,(s,a)=>{a!==Dt&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===Dt?[Pa(n.children[Dt],!1)]:[`${a}:${Pa(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${$o(n)}/${e[0]}`:`${$o(n)}/(${e.join("//")})`}}function ei(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ou(n){return ei(n).replace(/%3B/gi,";")}function Kc(n){return ei(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Na(n){return decodeURIComponent(n)}function Ol(n){return Na(n.replace(/\+/g,"%20"))}function Sh(n){return`${Kc(n.path)}${function Pp(n){return Object.keys(n).map(t=>`;${Kc(t)}=${Kc(n[t])}`).join("")}(n.parameters)}`}const Mh=/^[^\/()?;=#]+/;function ku(n){const t=n.match(Mh);return t?t[0]:""}const Rh=/^[^=?&#]+/,Yc=/^[^&#]+/;class f{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[Dt]=new Ot(t,e)),s}parseSegment(){const t=ku(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new xl(Na(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ku(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=ku(this.remaining);a&&(s=a,this.capture(s))}t[Na(e)]=Na(s)}parseQueryParam(t){const e=function yr(n){const t=n.match(Rh);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function _(n){const t=n.match(Yc);return t?t[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const a=Ol(e),d=Ol(s);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=ku(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new c.vHH(4010,!1);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=Dt);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[Dt]:new Ot([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function p(n){return n.segments.length>0?new Ot([],{[Dt]:n}):n}function C(n){const t={};for(const s of Object.keys(n.children)){const d=C(n.children[s]);(d.segments.length>0||d.hasChildren())&&(t[s]=d)}return function T(n){if(1===n.numberOfChildren&&n.children[Dt]){const t=n.children[Dt];return new Ot(n.segments.concat(t.segments),t.children)}return n}(new Ot(n.segments,t))}function N(n){return n instanceof Ma}const X=!1;function Mt(n,t,e,s,a){if(0===e.length)return kr(t.root,t.root,t.root,s,a);const d=function Fu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kl(!0,0,n);let t=0,e=!1;const s=n.reduce((a,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const y={};return wn(d.outlets,(I,S)=>{y[S]="string"==typeof I?I.split("/"):I}),[...a,{outlets:y}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===g?(d.split("/").forEach((y,I)=>{0==I&&"."===y||(0==I&&""===y?e=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,d]},[]);return new kl(e,t,s)}(e);return d.toRoot()?kr(t.root,t.root,new Ot([],{}),s,a):function g(I){const S=function Ho(n,t,e,s){if(n.isAbsolute)return new Js(t.root,!0,0);if(-1===s)return new Js(e,e===t.root,0);return function Qc(n,t,e){let s=n,a=t,d=e;for(;d>a;){if(d-=a,s=s.parent,!s)throw new c.vHH(4005,X);a=s.segments.length}return new Js(s,!1,a-d)}(e,s+(Zt(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,I),j=S.processChildren?Xs(S.segmentGroup,S.index,d.commands):Wo(S.segmentGroup,S.index,d.commands);return kr(t.root,S.segmentGroup,j,s,a)}(n.snapshot?._lastPathIndex)}function Zt(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Mr(n){return"object"==typeof n&&null!=n&&n.outlets}function kr(n,t,e,s,a){let g,d={};s&&wn(s,(I,S)=>{d[S]=Array.isArray(I)?I.map(j=>`${j}`):`${I}`}),g=n===t?e:jo(n,t,e);const y=p(C(g));return new Ma(y,d,a)}function jo(n,t,e){const s={};return wn(n.children,(a,d)=>{s[d]=a===t?e:jo(a,t,e)}),new Ot(n.segments,s)}class kl{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&Zt(s[0]))throw new c.vHH(4003,X);const a=s.find(Mr);if(a&&a!==Wc(s))throw new c.vHH(4004,X)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Js{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function Wo(n,t,e){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return Xs(n,t,e);const s=function xh(n,t,e){let s=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return d;const g=n.segments[a],y=e[s];if(Mr(y))break;const I=`${y}`,S=s<e.length-1?e[s+1]:null;if(a>0&&void 0===I)break;if(I&&S&&"object"==typeof S&&void 0===S.outlets){if(!xp(I,S,g))return d;s+=2}else{if(!xp(I,{},g))return d;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const d=new Ot(n.segments.slice(0,s.pathIndex),{});return d.children[Dt]=new Ot(n.segments.slice(s.pathIndex),n.children),Xs(d,0,a)}return s.match&&0===a.length?new Ot(n.segments,{}):s.match&&!n.hasChildren()?Lu(n,t,e):s.match?Xs(n,0,a):Lu(n,t,e)}function Xs(n,t,e){if(0===e.length)return new Ot(n.segments,{});{const s=function Nh(n){return Mr(n[0])?n[0].outlets:{[Dt]:n}}(e),a={};return wn(s,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[g]=Wo(n.children[g],t,d))}),wn(n.children,(d,g)=>{void 0===s[g]&&(a[g]=d)}),new Ot(n.segments,a)}}function Lu(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(Mr(d)){const I=xa(d.outlets);return new Ot(s,I)}if(0===a&&Zt(e[0])){s.push(new xl(n.segments[t].path,Oh(e[0]))),a++;continue}const g=Mr(d)?d.outlets[Dt]:`${d}`,y=a<e.length-1?e[a+1]:null;g&&y&&Zt(y)?(s.push(new xl(g,Oh(y))),a+=2):(s.push(new xl(g,{})),a++)}return new Ot(s,{})}function xa(n){const t={};return wn(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=Lu(new Ot([],{}),0,e))}),t}function Oh(n){const t={};return wn(n,(e,s)=>t[s]=`${e}`),t}function xp(n,t,e){return n==e.path&&Zn(t,e.parameters)}class Go{constructor(t,e){this.id=t,this.url=e}}class Jc extends Go{constructor(t,e,s="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fl extends Go{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kh extends Go{constructor(t,e,s,a){super(t,e),this.reason=s,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class M_ extends Go{constructor(t,e,s,a){super(t,e),this.error=s,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bE extends Go{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TE extends Go{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AE extends Go{constructor(t,e,s,a,d){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class R_ extends Go{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Op extends Go{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P_{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kp{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class SE{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ME{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oa{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Lp(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=Lp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=k_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return k_(t,this._root).map(e=>e.value)}}function Lp(n,t){if(n===t.value)return t;for(const e of t.children){const s=Lp(n,e);if(s)return s}return null}function k_(n,t){if(n===t.value)return[t];for(const e of t.children){const s=k_(n,e);if(s.length)return s.unshift(t),s}return[]}class Ui{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Vu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Vp extends Fp{constructor(t,e){super(t),this.snapshot=e,Xc(this,t)}toString(){return this.snapshot.toString()}}function Up(n,t){const e=function F_(n,t){const g=new Ll([],{},{},"",{},Dt,t,null,n.root,-1,{});return new $p("",new Ui(g,[]))}(n,t),s=new nn([new xl("",{})]),a=new nn({}),d=new nn({}),g=new nn({}),y=new nn(""),I=new zo(s,a,g,y,d,Dt,t,e.root);return I.snapshot=e.root,new Vp(new Ui(I,[]),e)}class zo{constructor(t,e,s,a,d,g,y,I){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=y,this.title=this.data?.pipe((0,st.U)(S=>S[Yn]))??Ye(void 0),this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(t=>Li(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(t=>Li(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bp(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],d=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(d.component)break;s--}}return function Fh(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Ll{constructor(t,e,s,a,d,g,y,I,S,j,U,J){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=y,this.title=this.data?.[Yn],this.routeConfig=I,this._urlSegment=S,this._lastPathIndex=j,this._correctedLastPathIndex=J??j,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Li(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Li(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $p extends Fp{constructor(t,e){super(e),this.url=t,Xc(this,e)}toString(){return Lh(this._root)}}function Xc(n,t){t.value._routerState=n,t.children.forEach(e=>Xc(n,e))}function Lh(n){const t=n.children.length>0?` { ${n.children.map(Lh).join(", ")} } `:"";return`${n.value}${t}`}function ed(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Zn(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Zn(t.params,e.params)||n.params.next(e.params),function Vi(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Zn(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Zn(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Vl(n,t){const e=Zn(n.params,t.params)&&function S_(n,t){return Ra(n,t)&&n.every((e,s)=>Zn(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Vl(n.parent,t.parent))}function Uu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function PE(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Uu(n,s,a);return Uu(n,s)})}(n,t,e);return new Ui(s,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const g=d.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(y=>Uu(n,y)),g}}const s=function NE(n){return new zo(new nn(n.url),new nn(n.params),new nn(n.queryParams),new nn(n.fragment),new nn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>Uu(n,d));return new Ui(s,a)}}const Vh="ngNavigationCancelingError";function Uh(n,t){const{redirectTo:e,navigationBehaviorOptions:s}=N(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=td(!1,0,t);return a.url=e,a.navigationBehaviorOptions=s,a}function td(n,t,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[Vh]=!0,s.cancellationCode=t,e&&(s.url=e),s}function Bh(n){return ka(n)&&N(n.url)}function ka(n){return n&&n[Vh]}class xE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nd,this.attachRef=null}}let nd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const a=this.getOrCreateContext(e);a.outlet=s,this.contexts.set(e,a)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new xE,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jp=!1;let Hp=(()=>{class n{constructor(e,s,a,d,g){this.parentContexts=e,this.location=s,this.changeDetector=d,this.environmentInjector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||Dt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,jp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,jp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,jp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new c.vHH(4013,jp);this._activatedRoute=e;const a=this.location,g=e._futureSnapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,I=new Wp(e,y,a.injector);if(s&&function OE(n){return!!n.resolveComponentFactory}(s)){const S=s.resolveComponentFactory(g);this.activated=a.createComponent(S,a.length,I)}else this.activated=a.createComponent(g,{index:a.length,injector:I,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(nd),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Wp{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===zo?this.route:t===nd?this.childContexts:this.parent.get(t,e)}}let $h=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,s){1&e&&c._UZ(0,"router-outlet")},dependencies:[Hp],encapsulation:2}),n})();function rd(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Gp(n){const t=n.children&&n.children.map(Gp),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Dt&&(e.component=$h),e}function Bi(n){return n.outlet||Dt}function Zo(n,t){const e=n.filter(s=>Bi(s)===t);return e.push(...n.filter(s=>Bi(s)!==t)),e}function qo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class jI{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),ed(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=Vu(e);t.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,a[g],s),delete a[g]}),wn(a,(d,g)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const g=s.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,s);else d&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=Vu(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);if(s&&s.outlet){const g=s.outlet.detach(),y=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=Vu(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=Vu(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],s),this.forwardEvent(new x_(d.value.snapshot))}),t.children.length&&this.forwardEvent(new ME(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(ed(a),a===d)if(a.component){const g=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const g=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(y.contexts),g.attachRef=y.componentRef,g.route=y.route.value,g.outlet&&g.outlet.attach(y.componentRef,y.route.value),ed(y.route.value),this.activateChildRoutes(t,null,g.children)}else{const y=qo(a.snapshot),I=y?.get(c._Vd)??null;g.attachRef=null,g.route=a,g.resolver=I,g.injector=y,g.outlet&&g.outlet.activateWith(a,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,s)}}class jE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zp{constructor(t,e){this.component=t,this.route=e}}function HI(n,t,e){const s=n._root;return id(s,t?t._root:null,e,[s.value])}function Ul(n,t){const e=Symbol(),s=t.get(n,e);return s===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:s}function id(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=Vu(t);return n.children.forEach(g=>{(function HE(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,g=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const I=function WE(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ra(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ra(n.url,t.url)||!Zn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vl(n,t)||!Zn(n.queryParams,t.queryParams);default:return!Vl(n,t)}}(g,d,d.routeConfig.runGuardsAndResolvers);I?a.canActivateChecks.push(new jE(s)):(d.data=g.data,d._resolvedData=g._resolvedData),id(n,t,d.component?y?y.children:null:e,s,a),I&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new zp(y.outlet.component,g))}else g&&sd(t,y,a),a.canActivateChecks.push(new jE(s)),id(n,null,d.component?y?y.children:null:e,s,a)})(g,d[g.value.outlet],e,s.concat([g.value]),a),delete d[g.value.outlet]}),wn(d,(g,y)=>sd(g,e.getContext(y),a)),a}function sd(n,t,e){const s=Vu(n),a=n.value;wn(s,(d,g)=>{sd(d,a.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new zp(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function Bl(n){return"function"==typeof n}function ad(n){return n instanceof ss||"EmptyError"===n?.name}const Bu=Symbol("INITIAL_VALUE");function ld(){return Mn(n=>Da(n.map(t=>t.pipe(an(1),function Ta(...n){const t=(0,Yr.yG)(n);return(0,on.e)((e,s)=>{(t?Qs(n,e,t):Qs(n,e)).subscribe(s)})}(Bu)))).pipe((0,st.U)(t=>{for(const e of t)if(!0!==e){if(e===Bu)return Bu;if(!1===e||e instanceof Ma)return e}return!0}),Xr(t=>t!==Bu),an(1)))}function Wh(n){return(0,ba.z)((0,_e.b)(t=>{if(N(t))throw Uh(0,t)}),(0,st.U)(t=>!0===t))}const Un={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function H_(n,t,e,s,a){const d=Zp(n,t,e);return d.matched?function YE(n,t,e,s){const a=t.canMatch;return a&&0!==a.length?Ye(a.map(g=>{const y=Ul(g,n);return hs(function GI(n){return n&&Bl(n.canMatch)}(y)?y.canMatch(t,e):n.runInContext(()=>y(t,e)))})).pipe(ld(),Wh()):Ye(!0)}(s=rd(t,s),t,e).pipe((0,st.U)(g=>!0===g?d:{...Un})):Ye(d)}function Zp(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Un}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||Aa)(e,n,t);if(!a)return{...Un};const d={};wn(a.posParams,(y,I)=>{d[I]=y.path});const g=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:g,positionalParamSegments:a.posParams??{}}}function $u(n,t,e,s,a="corrected"){if(e.length>0&&function JE(n,t,e){return e.some(s=>Gh(n,t,s)&&Bi(s)!==Dt)}(n,e,s)){const g=new Ot(t,function QE(n,t,e,s){const a={};a[Dt]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&Bi(d)!==Dt){const g=new Ot([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,a[Bi(d)]=g}return a}(n,t,s,new Ot(e,n.children)));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function XE(n,t,e){return e.some(s=>Gh(n,t,s))}(n,e,s)){const g=new Ot(n.segments,function W_(n,t,e,s,a,d){const g={};for(const y of s)if(Gh(n,e,y)&&!a[Bi(y)]){const I=new Ot([],{});I._sourceSegment=n,I._segmentIndexShift="legacy"===d?n.segments.length:t.length,g[Bi(y)]=I}return{...a,...g}}(n,t,e,s,n.children,a));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const d=new Ot(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function Gh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function G_(n,t,e,s){return!!(Bi(n)===s||s!==Dt&&Gh(t,e,n))&&("**"===n.path||Zp(t,n,e).matched)}function e0(n,t,e){return 0===t.length&&!n.children[e]}const qp=!1;class Fa{constructor(t){this.segmentGroup=t||null}}class zh{constructor(t){this.urlTree=t}}function ju(n){return as(new Fa(n))}function Kp(n){return as(new zh(n))}class q_{constructor(t,e,s,a,d){this.injector=t,this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=d,this.allowRedirects=!0}apply(){const t=$u(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ot(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Dt).pipe((0,st.U)(d=>this.createUrlTree(C(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fe(d=>{if(d instanceof zh)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Fa?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Dt).pipe((0,st.U)(a=>this.createUrlTree(C(a),t.queryParams,t.fragment))).pipe(Fe(a=>{throw a instanceof Fa?this.noMatchError(a):a}))}noMatchError(t){return new c.vHH(4002,qp)}createUrlTree(t,e,s){const a=p(t);return new Ma(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,st.U)(d=>new Ot([],d))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const d of Object.keys(s.children))"primary"===d?a.unshift(d):a.push(d);return(0,tn.D)(a).pipe(se(d=>{const g=s.children[d],y=Zo(e,d);return this.expandSegmentGroup(t,y,g,d).pipe((0,st.U)(I=>({segment:I,outlet:d})))}),mt((d,g)=>(d[g.outlet]=g.segment,d),{}),it())}expandSegment(t,e,s,a,d,g){return(0,tn.D)(s).pipe(se(y=>this.expandSegmentAgainstRoute(t,e,s,y,a,d,g).pipe(Fe(S=>{if(S instanceof Fa)return Ye(null);throw S}))),q(y=>!!y),Fe((y,I)=>{if(ad(y))return e0(e,a,d)?Ye(new Ot([],{})):ju(e);throw y}))}expandSegmentAgainstRoute(t,e,s,a,d,g,y){return G_(a,e,d,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,d,g):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g):ju(e):ju(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Kp(d):this.lineralizeSegments(s,d).pipe((0,w.z)(g=>{const y=new Ot(g,{});return this.expandSegment(t,y,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g){const{matched:y,consumedSegments:I,remainingSegments:S,positionalParamSegments:j}=Zp(e,a,d);if(!y)return ju(e);const U=this.applyRedirectCommands(I,a.redirectTo,j);return a.redirectTo.startsWith("/")?Kp(U):this.lineralizeSegments(a,U).pipe((0,w.z)(J=>this.expandSegment(t,e,s,J.concat(S),g,!1)))}matchSegmentAgainstRoute(t,e,s,a,d){return"**"===s.path?(t=rd(s,t),s.loadChildren?(s._loadedRoutes?Ye({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(t,s)).pipe((0,st.U)(y=>(s._loadedRoutes=y.routes,s._loadedInjector=y.injector,new Ot(a,{})))):Ye(new Ot(a,{}))):H_(e,s,a,t).pipe(Mn(({matched:g,consumedSegments:y,remainingSegments:I})=>g?this.getChildConfig(t=s._injector??t,s,a).pipe((0,w.z)(j=>{const U=j.injector??t,J=j.routes,{segmentGroup:Ce,slicedSegments:Ve}=$u(e,y,I,J),ht=new Ot(Ce.segments,Ce.children);if(0===Ve.length&&ht.hasChildren())return this.expandChildren(U,J,ht).pipe((0,st.U)($r=>new Ot(y,$r)));if(0===J.length&&0===Ve.length)return Ye(new Ot(y,{}));const It=Bi(s)===d;return this.expandSegment(U,ht,J,Ve,It?Dt:d,!0).pipe((0,st.U)(_n=>new Ot(y.concat(_n.segments),_n.children)))})):ju(e)))}getChildConfig(t,e,s){return e.children?Ye({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ye({routes:e._loadedRoutes,injector:e._loadedInjector}):function KE(n,t,e,s){const a=t.canLoad;return void 0===a||0===a.length?Ye(!0):Ye(a.map(g=>{const y=Ul(g,n);return hs(function od(n){return n&&Bl(n.canLoad)}(y)?y.canLoad(t,e):n.runInContext(()=>y(t,e)))})).pipe(ld(),Wh())}(t,e,s).pipe((0,w.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,_e.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function t0(n){return as(td(qp,3))}())):Ye({routes:[],injector:t})}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Ye(s);if(a.numberOfChildren>1||!a.children[Dt])return as(new c.vHH(4e3,qp));a=a.children[Dt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreateUrlTree(t,e,s,a){const d=this.createSegmentGroup(t,e.root,s,a);return new Ma(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return wn(t,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);s[d]=e[y]}else s[d]=a}),s}createSegmentGroup(t,e,s,a){const d=this.createSegments(t,e.segments,s,a);let g={};return wn(e.children,(y,I)=>{g[I]=this.createSegmentGroup(t,y,s,a)}),new Ot(d,g)}createSegments(t,e,s,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new c.vHH(4001,qp);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}class n0{}class Y_{constructor(t,e,s,a,d,g,y,I){this.injector=t,this.rootComponentType=e,this.config=s,this.urlTree=a,this.url=d,this.paramsInheritanceStrategy=g,this.relativeLinkResolution=y,this.urlSerializer=I}recognize(){const t=$u(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Dt).pipe((0,st.U)(e=>{if(null===e)return null;const s=new Ll([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ui(s,e),d=new $p(this.url,a);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,s=Bp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.processChildren(t,e,s):this.processSegment(t,e,s,s.segments,a)}processChildren(t,e,s){return(0,tn.D)(Object.keys(s.children)).pipe(se(a=>{const d=s.children[a],g=Zo(e,a);return this.processSegmentGroup(t,g,d,a)}),mt((a,d)=>a&&d?(a.push(...d),a):null),function Rn(n,t=!1){return(0,on.e)((e,s)=>{let a=0;e.subscribe((0,Sn.x)(s,d=>{const g=n(d,a++);(g||t)&&s.next(d),!g&&s.complete()}))})}(a=>null!==a),D(null),it(),(0,st.U)(a=>{if(null===a)return null;const d=ud(a);return function $l(n){n.sort((t,e)=>t.value.outlet===Dt?-1:e.value.outlet===Dt?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,s,a,d){return(0,tn.D)(e).pipe(se(g=>this.processSegmentAgainstRoute(g._injector??t,g,s,a,d)),q(g=>!!g),Fe(g=>{if(ad(g))return e0(s,a,d)?Ye([]):Ye(null);throw g}))}processSegmentAgainstRoute(t,e,s,a,d){if(e.redirectTo||!G_(e,s,a,d))return Ye(null);let g;if("**"===e.path){const y=a.length>0?Wc(a).parameters:{},I=cd(s)+a.length;g=Ye({snapshot:new Ll(a,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eg(e),Bi(e),e.component??e._loadedComponent??null,e,Zh(s),I,qh(e),I),consumedSegments:[],remainingSegments:[]})}else g=H_(s,e,a,t).pipe((0,st.U)(({matched:y,consumedSegments:I,remainingSegments:S,parameters:j})=>{if(!y)return null;const U=cd(s)+I.length;return{snapshot:new Ll(I,j,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eg(e),Bi(e),e.component??e._loadedComponent??null,e,Zh(s),U,qh(e),U),consumedSegments:I,remainingSegments:S}}));return g.pipe(Mn(y=>{if(null===y)return Ye(null);const{snapshot:I,consumedSegments:S,remainingSegments:j}=y;t=e._injector??t;const U=e._loadedInjector??t,J=function r0(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Ce,slicedSegments:Ve}=$u(s,S,j,J.filter(It=>void 0===It.redirectTo),this.relativeLinkResolution);if(0===Ve.length&&Ce.hasChildren())return this.processChildren(U,J,Ce).pipe((0,st.U)(It=>null===It?null:[new Ui(I,It)]));if(0===J.length&&0===Ve.length)return Ye([new Ui(I,[])]);const ht=Bi(e)===d;return this.processSegment(U,J,Ce,Ve,ht?Dt:d).pipe((0,st.U)(It=>null===It?null:[new Ui(I,It)]))}))}}function Xp(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ud(n){const t=[],e=new Set;for(const s of n){if(!Xp(s)){t.push(s);continue}const a=t.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=ud(s.children);t.push(new Ui(s.value,a))}return t.filter(s=>!e.has(s))}function Zh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function cd(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function eg(n){return n.data||{}}function qh(n){return n.resolve||{}}function J_(n){return"string"==typeof n.title||null===n.title}function tg(n){return Mn(t=>{const e=n(t);return e?(0,tn.D)(e).pipe((0,st.U)(()=>t)):Ye(t)})}let Kh=(()=>{class n{buildTitle(e){let s,a=e.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(d=>d.outlet===Dt);return s}getResolvedTitleForRoute(e){return e.data[Yn]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(X_)},providedIn:"root"}),n})(),X_=(()=>{class n extends Kh{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(qr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class d0{}class qI extends class ey{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Va=new c.OlP("",{providedIn:"root",factory:()=>({})}),Ua=new c.OlP("ROUTES");let jl=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ye(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=hs(e.loadComponent()).pipe((0,_e.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),cs(()=>{this.componentLoaders.delete(e)})),a=new us(s,()=>new Qr.x).pipe(ls());return this.componentLoaders.set(e,a),a}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Ye({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const d=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,st.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(s);let I,S,j=!1;Array.isArray(y)?S=y:(I=y.create(e).injector,S=Ih(I.get(Ua,[],c.XFs.Self|c.XFs.Optional)));return{routes:S.map(Gp),injector:I}}),cs(()=>{this.childrenLoaders.delete(s)})),g=new us(d,()=>new Qr.x).pipe(ls());return this.childrenLoaders.set(s,g),g}loadModuleFactoryOrRoutes(e){return hs(e()).pipe((0,w.z)(s=>s instanceof c.YKP||Array.isArray(s)?Ye(s):(0,tn.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class f0{}class KI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function p0(n){throw n}function g0(n,t,e){return t.parse("/")}const m0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ny={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Yh(){const n=(0,c.f3M)(Zc),t=(0,c.f3M)(nd),e=(0,c.f3M)(Re),s=(0,c.f3M)(c.zs3),a=(0,c.f3M)(c.Sil),d=(0,c.f3M)(Ua,{optional:!0})??[],g=(0,c.f3M)(Va,{optional:!0})??{},y=(0,c.f3M)(X_),I=(0,c.f3M)(Kh,{optional:!0}),S=(0,c.f3M)(f0,{optional:!0}),j=(0,c.f3M)(d0,{optional:!0}),U=new Bn(null,n,t,e,s,a,Ih(d));return S&&(U.urlHandlingStrategy=S),j&&(U.routeReuseStrategy=j),U.titleStrategy=I??y,function ry(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(g,U),U}let Bn=(()=>{class n{constructor(e,s,a,d,g,y,I){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=d,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qr.x,this.errorHandler=p0,this.malformedUriErrorHandler=g0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ye(void 0),this.urlHandlingStrategy=new KI,this.routeReuseStrategy=new qI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=g.get(jl),this.configLoader.onLoadEndListener=J=>this.triggerEvent(new kp(J)),this.configLoader.onLoadStartListener=J=>this.triggerEvent(new P_(J)),this.ngModule=g.get(c.h0i),this.console=g.get(c.c2e);const U=g.get(c.R0b);this.isNgZoneEnabled=U instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=function bh(){return new Ma(new Ot([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Up(this.currentUrlTree,this.rootComponentType),this.transitions=new nn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(Xr(a=>0!==a.id),(0,st.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Mn(a=>{let d=!1,g=!1;return Ye(a).pipe((0,_e.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mn(y=>{const I=this.browserUrlTree.toString(),S=!this.navigated||y.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Qh(y.source)&&(this.browserUrlTree=y.extractedUrl),Ye(y).pipe(Mn(U=>{const J=this.transitions.getValue();return s.next(new Jc(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),J!==this.transitions.getValue()?rr.E:Promise.resolve(U)}),function Yp(n,t,e,s){return Mn(a=>function Z_(n,t,e,s,a){return new q_(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,st.U)(d=>({...a,urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_e.b)(U=>{this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects},a.urlAfterRedirects=U.urlAfterRedirects}),function o0(n,t,e,s,a,d){return(0,w.z)(g=>function K_(n,t,e,s,a,d,g="emptyOnly",y="legacy"){return new Y_(n,t,e,s,a,g,y,d).recognize().pipe(Mn(I=>null===I?function Jp(n){return new nr.y(t=>t.error(n))}(new n0):Ye(I)))}(n,t,e,g.urlAfterRedirects,s.serialize(g.urlAfterRedirects),s,a,d).pipe((0,st.U)(y=>({...g,targetSnapshot:y}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_e.b)(U=>{if(a.targetSnapshot=U.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const Ce=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(Ce,U)}this.browserUrlTree=U.urlAfterRedirects}const J=new bE(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);s.next(J)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:J,extractedUrl:Ce,source:Ve,restoredState:ht,extras:It}=y,Nn=new Jc(J,this.serializeUrl(Ce),Ve,ht);s.next(Nn);const _n=Up(Ce,this.rootComponentType).snapshot;return Ye(a={...y,targetSnapshot:_n,urlAfterRedirects:Ce,extras:{...It,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=y.rawUrl,y.resolve(null),rr.E}),(0,_e.b)(y=>{const I=new TE(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}),(0,st.U)(y=>a={...y,guards:HI(y.targetSnapshot,y.currentSnapshot,this.rootContexts)}),function ZI(n,t){return(0,w.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?Ye({...e,guardsResult:!0}):function $_(n,t,e,s){return(0,tn.D)(n).pipe((0,w.z)(a=>function Hh(n,t,e,s,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?Ye(d.map(y=>{const I=qo(t)??a,S=Ul(y,I);return hs(function B_(n){return n&&Bl(n.canDeactivate)}(S)?S.canDeactivate(n,t,e,s):I.runInContext(()=>S(n,t,e,s))).pipe(q())})).pipe(ld()):Ye(!0)}(a.component,a.route,e,t,s)),q(a=>!0!==a,!0))}(g,s,a,n).pipe((0,w.z)(y=>y&&function Ko(n){return"boolean"==typeof n}(y)?function GE(n,t,e,s){return(0,tn.D)(t).pipe(se(a=>Qs(function ZE(n,t){return null!==n&&t&&t(new SE(n)),Ye(!0)}(a.route.parent,s),function zE(n,t){return null!==n&&t&&t(new N_(n)),Ye(!0)}(a.route,s),function j_(n,t,e){const s=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(g=>function WI(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Or(()=>Ye(g.guards.map(I=>{const S=qo(g.node)??e,j=Ul(I,S);return hs(function U_(n){return n&&Bl(n.canActivateChild)}(j)?j.canActivateChild(s,n):S.runInContext(()=>j(s,n))).pipe(q())})).pipe(ld())));return Ye(d).pipe(ld())}(n,a.path,e),function qE(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return Ye(!0);const a=s.map(d=>Or(()=>{const g=qo(t)??e,y=Ul(d,g);return hs(function V_(n){return n&&Bl(n.canActivate)}(y)?y.canActivate(t,n):g.runInContext(()=>y(t,n))).pipe(q())}));return Ye(a).pipe(ld())}(n,a.route,e))),q(a=>!0!==a,!0))}(s,d,n,t):Ye(y)),(0,st.U)(y=>({...e,guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,_e.b)(y=>{if(a.guardsResult=y.guardsResult,N(y.guardsResult))throw Uh(0,y.guardsResult);const I=new AE(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(I)}),Xr(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",3),!1)),tg(y=>{if(y.guards.canActivateChecks.length)return Ye(y).pipe((0,_e.b)(I=>{const S=new R_(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}),Mn(I=>{let S=!1;return Ye(I).pipe(function a0(n,t){return(0,w.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return Ye(e);let d=0;return(0,tn.D)(a).pipe(se(g=>function Q_(n,t,e,s){const a=n.routeConfig,d=n._resolve;return void 0!==a?.title&&!J_(a)&&(d[Yn]=a.title),function Hu(n,t,e,s){const a=function l0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return Ye({});const d={};return(0,tn.D)(a).pipe((0,w.z)(g=>function u0(n,t,e,s){const a=qo(t)??s,d=Ul(n,a);return hs(d.resolve?d.resolve(t,e):a.runInContext(()=>d(t,e)))}(n[g],t,e,s).pipe(q(),(0,_e.b)(y=>{d[g]=y}))),Ct(1),function ir(n){return(0,st.U)(()=>n)}(d),Fe(g=>ad(g)?rr.E:as(g)))}(d,n,t,s).pipe((0,st.U)(g=>(n._resolvedData=g,n.data=Bp(n,e).resolve,a&&J_(a)&&(n.data[Yn]=a.title),null)))}(g.route,s,n,t)),(0,_e.b)(()=>d++),Ct(1),(0,w.z)(g=>d===a.length?Ye(e):rr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_e.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(I),this.cancelNavigationTransition(I,"",2))}}))}),(0,_e.b)(I=>{const S=new Op(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}))}),tg(y=>{const I=S=>{const j=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&j.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,_e.b)(U=>{S.component=U}),(0,st.U)(()=>{})));for(const U of S.children)j.push(...I(U));return j};return Da(I(y.targetSnapshot.root)).pipe(D(),an(1))}),tg(()=>this.afterPreactivation()),(0,st.U)(y=>{const I=function RE(n,t,e){const s=Uu(n,t._root,e?e._root:void 0);return new Vp(s,t)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return a={...y,targetRouterState:I}}),(0,_e.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,t,e)=>(0,st.U)(s=>(new jI(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,_e.b)({next(){d=!0},complete(){d=!0}}),cs(()=>{d||g||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Fe(y=>{if(g=!0,ka(y)){Bh(y)||(this.navigated=!0,this.restoreHistory(a,!0));const I=new kh(a.id,this.serializeUrl(a.extractedUrl),y.message,y.cancellationCode);if(s.next(I),Bh(y)){const S=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),j={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qh(a.source)};this.scheduleNavigation(S,"imperative",null,j,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const I=new M_(a.id,this.serializeUrl(a.extractedUrl),y,a.targetSnapshot??void 0);s.next(I);try{a.resolve(this.errorHandler(y))}catch(S){a.reject(S)}}return rr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{const a={replaceUrl:!0},d=e.state?.navigationId?e.state:null;if(d){const y={...d};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const g=this.parseUrl(e.url);this.scheduleNavigation(g,s,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Gp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:d,fragment:g,queryParamsHandling:y,preserveFragment:I}=s,S=a||this.routerState.root,j=I?this.currentUrlTree.fragment:g;let U=null;switch(y){case"merge":U={...this.currentUrlTree.queryParams,...d};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=d||null}return null!==U&&(U=this.removeEmptyProps(U)),Mt(S,this.currentUrlTree,e,U,j??null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=N(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function _0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new c.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?{...m0}:!1===s?{...ny}:s,N(e))return Tp(this.currentUrlTree,e,a);const d=this.parseUrl(e);return Tp(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const d=e[a];return null!=d&&(s[a]=d),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Fl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,d,g){if(this.disposed)return Promise.resolve(!1);let y,I,S;g?(y=g.resolve,I=g.reject,S=g.promise):S=new Promise((J,Ce)=>{y=J,I=Ce});const j=++this.navigationId;let U;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),U=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):U=0,this.setTransition({id:j,targetPageId:U,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:y,reject:I,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(J=>Promise.reject(J))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),d={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s,a){const d=new kh(e.id,this.serializeUrl(e.extractedUrl),s,a);this.triggerEvent(d),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return Yh()},providedIn:"root"}),n})();function Qh(n){return"imperative"!==n}let Ba=(()=>{class n{constructor(e,s,a,d,g){this.router=e,this.route=s,this.tabIndexAttribute=a,this.renderer=d,this.el=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Qr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const s=this.renderer,a=this.el.nativeElement;null!==e?s.setAttribute(a,"tabindex",e):s.removeAttribute(a,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bn),c.Y36(zo),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&c.NdJ("click",function(){return s.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),Jh=(()=>{class n{constructor(e,s,a){this.router=e,this.route=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Qr.x,this.subscription=e.events.subscribe(d=>{d instanceof Fl&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,a,d,g){return!!(0!==e||s||a||d||g||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bn),c.Y36(zo),c.Y36(me))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&c.NdJ("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&c.uIk("target",s.target)("href",s.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class iy{}let C0=(()=>{class n{constructor(e,s,a,d,g){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(Xr(e=>e instanceof Fl),se(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const d of s){d.providers&&!d._injector&&(d._injector=(0,c.MMx)(d.providers,e,`Route: ${d.path}`));const g=d._injector??e,y=d._loadedInjector??g;d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent?a.push(this.preloadConfig(g,d)):(d.children||d._loadedRoutes)&&a.push(this.processRoutes(y,d.children??d._loadedRoutes))}return(0,tn.D)(a).pipe((0,Ys.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):Ye(null);const d=a.pipe((0,w.z)(g=>null===g?Ye(void 0):(s._loadedRoutes=g.routes,s._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(s.loadComponent&&!s._loadedComponent){const g=this.loader.loadComponent(s);return(0,tn.D)([d,g]).pipe((0,Ys.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Bn),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(iy),c.LFG(jl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $a=new c.OlP("");let eo=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Jc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Oa&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new Oa(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function hd(n,t){return{\u0275kind:n,\u0275providers:t}}function ef(n){return[{provide:Ua,multi:!0,useValue:n}]}function ng(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const s=n.get(Bn),a=n.get(w0);1===n.get(tf)&&s.initialNavigation(),n.get(oy,null,c.XFs.Optional)?.setUpPreloading(),n.get($a,null,c.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const w0=new c.OlP("",{factory:()=>new Qr.x}),tf=new c.OlP("",{providedIn:"root",factory:()=>1});const oy=new c.OlP("");function fs(n){return hd(0,[{provide:oy,useExisting:C0},{provide:iy,useExisting:n}])}const ay=new c.OlP("ROUTER_FORROOT_GUARD"),b0=[Re,{provide:Zc,useClass:Bo},{provide:Bn,useFactory:Yh},nd,{provide:zo,useFactory:function E0(n){return n.routerState.root},deps:[Bn]},jl];function T0(){return new c.PXZ("Router",Bn)}let rg=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[b0,[],ef(e),{provide:ay,useFactory:Tt,deps:[[Bn,new c.FiY,new c.tp0]]},{provide:Va,useValue:s||{}},s?.useHash?{provide:me,useClass:$e}:{provide:me,useClass:He},{provide:$a,useFactory:()=>{const n=(0,c.f3M)(Bn),t=(0,c.f3M)(fu),e=(0,c.f3M)(Va);return e.scrollOffset&&t.setOffset(e.scrollOffset),new eo(n,t,e)}},s?.preloadingStrategy?fs(s.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:T0},s?.initialNavigation?ly(s):[],[{provide:ig,useFactory:ng},{provide:c.tb,multi:!0,useExisting:ig}]]}}static forChild(e){return{ngModule:n,providers:[ef(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ay,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$h]}),n})();function Tt(n){return"guarded"}function ly(n){return["disabled"===n.initialNavigation?hd(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(Bn);return()=>{t.setUpLocationChangeListener()}}},{provide:tf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?hd(2,[{provide:tf,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(G,Promise.resolve());let s=!1;return()=>e.then(()=>new Promise(d=>{const g=t.get(Bn),y=t.get(w0);(function a(d){t.get(Bn).events.pipe(Xr(y=>y instanceof Fl||y instanceof kh||y instanceof M_),(0,st.U)(y=>y instanceof Fl||y instanceof kh&&(0===y.code||1===y.code)&&null),Xr(y=>null!==y),an(1)).subscribe(()=>{d()})})(()=>{d(!0),s=!0}),g.afterPreactivation=()=>(d(!0),s||y.closed?Ye(void 0):y),g.initialNavigation()}))}}]).\u0275providers:[]]}const ig=new c.OlP("");var R0=x(4986),nf=x(6451),cy=x(3099);function P0(n,t){return n===t}var N0=x(5032),dn=x(5813),vr=x(2011),sg=(x(5881),x(3942)),Yo=x(4859),Qo=x(5861),ja=x(9681),F=x(2090),og=x(1877);const fy="@firebase/database",ag="0.13.10";let py="";function gy(n){py=n}class Wu{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class x0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const lg=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Wu(t)}}catch{}return new x0},to=lg("localStorage"),ug=lg("sessionStorage"),Hl=new og.Yd("@firebase/database"),my=function(){let n=1;return function(){return n++}}(),_y=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const s=e.digest();return F.US.encodeByteArray(s)},pd=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=pd.apply(null,s):t+="object"==typeof s?(0,F.Wl)(s):s,t+=" "}return t};let Wl=null,yy=!0;const cg=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Hl.logLevel=og.in.VERBOSE,Wl=Hl.log.bind(Hl),t&&ug.set("logging_enabled",!0)):"function"==typeof n?Wl=n:(Wl=null,ug.remove("logging_enabled"))},ur=function(...n){if(!0===yy&&(yy=!1,null===Wl&&!0===ug.get("logging_enabled")&&cg(!0)),Wl){const t=pd.apply(null,n);Wl(t)}},Gu=function(n){return function(...t){ur(n,...t)}},rf=function(...n){const t="FIREBASE INTERNAL ERROR: "+pd(...n);Hl.error(t)},$i=function(...n){const t=`FIREBASE FATAL ERROR: ${pd(...n)}`;throw Hl.error(t),new Error(t)},Fr=function(...n){const t="FIREBASE WARNING: "+pd(...n);Hl.warn(t)},sf=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ti="[MIN_NAME]",ps="[MAX_NAME]",Ha=function(n,t){if(n===t)return 0;if(n===ti||t===ps)return-1;if(t===ti||n===ps)return 1;{const e=Gl(n),s=Gl(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},af=function(n,t){return n===t?0:n<t?-1:1},Lr=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(t))},lf=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,F.Wl)(t[s]),e+=":",e+=lf(n[t[s]]);return e+="}",e},vy=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function Qn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const no=function(n){(0,F.hu)(!sf(n),"Invalid JSON number");const s=1023;let a,d,g,y,I;0===n?(d=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(y=Math.min(Math.floor(Math.log(n)/Math.LN2),s),d=y+s,g=Math.round(n*Math.pow(2,52-y)-Math.pow(2,52))):(d=0,g=Math.round(n/Math.pow(2,-1074))));const S=[];for(I=52;I;I-=1)S.push(g%2?1:0),g=Math.floor(g/2);for(I=11;I;I-=1)S.push(d%2?1:0),d=Math.floor(d/2);S.push(a?1:0),S.reverse();const j=S.join("");let U="";for(I=0;I<64;I+=8){let J=parseInt(j.substr(I,8),2).toString(16);1===J.length&&(J="0"+J),U+=J}return U.toLowerCase()},sb=new RegExp("^-?(0*)\\d{1,10}$"),pg=-2147483648,Ey=2147483647,Gl=function(n){if(sb.test(n)){const t=Number(n);if(t>=pg&&t<=Ey)return t}return null},Jo=function(n){try{n()}catch(t){setTimeout(()=>{throw Fr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},zl=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class mg{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Fr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ob{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ur("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fr(t)}}let gd=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Iy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,by="websocket",df="long_polling";class Ty{constructor(t,e,s,a,d=!1,g="",y=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=g,this.includeNamespaceInQueryParams=y,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=to.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&to.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function F0(n,t,e){let s;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===by)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==df)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ab(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return Qn(e,(d,g)=>{a.push(d+"="+g)}),s+a.join("&")}class lb{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const Ay={},Sy={};function My(n){const t=n.toString();return Ay[t]||(Ay[t]=new lb),Ay[t]}class cb{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&Jo(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class yi{constructor(t,e,s,a,d,g,y){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=d,this.transportSessionId=g,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gu(t),this.stats_=My(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),F0(e,df,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new cb(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new md((...d)=>{const[g,y,I,S,j]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=y,this.password=I;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[g,y]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(g,y)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Iy.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yi.forceAllow_=!0}static forceDisallow(){yi.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!yi.forceAllow_&&(yi.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,F.h$)(e),a=vy(s,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class md{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=my(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=md.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(y){ur("frame writing exception"),y.stack&&ur(y.stack),ur(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ur("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{ur("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let Zl=null;typeof MozWebSocket<"u"?Zl=MozWebSocket:typeof WebSocket<"u"&&(Zl=WebSocket);let ql=(()=>{class n{constructor(e,s,a,d,g,y,I){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gu(this.connId),this.stats_=My(s),this.connURL=n.connectionURL_(s,y,I,d,a),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,d,g){const y={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&Iy.test(location.hostname)&&(y.r="f"),s&&(y.s=s),a&&(y.ls=a),d&&(y.ac=d),g&&(y.p=g),F0(e,by,y)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,to.set("previous_websocket_failure",!0);try{let a;if((0,F.Yr)()){a={headers:{"User-Agent":`Firebase/5/${py}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,y=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;y&&(a.proxy={origin:y})}this.mySock=new Zl(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Zl&&!n.forceDisallow_}static previouslyFailed(){return to.isInMemoryStorage||!0===to.get("previous_websocket_failure")}markConnectionHealthy(){to.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,F.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,F.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=vy(s,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),bg=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[yi,ql]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=ql&&ql.isAvailable();let a=s&&!ql.previouslyFailed();if(e.webSocketOnly&&(s||Fr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[ql];else{const d=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&d.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class ky{constructor(t,e,s,a,d,g,y,I,S,j){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=g,this.onReady_=y,this.onDisconnect_=I,this.onKill_=S,this.lastSessionId=j,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gu("c:"+this.id+":"),this.transportManager_=new bg(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=zl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Lr("t",t),s=Lr("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Lr("t",t),s=Lr("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Lr("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?rf("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rf("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Fr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),zl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(to.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class z0{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class Fy{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!s||s===a[d].context))return void a.splice(d,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Zu extends Fy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Zu}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Yt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Gt(){return new Yt("")}function Nt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function za(n){return n.pieces_.length-n.pieceNum_}function ln(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Yt(n.pieces_,t)}function Og(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qu(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function kg(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Yt(t,0)}function Pn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof Yt)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new Yt(e,0)}function Et(n){return n.pieceNum_>=n.pieces_.length}function Cr(n,t){const e=Nt(n),s=Nt(t);if(null===e)return t;if(e===s)return Cr(ln(n),ln(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function q0(n,t){const e=qu(n,0),s=qu(t,0);for(let a=0;a<e.length&&a<s.length;a++){const d=Ha(e[a],s[a]);if(0!==d)return d}return e.length===s.length?0:e.length<s.length?-1:1}function Fg(n,t){if(za(n)!==za(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function gs(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(za(n)>za(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class Vy{constructor(t,e){this.errorPrefix_=e,this.parts_=qu(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,F.ug)(this.parts_[s]);Uy(this)}}function Uy(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Xo(n))}function Xo(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Lg extends Fy{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Lg}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const _d=1e3;let vd,Za=(()=>{class n extends z0{constructor(e,s,a,d,g,y,I,S){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=y,this.appCheckTokenProvider_=I,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=Gu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_d,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lg.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Zu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const d=++this.requestNumber_,g={r:d,a:e,b:s};this.log_((0,F.Wl)(g)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const s=new F.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:y=>{const I=y.d;"ok"===y.s?s.resolve(I):s.reject(I)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,a,d){this.initConnection_();const g=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+g),this.listens.has(y)||this.listens.set(y,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(y).has(g),"listen() called twice for same path/queryId.");const I={onComplete:d,hashFn:s,query:e,tag:a};this.listens.get(y).set(g,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),d=s._queryIdentifier;this.log_("Listen on "+a+" for "+d);const g={p:a};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,I=>{const S=I.d,j=I.s;n.warnOnListenWarnings_(S,s),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",I),"ok"!==j&&this.removeListen_(a,d),e.onComplete&&e.onComplete(j,S))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();Fr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,d=>{const g=d.s,y=d.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,s)}sendUnlisten_(e,s,a,d){this.log_("Unlisten on "+e+" for "+s);const g={p:e};d&&(g.q=a,g.t=d),this.sendRequest("n",g)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,d){const g={p:s,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,y=>{d&&setTimeout(()=>{d(y.s,y.d)},Math.floor(0))})}put(e,s,a,d){this.putInternal("p",e,s,a,d)}merge(e,s,a,d){this.putInternal("m",e,s,a,d)}putInternal(e,s,a,d,g){this.initConnection_();const y={p:s,d:a};void 0!==g&&(y.h=g),this.outstandingPuts_.push({action:e,request:y,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):rf("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_d),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Qo.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,y=e.lastSessionId;let I=!1,S=null;const j=function(){S?S.close():(I=!0,d())};e.realtime_={close:j,sendRequest:function(Ce){(0,F.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(Ce)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Ce,Ve]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);I?ur("getToken() completed but was canceled"):(ur("getToken() completed. Creating connection."),e.authToken_=Ce&&Ce.accessToken,e.appCheckToken_=Ve&&Ve.token,S=new ky(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,d,ht=>{Fr(ht+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(Ce){e.log_("Failed to get token: "+Ce),I||(e.repoInfo_.nodeAdmin&&Fr(Ce),j())}}})()}interrupt(e){ur("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ur("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(g=>lf(g)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,s){const a=new Yt(e).toString();let d;if(this.listens.has(a)){const g=this.listens.get(a);d=g.get(s),g.delete(s),0===g.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,s){ur("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){ur("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,F.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+py.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zu.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class kt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new kt(t,e)}}class yd{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new kt(ti,t),a=new kt(ti,e);return 0!==this.compare(s,a)}minPost(){return kt.MIN}}class _f extends yd{static get __EMPTY_NODE(){return vd}static set __EMPTY_NODE(t){vd=t}compare(t,e){return Ha(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return kt.MIN}maxPost(){return new kt(ps,vd)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new kt(t,vd)}toString(){return".key"}}const cr=new _f;class Kl{constructor(t,e,s,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(g=e?s(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Bg,ri=(()=>{class n{constructor(e,s,a,d,g){this.key=e,this.value=s,this.color=a??n.RED,this.left=d??ii.EMPTY_NODE,this.right=g??ii.EMPTY_NODE}copy(e,s,a,d,g){return new n(e??this.key,s??this.value,a??this.color,d??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let d=this;const g=a(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,s,a),null):0===g?d.copy(null,s,null,null,null):d.copy(null,null,null,null,d.right.insert(e,s,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return ii.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,d;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return ii.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ii{constructor(t,e=ii.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ii(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ri.BLACK,null,null))}remove(t){return new ii(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ri.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Kl(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Kl(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Kl(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Kl(this.root_,null,this.comparator_,!0,t)}}function Ug(n,t){return Ha(n.name,t.name)}function yf(n,t){return Ha(n,t)}ii.EMPTY_NODE=new class Cd{copy(t,e,s,a,d){return this}insert(t,e,s){return new ri(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ku=function(n){return"number"==typeof n?"number:"+no(n):"string:"+n},By=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===Bg||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===Bg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let X0,ew,$y,Yu=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),By(this.priorityNode_)}static set __childrenNodeConstructor(e){X0=e}static get __childrenNodeConstructor(){return X0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Et(e)?this:".priority"===Nt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=Nt(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===za(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ln(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ku(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?no(this.value_):this.value_,this.lazyHash_=_y(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(s),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(d>=0,"Unknown leaf type: "+s),(0,F.hu)(g>=0,"Unknown leaf type: "+a),d===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const un=new class jy extends yd{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),d=s.compareTo(a);return 0===d?Ha(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return kt.MIN}maxPost(){return new kt(ps,new Yu("[PRIORITY-POST]",$y))}makePost(t,e){const s=ew(t);return new kt(e,new Yu("[PRIORITY-POST]",s))}toString(){return".priority"}},rw=Math.log(2);class $g{constructor(t){this.count=parseInt(Math.log(t+1)/rw,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const vf=function(n,t,e,s){n.sort(t);const a=function(I,S){const j=S-I;let U,J;if(0===j)return null;if(1===j)return U=n[I],J=e?e(U):U,new ri(J,U.node,ri.BLACK,null,null);{const Ce=parseInt(j/2,10)+I,Ve=a(I,Ce),ht=a(Ce+1,S);return U=n[Ce],J=e?e(U):U,new ri(J,U.node,ri.BLACK,Ve,ht)}},y=function(I){let S=null,j=null,U=n.length;const J=function(Ve,ht){const It=U-Ve,Nn=U;U-=Ve;const _n=a(It+1,Nn),$r=n[It],Hn=e?e($r):$r;Ce(new ri(Hn,$r.node,ht,null,_n))},Ce=function(Ve){S?(S.left=Ve,S=Ve):(j=Ve,S=Ve)};for(let Ve=0;Ve<I.count;++Ve){const ht=I.nextBitIsOne(),It=Math.pow(2,I.count-(Ve+1));ht?J(It,ri.BLACK):(J(It,ri.BLACK),J(It,ri.RED))}return j}(new $g(n.length));return new ii(s||t,y)};let jg;const Qu={};class ea{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(Qu&&un,"ChildrenNode.ts has not been loaded"),jg=jg||new ea({".priority":Qu},{".priority":un}),jg}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ii?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==cr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const d=e.getIterator(kt.Wrap);let y,g=d.getNext();for(;g;)a=a||t.isDefinedOn(g.node),s.push(g),g=d.getNext();y=a?vf(s,t.getCompare()):Qu;const I=t.toString(),S=Object.assign({},this.indexSet_);S[I]=t;const j=Object.assign({},this.indexes_);return j[I]=y,new ea(j,S)}addToIndexes(t,e){const s=(0,F.UI)(this.indexes_,(a,d)=>{const g=(0,F.DV)(this.indexSet_,d);if((0,F.hu)(g,"Missing index implementation for "+d),a===Qu){if(g.isDefinedOn(t.node)){const y=[],I=e.getIterator(kt.Wrap);let S=I.getNext();for(;S;)S.name!==t.name&&y.push(S),S=I.getNext();return y.push(t),vf(y,g.getCompare())}return Qu}{const y=e.get(t.name);let I=a;return y&&(I=I.remove(new kt(t.name,y))),I.insert(t,t.node)}});return new ea(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,F.UI)(this.indexes_,a=>{if(a===Qu)return a;{const d=e.get(t.name);return d?a.remove(new kt(t.name,d)):a}});return new ea(s,this.indexSet_)}}let Ed,At=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&By(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ed||(Ed=new n(new ii(yf),null,ea.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ed}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Ed:s}}getChild(e){const s=Nt(e);return null===s?this:this.getImmediateChild(s).getChild(ln(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,F.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new kt(e,s);let d,g;s.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(a,this.children_));const y=d.isEmpty()?Ed:this.priorityNode_;return new n(d,y,g)}}updateChild(e,s){const a=Nt(e);if(null===a)return s;{(0,F.hu)(".priority"!==Nt(e)||1===za(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(ln(e),s);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,d=0,g=!0;if(this.forEachChild(un,(y,I)=>{s[y]=I.val(e),a++,g&&n.INTEGER_REGEXP_.test(y)?d=Math.max(d,Number(y)):g=!1}),!e&&g&&d<2*a){const y=[];for(const I in s)y[I]=s[I];return y}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ku(this.getPriority().val())+":"),this.forEachChild(un,(s,a)=>{const d=a.hash();""!==d&&(e+=":"+s+":"+d)}),this.lazyHash_=""===e?"":_y(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const d=this.resolveIndex_(a);if(d){const g=d.getPredecessorKey(new kt(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new kt(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new kt(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>s(d.name,d.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,kt.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,kt.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ms?-1:0}withIndex(e){if(e===cr||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===cr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(un),d=s.getIterator(un);let g=a.getNext(),y=d.getNext();for(;g&&y;){if(g.name!==y.name||!g.node.equals(y.node))return!1;g=a.getNext(),y=d.getNext()}return null===g&&null===y}return!1}return!1}}resolveIndex_(e){return e===cr?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ms=new class Cf extends At{constructor(){super(new ii(yf),At.EMPTY_NODE,ea.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return At.EMPTY_NODE}isEmpty(){return!1}};function hn(n,t=null){if(null===n)return At.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Yu(n,hn(t));if(n instanceof Array){let e=At.EMPTY_NODE;return Qn(n,(s,a)=>{if((0,F.r3)(n,s)&&"."!==s.substring(0,1)){const d=hn(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(s,d))}}),e.updatePriority(hn(t))}{const e=[];let s=!1;if(Qn(n,(g,y)=>{if("."!==g.substring(0,1)){const I=hn(y);I.isEmpty()||(s=s||!I.getPriority().isEmpty(),e.push(new kt(g,I)))}}),0===e.length)return At.EMPTY_NODE;const d=vf(e,Ug,g=>g.name,yf);if(s){const g=vf(e,un.getCompare());return new At(d,hn(t),new ea({".priority":g},{".priority":un}))}return new At(d,hn(t),ea.Default)}}Object.defineProperties(kt,{MIN:{value:new kt(ti,At.EMPTY_NODE)},MAX:{value:new kt(ps,ms)}}),_f.__EMPTY_NODE=At.EMPTY_NODE,Yu.__childrenNodeConstructor=At,function J0(n){Bg=n}(ms),function nw(n){$y=n}(ms),function tw(n){ew=n}(hn);class Hg extends yd{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Et(t)&&".priority"!==Nt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),d=s.compareTo(a);return 0===d?Ha(t.name,e.name):d}makePost(t,e){const s=hn(t),a=At.EMPTY_NODE.updateChild(this.indexPath_,s);return new kt(e,a)}maxPost(){const t=At.EMPTY_NODE.updateChild(this.indexPath_,ms);return new kt(ps,t)}toString(){return qu(this.indexPath_,0).join("/")}}const wd=new class iw extends yd{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?Ha(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return kt.MIN}maxPost(){return kt.MAX}makePost(t,e){const s=hn(t);return new kt(e,s)}toString(){return".value"}},Ju="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Yl=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=Ju.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let g=d.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=Ju.charAt(t[a]);return(0,F.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),Dd=function(n){if(n===""+Ey)return"-";const t=Gl(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let g=0;g<e.length;g++)e[g]=n.charAt(g);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return ps;const d=Ju.charAt(Ju.indexOf(e[s])+1);return e[s]=d,e.slice(0,s+1).join("")},vi=function(n){if(n===""+pg)return ti;const t=Gl(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+Ey:(delete e[e.length-1],e.join("")):(e[e.length-1]=Ju.charAt(Ju.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Ef(n){return{type:"value",snapshotNode:n}}function _s(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function ro(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function io(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class qa{constructor(t){this.index_=t}updateChild(t,e,s,a,d,g){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(e);return y.getChild(a).equals(s.getChild(a))&&y.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?t.hasChild(e)?g.trackChildChange(ro(e,y)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?g.trackChildChange(_s(e,s)):g.trackChildChange(io(e,s,y))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(un,(a,d)=>{e.hasChild(a)||s.trackChildChange(ro(a,d))}),e.isLeafNode()||e.forEachChild(un,(a,d)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(d)||s.trackChildChange(io(a,d,g))}else s.trackChildChange(_s(a,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?At.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class so{constructor(t){this.indexedFilter_=new qa(t.getIndex()),this.index_=t.getIndex(),this.startPost_=so.getStartPost_(t),this.endPost_=so.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,a,d,g){return this.matches(new kt(e,s))||(s=At.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,d,g)}updateFullNode(t,e,s){e.isLeafNode()&&(e=At.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(At.EMPTY_NODE);const d=this;return e.forEachChild(un,(g,y)=>{d.matches(new kt(g,y))||(a=a.updateImmediateChild(g,At.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class tc{constructor(t){this.rangedFilter_=new so(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,a,d,g){return this.rangedFilter_.matches(new kt(e,s))||(s=At.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,d,g):this.fullLimitUpdateChild_(t,e,s,d,g)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=At.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=At.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;d.hasNext()&&g<this.limit_;){const y=d.getNext();let I;if(I=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),y)<=0:this.index_.compare(y,this.rangedFilter_.getEndPost())<=0,!I)break;a=a.updateImmediateChild(y.name,y.node),g++}}else{let d,g,y,I;if(a=e.withIndex(this.index_),a=a.updatePriority(At.EMPTY_NODE),this.reverse_){I=a.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const U=this.index_.getCompare();y=(J,Ce)=>U(Ce,J)}else I=a.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),y=this.index_.getCompare();let S=0,j=!1;for(;I.hasNext();){const U=I.getNext();!j&&y(d,U)<=0&&(j=!0),j&&S<this.limit_&&y(U,g)<=0?S++:a=a.updateImmediateChild(U.name,At.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,d){let g;if(this.reverse_){const U=this.index_.getCompare();g=(J,Ce)=>U(Ce,J)}else g=this.index_.getCompare();const y=t;(0,F.hu)(y.numChildren()===this.limit_,"");const I=new kt(e,s),S=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),j=this.rangedFilter_.matches(I);if(y.hasChild(e)){const U=y.getImmediateChild(e);let J=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=J&&(J.name===e||y.hasChild(J.name));)J=a.getChildAfterChild(this.index_,J,this.reverse_);const Ce=null==J?1:g(J,I);if(j&&!s.isEmpty()&&Ce>=0)return d?.trackChildChange(io(e,s,U)),y.updateImmediateChild(e,s);{d?.trackChildChange(ro(e,U));const ht=y.updateImmediateChild(e,At.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(d?.trackChildChange(_s(J.name,J.node)),ht.updateImmediateChild(J.name,J.node)):ht}}return s.isEmpty()?t:j&&g(S,I)>=0?(null!=d&&(d.trackChildChange(ro(S.name,S.node)),d.trackChildChange(_s(e,s))),y.updateImmediateChild(e,s).updateImmediateChild(S.name,At.EMPTY_NODE)):t}}class ta{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=un}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ti}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===un}copy(){const t=new ta;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function wf(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Df(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Id(n,t){const e=n.copy();return e.index_=t,e}function Wg(n){const t={};if(n.isDefault())return t;let e;return n.index_===un?e="$priority":n.index_===wd?e="$value":n.index_===cr?e="$key":((0,F.hu)(n.index_ instanceof Hg,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Wl)(e),n.startSet_&&(t.startAt=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Gg(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==un&&(t.i=n.index_.toString()),t}class If extends z0{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=Gu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const g=If.getListenId_(t,s),y={};this.listens_[g]=y;const I=Wg(t._queryParams);this.restRequest_(d+".json",I,(S,j)=>{let U=j;if(404===S&&(U=null,S=null),null===S&&this.onDataUpdate_(d,U,!1,s),(0,F.DV)(this.listens_,g)===y){let J;J=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(J,null)}})}unlisten(t,e){const s=If.getListenId_(t,e);delete this.listens_[s]}get(t){const e=Wg(t._queryParams),s=t._path.toString(),a=new F.BH;return this.restRequest_(s+".json",e,(d,g)=>{let y=g;404===d&&(y=null,d=null),null===d?(this.onDataUpdate_(s,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+g);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(s&&4===y.readyState){this.log_("REST Response for "+g+" received. status:",y.status,"response:",y.responseText);let I=null;if(y.status>=200&&y.status<300){try{I=(0,F.cI)(y.responseText)}catch{Fr("Failed to parse JSON response for "+g+": "+y.responseText)}s(null,I)}else 401!==y.status&&404!==y.status&&Fr("Got unsuccessful REST response for "+g+" Status: "+y.status),s(y.status);s=null}},y.open("GET",g,!0),y.send()})}}class sw{constructor(){this.rootNode_=At.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function bd(){return{value:null,children:new Map}}function rc(n,t,e){if(Et(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Nt(t);n.children.has(s)||n.children.set(s,bd()),rc(n.children.get(s),t=ln(t),e)}}function zg(n,t){if(Et(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(un,(s,a)=>{rc(n,new Yt(s),a)}),zg(n,t)}}if(n.children.size>0){const e=Nt(t);return t=ln(t),n.children.has(e)&&zg(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Td(n,t,e){null!==n.value?e(t,n.value):function Zg(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{Td(a,new Yt(t.toString()+"/"+s),e)})}class ow{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Qn(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class aw{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ow(t);const s=1e4+2e4*Math.random();zl(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;Qn(t,(a,d)=>{d>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=d,s=!0)}),s&&this.server_.reportStats(e),zl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var si=(()=>{return(n=si||(si={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",si;var n})();function Kg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ic{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=si.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Et(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Yt(t));return new ic(Gt(),e,this.revert)}}return(0,F.hu)(Nt(this.path)===t,"operationForChild called for unrelated child."),new ic(ln(this.path),this.affectedTree,this.revert)}}class sc{constructor(t,e){this.source=t,this.path=e,this.type=si.LISTEN_COMPLETE}operationForChild(t){return Et(this.path)?new sc(this.source,Gt()):new sc(this.source,ln(this.path))}}class Ka{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=si.OVERWRITE}operationForChild(t){return Et(this.path)?new Ka(this.source,Gt(),this.snap.getImmediateChild(t)):new Ka(this.source,ln(this.path),this.snap)}}class Ya{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=si.MERGE}operationForChild(t){if(Et(this.path)){const e=this.children.subtree(new Yt(t));return e.isEmpty()?null:e.value?new Ka(this.source,Gt(),e.value):new Ya(this.source,Gt(),e)}return(0,F.hu)(Nt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ya(this.source,ln(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class na{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Et(t))return this.isFullyInitialized()&&!this.filtered_;const e=Nt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class lw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function oc(n,t,e,s,a,d){const g=s.filter(y=>y.type===e);g.sort((y,I)=>function Ky(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const s=new kt(t.childName,t.snapshotNode),a=new kt(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,y,I)),g.forEach(y=>{const I=function qy(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,y,d);a.forEach(S=>{S.respondsTo(y.type)&&t.push(S.createEvent(I,n.query_))})})}function Af(n,t){return{eventCache:n,serverCache:t}}function Md(n,t,e,s){return Af(new na(t,e,s),n.serverCache)}function Yy(n,t,e,s){return Af(n.eventCache,new na(t,e,s))}function Rd(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ra(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Sf;class fn{constructor(t,e=(()=>(Sf||(Sf=new ii(af)),Sf))()){this.value=t,this.children=e}static fromObject(t){let e=new fn(null);return Qn(t,(s,a)=>{e=e.set(new Yt(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Gt(),value:this.value};if(Et(t))return null;{const s=Nt(t),a=this.children.get(s);if(null!==a){const d=a.findRootMostMatchingPathAndValue(ln(t),e);return null!=d?{path:Pn(new Yt(s),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Et(t))return this;{const e=Nt(t),s=this.children.get(e);return null!==s?s.subtree(ln(t)):new fn(null)}}set(t,e){if(Et(t))return new fn(e,this.children);{const s=Nt(t),d=(this.children.get(s)||new fn(null)).set(ln(t),e),g=this.children.insert(s,d);return new fn(this.value,g)}}remove(t){if(Et(t))return this.children.isEmpty()?new fn(null):new fn(null,this.children);{const e=Nt(t),s=this.children.get(e);if(s){const a=s.remove(ln(t));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new fn(null):new fn(this.value,d)}return this}}get(t){if(Et(t))return this.value;{const e=Nt(t),s=this.children.get(e);return s?s.get(ln(t)):null}}setTree(t,e){if(Et(t))return e;{const s=Nt(t),d=(this.children.get(s)||new fn(null)).setTree(ln(t),e);let g;return g=d.isEmpty()?this.children.remove(s):this.children.insert(s,d),new fn(this.value,g)}}fold(t){return this.fold_(Gt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,d)=>{s[a]=d.fold_(Pn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Gt(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(Et(t))return null;{const d=Nt(t),g=this.children.get(d);return g?g.findOnPath_(ln(t),Pn(e,d),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Gt(),e)}foreachOnPath_(t,e,s){if(Et(t))return this;{this.value&&s(e,this.value);const a=Nt(t),d=this.children.get(a);return d?d.foreachOnPath_(ln(t),Pn(e,a),s):new fn(null)}}foreach(t){this.foreach_(Gt(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(Pn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Hi{constructor(t){this.writeTree_=t}static empty(){return new Hi(new fn(null))}}function ac(n,t,e){if(Et(t))return new Hi(new fn(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let d=s.value;const g=Cr(a,t);return d=d.updateChild(g,e),new Hi(n.writeTree_.set(a,d))}{const a=new fn(e),d=n.writeTree_.setTree(t,a);return new Hi(d)}}}function Mf(n,t,e){let s=n;return Qn(e,(a,d)=>{s=ac(s,Pn(t,a),d)}),s}function Yg(n,t){if(Et(t))return Hi.empty();{const e=n.writeTree_.setTree(t,new fn(null));return new Hi(e)}}function Rf(n,t){return null!=lc(n,t)}function lc(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Cr(e.path,t)):null}function Jy(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(un,(s,a)=>{t.push(new kt(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new kt(s,a.value))}),t}function Qa(n,t){if(Et(t))return n;{const e=lc(n,t);return new Hi(null!=e?new fn(e):n.writeTree_.subtree(t))}}function Pf(n){return n.writeTree_.isEmpty()}function uc(n,t){return Jn(Gt(),n.writeTree_,t)}function Jn(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,d)=>{".priority"===a?((0,F.hu)(null!==d.value,"Priority writes must always be leaf nodes"),s=d.value):e=Jn(Pn(n,a),d,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(Pn(n,".priority"),s)),e}}function Pd(n,t){return em(t,n)}function ev(n,t){if(n.snap)return gs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&gs(Pn(n.path,e),t))return!0;return!1}function cc(n){return n.visible}function nv(n,t,e){let s=Hi.empty();for(let a=0;a<n.length;++a){const d=n[a];if(t(d)){const g=d.path;let y;if(d.snap)gs(e,g)?(y=Cr(e,g),s=ac(s,y,d.snap)):gs(g,e)&&(y=Cr(g,e),s=ac(s,Gt(),d.snap.getChild(y)));else{if(!d.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(gs(e,g))y=Cr(e,g),s=Mf(s,y,d.children);else if(gs(g,e))if(y=Cr(g,e),Et(y))s=Mf(s,Gt(),d.children);else{const I=(0,F.DV)(d.children,Nt(y));if(I){const S=I.getChild(ln(y));s=ac(s,Gt(),S)}}}}}return s}function rv(n,t,e,s,a){if(s||a){const d=Qa(n.visibleWrites,t);return!a&&Pf(d)?e:a||null!=e||Rf(d,Gt())?uc(nv(n.allWrites,function(S){return(S.visible||a)&&(!s||!~s.indexOf(S.writeId))&&(gs(S.path,t)||gs(t,S.path))},t),e||At.EMPTY_NODE):null}{const d=lc(n.visibleWrites,t);if(null!=d)return d;{const g=Qa(n.visibleWrites,t);return Pf(g)?e:null!=e||Rf(g,Gt())?uc(g,e||At.EMPTY_NODE):null}}}function Ci(n,t,e,s){return rv(n.writeTree,n.treePath,t,e,s)}function Jg(n,t){return function iv(n,t,e){let s=At.EMPTY_NODE;const a=lc(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(un,(d,g)=>{s=s.updateImmediateChild(d,g)}),s;if(e){const d=Qa(n.visibleWrites,t);return e.forEachChild(un,(g,y)=>{const I=uc(Qa(d,new Yt(g)),y);s=s.updateImmediateChild(g,I)}),Jy(d).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return Jy(Qa(n.visibleWrites,t)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(n.writeTree,n.treePath,t)}function av(n,t,e,s){return function hw(n,t,e,s,a){(0,F.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const d=Pn(t,e);if(Rf(n.visibleWrites,d))return null;{const g=Qa(n.visibleWrites,d);return Pf(g)?a.getChild(e):uc(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function Ei(n,t){return function fb(n,t){return lc(n.visibleWrites,t)}(n.writeTree,Pn(n.treePath,t))}function wi(n,t,e){return function sv(n,t,e,s){const a=Pn(t,e),d=lc(n.visibleWrites,a);return null!=d?d:s.isCompleteForChild(e)?uc(Qa(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Xg(n,t){return em(Pn(n.treePath,t),n.writeTree)}function em(n,t){return{treePath:n,writeTree:t}}class fw{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(s,io(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(s,ro(s,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(s,_s(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,io(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const lv=new class pw{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class tm{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new na(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wi(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ra(this.viewCache_),d=function ys(n,t,e,s,a,d){return function ov(n,t,e,s,a,d,g){let y;const I=Qa(n.visibleWrites,t),S=lc(I,Gt());if(null!=S)y=S;else{if(null==e)return[];y=uc(I,e)}if(y=y.withIndex(g),y.isEmpty()||y.isLeafNode())return[];{const j=[],U=g.getCompare(),J=d?y.getReverseIteratorFrom(s,g):y.getIteratorFrom(s,g);let Ce=J.getNext();for(;Ce&&j.length<a;)0!==U(Ce,s)&&j.push(Ce),Ce=J.getNext();return j}}(n.writeTree,n.treePath,t,e,s,a,d)}(this.writes_,a,e,1,s,t);return 0===d.length?null:d[0]}}function cv(n,t,e,s,a,d){const g=t.eventCache;if(null!=Ei(s,e))return t;{let y,I;if(Et(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=ra(t),U=Jg(s,S instanceof At?S:At.EMPTY_NODE);y=n.filter.updateFullNode(t.eventCache.getNode(),U,d)}else{const S=Ci(s,ra(t));y=n.filter.updateFullNode(t.eventCache.getNode(),S,d)}else{const S=Nt(e);if(".priority"===S){(0,F.hu)(1===za(e),"Can't have a priority with additional path components");const j=g.getNode();I=t.serverCache.getNode();const U=av(s,e,j,I);y=null!=U?n.filter.updatePriority(j,U):g.getNode()}else{const j=ln(e);let U;if(g.isCompleteForChild(S)){I=t.serverCache.getNode();const J=av(s,e,g.getNode(),I);U=null!=J?g.getNode().getImmediateChild(S).updateChild(j,J):g.getNode().getImmediateChild(S)}else U=wi(s,S,t.serverCache);y=null!=U?n.filter.updateChild(g.getNode(),S,U,j,a,d):g.getNode()}}return Md(t,y,g.isFullyInitialized()||Et(e),n.filter.filtersNodes())}}function xd(n,t,e,s,a,d,g,y){const I=t.serverCache;let S;const j=g?n.filter:n.filter.getIndexedFilter();if(Et(e))S=j.updateFullNode(I.getNode(),s,null);else if(j.filtersNodes()&&!I.isFiltered()){const Ce=I.getNode().updateChild(e,s);S=j.updateFullNode(I.getNode(),Ce,null)}else{const Ce=Nt(e);if(!I.isCompleteForPath(e)&&za(e)>1)return t;const Ve=ln(e),It=I.getNode().getImmediateChild(Ce).updateChild(Ve,s);S=".priority"===Ce?j.updatePriority(I.getNode(),It):j.updateChild(I.getNode(),Ce,It,Ve,lv,null)}const U=Yy(t,S,I.isFullyInitialized()||Et(e),j.filtersNodes());return cv(n,U,e,a,new tm(a,U,d),y)}function Nf(n,t,e,s,a,d,g){const y=t.eventCache;let I,S;const j=new tm(a,t,d);if(Et(e))S=n.filter.updateFullNode(t.eventCache.getNode(),s,g),I=Md(t,S,!0,n.filter.filtersNodes());else{const U=Nt(e);if(".priority"===U)S=n.filter.updatePriority(t.eventCache.getNode(),s),I=Md(t,S,y.isFullyInitialized(),y.isFiltered());else{const J=ln(e),Ce=y.getNode().getImmediateChild(U);let Ve;if(Et(J))Ve=s;else{const ht=j.getCompleteChild(U);Ve=null!=ht?".priority"===Og(J)&&ht.getChild(kg(J)).isEmpty()?ht:ht.updateChild(J,s):At.EMPTY_NODE}I=Ce.equals(Ve)?t:Md(t,n.filter.updateChild(y.getNode(),U,Ve,J,j,g),y.isFullyInitialized(),n.filter.filtersNodes())}}return I}function Od(n,t){return n.eventCache.isCompleteForChild(t)}function rm(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function xf(n,t,e,s,a,d,g,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,I=t;S=Et(e)?s:new fn(null).setTree(e,s);const j=t.serverCache.getNode();return S.children.inorderTraversal((U,J)=>{if(j.hasChild(U)){const Ve=rm(0,t.serverCache.getNode().getImmediateChild(U),J);I=xd(n,I,new Yt(U),Ve,a,d,g,y)}}),S.children.inorderTraversal((U,J)=>{const Ce=!t.serverCache.isCompleteForChild(U)&&null===J.value;if(!j.hasChild(U)&&!Ce){const ht=rm(0,t.serverCache.getNode().getImmediateChild(U),J);I=xd(n,I,new Yt(U),ht,a,d,g,y)}}),I}class hv{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new qa(s.getIndex()),d=function nc(n){return n.loadsAllData()?new qa(n.getIndex()):n.hasLimit()?new tc(n):new so(n)}(s);this.processor_=function nm(n){return{filter:n}}(d);const g=e.serverCache,y=e.eventCache,I=a.updateFullNode(At.EMPTY_NODE,g.getNode(),null),S=d.updateFullNode(At.EMPTY_NODE,y.getNode(),null),j=new na(I,g.isFullyInitialized(),a.filtersNodes()),U=new na(S,y.isFullyInitialized(),d.filtersNodes());this.viewCache_=Af(U,j),this.eventGenerator_=new lw(this.query_)}get query(){return this.query_}}function gv(n,t){const e=ra(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Et(t)&&!e.getImmediateChild(Nt(t)).isEmpty())?e.getChild(t):null}function sm(n){return 0===n.eventRegistrations_.length}function om(n,t,e){const s=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(d=>{const g=d.createCancelEvent(e,a);g&&s.push(g)})}if(t){let a=[];for(let d=0;d<n.eventRegistrations_.length;++d){const g=n.eventRegistrations_[d];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(d+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function _v(n,t,e,s){t.type===si.MERGE&&null!==t.source.queryId&&((0,F.hu)(ra(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(Rd(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,d=function gw(n,t,e,s,a){const d=new fw;let g,y;if(e.type===si.OVERWRITE){const S=e;S.source.fromUser?g=Nf(n,t,S.path,S.snap,s,a,d):((0,F.hu)(S.source.fromServer,"Unknown source."),y=S.source.tagged||t.serverCache.isFiltered()&&!Et(S.path),g=xd(n,t,S.path,S.snap,s,a,y,d))}else if(e.type===si.MERGE){const S=e;S.source.fromUser?g=function mw(n,t,e,s,a,d,g){let y=t;return s.foreach((I,S)=>{const j=Pn(e,I);Od(t,Nt(j))&&(y=Nf(n,y,j,S,a,d,g))}),s.foreach((I,S)=>{const j=Pn(e,I);Od(t,Nt(j))||(y=Nf(n,y,j,S,a,d,g))}),y}(n,t,S.path,S.children,s,a,d):((0,F.hu)(S.source.fromServer,"Unknown source."),y=S.source.tagged||t.serverCache.isFiltered(),g=xf(n,t,S.path,S.children,s,a,y,d))}else if(e.type===si.ACK_USER_WRITE){const S=e;g=S.revert?function dv(n,t,e,s,a,d){let g;if(null!=Ei(s,e))return t;{const y=new tm(s,t,a),I=t.eventCache.getNode();let S;if(Et(e)||".priority"===Nt(e)){let j;if(t.serverCache.isFullyInitialized())j=Ci(s,ra(t));else{const U=t.serverCache.getNode();(0,F.hu)(U instanceof At,"serverChildren would be complete if leaf node"),j=Jg(s,U)}S=n.filter.updateFullNode(I,j,d)}else{const j=Nt(e);let U=wi(s,j,t.serverCache);null==U&&t.serverCache.isCompleteForChild(j)&&(U=I.getImmediateChild(j)),S=null!=U?n.filter.updateChild(I,j,U,ln(e),y,d):t.eventCache.getNode().hasChild(j)?n.filter.updateChild(I,j,At.EMPTY_NODE,ln(e),y,d):I,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=Ci(s,ra(t)),g.isLeafNode()&&(S=n.filter.updateFullNode(S,g,d)))}return g=t.serverCache.isFullyInitialized()||null!=Ei(s,Gt()),Md(t,S,g,n.filter.filtersNodes())}}(n,t,S.path,s,a,d):function im(n,t,e,s,a,d,g){if(null!=Ei(a,e))return t;const y=t.serverCache.isFiltered(),I=t.serverCache;if(null!=s.value){if(Et(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return xd(n,t,e,I.getNode().getChild(e),a,d,y,g);if(Et(e)){let S=new fn(null);return I.getNode().forEachChild(cr,(j,U)=>{S=S.set(new Yt(j),U)}),xf(n,t,e,S,a,d,y,g)}return t}{let S=new fn(null);return s.foreach((j,U)=>{const J=Pn(e,j);I.isCompleteForPath(J)&&(S=S.set(j,I.getNode().getChild(J)))}),xf(n,t,e,S,a,d,y,g)}}(n,t,S.path,S.affectedTree,s,a,d)}else{if(e.type!==si.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);g=function Of(n,t,e,s,a){const d=t.serverCache;return cv(n,Yy(t,d.getNode(),d.isFullyInitialized()||Et(e),d.isFiltered()),e,s,lv,a)}(n,t,e.path,s,d)}const I=d.getChanges();return function uv(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),d=Rd(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(d)||!s.getNode().getPriority().equals(d.getPriority()))&&e.push(Ef(Rd(t)))}}(t,g,I),{viewCache:g,changes:I}}(n.processor_,a,t,e,s);return function Nd(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,F.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,yv(n,d.changes,d.viewCache.eventCache.getNode(),null)}function yv(n,t,e,s){return function Zy(n,t,e,s){const a=[],d=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&d.push(function ec(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),oc(n,a,"child_removed",t,s,e),oc(n,a,"child_added",t,s,e),oc(n,a,"child_moved",d,s,e),oc(n,a,"child_changed",t,s,e),oc(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let kf,kd;class vv{constructor(){this.views=new Map}}function am(n,t,e,s){const a=t.source.queryId;if(null!==a){const d=n.views.get(a);return(0,F.hu)(null!=d,"SyncTree gave us an op for an invalid query."),_v(d,t,e,s)}{let d=[];for(const g of n.views.values())d=d.concat(_v(g,t,e,s));return d}}function Cv(n,t,e,s,a){const g=n.views.get(t._queryIdentifier);if(!g){let y=Ci(e,a?s:null),I=!1;y?I=!0:s instanceof At?(y=Jg(e,s),I=!1):(y=At.EMPTY_NODE,I=!1);const S=Af(new na(y,I,!1),new na(s,a,!1));return new hv(t,S)}return g}function Ev(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Ja(n,t){let e=null;for(const s of n.views.values())e=e||gv(s,t);return e}function wv(n,t){return t._queryParams.loadsAllData()?Ff(n):n.views.get(t._queryIdentifier)}function Dv(n,t){return null!=wv(n,t)}function Xa(n){return null!=Ff(n)}function Ff(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Tv=1;class lm{constructor(t){this.listenProvider_=t,this.syncPointTree_=new fn(null),this.pendingWriteTree_=function Qg(){return{visibleWrites:Hi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Lf(n,t,e,s,a){return function uw(n,t,e,s,a){(0,F.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=ac(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?Jl(n,new Ka({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ia(n,t,e=!1){const s=function Xy(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function dw(n,t){const e=n.allWrites.findIndex(y=>y.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,d=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const y=n.allWrites[g];y.visible&&(g>=e&&ev(y,s.path)?a=!1:gs(s.path,y.path)&&(d=!0)),g--}return!!a&&(d?(function tv(n){n.visibleWrites=nv(n.allWrites,cc,Gt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=Yg(n.visibleWrites,s.path):Qn(s.children,I=>{n.visibleWrites=Yg(n.visibleWrites,Pn(s.path,I))}),!0))}(n.pendingWriteTree_,t)){let d=new fn(null);return null!=s.snap?d=d.set(Gt(),!0):Qn(s.children,g=>{d=d.set(new Yt(g),!0)}),Jl(n,new ic(s.path,d,e))}return[]}function dc(n,t,e){return Jl(n,new Ka({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Vf(n,t,e,s,a=!1){const d=t._path,g=n.syncPointTree_.get(d);let y=[];if(g&&("default"===t._queryIdentifier||Dv(g,t))){const I=function ww(n,t,e,s){const a=t._queryIdentifier,d=[];let g=[];const y=Xa(n);if("default"===a)for(const[I,S]of n.views.entries())g=g.concat(om(S,e,s)),sm(S)&&(n.views.delete(I),S.query._queryParams.loadsAllData()||d.push(S.query));else{const I=n.views.get(a);I&&(g=g.concat(om(I,e,s)),sm(I)&&(n.views.delete(a),I.query._queryParams.loadsAllData()||d.push(I.query)))}return y&&!Xa(n)&&d.push(new(function vw(){return(0,F.hu)(kf,"Reference.ts has not been loaded"),kf}())(t._repo,t._path)),{removed:d,events:g}}(g,t,e,s);(function Cw(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const S=I.removed;if(y=I.events,!a){const j=-1!==S.findIndex(J=>J._queryParams.loadsAllData()),U=n.syncPointTree_.findOnPath(d,(J,Ce)=>Xa(Ce));if(j&&!U){const J=n.syncPointTree_.subtree(d);if(!J.isEmpty()){const Ce=function Bf(n){return n.fold((t,e,s)=>{if(e&&Xa(e))return[Ff(e)];{let a=[];return e&&(a=Ev(e)),Qn(s,(d,g)=>{a=a.concat(g)}),a}})}(J);for(let Ve=0;Ve<Ce.length;++Ve){const ht=Ce[Ve],It=ht.query,Nn=ct(n,ht);n.listenProvider_.startListening(tl(It),Fd(n,It),Nn.hashFn,Nn.onComplete)}}}!U&&S.length>0&&!s&&(j?n.listenProvider_.stopListening(tl(t),null):S.forEach(J=>{const Ce=n.queryToTagMap.get(Uf(J));n.listenProvider_.stopListening(tl(J),Ce)}))}!function $n(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=Uf(s),d=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(d)}}}(n,S)}return y}function Rv(n,t,e,s){const a=cm(n,s);if(null!=a){const d=el(a),g=d.path,y=d.queryId,I=Cr(g,t);return dm(n,g,new Ka(Kg(y),I,e))}return[]}function Pv(n,t,e,s=!1){const a=t._path;let d=null,g=!1;n.syncPointTree_.foreachOnPath(a,(J,Ce)=>{const Ve=Cr(J,a);d=d||Ja(Ce,Ve),g=g||Xa(Ce)});let I,y=n.syncPointTree_.get(a);y?(g=g||Xa(y),d=d||Ja(y,Gt())):(y=new vv,n.syncPointTree_=n.syncPointTree_.set(a,y)),null!=d?I=!0:(I=!1,d=At.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((Ce,Ve)=>{const ht=Ja(Ve,Gt());ht&&(d=d.updateImmediateChild(Ce,ht))}));const S=Dv(y,t);if(!S&&!t._queryParams.loadsAllData()){const J=Uf(t);(0,F.hu)(!n.queryToTagMap.has(J),"View does not exist, but we have a tag");const Ce=function gb(){return Tv++}();n.queryToTagMap.set(J,Ce),n.tagToQueryMap.set(Ce,J)}let U=function Ew(n,t,e,s,a,d){const g=Cv(n,t,s,a,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function mv(n,t){n.eventRegistrations_.push(t)}(g,e),function _w(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(un,(d,g)=>{s.push(_s(d,g))}),e.isFullyInitialized()&&s.push(Ef(e.getNode())),yv(n,s,e.getNode(),t)}(g,e)}(y,t,e,Pd(n.pendingWriteTree_,a),d,I);if(!S&&!g&&!s){const J=wv(y,t);U=U.concat(function Nv(n,t,e){const s=t._path,a=Fd(n,t),d=ct(n,e),g=n.listenProvider_.startListening(tl(t),a,d.hashFn,d.onComplete),y=n.syncPointTree_.subtree(s);if(a)(0,F.hu)(!Xa(y.value),"If we're adding a query, it shouldn't be shadowed");else{const I=y.fold((S,j,U)=>{if(!Et(S)&&j&&Xa(j))return[Ff(j).query];{let J=[];return j&&(J=J.concat(Ev(j).map(Ce=>Ce.query))),Qn(U,(Ce,Ve)=>{J=J.concat(Ve)}),J}});for(let S=0;S<I.length;++S){const j=I[S];n.listenProvider_.stopListening(tl(j),Fd(n,j))}}return g}(n,t,J))}return U}function fc(n,t,e){const a=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(g,y)=>{const S=Ja(y,Cr(g,t));if(S)return S});return rv(a,t,d,e,!0)}function Jl(n,t){return um(t,n.syncPointTree_,null,Pd(n.pendingWriteTree_,Gt()))}function um(n,t,e,s){if(Et(n.path))return Dw(n,t,e,s);{const a=t.get(Gt());null==e&&null!=a&&(e=Ja(a,Gt()));let d=[];const g=Nt(n.path),y=n.operationForChild(g),I=t.children.get(g);if(I&&y){const S=e?e.getImmediateChild(g):null,j=Xg(s,g);d=d.concat(um(y,I,S,j))}return a&&(d=d.concat(am(a,n,s,e))),d}}function Dw(n,t,e,s){const a=t.get(Gt());null==e&&null!=a&&(e=Ja(a,Gt()));let d=[];return t.children.inorderTraversal((g,y)=>{const I=e?e.getImmediateChild(g):null,S=Xg(s,g),j=n.operationForChild(g);j&&(d=d.concat(Dw(j,y,I,S)))}),a&&(d=d.concat(am(a,n,s,e))),d}function ct(n,t){const e=t.query,s=Fd(n,e);return{hashFn:()=>(function fv(n){return n.viewCache_.serverCache.getNode()}(t)||At.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function Ql(n,t,e){const s=cm(n,e);if(s){const a=el(s),d=a.path,g=a.queryId,y=Cr(d,t);return dm(n,d,new sc(Kg(g),y))}return[]}(n,e._path,s):function Mv(n,t){return Jl(n,new sc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function fg(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return Vf(n,e,null,d)}}}}function Fd(n,t){const e=Uf(t);return n.queryToTagMap.get(e)}function Uf(n){return n._path.toString()+"$"+n._queryIdentifier}function cm(n,t){return n.tagToQueryMap.get(t)}function el(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Yt(n.substr(0,t))}}function dm(n,t,e){const s=n.syncPointTree_.get(t);return(0,F.hu)(s,"Missing sync point for query tag that we're tracking"),am(s,e,Pd(n.pendingWriteTree_,t),null)}function tl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function bv(){return(0,F.hu)(kd,"Reference.ts has not been loaded"),kd}())(n._repo,n._path):n}class $f{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new $f(e)}node(){return this.node_}}class hm{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Pn(this.path_,t);return new hm(this.syncTree_,e)}node(){return fc(this.syncTree_,this.path_)}}const fm=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Ov(n[".sv"],t,e):"object"==typeof n[".sv"]?kv(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Ov=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},kv=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,F.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,F.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const g=a.getValue();return"number"!=typeof g?s:g+s},Fv=function(n,t,e,s){return gm(t,new hm(e,n),s)},pm=function(n,t,e){return gm(n,new $f(t),e)};function gm(n,t,e){const s=n.getPriority().val(),a=fm(s,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const g=n,y=fm(g.getValue(),t,e);return y!==g.getValue()||a!==g.getPriority().val()?new Yu(y,hn(a)):n}{const g=n;return d=g,a!==g.getPriority().val()&&(d=d.updatePriority(new Yu(a))),g.forEachChild(un,(y,I)=>{const S=gm(I,t.getImmediateChild(y),e);S!==I&&(d=d.updateImmediateChild(y,S))}),d}}class Xl{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function jf(n,t){let e=t instanceof Yt?t:new Yt(t),s=n,a=Nt(e);for(;null!==a;){const d=(0,F.DV)(s.node.children,a)||{children:{},childCount:0};s=new Xl(a,s,d),e=ln(e),a=Nt(e)}return s}function eu(n){return n.node.value}function mm(n,t){n.node.value=t,tu(n)}function Ld(n){return n.node.childCount>0}function Vd(n,t){Qn(n.node.children,(e,s)=>{t(new Xl(e,n,s))})}function _m(n,t,e,s){e&&!s&&t(n),Vd(n,a=>{_m(a,t,!0,s)}),e&&s&&t(n)}function sa(n){return new Yt(null===n.parent?n.name:sa(n.parent)+"/"+n.name)}function tu(n){null!==n.parent&&function bw(n,t,e){const s=function Lv(n){return void 0===eu(n)&&!Ld(n)}(e),a=(0,F.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,tu(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,tu(n))}(n.parent,n.name,n)}const Tw=/[\[\].#$\/\u0000-\u001F\u007F]/,Aw=/[\[\].#$\u0000-\u001F\u007F]/,Hf=10485760,Ud=function(n){return"string"==typeof n&&0!==n.length&&!Tw.test(n)},ym=function(n){return"string"==typeof n&&0!==n.length&&!Aw.test(n)},pc=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!sf(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},oo=function(n,t,e,s){s&&void 0===t||Bd((0,F.gK)(n,"value"),t,e)},Bd=function(n,t,e){const s=e instanceof Yt?new Vy(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Xo(s));if("function"==typeof t)throw new Error(n+"contains a function "+Xo(s)+" with contents = "+t.toString());if(sf(t))throw new Error(n+"contains "+t.toString()+" "+Xo(s));if("string"==typeof t&&t.length>Hf/3&&(0,F.ug)(t)>Hf)throw new Error(n+"contains a string greater than "+Hf+" utf8 bytes "+Xo(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,d=!1;if(Qn(t,(g,y)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(d=!0,!Ud(g)))throw new Error(n+" contains an invalid key ("+g+") "+Xo(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function K0(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),Uy(n)})(s,g),Bd(n,y,s),function Y0(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&d)throw new Error(n+' contains ".value" child '+Xo(s)+" in addition to actual children.")}},Mw=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const d=[];Qn(t,(g,y)=>{const I=new Yt(g);if(Bd(a,y,Pn(e,I)),".priority"===Og(I)&&!pc(y))throw new Error(a+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(I)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const d=qu(s);for(let g=0;g<d.length;g++)if((".priority"!==d[g]||g!==d.length-1)&&!Ud(d[g]))throw new Error(n+"contains an invalid key ("+d[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(q0);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&gs(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,d)},Vv=function(n,t,e){if(!e||void 0!==t){if(sf(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pc(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wf=function(n,t,e,s){if(!(s&&void 0===e||Ud(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gc=function(n,t,e,s){if(!(s&&void 0===e||ym(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Wi=function(n,t){if(".info"===Nt(t))throw new Error(n+" failed = Can't modify data under /.info/")},Uv=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ud(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ym(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Bv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nl(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],d=a.getPath();null!==e&&!Fg(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&n.eventLists_.push(e)}function $v(n,t,e){nl(n,e),jv(n,s=>Fg(s,t))}function Di(n,t,e){nl(n,e),jv(n,s=>gs(s,t)||gs(t,s))}function jv(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(Rw(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Rw(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();Wl&&ur("event: "+e.toString()),Jo(s)}}}const Hv="repo_interrupt";class Pw{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bd(),this.transactionQueueTree_=new Xl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mc(n){const e=n.infoData_.getNode(new Yt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function $d(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:mc(n)})}function vm(n,t,e,s,a){n.dataUpdateCount++;const d=new Yt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(s){const I=(0,F.UI)(e,S=>hn(S));g=function hc(n,t,e,s){const a=cm(n,s);if(a){const d=el(a),g=d.path,y=d.queryId,I=Cr(g,t),S=fn.fromObject(e);return dm(n,g,new Ya(Kg(y),I,S))}return[]}(n.serverSyncTree_,d,I,a)}else{const I=hn(e);g=Rv(n.serverSyncTree_,d,I,a)}else if(s){const I=(0,F.UI)(e,S=>hn(S));g=function Sv(n,t,e){const s=fn.fromObject(e);return Jl(n,new Ya({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,d,I)}else{const I=hn(e);g=dc(n.serverSyncTree_,d,I)}let y=d;g.length>0&&(y=yc(n,d)),Di(n.eventQueue_,y,g)}function Gv(n,t){Cm(n,"connected",t),!1===t&&function Zv(n){_c(n,"onDisconnectEvents");const t=$d(n),e=bd();Td(n.onDisconnect_,Gt(),(a,d)=>{const g=Fv(a,d,n.serverSyncTree_,t);rc(e,a,g)});let s=[];Td(e,Gt(),(a,d)=>{s=s.concat(dc(n.serverSyncTree_,a,d));const g=Tm(n,a);yc(n,g)}),n.onDisconnect_=bd(),Di(n.eventQueue_,Gt(),s)}(n)}function Cm(n,t,e){const s=new Yt("/.info/"+t),a=hn(e);n.infoData_.updateSnapshot(s,a);const d=dc(n.infoSyncTree_,s,a);Di(n.eventQueue_,s,d)}function jd(n){return n.nextWriteId_++}function Hd(n,t,e,s,a){_c(n,"set",{path:t.toString(),value:e,priority:s});const d=$d(n),g=hn(e,s),y=fc(n.serverSyncTree_,t),I=pm(g,y,d),S=jd(n),j=Lf(n.serverSyncTree_,t,I,S,!0);nl(n.eventQueue_,j),n.server_.put(t.toString(),g.val(!0),(J,Ce)=>{const Ve="ok"===J;Ve||Fr("set at "+t+" failed: "+J);const ht=ia(n.serverSyncTree_,S,!Ve);Di(n.eventQueue_,t,ht),rl(0,a,J,Ce)});const U=Tm(n,t);yc(n,U),Di(n.eventQueue_,U,[])}function qv(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&zg(n.onDisconnect_,t),rl(0,e,s,a)})}function Kv(n,t,e,s){const a=hn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,g)=>{"ok"===d&&rc(n.onDisconnect_,t,a),rl(0,s,d,g)})}function wm(n,t,e){let s;s=".info"===Nt(t._path)?Vf(n.infoSyncTree_,t,e):Vf(n.serverSyncTree_,t,e),$v(n.eventQueue_,t._path,s)}function Dm(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Hv)}function _c(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ur(e,...t)}function rl(n,t,e,s){t&&Jo(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let d=a;s&&(d+=": "+s);const g=new Error(d);g.code=a,t(g)}})}function Im(n,t,e){return fc(n.serverSyncTree_,t,e)||At.EMPTY_NODE}function zf(n,t=n.transactionQueueTree_){if(t||Wd(n,t),eu(t)){const e=Qv(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function Uw(n,t,e){const s=e.map(S=>S.currentWriteId),a=Im(n,t,s);let d=a;const g=a.hash();for(let S=0;S<e.length;S++){const j=e[S];(0,F.hu)(0===j.status,"tryToSendTransactionQueue_: items in queue should all be run."),j.status=1,j.retryCount++;const U=Cr(t,j.path);d=d.updateChild(U,j.currentOutputSnapshotRaw)}const y=d.val(!0),I=t;n.server_.put(I.toString(),y,S=>{_c(n,"transaction put response",{path:I.toString(),status:S});let j=[];if("ok"===S){const U=[];for(let J=0;J<e.length;J++)e[J].status=2,j=j.concat(ia(n.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&U.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();Wd(n,jf(n.transactionQueueTree_,t)),zf(n,n.transactionQueueTree_),Di(n.eventQueue_,t,j);for(let J=0;J<U.length;J++)Jo(U[J])}else{if("datastale"===S)for(let U=0;U<e.length;U++)e[U].status=3===e[U].status?4:0;else{Fr("transaction at "+I.toString()+" failed: "+S);for(let U=0;U<e.length;U++)e[U].status=4,e[U].abortReason=S}yc(n,t)}},g)}(n,sa(t),e)}else Ld(t)&&Vd(t,e=>{zf(n,e)})}function yc(n,t){const e=bm(n,t),s=sa(e);return function Yv(n,t,e){if(0===t.length)return;const s=[];let a=[];const g=t.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const I=t[y],S=Cr(e,I.path);let U,j=!1;if((0,F.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)j=!0,U=I.abortReason,a=a.concat(ia(n.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)j=!0,U="maxretry",a=a.concat(ia(n.serverSyncTree_,I.currentWriteId,!0));else{const J=Im(n,I.path,g);I.currentInputSnapshot=J;const Ce=t[y].update(J.val());if(void 0!==Ce){Bd("transaction failed: Data returned ",Ce,I.path);let Ve=hn(Ce);"object"==typeof Ce&&null!=Ce&&(0,F.r3)(Ce,".priority")||(Ve=Ve.updatePriority(J.getPriority()));const It=I.currentWriteId,Nn=$d(n),_n=pm(Ve,J,Nn);I.currentOutputSnapshotRaw=Ve,I.currentOutputSnapshotResolved=_n,I.currentWriteId=jd(n),g.splice(g.indexOf(It),1),a=a.concat(Lf(n.serverSyncTree_,I.path,_n,I.currentWriteId,I.applyLocally)),a=a.concat(ia(n.serverSyncTree_,It,!0))}else j=!0,U="nodata",a=a.concat(ia(n.serverSyncTree_,I.currentWriteId,!0))}Di(n.eventQueue_,e,a),a=[],j&&(t[y].status=2,setTimeout(t[y].unwatcher,Math.floor(0)),t[y].onComplete&&s.push("nodata"===U?()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot):()=>t[y].onComplete(new Error(U),!1,null)))}Wd(n,n.transactionQueueTree_);for(let y=0;y<s.length;y++)Jo(s[y]);zf(n,n.transactionQueueTree_)}(n,Qv(n,e),s),s}function bm(n,t){let e,s=n.transactionQueueTree_;for(e=Nt(t);null!==e&&void 0===eu(s);)s=jf(s,e),e=Nt(t=ln(t));return s}function Qv(n,t){const e=[];return Jv(n,t,e),e.sort((s,a)=>s.order-a.order),e}function Jv(n,t,e){const s=eu(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);Vd(t,a=>{Jv(n,a,e)})}function Wd(n,t){const e=eu(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,mm(t,e.length>0?e:void 0)}Vd(t,s=>{Wd(n,s)})}function Tm(n,t){const e=sa(bm(n,t)),s=jf(n.transactionQueueTree_,t);return function Iw(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{Am(n,a)}),Am(n,s),_m(s,a=>{Am(n,a)}),e}function Am(n,t){const e=eu(t);if(e){const s=[];let a=[],d=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,F.hu)(d===g-1,"All SENT items should be at beginning of queue."),d=g,e[g].status=3,e[g].abortReason="set"):((0,F.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(ia(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===d?mm(t,void 0):e.length=d+1,Di(n.eventQueue_,sa(t),a);for(let g=0;g<s.length;g++)Jo(s[g])}}const Gd=function(n,t){const e=Xv(n),s=e.namespace;return"firebase.com"===e.domain&&$i(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&$i("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Fr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ty(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new Yt(e.pathString)}},Xv=function(n){let t="",e="",s="",a="",d="",g=!0,y="https",I=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(y=n.substring(0,S-1),n=n.substring(S+2));let j=n.indexOf("/");-1===j&&(j=n.length);let U=n.indexOf("?");-1===U&&(U=n.length),t=n.substring(0,Math.min(j,U)),j<U&&(a=function Bw(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(j,U)));const J=function Sm(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Fr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,U)));S=t.indexOf(":"),S>=0?(g="https"===y||"wss"===y,I=parseInt(t.substring(S+1),10)):S=t.length;const Ce=t.slice(0,S);if("localhost"===Ce.toLowerCase())e="localhost";else if(Ce.split(".").length<=2)e=Ce;else{const Ve=t.indexOf(".");s=t.substring(0,Ve).toLowerCase(),e=t.substring(Ve+1),d=s}"ns"in J&&(d=J.ns)}return{host:t,port:I,domain:e,subdomain:s,secure:g,scheme:y,pathString:a,namespace:d}};class Zf{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class eC{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Mm{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class qf{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return qv(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Wi("OnDisconnect.remove",this._path);const t=new F.BH;return Kv(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Wi("OnDisconnect.set",this._path),oo("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return Kv(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Wi("OnDisconnect.setWithPriority",this._path),oo("OnDisconnect.setWithPriority",t,this._path,!1),Vv("OnDisconnect.setWithPriority",e,!1);const s=new F.BH;return function kw(n,t,e,s,a){const d=hn(e,s);n.server_.onDisconnectPut(t.toString(),d.val(!0),(g,y)=>{"ok"===g&&rc(n.onDisconnect_,t,d),rl(0,a,g,y)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){Wi("OnDisconnect.update",this._path),Mw("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function Fw(n,t,e,s){if((0,F.xb)(e))return ur("onDisconnect().update() called with empty data.  Don't do anything."),void rl(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,d)=>{"ok"===a&&Qn(e,(g,y)=>{const I=hn(y);rc(n.onDisconnect_,Pn(t,g),I)}),rl(0,s,a,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class oi{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return Et(this._path)?null:Og(this._path)}get ref(){return new Gi(this._repo,this._path)}get _queryIdentifier(){const t=Gg(this._queryParams),e=lf(t);return"{}"===e?"default":e}get _queryObject(){return Gg(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof oi))return!1;const e=this._repo===t._repo,s=Fg(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Z0(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function zd(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ii(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===cr){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ti)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==ps)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===un){if(null!=t&&!pc(t)||null!=e&&!pc(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof Hg||n.getIndex()===wd,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Zd(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Gi extends oi{constructor(t,e){super(t,e,new ta,!1)}get parent(){const t=kg(this._path);return null===t?null:new Gi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class vc{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Yt(t),s=nu(this.ref,t);return new vc(this._node.getChild(e),s,un)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new vc(a,nu(this.ref,s),un)))}hasChild(t){const e=new Yt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rm(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?nu(n._root,t):n._root}function Kf(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=Gd(t,n._repo.repoInfo_.nodeAdmin);Uv("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&$i("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),Rm(n,e.path.toString())}function nu(n,t){return null===Nt((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gc("child","path",e,!1)):gc("child","path",t,!1),new Gi(n._repo,Pn(n._path,t));var e}function qd(n,t){n=(0,F.m9)(n),Wi("set",n._path),oo("set",t,n._path,!1);const e=new F.BH;return Hd(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function sC(n,t){Mw("update",t,n._path,!1);const e=new F.BH;return function Ow(n,t,e,s){_c(n,"update",{path:t.toString(),value:e});let a=!0;const d=$d(n),g={};if(Qn(e,(y,I)=>{a=!1,g[y]=Fv(Pn(t,y),hn(I),n.serverSyncTree_,d)}),a)ur("update() called with empty data.  Don't do anything."),rl(0,s,"ok",void 0);else{const y=jd(n),I=function Av(n,t,e,s){!function cw(n,t,e,s){(0,F.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=Mf(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=fn.fromObject(e);return Jl(n,new Ya({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,y);nl(n.eventQueue_,I),n.server_.merge(t.toString(),e,(S,j)=>{const U="ok"===S;U||Fr("update at "+t+" failed: "+S);const J=ia(n.serverSyncTree_,y,!U),Ce=J.length>0?yc(n,t):t;Di(n.eventQueue_,Ce,J),rl(0,s,S,j)}),Qn(e,S=>{const j=Tm(n,Pn(t,S));yc(n,j)}),Di(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function oC(n){n=(0,F.m9)(n);const t=new Mm(()=>{}),e=new Kd(t);return function xw(n,t,e){const s=function pb(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(S,j)=>{const U=Cr(S,e);s=s||Ja(j,U)});let a=n.syncPointTree_.get(e);a?s=s||Ja(a,Gt()):(a=new vv,n.syncPointTree_=n.syncPointTree_.set(e,a));const d=null!=s,g=d?new na(s,!0,!1):null;return function pv(n){return Rd(n.viewCache_)}(Cv(a,t,Pd(n.pendingWriteTree_,t._path),d?g.getNode():At.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=s?Promise.resolve(s):n.server_.get(t).then(a=>{const d=hn(a).withIndex(t._queryParams.getIndex());let g;if(Pv(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())g=dc(n.serverSyncTree_,t._path,d);else{const y=Fd(n.serverSyncTree_,t);g=Rv(n.serverSyncTree_,t._path,d,y)}return Di(n.eventQueue_,t._path,g),Vf(n.serverSyncTree_,t,e,null,!0),d},a=>(_c(n,"get for query "+(0,F.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(s=>new vc(s,new Gi(n._repo,n._path),n._queryParams.getIndex()))}class Kd{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new Zf("value",this,new vc(t.snapshotNode,new Gi(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new eC(this,t,e):null}matches(t){return t instanceof Kd&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Yf{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new eC(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const s=nu(new Gi(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new Zf(t.type,this,new vc(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Yf&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Yd(n,t,e,s,a){let d;if("object"==typeof s&&(d=void 0,a=s),"function"==typeof s&&(d=s),a&&a.onlyOnce){const I=e,S=(j,U)=>{wm(n._repo,n,y),I(j,U)};S.userCallback=e.userCallback,S.context=e.context,e=S}const g=new Mm(e,d||void 0),y="value"===t?new Kd(g):new Yf(t,g);return function Em(n,t,e){let s;s=".info"===Nt(t._path)?Pv(n.infoSyncTree_,t,e):Pv(n.serverSyncTree_,t,e),$v(n.eventQueue_,t._path,s)}(n._repo,n,y),()=>wm(n._repo,n,y)}function Pm(n,t,e,s){return Yd(n,"value",t,e,s)}function Nm(n,t,e,s){return Yd(n,"child_added",t,e,s)}function jw(n,t,e,s){return Yd(n,"child_changed",t,e,s)}function xm(n,t,e,s){return Yd(n,"child_moved",t,e,s)}function aC(n,t,e,s){return Yd(n,"child_removed",t,e,s)}function lC(n,t,e){let s=null;const a=e?new Mm(e):null;"value"===t?s=new Kd(a):t&&(s=new Yf(t,a)),wm(n._repo,n,s)}class ao{}class Hw extends ao{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oo("endAt",this._value,t._path,!0);const e=Df(t._queryParams,this._value,this._key);if(Zd(e),Ii(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oi(t._repo,t._path,e,t._orderByCalled)}}class Gw extends ao{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oo("endBefore",this._value,t._path,!1);const e=function zy(n,t,e){let s,a;return n.index_===cr?("string"==typeof t&&(t=vi(t)),a=Df(n,t,e)):(s=null==e?ti:vi(e),a=Df(n,t,s)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(Zd(e),Ii(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oi(t._repo,t._path,e,t._orderByCalled)}}class uC extends ao{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oo("startAt",this._value,t._path,!0);const e=wf(t._queryParams,this._value,this._key);if(Zd(e),Ii(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new oi(t._repo,t._path,e,t._orderByCalled)}}class qw extends ao{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oo("startAfter",this._value,t._path,!1);const e=function Gy(n,t,e){let s;if(n.index_===cr)"string"==typeof t&&(t=Dd(t)),s=wf(n,t,e);else{let a;a=null==e?ps:Dd(e),s=wf(n,t,a)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(Zd(e),Ii(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new oi(t._repo,t._path,e,t._orderByCalled)}}class Yw extends ao{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new oi(t._repo,t._path,function Hy(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Jw extends ao{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new oi(t._repo,t._path,function Wy(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class eD extends ao{constructor(t){super(),this._path=t}_apply(t){zd(t,"orderByChild");const e=new Yt(this._path);if(Et(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Hg(e),a=Id(t._queryParams,s);return Ii(a),new oi(t._repo,t._path,a,!0)}}class cC extends ao{_apply(t){zd(t,"orderByKey");const e=Id(t._queryParams,cr);return Ii(e),new oi(t._repo,t._path,e,!0)}}class hC extends ao{_apply(t){zd(t,"orderByPriority");const e=Id(t._queryParams,un);return Ii(e),new oi(t._repo,t._path,e,!0)}}class pC extends ao{_apply(t){zd(t,"orderByValue");const e=Id(t._queryParams,wd);return Ii(e),new oi(t._repo,t._path,e,!0)}}class nD extends ao{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(oo("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Hw(this._value,this._key)._apply(new uC(this._value,this._key)._apply(t))}}function vs(n,...t){let e=(0,F.m9)(n);for(const s of t)e=s._apply(e);return e}(function yw(n){(0,F.hu)(!kf,"__referenceConstructor has already been defined"),kf=n})(Gi),function Iv(n){(0,F.hu)(!kd,"__referenceConstructor has already been defined"),kd=n}(Gi);const Om={};function Cc(n,t,e,s,a){let d=s||n.options.databaseURL;void 0===d&&(n.options.projectId||$i("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ur("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let I,S,g=Gd(d,a),y=g.repoInfo;typeof process<"u"&&process.env&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(I=!0,d=`http://${S}?ns=${y.namespace}`,g=Gd(d,a),y=g.repoInfo):I=!g.repoInfo.secure;const j=a&&I?new gd(gd.OWNER):new ob(n.name,n.options,t);Uv("Invalid Firebase Database URL",g),Et(g.path)||$i("Database URL must point to the root of a Firebase Database (not including a child path).");const U=function km(n,t,e,s){let a=Om[t.name];a||(a={},Om[t.name]=a);let d=a[n.toURLString()];return d&&$i("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new Pw(n,false,e,s),a[n.toURLString()]=d,d}(y,n,j,new mg(n.name,e));return new oD(U,n)}class oD{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Nw(n,t,e){if(n.stats_=My(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new If(n.repoInfo_,(s,a,d,g)=>{vm(n,s,a,d,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Gv(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Za(n.repoInfo_,t,(s,a,d,g)=>{vm(n,s,a,d,g)},s=>{Gv(n,s)},s=>{!function zv(n,t){Qn(t,(e,s)=>{Cm(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function ub(n,t){const e=n.toString();return Sy[e]||(Sy[e]=t()),Sy[e]}(n.repoInfo_,()=>new aw(n.stats_,n.server_)),n.infoData_=new sw,n.infoSyncTree_=new lm({startListening:(s,a,d,g)=>{let y=[];const I=n.infoData_.getNode(s._path);return I.isEmpty()||(y=dc(n.infoSyncTree_,s._path,I),setTimeout(()=>{g("ok")},0)),y},stopListening:()=>{}}),Cm(n,"connected",!1),n.serverSyncTree_=new lm({startListening:(s,a,d,g)=>(n.server_.listen(s,d,a,(y,I)=>{const S=g(y,I);Di(n.eventQueue_,s._path,S)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gi(this._repo,Gt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function sD(n,t){const e=Om[t];(!e||e[n.key]!==n)&&$i(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Dm(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&$i("Cannot call "+t+" on a deleted database.")}}function Qf(){bg.IS_TRANSPORT_INITIALIZED&&Fr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Jd(){Qf(),yi.forceDisallow()}function aD(){Qf(),ql.forceDisallow(),yi.forceAllow()}function lD(n=(0,ja.getApp)(),t){const e=(0,ja._getProvider)(n,"database").getImmediate({identifier:t}),s=(0,F.P0)("database");return s&&mC(e,...s),e}function mC(n,t,e,s={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&$i("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let d;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&$i('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new gd(gd.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,F.Sg)(s.mockUserToken,n.app.options.projectId);d=new gd(g)}!function iD(n,t,e,s){n.repoInfo_=new Ty(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,d)}function uD(n,t){cg(n,t)}const _C={".sv":"timestamp"};class vC{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Za.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Za.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function cD(n){gy(ja.SDK_VERSION),(0,ja._registerComponent)(new Yo.wA("database",(t,{instanceIdentifier:e})=>Cc(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ja.registerVersion)(fy,ag,n),(0,ja.registerVersion)(fy,ag,"esm2017")}();const CC=new og.Yd("@firebase/database-compat"),ep=function(n){CC.warn("FIREBASE WARNING: "+n)};class fD{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),d=>s(d)),a}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,ep("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class pD{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class il{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),gc("DataSnapshot.child","path",t,!1),new il(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),gc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new il(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Vr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class dr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var d;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const g=dr.getCancelAndContextArgs_("Query.on",s,a),y=(S,j)=>{e.call(g.context,new il(this.database,S),j)};y.userCallback=e,y.context=g.context;const I=null===(d=g.cancel)||void 0===d?void 0:d.bind(g.context);switch(t){case"value":return Pm(this._delegate,y,I),e;case"child_added":return Nm(this._delegate,y,I),e;case"child_removed":return aC(this._delegate,y,I),e;case"child_changed":return jw(this._delegate,y,I),e;case"child_moved":return xm(this._delegate,y,I),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,lC(this._delegate,t,a)}else lC(this._delegate,t)}get(){return oC(this._delegate).then(t=>new il(this.database,t))}once(t,e,s,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const d=dr.getCancelAndContextArgs_("Query.once",s,a),g=new F.BH,y=(S,j)=>{const U=new il(this.database,S);e&&e.call(d.context,U,j),g.resolve(U)};y.userCallback=e,y.context=d.context;const I=S=>{d.cancel&&d.cancel.call(d.context,S),g.reject(S)};switch(t){case"value":Pm(this._delegate,y,I,{onlyOnce:!0});break;case"child_added":Nm(this._delegate,y,I,{onlyOnce:!0});break;case"child_removed":aC(this._delegate,y,I,{onlyOnce:!0});break;case"child_changed":jw(this._delegate,y,I,{onlyOnce:!0});break;case"child_moved":xm(this._delegate,y,I,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new dr(this.database,vs(this._delegate,function Qw(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Yw(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new dr(this.database,vs(this._delegate,function Xw(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Jw(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new dr(this.database,vs(this._delegate,function Qd(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gc("orderByChild","path",n,!1),new eD(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new dr(this.database,vs(this._delegate,function dC(){return new cC}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new dr(this.database,vs(this._delegate,function fC(){return new hC}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new dr(this.database,vs(this._delegate,function tD(){return new pC}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new dr(this.database,vs(this._delegate,function Zw(n=null,t){return Wf("startAt","key",t,!0),new uC(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new dr(this.database,vs(this._delegate,function Kw(n,t){return Wf("startAfter","key",t,!0),new qw(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new dr(this.database,vs(this._delegate,function Ww(n,t){return Wf("endAt","key",t,!0),new Hw(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new dr(this.database,vs(this._delegate,function zw(n,t){return Wf("endBefore","key",t,!0),new Gw(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new dr(this.database,vs(this._delegate,function _b(n,t){return Wf("equalTo","key",t,!0),new nD(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof dr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,F.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,F.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Vr(this.database,new Gi(this._delegate._repo,this._delegate._path))}}class Vr extends dr{constructor(t,e){super(t,new oi(e._repo,e._path,new ta,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Vr(this.database,nu(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Vr(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Vr(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const s=qd(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,ep("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wi("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const s=sC(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function iC(n,t,e){if(Wi("setWithPriority",n._path),oo("setWithPriority",t,n._path,!1),Vv("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new F.BH;return Hd(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),d=>s(d)),a}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function nC(n){return Wi("remove",n._path),qd(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function dD(n,t,e){var s;if(n=(0,F.m9)(n),Wi("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=e?.applyLocally)||void 0===s||s,d=new F.BH,y=Pm(n,()=>{});return function Vw(n,t,e,s,a,d){_c(n,"transaction on "+t);const g={path:t,update:e,onComplete:s,status:null,order:my(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=Im(n,t,void 0);g.currentInputSnapshot=y;const I=g.update(y.val());if(void 0===I)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{Bd("transaction failed: Data returned ",I,g.path),g.status=0;const S=jf(n.transactionQueueTree_,t),j=eu(S)||[];let U;j.push(g),mm(S,j),"object"==typeof I&&null!==I&&(0,F.r3)(I,".priority")?(U=(0,F.DV)(I,".priority"),(0,F.hu)(pc(U),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):U=(fc(n.serverSyncTree_,t)||At.EMPTY_NODE).getPriority().val();const J=$d(n),Ce=hn(I,U),Ve=pm(Ce,y,J);g.currentOutputSnapshotRaw=Ce,g.currentOutputSnapshotResolved=Ve,g.currentWriteId=jd(n);const ht=Lf(n.serverSyncTree_,t,Ve,g.currentWriteId,g.applyLocally);Di(n.eventQueue_,t,ht),zf(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(I,S,j)=>{let U=null;I?d.reject(I):(U=new vc(j,new Gi(n._repo,n._path),un),d.resolve(new vC(S,U)))},y,a),d.promise}(this._delegate,t,{applyLocally:s}).then(d=>new pD(d.committed,new il(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const s=function rC(n,t){n=(0,F.m9)(n),Wi("setPriority",n._path),Vv("setPriority",t,!1);const e=new F.BH;return Hd(n._repo,Pn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const s=function $w(n,t){n=(0,F.m9)(n),Wi("push",n._path),oo("push",t,n._path,!0);const e=mc(n._repo),s=Yl(e),a=nu(n,s),d=nu(n,s);let g;return g=null!=t?qd(d,t).then(()=>d):Promise.resolve(d),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=s.then(g=>new Vr(this.database,g));e&&a.then(()=>e(null),g=>e(g));const d=new Vr(this.database,s);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return Wi("Reference.onDisconnect",this._delegate._path),new fD(new qf(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ec{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Jd,forceLongPolling:aD}}useEmulator(t,e,s={}){mC(this._delegate,t,e,s)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof Vr){const e=Kf(this._delegate,t.toString());return new Vr(this,e)}{const e=Rm(this._delegate,t);return new Vr(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const s=Kf(this._delegate,t);return new Vr(this,s)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function Jf(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),Dm(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function Xf(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function Lw(n){n.persistentConnection_&&n.persistentConnection_.resume(Hv)}(n._repo)}(this._delegate)}}Ec.ServerValue={TIMESTAMP:function yC(){return _C}(),increment:n=>function Fm(n){return{".sv":{increment:n}}}(n)};var EC=Object.freeze({__proto__:null,initStandalone:function gD({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:d=!1}){gy(e);const g=new Yo.zt("auth-internal",new Yo.H0("database-standalone"));return g.setComponent(new Yo.wA("auth-internal",()=>s,"PRIVATE")),{instance:new Ec(Cc(n,g,void 0,t,d),n),namespace:a}}});const wC=Ec.ServerValue;!function mD(n){n.INTERNAL.registerComponent(new Yo.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Ec(a,s)},"PUBLIC").setServiceProps({Reference:Vr,Query:dr,Database:Ec,DataSnapshot:il,enableLogging:uD,INTERNAL:EC,ServerValue:wC}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(sg.Z);var Xd=x(5363),DC=x(6063);class _D extends Qr.x{constructor(t=1/0,e=1/0,s=DC.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:g}=this;e||(s.push(t),!a&&s.push(d.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,d=a.slice();for(let g=0;g<d.length&&!t.closed;g+=s?1:2)t.next(d[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,d=(a?1:2)*t;if(t<1/0&&d<s.length&&s.splice(0,s.length-d),!a){const g=e.now();let y=0;for(let I=1;I<s.length&&s[I]<=g;I+=2)y=I;y&&s.splice(0,y+1)}}}function Bm(n,t,e){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):s=n??1/0,(0,cy.B)({connector:()=>new _D(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function IC(n,t){return(0,Fi.m)(t)?Mn(()=>n,t):Mn(()=>n)}var wr=x(9468),bi=x(5867);class wc{constructor(t){return t}}class $m{constructor(){return(0,bi.C6)()}}const tp=new c.OlP("angularfire2._apps"),bC={provide:wc,useFactory:function vb(n){return n&&1===n.length?n[0]:new wc((0,bi.Mq)())},deps:[[new c.FiY,tp]]},eh={provide:$m,deps:[[new c.FiY,tp]]};function yD(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new wc(s)}}let jm=(()=>{class n{constructor(e){(0,bi.KN)("angularfire",dn.q4.full,"core"),(0,bi.KN)("angularfire",dn.q4.full,"app"),(0,bi.KN)("angular",c.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[bC,eh]}),n})();function vD(n,...t){return{ngModule:jm,providers:[{provide:tp,useFactory:yD(n),multi:!0,deps:[c.R0b,c.zs3,dn.HU,...t]}]}}const ED=(0,dn.u3)(bi.ZF,!0),Dc=new Map,np={activated:!1,tokenObservers:[]},wb={initialized:!1,enabled:!1};function hr(n){return Dc.get(n)||Object.assign({},np)}function th(){return wb}class Db{constructor(t,e,s,a,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Qo.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function SD(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ur=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wm(n){if(!hr(n).activated)throw Ur.create("use-before-activation",{appName:n.name})}function rp(n,t){return zm.apply(this,arguments)}function zm(){return(zm=(0,Qo.Z)(function*({url:n,body:t},e){var s,a;const d={"Content-Type":"application/json"},g=e.getImmediate({optional:!0});if(g){const Ce=yield g.getHeartbeatsHeader();Ce&&(d["X-Firebase-Client"]=Ce)}const y={method:"POST",body:JSON.stringify(t),headers:d};let I,S;try{I=yield fetch(n,y)}catch(Ce){throw Ur.create("fetch-network-error",{originalErrorMessage:null===(s=Ce)||void 0===s?void 0:s.message})}if(200!==I.status)throw Ur.create("fetch-status-error",{httpStatus:I.status});try{S=yield I.json()}catch(Ce){throw Ur.create("fetch-parse-error",{originalErrorMessage:null===(a=Ce)||void 0===a?void 0:a.message})}const j=S.ttl.match(/^([\d.]+)(s)$/);if(!j||!j[2]||isNaN(Number(j[1])))throw Ur.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${S.ttl}`});const U=1e3*Number(j[1]),J=Date.now();return{token:S.token,expireTimeMillis:J+U,issuedAtTimeMillis:J}})).apply(this,arguments)}function PD(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Ic="firebase-app-check-store";let ip=null;function PC(){return ip||(ip=new Promise((n,t)=>{var e;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{n(a.target.result)},s.onerror=a=>{var d;t(Ur.create("storage-open",{originalErrorMessage:null===(d=a.target.error)||void 0===d?void 0:d.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Ic,{keyPath:"compositeKey"})}}catch(s){t(Ur.create("storage-open",{originalErrorMessage:null===(e=s)||void 0===e?void 0:e.message}))}}),ip)}function xC(){return(xC=(0,Qo.Z)(function*(n,t){const s=(yield PC()).transaction(Ic,"readwrite"),d=s.objectStore(Ic).put({compositeKey:n,value:t});return new Promise((g,y)=>{d.onsuccess=I=>{g()},s.onerror=I=>{var S;y(Ur.create("storage-set",{originalErrorMessage:null===(S=I.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const sp=new og.Yd("@firebase/app-check");function ap(n,t){return(0,F.hl)()?function NC(n,t){return function ND(n,t){return xC.apply(this,arguments)}(function OD(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{sp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function qm(){return th().enabled}function kD(){return ih.apply(this,arguments)}function ih(){return(ih=(0,Qo.Z)(function*(){const n=th();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const FD={error:"UNKNOWN_ERROR"};function LC(n){return F.US.encodeString(JSON.stringify(n),!1)}function Km(n){return VC.apply(this,arguments)}function VC(){return(VC=(0,Qo.Z)(function*(n,t=!1){const e=n.app;Wm(e);const s=hr(e);let d,a=s.token;if(a&&!oh(a)&&(s.token=void 0,a=void 0),!a){const I=yield s.cachedTokenPromise;I&&(oh(I)?a=I:yield ap(e,void 0))}if(!t&&a&&oh(a))return{token:a.token};let y,g=!1;if(qm()){s.exchangeTokenPromise||(s.exchangeTokenPromise=rp(PD(e,yield kD()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),g=!0);const I=yield s.exchangeTokenPromise;return yield ap(e,I),s.token=I,{token:I.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),g=!0),a=yield hr(e).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?sp.warn(I.message):sp.error(I),d=I}return a?d?y=oh(a)?{token:a.token,internalError:d}:UD(d):(y={token:a.token},s.token=a,yield ap(e,a)):y=UD(d),g&&VD(e,y),y})).apply(this,arguments)}function Qm(n,t){const e=hr(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function sh(n){const{app:t}=n,e=hr(t);let s=e.tokenRefresher;s||(s=function LD(n){const{app:t}=n;return new Db((0,Qo.Z)(function*(){let s;if(s=hr(t).token?yield Km(n,!0):yield Km(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=hr(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function VD(n,t){const e=hr(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch{}}function oh(n){return n.expireTimeMillis-Date.now()>0}function UD(n){return{token:LC(FD),error:n}}class BD{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=hr(this.app);for(const e of t)Qm(this.app,e.next);return Promise.resolve()}}const n_="app-check-internal";!function r_(){(0,ja._registerComponent)(new Yo.wA("app-check",n=>function $D(n,t){return new BD(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(n_).initialize()})),(0,ja._registerComponent)(new Yo.wA(n_,n=>function jD(n){return{getToken:t=>Km(n,t),addTokenListener:t=>function Ym(n,t,e,s){const{app:a}=n,d=hr(a);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:s,type:t}],d.token&&oh(d.token)){const y=d.token;Promise.resolve().then(()=>{e({token:y.token}),sh(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>sh(n))}(n,"INTERNAL",t),removeTokenListener:t=>Qm(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ja.registerVersion)("@firebase/app-check","0.5.17")}();class fp{constructor(){return(0,dn.vb)("app-check")}}typeof window<"u"&&window;var co=x(127);const ah=new c.OlP("angularfire2.auth.use-emulator"),o_=new c.OlP("angularfire2.auth.settings"),qC=new c.OlP("angularfire2.auth.tenant-id"),a_=new c.OlP("angularfire2.auth.langugage-code"),l_=new c.OlP("angularfire2.auth.use-device-language"),KC=new c.OlP("angularfire.auth.persistence"),YC=(n,t,e,s,a,d,g,y)=>(0,vr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=t.runOutsideAngular(()=>n.auth());if(e&&I.useEmulator(...e),s&&(I.tenantId=s),I.languageCode=a,d&&I.useDeviceLanguage(),g)for(const[S,j]of Object.entries(g))I.settings[S]=j;return y&&I.setPersistence(y),I},[e,s,a,d,g,y]);let tI=(()=>{class n{constructor(e,s,a,d,g,y,I,S,j,U,J,Ce){const Ve=new Qr.x,ht=Ye(void 0).pipe((0,Xd.Q)(g.outsideAngular),Mn(()=>d.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,st.U)(()=>(0,vr.on)(e,d,s)),(0,st.U)(It=>YC(It,d,y,S,j,U,I,J)),Bm({bufferSize:1,refCount:!1}));if(function yo(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{ht.pipe(q()).subscribe();const Nn=ht.pipe(Mn(Hn=>Hn.getRedirectResult().then(ho=>ho,()=>null)),dn.iC,Bm({bufferSize:1,refCount:!1})),_n=ht.pipe(Mn(Hn=>new nr.y(ho=>({unsubscribe:d.runOutsideAngular(()=>Hn.onAuthStateChanged(dh=>ho.next(dh),dh=>ho.error(dh),()=>ho.complete()))})))),$r=ht.pipe(Mn(Hn=>new nr.y(ho=>({unsubscribe:d.runOutsideAngular(()=>Hn.onIdTokenChanged(dh=>ho.next(dh),dh=>ho.error(dh),()=>ho.complete()))}))));this.authState=Nn.pipe(IC(_n),(0,wr.R)(g.outsideAngular),(0,Xd.Q)(g.insideAngular)),this.user=Nn.pipe(IC($r),(0,wr.R)(g.outsideAngular),(0,Xd.Q)(g.insideAngular)),this.idToken=this.user.pipe(Mn(Hn=>Hn?(0,tn.D)(Hn.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe(Mn(Hn=>Hn?(0,tn.D)(Hn.getIdTokenResult()):Ye(null))),this.credential=(0,nf.T)(Nn,Ve,this.authState.pipe(Xr(Hn=>!Hn))).pipe((0,st.U)(Hn=>Hn?.user?Hn:null),(0,wr.R)(g.outsideAngular),(0,Xd.Q)(g.insideAngular))}return(0,vr.pX)(this,ht,d,{spy:{apply:(It,Nn,_n)=>{(It.startsWith("signIn")||It.startsWith("createUser"))&&_n.then($r=>Ve.next($r))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(vr.Dh),c.LFG(vr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(dn.HU),c.LFG(ah,8),c.LFG(o_,8),c.LFG(qC,8),c.LFG(a_,8),c.LFG(l_,8),c.LFG(KC,8),c.LFG(fp,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function JC(n){return null==n}function XC(n){return"function"==typeof n.set}function rI(n,t){return XC(t)?t:n.ref(t)}function iI(n,t){if(function QC(n){return"string"==typeof n}(n))return t.stringCase();if(XC(n))return t.firebaseCase();if(function nI(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function gp(n,t,e="on",s=R0.z){return new nr.y(a=>{let d=null;return d=n[e](t,(g,y)=>{s.schedule(()=>{a.next({snapshot:g,prevKey:y})}),"once"===e&&s.schedule(()=>a.complete())},g=>{s.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,st.U)(a=>{const{snapshot:d,prevKey:g}=a;let y=null;return d.exists()&&(y=d.key),{type:t,payload:d,prevKey:g,key:y}}),(0,cy.B)())}function sI(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function mp(n,t){const{payload:e,prevKey:s,key:a}=t,d=sI(n,a),g=function oI(n,t){if(JC(t))return 0;{const e=sI(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(I=>{const S={payload:I,type:"value",prevKey:y,key:I.key};return y=I.key,n=[...n,S],!1})}return n;case"child_added":if(d>-1){const y=n[d-1];(y&&y.key||null)!==s&&(n=n.filter(I=>I.payload.key!==e.key)).splice(g,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(y=>y.payload.key!==e.key);case"child_changed":return n.map(y=>y.payload.key===a?t:y);case"child_moved":if(d>-1){const y=n.splice(d,1)[0];return(n=n.slice()).splice(g,0,y),n}return n;default:return n}}function eE(n){return(JC(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function tE(n,t,e){return function kb(n,t,e){return gp(n,"value","once",e).pipe(Mn(s=>{const a=[Ye(s)];return t.forEach(d=>a.push(gp(n,d,"on",e))),(0,nf.T)(...a).pipe(mt(mp,[]))}),function dy(n,t=Oi.y){return n=n??P0,(0,on.e)((e,s)=>{let a,d=!0;e.subscribe((0,Sn.x)(s,g=>{const y=t(g);(d||!n(a,y))&&(d=!1,a=y,s.next(g))}))})}())}(n,t=eE(t),e)}function u_(n,t,e){const s=(t=eE(t)).map(a=>gp(n,a,"on",e));return(0,nf.T)(...s)}function _p(n,t){return function(s,a){return iI(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function aI(n){return function(e){return e?iI(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function yp(n,t){return function(){return gp(n,"value","on",t)}}const Fb=new c.OlP("angularfire2.realtimeDatabaseURL"),Lb=new c.OlP("angularfire2.database.use-emulator");let bc=(()=>{class n{constructor(e,s,a,d,g,y,I,S,j,U,J,Ce,Ve,ht,It){this.schedulers=y;const Nn=I,_n=(0,vr.on)(e,g,s);S&&YC(_n,g,j,J,Ce,Ve,U,ht),this.database=(0,vr.cc)(`${_n.name}.database.${a}`,"AngularFireDatabase",_n.name,()=>{const $r=g.runOutsideAngular(()=>_n.database(a||void 0));return Nn&&$r.useEmulator(...Nn),$r},[Nn])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>rI(this.database,e));let d=a;return s&&(d=s(a)),function d_(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:_p(s,"update"),set:_p(s,"set"),push:a=>s.push(a),remove:aI(s),snapshotChanges:a=>tE(n,a,e).pipe(dn.iC),stateChanges:a=>u_(n,a,e).pipe(dn.iC),auditTrail:a=>function ru(n,t,e){return function c_(n,t,e){return function nE(n,t){return gp(n,"value","on",t).pipe((0,st.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function nb(...n){const t=(0,Yr.jO)(n);return(0,on.e)((e,s)=>{const a=n.length,d=new Array(a);let g=n.map(()=>!1),y=!1;for(let I=0;I<a;I++)(0,ki.Xf)(n[I]).subscribe((0,Sn.x)(s,S=>{d[I]=S,!y&&!g[I]&&(g[I]=!0,(y=g.every(Oi.y))&&(g=null))},N0.Z));e.subscribe((0,Sn.x)(s,I=>{if(y){const S=[I,...d];s.next(t?t(...S):S)}}))})}(t),(0,st.U)(([a,d])=>{const g=a.lastKeyToLoad,y=d.map(I=>I.key);return{actions:d,lastKeyToLoad:g,loadedKeys:y}}),function hy(n){return(0,on.e)((t,e)=>{let s=!1,a=0;t.subscribe((0,Sn.x)(e,d=>(s||(s=!n(d,a++)))&&e.next(d)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,st.U)(a=>a.actions))}(n,u_(n,t).pipe(mt((a,d)=>[...a,d],[])),e)}(n,a,e).pipe(dn.iC),valueChanges:(a,d)=>tE(n,a,e).pipe((0,st.U)(y=>y.map(I=>d&&d.idField?Object.assign(Object.assign({},I.payload.val()),{[d.idField]:I.key}):I.payload.val())),dn.iC)}}(d,this)}object(e){return function vp(n,t){return{query:n,snapshotChanges:()=>yp(n,t.schedulers.outsideAngular)().pipe(dn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>yp(n,t.schedulers.outsideAngular)().pipe(dn.iC,(0,st.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>rI(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(vr.Dh),c.LFG(vr.xv,8),c.LFG(Fb,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(dn.HU),c.LFG(Lb,8),c.LFG(tI,8),c.LFG(ah,8),c.LFG(o_,8),c.LFG(qC,8),c.LFG(a_,8),c.LFG(l_,8),c.LFG(KC,8),c.LFG(fp,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Vb=(()=>{class n{constructor(){co.Z.registerVersion("angularfire",dn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[bc]}),n})();const lh_firebase={projectId:"the-project-be0ce",appId:"1:717332156551:web:ff7cb9d83dda008fcd2822",storageBucket:"the-project-be0ce.appspot.com",apiKey:"AIzaSyDWM-gY_VAzJiNuBV1pIoR-QKxyKf3CnNc",authDomain:"the-project-be0ce.firebaseapp.com",messagingSenderId:"717332156551"};let Cp=(()=>{class n{constructor(){this.fireApp2=co.Z.initializeApp(lh_firebase,"tempApp")}CreateNewUser(e,s){return new Promise((a,d)=>{this.fireApp2.auth().createUserWithEmailAndPassword(e,s).then(()=>{a(!0)},g=>{d(g)})})}SignInUser(e,s){return new Promise((a,d)=>{co.Z.auth().signInWithEmailAndPassword(e,s).then(()=>{a(!0),console.log("resolve")},g=>{d(g),console.log("reject")})})}SignOutUser(){co.Z.auth().signOut()}IsConnected(){return new Promise((e,s)=>{co.Z.auth().onAuthStateChanged(a=>{a?e(!0):s("offline")})})}Auth(){return co.Z.auth()}CurrentUserEmail(){return co.Z.auth().currentUser?.email}CurrentUserUid(){return co.Z.auth().currentUser?.uid}ResetPassword(e){return new Promise((s,a)=>{co.Z.auth().sendPasswordResetEmail(e).then(()=>{s(!0)},d=>{a(d)})})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lI{constructor(t,e){this.userUid=t,this.value=e}}let rE=(()=>{class n{constructor(e){this.db=e,this.DaysOffList=e.list("daysOff")}getDaysOff(){return this.db.list("daysOff").snapshotChanges()}addUser(e,s){this.DaysOffList.push(new lI(e,s))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(bc))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h_=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),al=(()=>{class n extends h_{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(n)))(s||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Es=new c.OlP("NgValueAccessor"),sE={provide:Es,useExisting:(0,c.Gpc)(()=>ll),multi:!0},Ub=new c.OlP("CompositionEventMode");let ll=(()=>{class n extends h_{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function f_(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ub,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&c.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[c._Bn([sE]),c.qOj]}),n})();function ul(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function oE(n){return null!=n&&"number"==typeof n.length}const Br=new c.OlP("NgValidators"),iu=new c.OlP("NgAsyncValidators"),dI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jn{static min(t){return function aE(n){return t=>{if(ul(t.value)||ul(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return hI(t)}static required(t){return function fI(n){return ul(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function pI(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function gI(n){return ul(n.value)||dI.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function mI(n){return t=>ul(t.value)||!oE(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function lE(n){return t=>oE(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function _I(n){if(!n)return g_;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),s=>{if(ul(s.value))return null;const a=s.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(t)}static nullValidator(t){return null}static compose(t){return o(t)}static composeAsync(t){return u(t)}}function hI(n){return t=>{if(ul(t.value)||ul(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function g_(n){return null}function yI(n){return null!=n}function vI(n){return(0,c.QGY)(n)?(0,tn.D)(n):n}function CI(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function EI(n,t){return t.map(e=>e(n))}function i(n){return n.map(t=>function r(n){return!n.validate}(t)?t:e=>t.validate(e))}function o(n){if(!n)return null;const t=n.filter(yI);return 0==t.length?null:function(e){return CI(EI(e,t))}}function l(n){return null!=n?o(i(n)):null}function u(n){if(!n)return null;const t=n.filter(yI);return 0==t.length?null:function(e){return function uI(...n){const t=(0,Yr.jO)(n),{args:e,keys:s}=xi(n),a=new nr.y(d=>{const{length:g}=e;if(!g)return void d.complete();const y=new Array(g);let I=g,S=g;for(let j=0;j<g;j++){let U=!1;(0,ki.Xf)(e[j]).subscribe((0,Sn.x)(d,J=>{U||(U=!0,S--),y[j]=J},()=>I--,void 0,()=>{(!I||!U)&&(S||d.next(s?Lo(s,y):y),d.complete())}))}});return t?a.pipe(wa(t)):a}(EI(e,t).map(vI)).pipe((0,st.U)(CI))}}function h(n){return null!=n?u(i(n)):null}function m(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function v(n){return n._rawValidators}function E(n){return n._rawAsyncValidators}function b(n){return n?Array.isArray(n)?n:[n]:[]}function M(n,t){return Array.isArray(n)?n.includes(t):n===t}function O(n,t){const e=b(t);return b(n).forEach(a=>{M(e,a)||e.push(a)}),e}function z(n,t){return b(t).filter(e=>!M(n,e))}class te{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=l(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=h(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class fe extends te{get formDirective(){return null}get path(){return null}}class Oe extends te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Be{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Te=(()=>{class n extends Be{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Oe,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&c.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[c.qOj]}),n})(),ft=(()=>{class n extends Be{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fe,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&c.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[c.qOj]}),n})();const __="VALID",mE="INVALID",Ep="PENDING",y_="DISABLED";function DI(n){return(_E(n)?n.validators:n)||null}function $b(n){return Array.isArray(n)?l(n):n||null}function II(n,t){return(_E(t)?t.asyncValidators:n)||null}function jb(n){return Array.isArray(n)?h(n):n||null}function _E(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Hb(n,t,e){const s=n.controls;if(!(t?Object.keys(s):s).length)throw new c.vHH(1e3,"");if(!s[e])throw new c.vHH(1001,"")}function Wb(n,t,e){n._forEachChild((s,a)=>{if(void 0===e[a])throw new c.vHH(1002,"")})}class yE{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=$b(this._rawValidators),this._composedAsyncValidatorFn=jb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===__}get invalid(){return this.status===mE}get pending(){return this.status==Ep}get disabled(){return this.status===y_}get enabled(){return this.status!==y_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=$b(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=jb(t)}addValidators(t){this.setValidators(O(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(O(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(z(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(z(t,this._rawAsyncValidators))}hasValidator(t){return M(this._rawValidators,t)}hasAsyncValidator(t){return M(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ep,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=y_,this.errors=null,this._forEachChild(s=>{s.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=__,this._forEachChild(s=>{s.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===__||this.status===Ep)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?y_:__}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ep,this._hasOwnPendingAsyncValidator=!0;const e=vI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((s,a)=>s&&s._find(a),this)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?y_:this.errors?mE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ep)?Ep:this._anyControlsHaveStatus(mE)?mE:__}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_E(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class v_ extends yE{constructor(t,e,s){super(DI(e),II(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Wb(this,0,t),Object.keys(t).forEach(s=>{Hb(this,!0,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{const a=this.controls[s];a&&a.patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,s]of Object.entries(this.controls))if(this.contains(e)&&t(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,s,a)=>((s.enabled||this.disabled)&&(e[a]=s.value),e))}_reduceChildren(t,e){let s=t;return this._forEachChild((a,d)=>{s=e(s,a,d)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Gb extends v_{}function vE(n,t){return[...t.path,n]}function C_(n,t){bI(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function kT(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zb(n,t)})}(n,t),function LT(n,t){const e=(s,a)=>{t.valueAccessor.writeValue(s),a&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function FT(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zb(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function OT(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function CE(n,t,e=!0){const s=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(s),t.valueAccessor.registerOnTouched(s)),wE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function EE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function bI(n,t){const e=v(n);null!==t.validator?n.setValidators(m(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=E(n);null!==t.asyncValidator?n.setAsyncValidators(m(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();EE(t._rawValidators,a),EE(t._rawAsyncValidators,a)}function wE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=v(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(g=>g!==t.validator);d.length!==a.length&&(e=!0,n.setValidators(d))}}if(null!==t.asyncValidator){const a=E(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(g=>g!==t.asyncValidator);d.length!==a.length&&(e=!0,n.setAsyncValidators(d))}}}const s=()=>{};return EE(t._rawValidators,s),EE(t._rawAsyncValidators,s),e}function zb(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function AI(n,t){if(!t)return null;let e,s,a;return Array.isArray(t),t.forEach(d=>{d.constructor===ll?e=d:function BT(n){return Object.getPrototypeOf(n.constructor)===al}(d)?s=d:a=d}),a||s||e||null}function Yb(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Qb(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ws=class extends yE{constructor(t=null,e,s){super(DI(e),II(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_E(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Qb(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Yb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Yb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Qb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},GT={provide:Oe,useExisting:(0,c.Gpc)(()=>DE)},eT=(()=>Promise.resolve())();let DE=(()=>{class n extends Oe{constructor(e,s,a,d,g){super(),this._changeDetectorRef=g,this.control=new ws,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=AI(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const s=e.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),TI(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){C_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){eT.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=0!==s&&(0,c.D6c)(s);eT.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?vE(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fe,9),c.Y36(Br,10),c.Y36(iu,10),c.Y36(Es,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([GT]),c.qOj,c.TTD]}),n})(),MI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const zT={provide:Es,useExisting:(0,c.Gpc)(()=>RI),multi:!0};let RI=(()=>{class n extends al{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=s=>{e(""==s?null:parseFloat(s))}}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(n)))(s||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,s){1&e&&c.NdJ("input",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},features:[c._Bn([zT]),c.qOj]}),n})(),tT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const PI=new c.OlP("NgModelWithFormControlWarning"),QT={provide:fe,useExisting:(0,c.Gpc)(()=>w_)};let w_=(()=>{class n extends fe{constructor(e,s){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return C_(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){CE(e.control||null,e,!1),function $T(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,function Kb(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,a=this.form.get(e.path);s!==a&&(CE(s||null,e),(n=>n instanceof ws)(a)&&(C_(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);(function Zb(n,t){bI(n,t)})(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function VT(n,t){return wE(n,t)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bI(this.form,this),this._oldForm&&wE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Br,10),c.Y36(iu,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&c.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([QT]),c.qOj,c.TTD]}),n})();const eA={provide:Oe,useExisting:(0,c.Gpc)(()=>IE)};let IE=(()=>{class n extends Oe{constructor(e,s,a,d,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=AI(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),TI(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return vE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(fe,13),c.Y36(Br,10),c.Y36(iu,10),c.Y36(Es,10),c.Y36(PI,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([eA]),c.qOj,c.TTD]}),n})();let ch=(()=>{class n{constructor(){this._validator=g_}ngOnChanges(e){if(this.inputName in e){const s=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(s),this._validator=this._enabled?this.createValidator(s):g_,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const aA={provide:Br,useExisting:(0,c.Gpc)(()=>FI),multi:!0};let FI=(()=>{class n extends ch{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>function uT(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>hI(e)}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(n)))(s||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,s){2&e&&c.uIk("max",s._enabled?s.max:null)},inputs:{max:"max"},features:[c._Bn([aA]),c.qOj]}),n})(),mT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[tT]}),n})(),gA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mT]}),n})(),_T=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:PI,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mT]}),n})();class yT extends yE{constructor(t,e,s){super(DI(e),II(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,s={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,e={}){let s=this._adjustIndex(t);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,s={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),e&&(this.controls.splice(a,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Wb(this,0,t),t.forEach((s,a)=>{Hb(this,!1,a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function vT(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let CT=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,s=null){const a=this._reduceControls(e);let d={};return vT(s)?d=s:null!==s&&(d.validators=s.validator,d.asyncValidators=s.asyncValidator),new v_(a,d)}record(e,s=null){const a=this._reduceControls(e);return new Gb(a,s)}control(e,s,a){let d={};return this.useNonNullable?(vT(s)?d=s:(d.validators=s,d.asyncValidators=a),new ws(e,{...d,nonNullable:!0})):new ws(e,s,a)}array(e,s,a){const d=e.map(g=>this._createControl(g));return new yT(d,s,a)}_reduceControls(e){const s={};return Object.keys(e).forEach(a=>{s[a]=this._createControl(e[a])}),s}_createControl(e){return e instanceof ws||e instanceof yE?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:_T}),n})(),mA=(()=>{class n{constructor(e,s,a){this.db=e,this.auth=s,this.daysOffService=a,this.AvailableDays=0,this.DaysOff=[],this.counter=0}ngOnInit(){let e=this.auth.CurrentUserEmail().split("@")[0];this.firstName=e.split(" ")[0],this.lastName=e.slice(e.indexOf(" ")+1),this.daysOffService.getDaysOff().subscribe(s=>{this.listDaysOff(s)})}listDaysOff(e){this.DaysOff=[],e.forEach(s=>{let a=s.payload.toJSON();a.$key=s.key,console.log(this.auth.CurrentUserUid()),a.userUid==this.auth.CurrentUserUid()&&this.DaysOff.push(a)})}CountUp(){this.counter+=.5}CountDown(){this.counter-=.5}btnClicked(){this.SynchronizeDates()}SynchronizeDates(){if(null!=this.endDate&&null!=this.startDate&&null!=this.endDate&&null!=this.startDate&&this.endDate>this.startDate){let s=new Date(this.startDate),a=new Date(this.endDate),d=1;for(let g=s;g<=a&&d<5;g=new Date(g.getDate()+1))console.log(g.getDay()),d+=1;this.counter=(a.getTime()-s.getTime())/864e5+1}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(bc),c.Y36(Cp),c.Y36(rE))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:41,vars:10,consts:[[1,"page-header","section-dark",2,"background-image","url('./assets/img/antoine-barres.jpg')"],[1,"filter"],[1,"content-center"],[1,"container"],[1,"title-brand"],[1,"presentation-title"],[1,"fog-low"],["src","./assets/img/fog-low.png","alt",""],[1,"fog-low","right"],[1,"moving-clouds",2,"background-image","url('./assets/img/clouds.png')"],[1,"board"],[1,"arcade"],[1,"normalText"],["type","date",3,"ngModel","ngModelChange"],["id","handleCounter",1,"handle-counter"],[1,"counter-minus","btn","btn-primary",3,"disabled","click"],["type","number",3,"max","ngModel","ngModelChange"],[1,"counter-plus","btn","btn-primary",3,"disabled","click"],["type","button",1,"pushable",3,"click"],[1,"front"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"div",3),c.TgZ(4,"div",3)(5,"div",4)(6,"h1",5),c._uU(7,"IC TECH LAB"),c.qZA(),c.TgZ(8,"div",6),c._UZ(9,"img",7),c.qZA(),c.TgZ(10,"div",8),c._UZ(11,"img",7),c.qZA()()()(),c._UZ(12,"div",9),c.TgZ(13,"div",10)(14,"p",11),c._uU(15),c.qZA(),c._UZ(16,"br"),c.TgZ(17,"p",12),c._uU(18),c.qZA(),c._UZ(19,"br"),c.TgZ(20,"p",12),c._uU(21),c.qZA(),c._UZ(22,"br"),c.TgZ(23,"label",12),c._uU(24,"Date debut : "),c.qZA(),c.TgZ(25,"input",13),c.NdJ("ngModelChange",function(d){return s.startDate=d}),c.qZA(),c._UZ(26,"br"),c.TgZ(27,"label",12),c._uU(28,"Date fin : "),c.qZA(),c.TgZ(29,"input",13),c.NdJ("ngModelChange",function(d){return s.endDate=d}),c.qZA(),c._UZ(30,"br"),c._uU(31),c.TgZ(32,"div",14)(33,"button",15),c.NdJ("click",function(){return s.CountDown()}),c._uU(34,"-"),c.qZA(),c.TgZ(35,"input",16),c.NdJ("ngModelChange",function(d){return s.counter=d}),c.qZA(),c.TgZ(36,"button",17),c.NdJ("click",function(){return s.CountUp()}),c._uU(37,"+"),c.qZA()(),c.TgZ(38,"button",18),c.NdJ("click",function(){return s.btnClicked()}),c.TgZ(39,"span",19),c._uU(40," demande conjet "),c.qZA()()()()),2&e&&(c.xp6(15),c.hij("Vous avez: ",s.DaysOff[0].value," jours "),c.xp6(3),c.hij("Nom: ",s.lastName,""),c.xp6(3),c.hij("Prenom: ",s.firstName,""),c.xp6(4),c.Q6J("ngModel",s.startDate),c.xp6(4),c.Q6J("ngModel",s.endDate),c.xp6(2),c.hij(" ",s.endDate," "),c.xp6(2),c.Q6J("disabled",s.counter<=0),c.xp6(2),c.Q6J("max",s.DaysOff[0].value)("ngModel",s.counter),c.xp6(1),c.Q6J("disabled",s.counter>=s.DaysOff[0].value))},dependencies:[ll,RI,Te,FI,DE],styles:[".board[_ngcontent-%COMP%]{position:fixed;width:60%;height:60%;background-color:#dec3be;top:20%;right:20%;z-index:4;border-radius:3em;display:flexbox;padding:1em}@media (max-width: 480px){.board[_ngcontent-%COMP%]{display:none}}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.arcade[_ngcontent-%COMP%]{color:#fff;width:100%;text-align:center;margin:auto;font-size:40px;line-height:40px;letter-spacing:5px;text-shadow:-2px 0 0 #fdff2a,-4px 0 0 #df4a42,2px 0 0 #91fcfe,4px 0 0 #4405fc}.pushable[_ngcontent-%COMP%]{background:hsl(340deg 100% 32%);border-radius:12px;border:none;padding:0;cursor:pointer;outline-offset:4px;flex-direction:column;position:fixed;top:65%;left:60%}.front[_ngcontent-%COMP%]{display:block;padding:12px 42px;border-radius:12px;font-size:1.25rem;background:hsl(345deg 100% 47%);color:#fff;transform:translateY(-6px)}.pushable[_ngcontent-%COMP%]:focus{outline:none}.pushable[_ngcontent-%COMP%]:active   .front[_ngcontent-%COMP%]{transform:translateY(-2px)}.normalText[_ngcontent-%COMP%]{font-family:system-ui;font-size:40px}.handle-counter[_ngcontent-%COMP%]{overflow:hidden}.handle-counter[_ngcontent-%COMP%]   .counter-minus[_ngcontent-%COMP%], .handle-counter[_ngcontent-%COMP%]   .counter-plus[_ngcontent-%COMP%], .handle-counter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{float:left;text-align:center}.handle-counter[_ngcontent-%COMP%]   .counter-minus[_ngcontent-%COMP%], .handle-counter[_ngcontent-%COMP%]   .counter-plus[_ngcontent-%COMP%]{text-align:center;font-size:2rem}.handle-counter[_ngcontent-%COMP%]{position:fixed;top:65%;left:45%}.handle-counter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100px;height:55px;border-width:1px;border-left:none;border-right:none;font-size:1.25rem}.btn[_ngcontent-%COMP%]{width:55px;height:55px;padding:6px 12px;border:1px solid transparent;color:#fff}.btn[_ngcontent-%COMP%]:disabled, .btn[_ngcontent-%COMP%]:disabled:hover{background-color:#a9a9a9;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#009dda}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#0486b9}"]}),n})();function _A(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"Email is required"),c.qZA())}function yA(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"Email is invalid"),c.qZA())}function vA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,_A,2,0,"small",23),c.YNc(2,yA,2,0,"small",23),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.email.errors.required),c.xp6(1),c.Q6J("ngIf",e.email.errors.email)}}function CA(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"password is required"),c.qZA())}function EA(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"password must be 6 characters at least"),c.qZA())}function wA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,CA,2,0,"small",23),c.YNc(2,EA,2,0,"small",23),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",null==e.password.errors?null:e.password.errors.required),c.xp6(1),c.Q6J("ngIf",null==e.password.errors?null:e.password.errors.minlength)}}let DA=(()=>{class n{constructor(e,s,a,d){this.fb=e,this.authservice=s,this.router=a,this.daysOffService=d}ngOnInit(){this.initForm()}initForm(){this.loginForm=this.fb.group({email:new ws("",[jn.required,jn.email]),password:new ws("",[jn.required,jn.minLength(6)])})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}login(){const e=this.loginForm.get("email").value,s=this.loginForm.get("password").value;console.log(e+s),this.authservice.SignInUser(e,s).then(()=>{this.router.navigate(["/home"])},a=>{this.errorMessage=a,console.log(this.errorMessage)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(CT),c.Y36(Cp),c.Y36(Bn),c.Y36(rE))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:4,consts:[[1,"section","section-image","section-login",2,"background-image","url('./assets/img/login-image.jpg')"],[1,"user",3,"formGroup","ngSubmit"],[1,"container"],[1,"row"],[1,"col-lg-4","col-md-6","mx-auto"],[1,"card","card-register"],[1,"title","mx-auto"],[1,"register-form",3,"formGroup"],[1,"input-group","form-group-no-border"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"nc-icon","nc-email-85"],[1,"form-group"],["type","email","formControlName","email","id","exampleInputEmail","placeholder","Enter Email Address...",1,"form-control"],[4,"ngIf"],[1,"nc-icon","nc-key-25"],["type","password","formControlName","password","id","exampleInputPassword","placeholder","Password",1,"form-control","form-control-user"],[1,"btn","btn-danger","btn-block","btn-round",3,"click"],["routerLink","/register",1,"btn","btn-danger","btn-block","btn-round"],[1,"forgot"],["routerLink","/forgotpass",1,"btn","btn-link","btn-danger"],[1,"col","text-center"],["target","_blank",1,"btn","btn-outline-neutral","btn-round","btn-lg"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0)(1,"form",1),c.NdJ("ngSubmit",function(){return s.login()}),c.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),c._uU(7,"Welcome"),c.qZA(),c.TgZ(8,"form",7)(9,"label"),c._uU(10,"Email"),c.qZA(),c.TgZ(11,"div",8)(12,"div",9)(13,"span",10),c._UZ(14,"i",11),c.qZA()(),c.TgZ(15,"div",12),c._UZ(16,"input",13),c.YNc(17,vA,3,2,"div",14),c.qZA()(),c.TgZ(18,"label"),c._uU(19,"Password"),c.qZA(),c.TgZ(20,"div",8)(21,"div",9)(22,"span",10),c._UZ(23,"i",15),c.qZA()(),c.TgZ(24,"div",12),c._UZ(25,"input",16),c.YNc(26,wA,3,2,"div",14),c.qZA()(),c.TgZ(27,"button",17),c.NdJ("click",function(){return s.login()}),c._uU(28,"Login"),c.qZA(),c.TgZ(29,"button",18),c._uU(30,"Register"),c.qZA()(),c.TgZ(31,"div",19)(32,"a",20),c._uU(33,"Forgot password?"),c.qZA()()(),c.TgZ(34,"div",21)(35,"a",22),c._uU(36,"View Register Page"),c.qZA()()()()()()()),2&e&&(c.xp6(1),c.Q6J("formGroup",s.loginForm),c.xp6(7),c.Q6J("formGroup",s.loginForm),c.xp6(9),c.Q6J("ngIf",s.email.touched&&s.email.invalid),c.xp6(9),c.Q6J("ngIf",s.password.touched&&s.password.invalid))},dependencies:[An,Ba,Jh,MI,ll,Te,ft,w_,IE],styles:[".input-group-text[_ngcontent-%COMP%]{height:38px}.input-group[_ngcontent-%COMP%]{flex-direction:row}"]}),n})();function IA(n,t){if(1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2),c.qZA()()),2&n){const e=t.$implicit;c.xp6(2),c.Oqu(e)}}let bA=(()=>{class n{constructor(e,s,a){this.router=e,this.db=s,this.auth=a,this.title="the_project",this.message=""}ngOnInit(){null==this.auth.Auth().currentUser&&this.router.navigate(["/"]),this.db.list("items").valueChanges().subscribe(s=>{this.data=s}),this.ScrollDownMessageBox()}ngAfterViewChecked(){this.ScrollDownMessageBox()}send(){this.db.list("items").push(this.auth.CurrentUserEmail().split("@")[0]+" : "+this.message).then(()=>{this.ScrollDownMessageBox()}).catch(s=>{console.log(s)}),this.message=""}ScrollDownMessageBox(){var e=document.getElementById("div");e.scrollTop=e.scrollHeight}slurp(){return(0,Qo.Z)(function*(){const s=(yield fetch("https://api.github.com/users/github")).json();console.log(s)})()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bn),c.Y36(bc),c.Y36(Cp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-messaging"]],decls:6,vars:2,consts:[["id","div"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange","keydown.enter"],[3,"click"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0),c.YNc(1,IA,3,1,"div",1),c._UZ(2,"br"),c.TgZ(3,"input",2),c.NdJ("ngModelChange",function(d){return s.message=d})("keydown.enter",function(){return s.send()}),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return s.send()}),c._uU(5,"send"),c.qZA()()),2&e&&(c.xp6(1),c.Q6J("ngForOf",s.data),c.xp6(2),c.Q6J("ngModel",s.message))},dependencies:[Ti,ll,Te,DE],styles:["#div[_ngcontent-%COMP%]{border:black solid 5px;max-height:98vh;overflow-y:auto}"]}),n})();class TA{constructor(t,e,s,a){this.email=t,this.firstname=e,this.lastname=s,this.phone=a}}let AA=(()=>{class n{constructor(e){this.db=e,this.userList=e.list("users")}createUser(e){this.userList.push({email:e.email,firstname:e.firstname,lastname:e.lastname,phone:e.phone}).catch(s=>{console.error(s)})}getUsers(){return this.db.list("users").snapshotChanges()}getUserById(e){return this.db.list("users",s=>s.orderByKey().equalTo(e)).snapshotChanges()}getUserByEmail(e){return this.db.list("users",s=>s.orderByChild("email").equalTo(e)).snapshotChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(bc))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is required"),c.qZA())}function MA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is too short"),c.qZA())}function RA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is too long"),c.qZA())}function PA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is should only contain alphabets"),c.qZA())}function NA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,SA,2,0,"small",22),c.YNc(2,MA,2,0,"small",22),c.YNc(3,RA,2,0,"small",22),c.YNc(4,PA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.firstName.errors.required),c.xp6(1),c.Q6J("ngIf",e.firstName.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.firstName.errors.maxlength),c.xp6(1),c.Q6J("ngIf",e.firstName.errors.pattern)}}function xA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is required"),c.qZA())}function OA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is too short"),c.qZA())}function kA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is too long"),c.qZA())}function FA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is should only contain alphabets"),c.qZA())}function LA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,xA,2,0,"small",22),c.YNc(2,OA,2,0,"small",22),c.YNc(3,kA,2,0,"small",22),c.YNc(4,FA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.lastName.errors.required),c.xp6(1),c.Q6J("ngIf",e.lastName.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.lastName.errors.maxlength),c.xp6(1),c.Q6J("ngIf",e.lastName.errors.pattern)}}function VA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Email is required"),c.qZA())}function UA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Email is too short"),c.qZA())}function BA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,VA,2,0,"small",22),c.YNc(2,UA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.email.errors.required),c.xp6(1),c.Q6J("ngIf",e.email.errors.email)}}function $A(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number is required"),c.qZA())}function jA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number should be all numbers"),c.qZA())}function HA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number is too short"),c.qZA())}function WA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number is too long"),c.qZA())}function GA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,$A,2,0,"small",22),c.YNc(2,jA,2,0,"small",22),c.YNc(3,HA,2,0,"small",22),c.YNc(4,WA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.phone.errors.required),c.xp6(1),c.Q6J("ngIf",e.phone.errors.pattern),c.xp6(1),c.Q6J("ngIf",e.phone.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.phone.errors.maxlength)}}function zA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is required"),c.qZA())}function ZA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too short"),c.qZA())}function qA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too long"),c.qZA())}function KA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,zA,2,0,"small",22),c.YNc(2,ZA,2,0,"small",22),c.YNc(3,qA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.password.errors.required),c.xp6(1),c.Q6J("ngIf",e.password.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.password.errors.maxlength)}}function YA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is required"),c.qZA())}function QA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too short"),c.qZA())}function JA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too long"),c.qZA())}function XA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,YA,2,0,"small",22),c.YNc(2,QA,2,0,"small",22),c.YNc(3,JA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.confirmPassword.errors.required),c.xp6(1),c.Q6J("ngIf",e.confirmPassword.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.confirmPassword.errors.maxlength)}}let ET=(()=>{class n{constructor(e,s,a,d,g){this.fb=e,this.authservice=s,this.router=a,this.db=d,this.userService=g,this.userList=d.list("users")}ngOnInit(){this.initRegisterForm()}initRegisterForm(){this.registerForm=this.fb.group({firstName:new ws("",[jn.required,jn.minLength(3),jn.maxLength(15),jn.pattern("[a-zA-Z ]+")]),lastName:new ws("",[jn.required,jn.minLength(3),jn.maxLength(15),jn.pattern("[a-zA-Z ]+")]),email:new ws("",[jn.required,jn.email]),phone:new ws("",[jn.required,jn.pattern("[0-9]+"),jn.minLength(8),jn.maxLength(13)]),password:new ws("",[jn.required,jn.minLength(6)]),confirmPassword:new ws("",[jn.required,jn.minLength(6)])})}get email(){return this.registerForm?.get("email")}get password(){return this.registerForm?.get("password")}get firstName(){return this.registerForm?.get("firstName")}get lastName(){return this.registerForm?.get("lastName")}get phone(){return this.registerForm?.get("phone")}get confirmPassword(){return this.registerForm?.get("confirmPassword")}register(){const e=this.registerForm.get("email").value,s=this.registerForm.get("password").value;this.authservice.CreateNewUser(e,s).then(()=>{this.userService.createUser(new TA(this.email.value,this.firstName.value,this.lastName.value,this.phone.value)),this.router.navigate(["/"])},a=>{this.errorMessage=a,console.log(this.errorMessage)})}pushUser(){this.userList.push({email:this.email,firstname:this.firstName,lastname:this.lastName,phone:this.phone}).then(s=>{this.router.navigate(["/"])}).catch(s=>{console.error(s)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(CT),c.Y36(Cp),c.Y36(Bn),c.Y36(bc),c.Y36(AA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:34,vars:7,consts:[[1,"container"],[1,"card","o-hidden","border-0","shadow-lg","my-5"],[1,"card-body","p-0"],[1,"row"],["id","imageHolder",1,"col-lg-5","d-none","d-lg-block","bg-register-image"],[1,"col-lg-7"],[1,"p-5"],[1,"text-center"],[1,"h4","text-gray-900","mb-4"],[1,"user",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-sm-6","mb-3","mb-sm-0"],["formControlName","firstName","type","text","id","exampleFirstName","placeholder","First Name",1,"form-control","form-control-user"],[4,"ngIf"],[1,"col-sm-6"],["formControlName","lastName","type","text","id","exampleLastName","placeholder","Last Name",1,"form-control","form-control-user"],[1,"form-group"],["formControlName","email","type","email","id","exampleInputEmail","placeholder","Email Address",1,"form-control","form-control-user"],["formControlName","phone","type","text","id","exampleInputEmail","placeholder","Phone Number",1,"form-control","form-control-user"],["formControlName","password","type","password","id","exampleInputPassword","placeholder","Password",1,"form-control","form-control-user"],["formControlName","confirmPassword","type","password","id","exampleRepeatPassword","placeholder","Repeat Password",1,"form-control","form-control-user"],["type","submit",1,"btn","btn-primary","btn-user","btn-block"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"div",4),c.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),c._uU(9,"Create an Account!"),c.qZA()(),c.TgZ(10,"form",9),c.NdJ("ngSubmit",function(){return s.register()}),c.TgZ(11,"div",10)(12,"div",11),c._UZ(13,"input",12),c.YNc(14,NA,5,4,"div",13),c.qZA(),c.TgZ(15,"div",14),c._UZ(16,"input",15),c.YNc(17,LA,5,4,"div",13),c.qZA()(),c.TgZ(18,"div",16),c._UZ(19,"input",17),c.YNc(20,BA,3,2,"div",13),c.qZA(),c.TgZ(21,"div",16),c._UZ(22,"input",18),c.YNc(23,GA,5,4,"div",13),c.qZA(),c.TgZ(24,"div",10)(25,"div",11),c._UZ(26,"input",19),c.YNc(27,KA,4,3,"div",13),c.qZA(),c.TgZ(28,"div",14),c._UZ(29,"input",20),c.YNc(30,XA,4,3,"div",13),c.qZA()(),c.TgZ(31,"button",21),c._uU(32," Register Account "),c.qZA()(),c._UZ(33,"hr"),c.qZA()()()()()()),2&e&&(c.xp6(10),c.Q6J("formGroup",s.registerForm),c.xp6(4),c.Q6J("ngIf",s.firstName.touched&&s.firstName.invalid),c.xp6(3),c.Q6J("ngIf",s.lastName.touched&&s.lastName.invalid),c.xp6(3),c.Q6J("ngIf",s.email.touched&&s.email.invalid),c.xp6(3),c.Q6J("ngIf",s.phone.touched&&s.phone.invalid),c.xp6(4),c.Q6J("ngIf",s.password.touched&&s.password.invalid),c.xp6(3),c.Q6J("ngIf",s.confirmPassword.touched&&s.confirmPassword.invalid))},dependencies:[An,MI,ll,Te,ft,w_,IE]}),n})();const eS=[{path:"register",component:ET},{path:"messaging",component:bA},{path:"",component:DA},{path:"register",component:ET},{path:"home",component:mA}];let tS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[rg.forRoot(eS),rg]}),n})(),nS=(()=>{class n{constructor(e){this.db=e,this.title="the_project",this.message=""}ngOnInit(){this.db.list("items").valueChanges().subscribe(s=>{this.data=s})}slurp(){return(0,Qo.Z)(function*(){const s=(yield fetch("https://api.github.com/users/github")).json();console.log(s)})()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(bc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:10,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"]],template:function(e,s){1&e&&(c.TgZ(0,"html",0)(1,"head"),c._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),c.TgZ(5,"title"),c._uU(6,"Document"),c.qZA()(),c.TgZ(7,"body"),c._UZ(8,"router-outlet")(9,"footer"),c.qZA()())},dependencies:[Hp]}),n})();var rS=x(8247);class VI{constructor(t){return t}}class DT{constructor(){return(0,dn.vb)("auth")}}const UI=new c.OlP("angularfire2.auth-instances");function sS(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new VI(s)}}const oS={provide:DT,deps:[[new c.FiY,UI]]},aS={provide:VI,useFactory:function iS(n,t){const e=(0,dn.JM)("auth",n,t);return e&&new VI(e)},deps:[[new c.FiY,UI],wc]};let lS=(()=>{class n{constructor(){(0,bi.KN)("angularfire",dn.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[aS,oS]}),n})();function uS(n,...t){return{ngModule:lS,providers:[{provide:UI,useFactory:sS(n),multi:!0,deps:[c.R0b,c.zs3,dn.HU,$m,[new c.FiY,fp],...t]}]}}const cS=(0,dn.u3)(rS.n,!0);class BI{constructor(t){return t}}const IT="database",$I=new c.OlP("angularfire2.database-instances");function fS(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new BI(s)}}const pS={provide:class dS{constructor(){return(0,dn.vb)(IT)}},deps:[[new c.FiY,$I]]},gS={provide:BI,useFactory:function hS(n,t){const e=(0,dn.JM)(IT,n,t);return e&&new BI(e)},deps:[[new c.FiY,$I],wc]};let mS=(()=>{class n{constructor(){(0,bi.KN)("angularfire",dn.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gS,pS]}),n})();function _S(n,...t){return{ngModule:mS,providers:[{provide:$I,useFactory:fS(n),multi:!0,deps:[c.R0b,c.zs3,dn.HU,$m,[new c.FiY,DT],[new c.FiY,fp],...t]}]}}const yS=(0,dn.u3)(lD,!0);let vS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[nS]}),n.\u0275inj=c.cJS({imports:[$s,vr.hO.initializeApp(lh_firebase),Vb,tS,gA,_T,vD(()=>ED(lh_firebase)),uS(()=>cS()),_S(()=>yS())]}),n})();(0,c.G48)(),Oo().bootstrapModule(vS).catch(n=>console.error(n))},5867:(Je,Ie,x)=>{x.d(Ie,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=x(9681);(0,c.registerVersion)("firebase","9.14.0","app")},127:(Je,Ie,x)=>{x.d(Ie,{Z:()=>c.Z});var c=x(3942);c.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(Je,Ie,x)=>{x.r(Ie);var c=x(5861),B=x(3942),P=x(8247),re=x(2090),ce=(x(9681),x(1877),x(4859));function le(){return window}function H(){return(H=(0,c.Z)(function*(V,R,k){var ee;const{BuildInfo:Me}=le();(0,P.ap)(R.sessionId,"AuthEvent did not contain a session ID");const qe=yield de(R.sessionId),Ke={};return(0,P.aq)()?Ke.ibi=Me.packageName:(0,P.ar)()?Ke.apn=Me.packageName:(0,P.as)(V,"operation-not-supported-in-this-environment"),Me.displayName&&(Ke.appDisplayName=Me.displayName),Ke.sessionId=qe,(0,P.at)(V,k,R.type,void 0,null!==(ee=R.eventId)&&void 0!==ee?ee:void 0,Ke)})).apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(V){const{BuildInfo:R}=le(),k={};(0,P.aq)()?k.iosBundleId=R.packageName:(0,P.ar)()?k.androidPackageName=R.packageName:(0,P.as)(V,"operation-not-supported-in-this-environment"),yield(0,P.au)(V,k)})).apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(V,R,k){const{cordova:ee}=le();let Me=()=>{};try{yield new Promise((qe,Ke)=>{let we=null;function Pe(){var vt;qe();const Ht=null===(vt=ee.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof Ht&&Ht(),"function"==typeof k?.close&&k.close()}function gt(){we||(we=window.setTimeout(()=>{Ke((0,P.aw)(V,"redirect-cancelled-by-user"))},2e3))}function jt(){"visible"===document?.visibilityState&&gt()}R.addPassiveListener(Pe),document.addEventListener("resume",gt,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",jt,!1),Me=()=>{R.removePassiveListener(Pe),document.removeEventListener("resume",gt,!1),document.removeEventListener("visibilitychange",jt,!1),we&&window.clearTimeout(we)}})}finally{Me()}})).apply(this,arguments)}function de(V){return He.apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(V){const R=$e(V),k=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(k)).map(Me=>Me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $e(V){if((0,P.ap)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const R=new ArrayBuffer(V.length),k=new Uint8Array(R);for(let ee=0;ee<V.length;ee++)k[ee]=V.charCodeAt(ee);return k}class Ae extends P.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(R)),super.onEvent(R)}initialized(){var R=this;return(0,c.Z)(function*(){yield R.initPromise})()}}function ne(V){return ae.apply(this,arguments)}function ae(){return(ae=(0,c.Z)(function*(V){const R=yield Q()._get(ue(V));return R&&(yield Q()._remove(ue(V))),R})).apply(this,arguments)}function K(){const V=[],R="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<20;k++){const ee=Math.floor(Math.random()*R.length);V.push(R.charAt(ee))}return V.join("")}function Q(){return(0,P.az)(P.b)}function ue(V){return(0,P.aA)("authEvent",V.config.apiKey,V.name)}function xe(V){if(!V?.includes("?"))return{};const[R,...k]=V.split("?");return(0,re.zd)(k.join("?"))}function Ue(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function St(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function qn(V=(0,re.z$)()){return!("file:"!==St()&&"ionic:"!==St()&&"capacitor:"!==St()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wr(){try{const V=self.localStorage,R=P.aI();if(V)return V.setItem(R,"1"),V.removeItem(R),!function Hr(V=(0,re.z$)()){return function sr(){return(0,re.w1)()&&11===document?.documentMode}()||function gn(V=(0,re.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,re.hl)()}catch{return or()&&(0,re.hl)()}return!1}function or(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return(function wt(){return"http:"===St()||"https:"===St()}()||(0,re.ru)()||qn())&&!function jr(){return(0,re.b$)()||(0,re.UG)()}()&&Wr()&&!or()}function Rr(){return qn()&&typeof document<"u"}function je(){return(je=(0,c.Z)(function*(){return!!Rr()&&new Promise(V=>{const R=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),V(!0)})})})).apply(this,arguments)}const Dn={LOCAL:"local",NONE:"none",SESSION:"session"},qt=P.ax,Wn="persistence";function Kt(V){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(V){yield V._initializationPromise;const R=et(),k=P.aA(Wn,V.config.apiKey,V.name);R&&R.setItem(k,V._getPersistence())})).apply(this,arguments)}function et(){var V;try{return(null===(V=function xn(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const tt=P.ax;class pt{constructor(){this.browserResolver=P.az(P.k),this.cordovaResolver=P.az(class Vt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(R){var k=this;return(0,c.Z)(function*(){const ee=R._key();let Me=k.eventManagers.get(ee);return Me||(Me=new Ae(R),k.eventManagers.set(ee,Me),k.attachCallbackListeners(R,Me)),Me})()}_openPopup(R){(0,P.as)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,k,ee,Me){var qe=this;return(0,c.Z)(function*(){!function me(V){var R,k,ee,Me,qe,Ke,we,Pe,gt,jt;const vt=le();(0,P.ax)("function"==typeof(null===(R=vt?.universalLinks)||void 0===R?void 0:R.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(k=vt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(qe=null===(Me=null===(ee=vt?.cordova)||void 0===ee?void 0:ee.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===qe?void 0:qe.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Pe=null===(we=null===(Ke=vt?.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===we?void 0:we.browsertab)||void 0===Pe?void 0:Pe.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(jt=null===(gt=vt?.cordova)||void 0===gt?void 0:gt.InAppBrowser)||void 0===jt?void 0:jt.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const Ke=yield qe._initialize(R);yield Ke.initialized(),Ke.resetRedirect(),(0,P.aD)(),yield qe._originValidation(R);const we=function ve(V,R,k=null){return{type:R,eventId:k,urlResponse:null,sessionId:K(),postBody:null,tenantId:V.tenantId,error:(0,P.aw)(V,"no-auth-event")}}(R,ee,Me);yield function Le(V,R){return Q()._set(ue(V),R)}(R,we);const Pe=yield function G(V,R,k){return H.apply(this,arguments)}(R,we,k),gt=yield function Se(V){const{cordova:R}=le();return new Promise(k=>{R.plugins.browsertab.isAvailable(ee=>{let Me=null;ee?R.plugins.browsertab.openUrl(V):Me=R.InAppBrowser.open(V,(0,P.av)()?"_blank":"_system","location=yes"),k(Me)})})}(Pe);return function ye(V,R,k){return Ze.apply(this,arguments)}(R,Ke,gt)})()}_isIframeWebStorageSupported(R,k){throw new Error("Method not implemented.")}_originValidation(R){const k=R._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Y(V){return ke.apply(this,arguments)}(R)),this.originValidationPromises[k]}attachCallbackListeners(R,k){const{universalLinks:ee,handleOpenURL:Me,BuildInfo:qe}=le(),Ke=setTimeout((0,c.Z)(function*(){yield ne(R),k.onEvent(Ue())}),500),we=function(){var jt=(0,c.Z)(function*(vt){clearTimeout(Ke);const Ht=yield ne(R);let li=null;Ht&&vt?.url&&(li=function ge(V,R){var k,ee;const Me=function Ne(V){const R=xe(V),k=R.link?decodeURIComponent(R.link):void 0,ee=xe(k).link,Me=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return xe(Me).link||Me||ee||k||V}(R);if(Me.includes("/__/auth/callback")){const qe=xe(Me),Ke=qe.firebaseError?function ie(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(qe.firebaseError)):null,we=null===(ee=null===(k=Ke?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ee?void 0:ee[1],Pe=we?(0,P.aw)(we):null;return Pe?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:Me,postBody:null}}return null}(Ht,vt.url)),k.onEvent(li||Ue())});return function(Ht){return jt.apply(this,arguments)}}();typeof ee<"u"&&"function"==typeof ee.subscribe&&ee.subscribe(null,we);const Pe=Me,gt=`${qe.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var jt=(0,c.Z)(function*(vt){if(vt.toLowerCase().startsWith(gt)&&we({url:vt}),"function"==typeof Pe)try{Pe(vt)}catch(Ht){console.error(Ht)}});return function(vt){return jt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(R){var k=this;return(0,c.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,k,ee,Me){var qe=this;return(0,c.Z)(function*(){return yield qe.selectUnderlyingResolver(),qe.assertedUnderlyingResolver._openPopup(R,k,ee,Me)})()}_openRedirect(R,k,ee,Me){var qe=this;return(0,c.Z)(function*(){return yield qe.selectUnderlyingResolver(),qe.assertedUnderlyingResolver._openRedirect(R,k,ee,Me)})()}_isIframeWebStorageSupported(R,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,k)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Rr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,c.Z)(function*(){if(R.underlyingResolver)return;const k=yield function Gr(){return je.apply(this,arguments)}();R.underlyingResolver=k?R.cordovaResolver:R.browserResolver})()}}function ar(V){return V.unwrap()}function Xn(V){return er(V)}function er(V){const{_tokenResponse:R}=V instanceof re.ZR?V.customData:V;if(!R)return null;if(!(V instanceof re.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return P.P.credentialFromResult(V);const k=R.providerId;if(!k||k===P.o.PASSWORD)return null;let ee;switch(k){case P.o.GOOGLE:ee=P.Q;break;case P.o.FACEBOOK:ee=P.N;break;case P.o.GITHUB:ee=P.T;break;case P.o.TWITTER:ee=P.W;break;default:const{oauthIdToken:Me,oauthAccessToken:qe,oauthTokenSecret:Ke,pendingToken:we,nonce:Pe}=R;return qe||Ke||Me||we?we?k.startsWith("saml.")?P.aL._create(k,we):P.J._fromParams({providerId:k,signInMethod:k,pendingToken:we,idToken:Me,accessToken:qe}):new P.U(k).credential({idToken:Me,accessToken:qe,rawNonce:Pe}):null}return V instanceof re.ZR?ee.credentialFromError(V):ee.credentialFromResult(V)}function yt(V,R){return R.catch(k=>{throw k instanceof re.ZR&&function ut(V,R){var k,ee;const Me=null===(k=R.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ee=R)||void 0===ee?void 0:ee.code))R.resolver=new Vn(V,P.an(V,R));else if(Me){const qe=er(R),Ke=R;qe&&(Ke.credential=qe,Ke.tenantId=Me.tenantId||void 0,Ke.email=Me.email||void 0,Ke.phoneNumber=Me.phoneNumber||void 0)}}(V,k),k}).then(k=>{const Me=k.user;return{operationType:k.operationType,credential:Xn(k),additionalUserInfo:P.al(k),user:rn.getOrCreate(Me)}})}function fr(V,R){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(V,R){const k=yield R;return{verificationId:k.verificationId,confirm:ee=>yt(V,k.confirm(ee))}})).apply(this,arguments)}class Vn{constructor(R,k){this.resolver=k,this.auth=function In(V){return V.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return yt(ar(this.auth),this.resolver.resolveSignIn(R))}}class rn{constructor(R){this._delegate=R,this.multiFactor=P.ao(R)}static getOrCreate(R){return rn.USER_MAP.has(R)||rn.USER_MAP.set(R,new rn(R)),rn.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var k=this;return(0,c.Z)(function*(){return yt(k.auth,P.Z(k._delegate,R))})()}linkWithPhoneNumber(R,k){var ee=this;return(0,c.Z)(function*(){return fr(ee.auth,P.l(ee._delegate,R,k))})()}linkWithPopup(R){var k=this;return(0,c.Z)(function*(){return yt(k.auth,P.d(k._delegate,R,pt))})()}linkWithRedirect(R){var k=this;return(0,c.Z)(function*(){return yield Kt(P.aE(k.auth)),P.g(k._delegate,R,pt)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var k=this;return(0,c.Z)(function*(){return yt(k.auth,P._(k._delegate,R))})()}reauthenticateWithPhoneNumber(R,k){return fr(this.auth,P.r(this._delegate,R,k))}reauthenticateWithPopup(R){return yt(this.auth,P.e(this._delegate,R,pt))}reauthenticateWithRedirect(R){var k=this;return(0,c.Z)(function*(){return yield Kt(P.aE(k.auth)),P.h(k._delegate,R,pt)})()}sendEmailVerification(R){return P.ab(this._delegate,R)}unlink(R){var k=this;return(0,c.Z)(function*(){return yield P.ak(k._delegate,R),k})()}updateEmail(R){return P.ag(this._delegate,R)}updatePassword(R){return P.ah(this._delegate,R)}updatePhoneNumber(R){return P.u(this._delegate,R)}updateProfile(R){return P.af(this._delegate,R)}verifyBeforeUpdateEmail(R,k){return P.ac(this._delegate,R,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rn.USER_MAP=new WeakMap;const We=P.ax;let Ee=(()=>{class V{constructor(k,ee){if(this.app=k,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Me}=k.options;We(Me,"invalid-api-key",{appName:k.name}),We(Me,"invalid-api-key",{appName:k.name});const qe=typeof window<"u"?pt:void 0;this._delegate=ee.initialize({options:{persistence:at(Me,k.name),popupRedirectResolver:qe}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ee){P.G(this._delegate,k,ee)}applyActionCode(k){return P.a2(this._delegate,k)}checkActionCode(k){return P.a3(this._delegate,k)}confirmPasswordReset(k,ee){return P.a1(this._delegate,k,ee)}createUserWithEmailAndPassword(k,ee){var Me=this;return(0,c.Z)(function*(){return yt(Me._delegate,P.a5(Me._delegate,k,ee))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return P.aa(this._delegate,k)}isSignInWithEmailLink(k){return P.a8(this._delegate,k)}getRedirectResult(){var k=this;return(0,c.Z)(function*(){We(yn(),k._delegate,"operation-not-supported-in-this-environment");const ee=yield P.j(k._delegate,pt);return ee?yt(k._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function $t(V,R){(0,P.aE)(V)._logFramework(R)}(this._delegate,k)}onAuthStateChanged(k,ee,Me){const{next:qe,error:Ke,complete:we}=Ge(k,ee,Me);return this._delegate.onAuthStateChanged(qe,Ke,we)}onIdTokenChanged(k,ee,Me){const{next:qe,error:Ke,complete:we}=Ge(k,ee,Me);return this._delegate.onIdTokenChanged(qe,Ke,we)}sendSignInLinkToEmail(k,ee){return P.a7(this._delegate,k,ee)}sendPasswordResetEmail(k,ee){return P.a0(this._delegate,k,ee||void 0)}setPersistence(k){var ee=this;return(0,c.Z)(function*(){let Me;switch(function zi(V,R){qt(Object.values(Dn).includes(R),V,"invalid-persistence-type"),(0,re.b$)()?qt(R!==Dn.SESSION,V,"unsupported-persistence-type"):(0,re.UG)()?qt(R===Dn.NONE,V,"unsupported-persistence-type"):or()?qt(R===Dn.NONE||R===Dn.LOCAL&&(0,re.hl)(),V,"unsupported-persistence-type"):qt(R===Dn.NONE||Wr(),V,"unsupported-persistence-type")}(ee._delegate,k),k){case Dn.SESSION:Me=P.a;break;case Dn.LOCAL:Me=(yield P.az(P.i)._isAvailable())?P.i:P.b;break;case Dn.NONE:Me=P.L;break;default:return P.as("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(Me)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return yt(this._delegate,P.X(this._delegate))}signInWithCredential(k){return yt(this._delegate,P.Y(this._delegate,k))}signInWithCustomToken(k){return yt(this._delegate,P.$(this._delegate,k))}signInWithEmailAndPassword(k,ee){return yt(this._delegate,P.a6(this._delegate,k,ee))}signInWithEmailLink(k,ee){return yt(this._delegate,P.a9(this._delegate,k,ee))}signInWithPhoneNumber(k,ee){return fr(this._delegate,P.s(this._delegate,k,ee))}signInWithPopup(k){var ee=this;return(0,c.Z)(function*(){return We(yn(),ee._delegate,"operation-not-supported-in-this-environment"),yt(ee._delegate,P.c(ee._delegate,k,pt))})()}signInWithRedirect(k){var ee=this;return(0,c.Z)(function*(){return We(yn(),ee._delegate,"operation-not-supported-in-this-environment"),yield Kt(ee._delegate),P.f(ee._delegate,k,pt)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return P.a4(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=Dn,V})();function Ge(V,R,k){let ee=V;"function"!=typeof V&&({next:ee,error:R,complete:k}=V);const Me=ee;return{next:Ke=>Me(Ke&&rn.getOrCreate(Ke)),error:R,complete:k}}function at(V,R){const k=function zt(V,R){const k=et();if(!k)return[];const ee=P.aA(Wn,V,R);switch(k.getItem(ee)){case Dn.NONE:return[P.L];case Dn.LOCAL:return[P.i,P.a];case Dn.SESSION:return[P.a];default:return[]}}(V,R);if(typeof self<"u"&&!k.includes(P.i)&&k.push(P.i),typeof window<"u")for(const ee of[P.b,P.a])k.includes(ee)||k.push(ee);return k.includes(P.L)||k.push(P.L),k}class lt{constructor(){this.providerId="phone",this._delegate=new P.P(ar(B.Z.auth()))}static credential(R,k){return P.P.credential(R,k)}verifyPhoneNumber(R,k){return this._delegate.verifyPhoneNumber(R,k)}unwrap(){return this._delegate}}lt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,lt.PROVIDER_ID=P.P.PROVIDER_ID;const xt=P.ax;class W{constructor(R,k,ee=B.Z.app()){var Me;xt(null===(Me=ee.options)||void 0===Me?void 0:Me.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new P.R(R,k,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Z(V){V.INTERNAL.registerComponent(new ce.wA("auth-compat",R=>{const k=R.getProvider("app-compat").getImmediate(),ee=R.getProvider("auth");return new Ee(k,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:lt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:W,TwitterAuthProvider:P.W,Auth:Ee,AuthCredential:P.H,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.2.24")}(B.Z)},9751:(Je,Ie,x)=>{x.d(Ie,{y:()=>le});var c=x(930),B=x(727),P=x(8822),re=x(9635),oe=x(2416),he=x(576),ce=x(2806);let le=(()=>{class Y{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const ye=new Y;return ye.source=this,ye.operator=Se,ye}subscribe(Se,ye,Ze){const me=function H(Y){return Y&&Y instanceof c.Lv||function G(Y){return Y&&(0,he.m)(Y.next)&&(0,he.m)(Y.error)&&(0,he.m)(Y.complete)}(Y)&&(0,B.Nn)(Y)}(Se)?Se:new c.Hp(Se,ye,Ze);return(0,ce.x)(()=>{const{operator:de,source:He}=this;me.add(de?de.call(me,He):He?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Se){try{return this._subscribe(Se)}catch(ye){Se.error(ye)}}forEach(Se,ye){return new(ye=pe(ye))((Ze,me)=>{const de=new c.Hp({next:He=>{try{Se(He)}catch($e){me($e),de.unsubscribe()}},error:me,complete:Ze});this.subscribe(de)})}_subscribe(Se){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(Se)}[P.L](){return this}pipe(...Se){return(0,re.U)(Se)(this)}toPromise(Se){return new(Se=pe(Se))((ye,Ze)=>{let me;this.subscribe(de=>me=de,de=>Ze(de),()=>ye(me))})}}return Y.create=ke=>new Y(ke),Y})();function pe(Y){var ke;return null!==(ke=Y??oe.v.Promise)&&void 0!==ke?ke:Promise}},7579:(Je,Ie,x)=>{x.d(Ie,{x:()=>ce});var c=x(9751),B=x(727);const re=(0,x(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=x(8737),he=x(2806);let ce=(()=>{class pe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Y=new le(this,this);return Y.operator=H,Y}_throwIfClosed(){if(this.closed)throw new re}next(H){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(H)}})}error(H){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Y}=this;for(;Y.length;)Y.shift().error(H)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Y,isStopped:ke,observers:Se}=this;return Y||ke?B.Lc:(this.currentObservers=null,Se.push(H),new B.w0(()=>{this.currentObservers=null,(0,oe.P)(Se,H)}))}_checkFinalizedStatuses(H){const{hasError:Y,thrownError:ke,isStopped:Se}=this;Y?H.error(ke):Se&&H.complete()}asObservable(){const H=new c.y;return H.source=this,H}}return pe.create=(G,H)=>new le(G,H),pe})();class le extends ce{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Y||Y.call(H,G)}error(G){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Y||Y.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,Y;return null!==(Y=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==Y?Y:B.Lc}}},930:(Je,Ie,x)=>{x.d(Ie,{Hp:()=>Ze,Lv:()=>Y});var c=x(576),B=x(727),P=x(2416),re=x(7849),oe=x(5032);const he=pe("C",void 0,void 0);function pe(Re,Ae,ve){return{kind:Re,value:Ae,error:ve}}var G=x(3410),H=x(2806);class Y extends B.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,B.Nn)(Ae)&&Ae.add(this)):this.destination=$e}static create(Ae,ve,Le){return new Ze(Ae,ve,Le)}next(Ae){this.isStopped?He(function le(Re){return pe("N",Re,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?He(function ce(Re){return pe("E",void 0,Re)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?He(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Se(Re,Ae){return ke.call(Re,Ae)}class ye{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:ve}=this;if(ve.next)try{ve.next(Ae)}catch(Le){me(Le)}}error(Ae){const{partialObserver:ve}=this;if(ve.error)try{ve.error(Ae)}catch(Le){me(Le)}else me(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(ve){me(ve)}}}class Ze extends Y{constructor(Ae,ve,Le){let ne;if(super(),(0,c.m)(Ae)||!Ae)ne={next:Ae??void 0,error:ve??void 0,complete:Le??void 0};else{let ae;this&&P.v.useDeprecatedNextContext?(ae=Object.create(Ae),ae.unsubscribe=()=>this.unsubscribe(),ne={next:Ae.next&&Se(Ae.next,ae),error:Ae.error&&Se(Ae.error,ae),complete:Ae.complete&&Se(Ae.complete,ae)}):ne=Ae}this.destination=new ye(ne)}}function me(Re){P.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Re):(0,re.h)(Re)}function He(Re,Ae){const{onStoppedNotification:ve}=P.v;ve&&G.z.setTimeout(()=>ve(Re,Ae))}const $e={closed:!0,next:oe.Z,error:function de(Re){throw Re},complete:oe.Z}},727:(Je,Ie,x)=>{x.d(Ie,{Lc:()=>he,w0:()=>oe,Nn:()=>ce});var c=x(576);const P=(0,x(3888).d)(pe=>function(H){pe(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Y,ke)=>`${ke+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var re=x(8737);class oe{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Se of H)Se.remove(this);else H.remove(this);const{initialTeardown:Y}=this;if((0,c.m)(Y))try{Y()}catch(Se){G=Se instanceof P?Se.errors:[Se]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Se of ke)try{le(Se)}catch(ye){G=G??[],ye instanceof P?G=[...G,...ye.errors]:G.push(ye)}}if(G)throw new P(G)}}add(G){var H;if(G&&G!==this)if(this.closed)le(G);else{if(G instanceof oe){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,re.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,re.P)(H,G),G instanceof oe&&G._removeParent(this)}}oe.EMPTY=(()=>{const pe=new oe;return pe.closed=!0,pe})();const he=oe.EMPTY;function ce(pe){return pe instanceof oe||pe&&"closed"in pe&&(0,c.m)(pe.remove)&&(0,c.m)(pe.add)&&(0,c.m)(pe.unsubscribe)}function le(pe){(0,c.m)(pe)?pe():pe.unsubscribe()}},2416:(Je,Ie,x)=>{x.d(Ie,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Je,Ie,x)=>{x.d(Ie,{E:()=>B});const B=new(x(9751).y)(oe=>oe.complete())},8996:(Je,Ie,x)=>{x.d(Ie,{D:()=>Ae});var c=x(8421),B=x(5363),P=x(9468),he=x(9751),le=x(2202),pe=x(576),G=x(9672);function Y(ve,Le){if(!ve)throw new Error("Iterable cannot be null");return new he.y(ne=>{(0,G.f)(ne,Le,()=>{const ae=ve[Symbol.asyncIterator]();(0,G.f)(ne,Le,()=>{ae.next().then(ge=>{ge.done?ne.complete():ne.next(ge.value)})},0,!0)})})}var ke=x(3670),Se=x(8239),ye=x(1144),Ze=x(6495),me=x(2206),de=x(4532),He=x(3260);function Ae(ve,Le){return Le?function Re(ve,Le){if(null!=ve){if((0,ke.c)(ve))return function re(ve,Le){return(0,c.Xf)(ve).pipe((0,P.R)(Le),(0,B.Q)(Le))}(ve,Le);if((0,ye.z)(ve))return function ce(ve,Le){return new he.y(ne=>{let ae=0;return Le.schedule(function(){ae===ve.length?ne.complete():(ne.next(ve[ae++]),ne.closed||this.schedule())})})}(ve,Le);if((0,Se.t)(ve))return function oe(ve,Le){return(0,c.Xf)(ve).pipe((0,P.R)(Le),(0,B.Q)(Le))}(ve,Le);if((0,me.D)(ve))return Y(ve,Le);if((0,Ze.T)(ve))return function H(ve,Le){return new he.y(ne=>{let ae;return(0,G.f)(ne,Le,()=>{ae=ve[le.h](),(0,G.f)(ne,Le,()=>{let ge,K;try{({value:ge,done:K}=ae.next())}catch(Q){return void ne.error(Q)}K?ne.complete():ne.next(ge)},0,!0)}),()=>(0,pe.m)(ae?.return)&&ae.return()})}(ve,Le);if((0,He.L)(ve))return function $e(ve,Le){return Y((0,He.Q)(ve),Le)}(ve,Le)}throw(0,de.z)(ve)}(ve,Le):(0,c.Xf)(ve)}},8421:(Je,Ie,x)=>{x.d(Ie,{Xf:()=>ke});var c=x(655),B=x(1144),P=x(8239),re=x(9751),oe=x(3670),he=x(2206),ce=x(4532),le=x(6495),pe=x(3260),G=x(576),H=x(7849),Y=x(8822);function ke(Re){if(Re instanceof re.y)return Re;if(null!=Re){if((0,oe.c)(Re))return function Se(Re){return new re.y(Ae=>{const ve=Re[Y.L]();if((0,G.m)(ve.subscribe))return ve.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,B.z)(Re))return function ye(Re){return new re.y(Ae=>{for(let ve=0;ve<Re.length&&!Ae.closed;ve++)Ae.next(Re[ve]);Ae.complete()})}(Re);if((0,P.t)(Re))return function Ze(Re){return new re.y(Ae=>{Re.then(ve=>{Ae.closed||(Ae.next(ve),Ae.complete())},ve=>Ae.error(ve)).then(null,H.h)})}(Re);if((0,he.D)(Re))return de(Re);if((0,le.T)(Re))return function me(Re){return new re.y(Ae=>{for(const ve of Re)if(Ae.next(ve),Ae.closed)return;Ae.complete()})}(Re);if((0,pe.L)(Re))return function He(Re){return de((0,pe.Q)(Re))}(Re)}throw(0,ce.z)(Re)}function de(Re){return new re.y(Ae=>{(function $e(Re,Ae){var ve,Le,ne,ae;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ve=(0,c.KL)(Re);!(Le=yield ve.next()).done;)if(Ae.next(Le.value),Ae.closed)return}catch(ge){ne={error:ge}}finally{try{Le&&!Le.done&&(ae=ve.return)&&(yield ae.call(ve))}finally{if(ne)throw ne.error}}Ae.complete()})})(Re,Ae).catch(ve=>Ae.error(ve))})}},6451:(Je,Ie,x)=>{x.d(Ie,{T:()=>he});var c=x(8189),B=x(8421),P=x(515),re=x(7669),oe=x(8996);function he(...ce){const le=(0,re.yG)(ce),pe=(0,re._6)(ce,1/0),G=ce;return G.length?1===G.length?(0,B.Xf)(G[0]):(0,c.J)(pe)((0,oe.D)(G,le)):P.E}},5403:(Je,Ie,x)=>{x.d(Ie,{x:()=>B});var c=x(930);function B(re,oe,he,ce,le){return new P(re,oe,he,ce,le)}class P extends c.Lv{constructor(oe,he,ce,le,pe,G){super(oe),this.onFinalize=pe,this.shouldUnsubscribe=G,this._next=he?function(H){try{he(H)}catch(Y){oe.error(Y)}}:super._next,this._error=le?function(H){try{le(H)}catch(Y){oe.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(H){oe.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(Je,Ie,x)=>{x.d(Ie,{U:()=>P});var c=x(4482),B=x(5403);function P(re,oe){return(0,c.e)((he,ce)=>{let le=0;he.subscribe((0,B.x)(ce,pe=>{ce.next(re.call(oe,pe,le++))}))})}},8189:(Je,Ie,x)=>{x.d(Ie,{J:()=>P});var c=x(5577),B=x(4671);function P(re=1/0){return(0,c.z)(B.y,re)}},5577:(Je,Ie,x)=>{x.d(Ie,{z:()=>le});var c=x(4004),B=x(8421),P=x(4482),re=x(9672),oe=x(5403),ce=x(576);function le(pe,G,H=1/0){return(0,ce.m)(G)?le((Y,ke)=>(0,c.U)((Se,ye)=>G(Y,Se,ke,ye))((0,B.Xf)(pe(Y,ke))),H):("number"==typeof G&&(H=G),(0,P.e)((Y,ke)=>function he(pe,G,H,Y,ke,Se,ye,Ze){const me=[];let de=0,He=0,$e=!1;const Re=()=>{$e&&!me.length&&!de&&G.complete()},Ae=Le=>de<Y?ve(Le):me.push(Le),ve=Le=>{Se&&G.next(Le),de++;let ne=!1;(0,B.Xf)(H(Le,He++)).subscribe((0,oe.x)(G,ae=>{ke?.(ae),Se?Ae(ae):G.next(ae)},()=>{ne=!0},void 0,()=>{if(ne)try{for(de--;me.length&&de<Y;){const ae=me.shift();ye?(0,re.f)(G,ye,()=>ve(ae)):ve(ae)}Re()}catch(ae){G.error(ae)}}))};return pe.subscribe((0,oe.x)(G,Ae,()=>{$e=!0,Re()})),()=>{Ze?.()}}(Y,ke,pe,H)))}},5363:(Je,Ie,x)=>{x.d(Ie,{Q:()=>re});var c=x(9672),B=x(4482),P=x(5403);function re(oe,he=0){return(0,B.e)((ce,le)=>{ce.subscribe((0,P.x)(le,pe=>(0,c.f)(le,oe,()=>le.next(pe),he),()=>(0,c.f)(le,oe,()=>le.complete(),he),pe=>(0,c.f)(le,oe,()=>le.error(pe),he)))})}},3099:(Je,Ie,x)=>{x.d(Ie,{B:()=>oe});var c=x(8421),B=x(7579),P=x(930),re=x(4482);function oe(ce={}){const{connector:le=(()=>new B.x),resetOnError:pe=!0,resetOnComplete:G=!0,resetOnRefCountZero:H=!0}=ce;return Y=>{let ke,Se,ye,Ze=0,me=!1,de=!1;const He=()=>{Se?.unsubscribe(),Se=void 0},$e=()=>{He(),ke=ye=void 0,me=de=!1},Re=()=>{const Ae=ke;$e(),Ae?.unsubscribe()};return(0,re.e)((Ae,ve)=>{Ze++,!de&&!me&&He();const Le=ye=ye??le();ve.add(()=>{Ze--,0===Ze&&!de&&!me&&(Se=he(Re,H))}),Le.subscribe(ve),!ke&&Ze>0&&(ke=new P.Hp({next:ne=>Le.next(ne),error:ne=>{de=!0,He(),Se=he($e,pe,ne),Le.error(ne)},complete:()=>{me=!0,He(),Se=he($e,G),Le.complete()}}),(0,c.Xf)(Ae).subscribe(ke))})(Y)}}function he(ce,le,...pe){if(!0===le)return void ce();if(!1===le)return;const G=new P.Hp({next:()=>{G.unsubscribe(),ce()}});return le(...pe).subscribe(G)}},9468:(Je,Ie,x)=>{x.d(Ie,{R:()=>B});var c=x(4482);function B(P,re=0){return(0,c.e)((oe,he)=>{he.add(P.schedule(()=>oe.subscribe(he),re))})}},8505:(Je,Ie,x)=>{x.d(Ie,{b:()=>oe});var c=x(576),B=x(4482),P=x(5403),re=x(4671);function oe(he,ce,le){const pe=(0,c.m)(he)||ce||le?{next:he,error:ce,complete:le}:he;return pe?(0,B.e)((G,H)=>{var Y;null===(Y=pe.subscribe)||void 0===Y||Y.call(pe);let ke=!0;G.subscribe((0,P.x)(H,Se=>{var ye;null===(ye=pe.next)||void 0===ye||ye.call(pe,Se),H.next(Se)},()=>{var Se;ke=!1,null===(Se=pe.complete)||void 0===Se||Se.call(pe),H.complete()},Se=>{var ye;ke=!1,null===(ye=pe.error)||void 0===ye||ye.call(pe,Se),H.error(Se)},()=>{var Se,ye;ke&&(null===(Se=pe.unsubscribe)||void 0===Se||Se.call(pe)),null===(ye=pe.finalize)||void 0===ye||ye.call(pe)}))}):re.y}},4408:(Je,Ie,x)=>{x.d(Ie,{o:()=>oe});var c=x(727);class B extends c.w0{constructor(ce,le){super()}schedule(ce,le=0){return this}}const P={setInterval(he,ce,...le){const{delegate:pe}=P;return pe?.setInterval?pe.setInterval(he,ce,...le):setInterval(he,ce,...le)},clearInterval(he){const{delegate:ce}=P;return(ce?.clearInterval||clearInterval)(he)},delegate:void 0};var re=x(8737);class oe extends B{constructor(ce,le){super(ce,le),this.scheduler=ce,this.work=le,this.pending=!1}schedule(ce,le=0){var pe;if(this.closed)return this;this.state=ce;const G=this.id,H=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(H,G,le)),this.pending=!0,this.delay=le,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(H,this.id,le),this}requestAsyncId(ce,le,pe=0){return P.setInterval(ce.flush.bind(ce,this),pe)}recycleAsyncId(ce,le,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return le;null!=le&&P.clearInterval(le)}execute(ce,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ce,le);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,le){let G,pe=!1;try{this.work(ce)}catch(H){pe=!0,G=H||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ce,scheduler:le}=this,{actions:pe}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(pe,this),null!=ce&&(this.id=this.recycleAsyncId(le,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(Je,Ie,x)=>{x.d(Ie,{v:()=>P});var c=x(6063);class B{constructor(oe,he=B.now){this.schedulerActionCtor=oe,this.now=he}schedule(oe,he=0,ce){return new this.schedulerActionCtor(this,oe).schedule(ce,he)}}B.now=c.l.now;class P extends B{constructor(oe,he=B.now){super(oe,he),this.actions=[],this._active=!1}flush(oe){const{actions:he}=this;if(this._active)return void he.push(oe);let ce;this._active=!0;do{if(ce=oe.execute(oe.state,oe.delay))break}while(oe=he.shift());if(this._active=!1,ce){for(;oe=he.shift();)oe.unsubscribe();throw ce}}}},4986:(Je,Ie,x)=>{x.d(Ie,{z:()=>P});var c=x(4408);const P=new(x(7565).v)(c.o)},6063:(Je,Ie,x)=>{x.d(Ie,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Je,Ie,x)=>{x.d(Ie,{z:()=>c});const c={setTimeout(B,P,...re){const{delegate:oe}=c;return oe?.setTimeout?oe.setTimeout(B,P,...re):setTimeout(B,P,...re)},clearTimeout(B){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(Je,Ie,x)=>{x.d(Ie,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Je,Ie,x)=>{x.d(Ie,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Je,Ie,x)=>{x.d(Ie,{_6:()=>he,jO:()=>re,yG:()=>oe});var c=x(576);function P(ce){return ce[ce.length-1]}function re(ce){return(0,c.m)(P(ce))?ce.pop():void 0}function oe(ce){return function B(ce){return ce&&(0,c.m)(ce.schedule)}(P(ce))?ce.pop():void 0}function he(ce,le){return"number"==typeof P(ce)?ce.pop():le}},8737:(Je,Ie,x)=>{function c(B,P){if(B){const re=B.indexOf(P);0<=re&&B.splice(re,1)}}x.d(Ie,{P:()=>c})},3888:(Je,Ie,x)=>{function c(B){const re=B(oe=>{Error.call(oe),oe.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}x.d(Ie,{d:()=>c})},2806:(Je,Ie,x)=>{x.d(Ie,{O:()=>re,x:()=>P});var c=x(2416);let B=null;function P(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const he=!B;if(he&&(B={errorThrown:!1,error:null}),oe(),he){const{errorThrown:ce,error:le}=B;if(B=null,ce)throw le}}else oe()}function re(oe){c.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=oe)}},9672:(Je,Ie,x)=>{function c(B,P,re,oe=0,he=!1){const ce=P.schedule(function(){re(),he?B.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(B.add(ce),!he)return ce}x.d(Ie,{f:()=>c})},4671:(Je,Ie,x)=>{function c(B){return B}x.d(Ie,{y:()=>c})},1144:(Je,Ie,x)=>{x.d(Ie,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(Je,Ie,x)=>{x.d(Ie,{D:()=>B});var c=x(576);function B(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},576:(Je,Ie,x)=>{function c(B){return"function"==typeof B}x.d(Ie,{m:()=>c})},3670:(Je,Ie,x)=>{x.d(Ie,{c:()=>P});var c=x(8822),B=x(576);function P(re){return(0,B.m)(re[c.L])}},6495:(Je,Ie,x)=>{x.d(Ie,{T:()=>P});var c=x(2202),B=x(576);function P(re){return(0,B.m)(re?.[c.h])}},8239:(Je,Ie,x)=>{x.d(Ie,{t:()=>B});var c=x(576);function B(P){return(0,c.m)(P?.then)}},3260:(Je,Ie,x)=>{x.d(Ie,{L:()=>re,Q:()=>P});var c=x(655),B=x(576);function P(oe){return(0,c.FC)(this,arguments,function*(){const ce=oe.getReader();try{for(;;){const{value:le,done:pe}=yield(0,c.qq)(ce.read());if(pe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(le)}}finally{ce.releaseLock()}})}function re(oe){return(0,B.m)(oe?.getReader)}},4482:(Je,Ie,x)=>{x.d(Ie,{A:()=>B,e:()=>P});var c=x(576);function B(re){return(0,c.m)(re?.lift)}function P(re){return oe=>{if(B(oe))return oe.lift(function(he){try{return re(he,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Je,Ie,x)=>{function c(){}x.d(Ie,{Z:()=>c})},9635:(Je,Ie,x)=>{x.d(Ie,{U:()=>P,z:()=>B});var c=x(4671);function B(...re){return P(re)}function P(re){return 0===re.length?c.y:1===re.length?re[0]:function(he){return re.reduce((ce,le)=>le(ce),he)}}},7849:(Je,Ie,x)=>{x.d(Ie,{h:()=>P});var c=x(2416),B=x(3410);function P(re){B.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw re;oe(re)})}},4532:(Je,Ie,x)=>{function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Ie,{z:()=>c})},655:(Je,Ie,x)=>{function re(K,Q){var ue={};for(var ie in K)Object.prototype.hasOwnProperty.call(K,ie)&&Q.indexOf(ie)<0&&(ue[ie]=K[ie]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(ie=Object.getOwnPropertySymbols(K);Ne<ie.length;Ne++)Q.indexOf(ie[Ne])<0&&Object.prototype.propertyIsEnumerable.call(K,ie[Ne])&&(ue[ie[Ne]]=K[ie[Ne]])}return ue}function le(K,Q,ue,ie){return new(ue||(ue=Promise))(function(xe,Xe){function Vt($t){try{Ue(ie.next($t))}catch(Qt){Xe(Qt)}}function bt($t){try{Ue(ie.throw($t))}catch(Qt){Xe(Qt)}}function Ue($t){$t.done?xe($t.value):function Ne(xe){return xe instanceof ue?xe:new ue(function(Xe){Xe(xe)})}($t.value).then(Vt,bt)}Ue((ie=ie.apply(K,Q||[])).next())})}function me(K){return this instanceof me?(this.v=K,this):new me(K)}function de(K,Q,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,ie=ue.apply(K,Q||[]),xe=[];return Ne={},Xe("next"),Xe("throw"),Xe("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Xe(Ft){ie[Ft]&&(Ne[Ft]=function(Lt){return new Promise(function(St,wt){xe.push([Ft,Lt,St,wt])>1||Vt(Ft,Lt)})})}function Vt(Ft,Lt){try{!function bt(Ft){Ft.value instanceof me?Promise.resolve(Ft.value.v).then(Ue,$t):Qt(xe[0][2],Ft)}(ie[Ft](Lt))}catch(St){Qt(xe[0][3],St)}}function Ue(Ft){Vt("next",Ft)}function $t(Ft){Vt("throw",Ft)}function Qt(Ft,Lt){Ft(Lt),xe.shift(),xe.length&&Vt(xe[0][0],xe[0][1])}}function $e(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,Q=K[Symbol.asyncIterator];return Q?Q.call(K):(K=function Y(K){var Q="function"==typeof Symbol&&Symbol.iterator,ue=Q&&K[Q],ie=0;if(ue)return ue.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ie>=K.length&&(K=void 0),{value:K&&K[ie++],done:!K}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),ue={},ie("next"),ie("throw"),ie("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function ie(xe){ue[xe]=K[xe]&&function(Xe){return new Promise(function(Vt,bt){!function Ne(xe,Xe,Vt,bt){Promise.resolve(bt).then(function(Ue){xe({value:Ue,done:Vt})},Xe)}(Vt,bt,(Xe=K[xe](Xe)).done,Xe.value)})}}}x.d(Ie,{FC:()=>de,KL:()=>$e,_T:()=>re,mG:()=>le,qq:()=>me})},4650:(Je,Ie,x)=>{x.d(Ie,{$8M:()=>Ca,$Z:()=>ps,AFp:()=>up,AaK:()=>le,CRH:()=>wC,CZH:()=>lp,CqO:()=>Ka,D6c:()=>aE,EJc:()=>LD,F4k:()=>sc,FYo:()=>dd,FiY:()=>_e,G48:()=>YC,GfV:()=>ny,Gpc:()=>H,JOm:()=>ei,LFG:()=>an,LSH:()=>$u,Lbi:()=>FD,Lck:()=>Gi,MMx:()=>tC,NdJ:()=>Ya,OlP:()=>en,Oqu:()=>im,PXZ:()=>s_,Q6J:()=>Td,QGY:()=>ic,QP$:()=>Me,Qsj:()=>p0,R0b:()=>ai,RDi:()=>OE,Rgc:()=>Jd,SBq:()=>jl,Sil:()=>$D,Suo:()=>EC,TTD:()=>Ai,TgZ:()=>Ad,X6Q:()=>KC,XFs:()=>je,Xpm:()=>Ee,Xts:()=>zh,Y36:()=>ti,YKP:()=>Zd,YNc:()=>bd,Yjl:()=>V,Yz7:()=>Lt,Z0I:()=>jr,ZZ4:()=>f_,_Bn:()=>zd,_UZ:()=>qg,_Vd:()=>Va,_c5:()=>dI,_uU:()=>xf,aQg:()=>p_,c2e:()=>Ym,cJS:()=>wt,cg1:()=>fc,dDg:()=>Mb,dqk:()=>pt,eFA:()=>zC,ekj:()=>Qg,eoX:()=>ZD,f3M:()=>Xr,g9A:()=>FC,h0i:()=>Ii,hGG:()=>jn,hij:()=>Of,iGM:()=>Ec,ifc:()=>tt,ip1:()=>ap,jDz:()=>nC,kL8:()=>Jl,lG2:()=>Z,lqb:()=>La,lri:()=>zD,n5z:()=>Ni,oAB:()=>xt,oxw:()=>Ky,q4F:()=>ry,qLn:()=>Ba,qOj:()=>un,qZA:()=>bf,rWj:()=>WC,sBO:()=>nI,sIi:()=>hn,s_b:()=>Xf,soG:()=>sh,tb:()=>LC,tp0:()=>nt,uIk:()=>Ef,vHH:()=>ye,vpe:()=>lo,wAp:()=>ct,xp6:()=>ly,z2F:()=>pp,zSh:()=>Xp,zs3:()=>vr});var c=x(7579),B=x(727),P=x(9751),re=x(6451),oe=x(3099);function he(r){for(let i in r)if(r[i]===he)return i;throw Error("Could not find renamed property on target object.")}function ce(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function le(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(le).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function pe(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const G=he({__forward_ref__:he});function H(r){return r.__forward_ref__=H,r.toString=function(){return le(this())},r}function Y(r){return ke(r)?r():r}function ke(r){return"function"==typeof r&&r.hasOwnProperty(G)&&r.__forward_ref__===H}class ye extends Error{constructor(i,o){super(function Ze(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function me(r){return"string"==typeof r?r:null==r?"":String(r)}function Ae(r,i){throw new ye(-201,!1)}function bt(r,i){null==r&&function Ue(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function Lt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function wt(r){return{providers:r.providers||[],imports:r.imports||[]}}function qn(r){return sr(r,or)||sr(r,Rr)}function jr(r){return null!==qn(r)}function sr(r,i){return r.hasOwnProperty(i)?r[i]:null}function Wr(r){return r&&(r.hasOwnProperty(yn)||r.hasOwnProperty(Gr))?r[yn]:null}const or=he({\u0275prov:he}),yn=he({\u0275inj:he}),Rr=he({ngInjectableDef:he}),Gr=he({ngInjectorDef:he});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let xn;function qt(r){const i=xn;return xn=r,i}function Wn(r,i,o){const l=qn(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&je.Optional?null:void 0!==i?i:void Ae(le(r))}function Kt(r){return{toString:r}.toString()}var Jt=(()=>((Jt=Jt||{})[Jt.OnPush=0]="OnPush",Jt[Jt.Default=1]="Default",Jt))(),tt=(()=>{return(r=tt||(tt={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",tt;var r})();const pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xn={},ut=[],er=he({\u0275cmp:he}),yt=he({\u0275dir:he}),fr=he({\u0275pipe:he}),Pt=he({\u0275mod:he}),Vn=he({\u0275fac:he}),rn=he({__NG_ELEMENT_ID__:he});let We=0;function Ee(r){return Kt(()=>{const o=!0===r.standalone,l={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||ut,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||tt.Emulated,id:"c"+We++,styles:r.styles||ut,_:null,setInput:null,schemas:r.schemas||null,tView:null},h=r.dependencies,m=r.features;return u.inputs=$(r.inputs,l),u.outputs=$(r.outputs),m&&m.forEach(v=>v(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(at).filter(lt):null,u.pipeDefs=h?()=>("function"==typeof h?h():h).map(ee).filter(lt):null,u})}function at(r){return R(r)||k(r)}function lt(r){return null!==r}function xt(r){return Kt(()=>({type:r.type,bootstrap:r.bootstrap||ut,declarations:r.declarations||ut,imports:r.imports||ut,exports:r.exports||ut,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function $(r,i){if(null==r)return Xn;const o={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=l,i&&(i[u]=h)}return o}const Z=Ee;function V(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function R(r){return r[er]||null}function k(r){return r[yt]||null}function ee(r){return r[fr]||null}function Me(r){const i=R(r)||k(r)||ee(r);return null!==i&&i.standalone}function qe(r,i){const o=r[Pt]||null;if(!o&&!0===i)throw new Error(`Type ${le(r)} does not have '\u0275mod' property.`);return o}function On(r){return Array.isArray(r)&&"object"==typeof r[1]}function Ir(r){return Array.isArray(r)&&!0===r[1]}function Is(r){return 0!=(8&r.flags)}function dl(r){return 2==(2&r.flags)}function go(r){return 1==(1&r.flags)}function gr(r){return null!==r.template}function hl(r){return 0!=(256&r[2])}function Kn(r,i){return r.hasOwnProperty(Vn)?r[Vn]:null}class Ss{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ai(){return du}function du(r){return r.type.prototype.ngOnChanges&&(r.setInput=pl),la}function la(){const r=Ms(this),i=r?.current;if(i){const o=r.previous;if(o===Xn)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function pl(r,i,o,l){const u=Ms(r)||function yh(r,i){return r[hu]=i}(r,{previous:Xn,current:null}),h=u.current||(u.current={}),m=u.previous,v=this.declaredInputs[o],E=m[v];h[v]=new Ss(E&&E.currentValue,i,m===Xn),r[l]=i}Ai.ngInherit=!0;const hu="__ngSimpleChanges__";function Ms(r){return r[hu]||null}function mn(r){for(;Array.isArray(r);)r=r[0];return r}function Nr(r,i){return mn(i[r])}function Gn(r,i){return mn(i[r.index])}function Rs(r,i){return r.data[i]}function Ut(r,i){const o=i[r];return On(o)?o:o[0]}function Si(r){return 64==(64&r[2])}function Ar(r,i){return null==i?null:r[i]}function vo(r){r[18]=0}function vn(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const _t={lFrame:Ro(null),bindingsEnabled:!0};function ts(){return _t.bindingsEnabled}function be(){return _t.lFrame.lView}function Rt(){return _t.lFrame.tView}function kn(){let r=Ns();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ns(){return _t.lFrame.currentTNode}function lr(r,i){const o=_t.lFrame;o.currentTNode=r,o.isParent=i}function da(){return _t.lFrame.isParent}function Ao(){return _t.lFrame.bindingIndex++}function mu(r,i){const o=_t.lFrame;o.bindingIndex=o.bindingRootIndex=r,Os(i)}function Os(r){_t.lFrame.currentDirectiveIndex=r}function So(){return _t.lFrame.currentQueryIndex}function Cl(r){_t.lFrame.currentQueryIndex=r}function Mo(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function _u(r,i,o){if(o&je.SkipSelf){let u=i,h=r;for(;!(u=u.parent,null!==u||o&je.Host||(u=Mo(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;i=u,r=h}const l=_t.lFrame=Pc();return l.currentTNode=i,l.lView=r,!0}function ks(r){const i=Pc(),o=r[1];_t.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Pc(){const r=_t.lFrame,i=null===r?null:r.child;return null===i?Ro(r):i}function Ro(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Nc(){const r=_t.lFrame;return _t.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const yu=Nc;function Mi(){const r=Nc();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function cn(){return _t.lFrame.selectedIndex}function pi(r){_t.lFrame.selectedIndex=r}function sn(){const r=_t.lFrame;return Rs(r.tView,r.selectedIndex)}function ha(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:b,ngOnDestroy:M}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),v&&((r.contentHooks||(r.contentHooks=[])).push(o,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,v)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),b&&((r.viewHooks||(r.viewHooks=[])).push(o,b),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,b)),null!=M&&(r.destroyHooks||(r.destroyHooks=[])).push(o,M)}}function Fs(r,i,o){Vs(r,i,3,o)}function Ls(r,i,o,l){(3&r[2])===o&&Vs(r,i,o,l)}function Eu(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Vs(r,i,o,l){const h=l??-1,m=i.length-1;let v=0;for(let E=void 0!==l?65535&r[18]:0;E<m;E++)if("number"==typeof i[E+1]){if(v=i[E],null!=l&&v>=l)break}else i[E]<0&&(r[18]+=65536),(v<h||-1==h)&&(wu(r,o,i,E),r[18]=(4294901760&r[18])+E+2),E++}function wu(r,i,o,l){const u=o[l]<0,h=o[l+1],v=r[u?-o[l]:o[l]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class Sr{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function gi(r,i,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const h=o[l++],m=o[l++],v=o[l++];r.setAttribute(i,m,v,h)}else{const h=u,m=o[++l];Tl(h)?r.setProperty(i,h,m):r.setAttribute(i,h,m),l++}}return l}function Po(r){return 3===r||4===r||6===r}function Tl(r){return 64===r.charCodeAt(0)}function No(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const u=i[l];"number"==typeof u?o=u:0===o||Iu(r,o,u,null,-1===o||2===o?i[++l]:null)}}return r}function Iu(r,i,o,l,u){let h=0,m=r.length;if(-1===i)m=-1;else for(;h<r.length;){const v=r[h++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=h-1;break}}}for(;h<r.length;){const v=r[h];if("number"==typeof v)break;if(v===o){if(null===l)return void(null!==u&&(r[h+1]=u));if(l===r[h+1])return void(r[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==m&&(r.splice(m,0,i),h=m+1),r.splice(h++,0,o),null!==l&&r.splice(h++,0,l),null!==u&&r.splice(h++,0,u)}function kc(r){return-1!==r}function Ln(r){return 32767&r}function Pi(r,i){let o=function Fc(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let Al=!0;function xo(r){const i=Al;return Al=r,i}let bu=0;const _r={};function mi(r,i){const o=_a(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,Sl(l.data,r),Sl(i,null),Sl(l.blueprint,null));const u=Oo(r,i),h=r.injectorIndex;if(kc(u)){const m=Ln(u),v=Pi(u,i),E=v[1].data;for(let b=0;b<8;b++)i[h+b]=v[m+b]|E[m+b]}return i[h+8]=u,h}function Sl(r,i){r.push(0,0,0,0,0,0,0,0,i)}function _a(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Oo(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,u=i;for(;null!==u;){if(l=zs(u),null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function rs(r,i,o){!function Tu(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(rn)&&(l=o[rn]),null==l&&(l=o[rn]=bu++);const u=255&l;i.data[r+(u>>5)]|=1<<u}(r,i,o)}function Bs(r,i,o){if(o&je.Optional||void 0!==r)return r;Ae()}function $s(r,i,o,l){if(o&je.Optional&&void 0===l&&(l=null),0==(o&(je.Self|je.Host))){const u=r[9],h=qt(void 0);try{return u?u.get(i,l,o&je.Optional):Wn(i,l,o&je.Optional)}finally{qt(h)}}return Bs(l,0,o)}function js(r,i,o,l=je.Default,u){if(null!==r){if(1024&i[2]){const m=function Uc(r,i,o,l,u){let h=r,m=i;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const v=Au(h,m,o,l|je.Self,_r);if(v!==_r)return v;let E=h.parent;if(!E){const b=m[21];if(b){const M=b.get(o,_r,l);if(M!==_r)return M}E=zs(m),m=m[15]}h=E}return u}(r,i,o,l,_r);if(m!==_r)return m}const h=Au(r,i,o,l,_r);if(h!==_r)return h}return $s(i,o,l,u)}function Au(r,i,o,l,u){const h=function Vc(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(rn)?r[rn]:void 0;return"number"==typeof i?i>=0?255&i:Ml:i}(o);if("function"==typeof h){if(!_u(i,r,l))return l&je.Host?Bs(u,0,l):$s(i,o,l,u);try{const m=h(l);if(null!=m||l&je.Optional)return m;Ae()}finally{yu()}}else if("number"==typeof h){let m=null,v=_a(r,i),E=-1,b=l&je.Host?i[16][6]:null;for((-1===v||l&je.SkipSelf)&&(E=-1===v?Oo(r,i):i[v+8],-1!==E&&va(l,!1)?(m=i[1],v=Ln(E),i=Pi(E,i)):v=-1);-1!==v;){const M=i[1];if(Hs(h,v,M.data)){const O=ya(v,i,o,m,l,b);if(O!==_r)return O}E=i[v+8],-1!==E&&va(l,i[1].data[v+8]===b)&&Hs(h,v,i)?(m=M,v=Ln(E),i=Pi(E,i)):v=-1}}return u}function ya(r,i,o,l,u,h){const m=i[1],v=m.data[r+8],M=Fo(v,m,o,null==l?dl(v)&&Al:l!=m&&0!=(3&v.type),u&je.Host&&h===v);return null!==M?qr(i,m,M,v):_r}function Fo(r,i,o,l,u){const h=r.providerIndexes,m=i.data,v=1048575&h,E=r.directiveStart,M=h>>20,z=u?v+M:r.directiveEnd;for(let te=l?v:v+M;te<z;te++){const fe=m[te];if(te<E&&o===fe||te>=E&&fe.type===o)return te}if(u){const te=m[E];if(te&&gr(te)&&te.type===o)return E}return null}function qr(r,i,o,l){let u=r[o];const h=i.data;if(function bl(r){return r instanceof Sr}(u)){const m=u;m.resolving&&function He(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new ye(-200,`Circular dependency in DI detected for ${r}${o}`)}(function de(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():me(r)}(h[o]));const v=xo(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?qt(m.injectImpl):null;_u(r,l,je.Default);try{u=r[o]=m.factory(void 0,h,r,l),i.firstCreatePass&&o>=l.directiveStart&&function Il(r,i,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(l){const m=du(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==E&&qt(E),xo(v),m.resolving=!1,yu()}}return u}function Hs(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function va(r,i){return!(r&je.Self||r&je.Host&&i)}class Ws{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return js(this._tNode,this._lView,i,l,o)}}function Ml(){return new Ws(kn(),be())}function Ni(r){return Kt(()=>{const i=r.prototype.constructor,o=i[Vn]||Gs(i),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const h=u[Vn]||Gs(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Gs(r){return ke(r)?()=>{const i=Gs(Y(r));return i&&i()}:Kn(r)}function zs(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function Ca(r){return function ko(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const h=o[u];if(Po(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(h===i)return o[u+1];u+=2}}}return null}(kn(),r)}const Zs="__parameters__";function Ks(r,i,o){return Kt(()=>{const l=function Rl(r){return function(...o){if(r){const l=r(...o);for(const u in l)this[u]=l[u]}}}(i);function u(...h){if(this instanceof u)return l.apply(this,h),this;const m=new u(...h);return v.annotation=m,v;function v(E,b,M){const O=E.hasOwnProperty(Zs)?E[Zs]:Object.defineProperty(E,Zs,{value:[]})[Zs];for(;O.length<=M;)O.push(null);return(O[M]=O[M]||[]).push(m),E}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class en{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Lt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function nn(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),nn(l,i)):i!==r&&i.push(l)}return i}function _i(r,i){r.forEach(o=>Array.isArray(o)?_i(o,i):i(o))}function ss(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function nr(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function st(r,i,o){let l=Jr(r,i);return l>=0?r[1|l]=o:(l=~l,function jc(r,i,o,l){let u=r.length;if(u==i)r.push(o,l);else if(1===u)r.push(l,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function Pl(r,i){const o=Jr(r,i);if(o>=0)return r[1|o]}function Jr(r,i){return function Lo(r,i,o){let l=0,u=r.length>>o;for(;u!==l;){const h=l+(u-l>>1),m=r[h<<o];if(i===m)return h<<o;m>i?u=h:l=h+1}return~(u<<o)}(r,i,1)}const Or={},ba="__NG_DI_FLAG__",Fi="ngTempTokenPath",rr=/\n/gm,on="__source";let ls;function us(r){const i=ls;return ls=r,i}function Mn(r,i=je.Default){if(void 0===ls)throw new ye(-203,!1);return null===ls?Wn(r,void 0,i):ls.get(r,i&je.Optional?null:void 0,i)}function an(r,i=je.Default){return(function Dn(){return xn}()||Mn)(Y(r),i)}function Xr(r,i=je.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),an(r,i)}function w(r){const i=[];for(let o=0;o<r.length;o++){const l=Y(r[o]);if(Array.isArray(l)){if(0===l.length)throw new ye(900,!1);let u,h=je.Default;for(let m=0;m<l.length;m++){const v=l[m],E=A(v);"number"==typeof E?-1===E?u=v.token:h|=E:u=v}i.push(an(u,h))}else i.push(an(l))}return i}function D(r,i){return r[ba]=i,r.prototype[ba]=i,r}function A(r){return r[ba]}const _e=D(Ks("Optional"),8),nt=D(Ks("SkipSelf"),4);var ei=(()=>((ei=ei||{})[ei.Important=1]="Important",ei[ei.DashCase=2]="DashCase",ei))();const Ol=new Map;let Sh=0;const f="__ngContext__";function p(r,i){On(i)?(r[f]=i[20],function Np(r){Ol.set(r[20],r)}(i)):r[f]=i}function kl(r,i){return undefined(r,i)}function Ho(r){const i=r[3];return Ir(i)?i[3]:i}function Wo(r){return xh(r[13])}function Xs(r){return xh(r[4])}function xh(r){for(;null!==r&&!Ir(r);)r=r[4];return r}function xa(r,i,o,l,u){if(null!=l){let h,m=!1;Ir(l)?h=l:On(l)&&(m=!0,l=l[0]);const v=mn(l);0===r&&null!==o?null==u?O_(i,o,v):Oa(i,o,v,u||null,!0):1===r&&null!==o?Oa(i,o,v,u||null,!0):2===r?function Lh(r,i,o){const l=Ui(r,i);l&&function Lp(r,i,o,l){r.removeChild(i,o,l)}(r,l,i,o)}(i,v,m):3===r&&i.destroyNode(v),null!=h&&function PE(r,i,o,l,u){const h=o[7];h!==mn(o)&&xa(i,r,l,h,u);for(let v=10;v<o.length;v++){const E=o[v];Vl(E[1],E,r,i,l,h)}}(i,r,h,o,u)}}function Jc(r,i,o){return r.createElement(i,o)}function R_(r,i){const o=r[9],l=o.indexOf(i),u=i[3];512&i[2]&&(i[2]&=-513,vn(u,-1)),o.splice(l,1)}function Op(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const u=l[17];null!==u&&u!==r&&R_(u,l),i>0&&(r[o-1][4]=l[4]);const h=nr(r,10+i);!function Fl(r,i){Vl(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function P_(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Vl(r,i,o,3,null,null),function bE(r){let i=r[13];if(!i)return kp(r[1],r);for(;i;){let o=null;if(On(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)On(i)&&kp(i[1],i),i=i[3];null===i&&(i=r),On(i)&&kp(i[1],i),o=i&&i[4]}i=o}}(i)}}function kp(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function ME(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const u=i[o[l]];if(!(u instanceof Sr)){const h=o[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=u[h[m]],E=h[m+1];try{E.call(v)}finally{}}else try{h.call(u)}finally{}}}}(r,i),function SE(r,i){const o=r.cleanup,l=i[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],v="function"==typeof m?m(i):mn(i[m]),E=l[u=o[h+2]],b=o[h+3];"boolean"==typeof b?v.removeEventListener(o[h],E,b):b>=0?l[u=b]():l[u=-b].unsubscribe(),h+=2}else{const m=l[u=o[h+1]];o[h].call(m)}if(null!==l){for(let h=u+1;h<l.length;h++)(0,l[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&Ir(i[3])){o!==i[3]&&R_(o,i);const l=i[19];null!==l&&l.detachView(r)}!function ku(r){Ol.delete(r[20])}(i)}}function N_(r,i,o){return function x_(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const u=r.data[l.directiveStart].encapsulation;if(u===tt.None||u===tt.Emulated)return null}return Gn(l,o)}(r,i.parent,o)}function Oa(r,i,o,l,u){r.insertBefore(i,o,l,u)}function O_(r,i,o){r.appendChild(i,o)}function Fp(r,i,o,l,u){null!==l?Oa(r,i,o,l,u):O_(r,i,o)}function Ui(r,i){return r.parentNode(i)}let Wp,F_=function Up(r,i,o){return 40&r.type?Gn(r,o):null};function Fh(r,i,o,l){const u=N_(r,l,i),h=i[11],v=function Vp(r,i,o){return F_(r,i,o)}(l.parent||i[6],l,i);if(null!=u)if(Array.isArray(o))for(let E=0;E<o.length;E++)Fp(h,u,o[E],v,!1);else Fp(h,u,o,v,!1)}function Ll(r,i){if(null!==i){const o=i.type;if(3&o)return Gn(i,r);if(4&o)return Xc(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return Ll(r,l);{const u=r[i.index];return Ir(u)?Xc(-1,u):mn(u)}}if(32&o)return kl(i,r)()||mn(r[i.index]);{const l=$p(r,i);return null!==l?Array.isArray(l)?l[0]:Ll(Ho(r[16]),l):Ll(r,i.next)}}return null}function $p(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Xc(r,i){const o=10+r+1;if(o<i.length){const l=i[o],u=l[1].firstChild;if(null!==u)return Ll(l,u)}return i[7]}function ed(r,i,o,l,u,h,m){for(;null!=o;){const v=l[o.index],E=o.type;if(m&&0===i&&(v&&p(mn(v),l),o.flags|=4),64!=(64&o.flags))if(8&E)ed(r,i,o.child,l,u,h,!1),xa(i,r,u,v,h);else if(32&E){const b=kl(o,l);let M;for(;M=b();)xa(i,r,u,M,h);xa(i,r,u,v,h)}else 16&E?Uu(r,i,l,o,u,h):xa(i,r,u,v,h);o=m?o.projectionNext:o.next}}function Vl(r,i,o,l,u,h){ed(o,l,r.firstChild,i,u,h,!1)}function Uu(r,i,o,l,u,h){const m=o[16],E=m[6].projection[l.projection];if(Array.isArray(E))for(let b=0;b<E.length;b++)xa(i,r,u,E[b],h);else ed(r,i,E,m[3],u,h,!0)}function Vh(r,i,o){r.setAttribute(i,"style",o)}function Uh(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function OE(r){Wp=r}class jh{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Zo(r){return r instanceof jh?r.changingThisBreaksApplicationSecurity:r}const sd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Un=(()=>((Un=Un||{})[Un.NONE=0]="NONE",Un[Un.HTML=1]="HTML",Un[Un.STYLE=2]="STYLE",Un[Un.SCRIPT=3]="SCRIPT",Un[Un.URL=4]="URL",Un[Un.RESOURCE_URL=5]="RESOURCE_URL",Un))();function $u(r){const i=function Fa(){const r=be();return r&&r[12]}();return i?i.sanitize(Un.URL,r)||"":function qo(r,i){const o=function $E(r){return r instanceof jh&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?Zo(r):function Bl(r){return(r=String(r)).match(sd)?r:"unsafe:"+r}(me(r))}const zh=new en("ENVIRONMENT_INITIALIZER"),ju=new en("INJECTOR",-1),Kp=new en("INJECTOR_DEF_TYPES");class z_{get(i,o=Or){if(o===Or){const l=new Error(`NullInjectorError: No provider for ${le(i)}!`);throw l.name="NullInjectorError",l}return o}}function t0(...r){return{\u0275providers:Z_(0,r)}}function Z_(r,...i){const o=[],l=new Set;let u;return _i(i,h=>{const m=h;Yp(m,o,[],l)&&(u||(u=[]),u.push(m))}),void 0!==u&&q_(u,o),o}function q_(r,i){for(let o=0;o<r.length;o++){const{providers:u}=r[o];_i(u,h=>{i.push(h)})}}function Yp(r,i,o,l){if(!(r=Y(r)))return!1;let u=null,h=Wr(r);const m=!h&&R(r);if(h||m){if(m&&!m.standalone)return!1;u=r}else{const E=r.ngModule;if(h=Wr(E),!h)return!1;u=E}const v=l.has(u);if(m){if(v)return!1;if(l.add(u),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const b of E)Yp(b,i,o,l)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let b;l.add(u);try{_i(h.imports,M=>{Yp(M,i,o,l)&&(b||(b=[]),b.push(M))})}finally{}void 0!==b&&q_(b,i)}if(!v){const b=Kn(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:ut},{provide:Kp,useValue:u,multi:!0},{provide:zh,useValue:()=>an(u),multi:!0})}const E=h.providers;null==E||v||_i(E,M=>{i.push(M)})}}return u!==r&&void 0!==r.providers}const n0=he({provide:String,useValue:he});function Jp(r){return null!==r&&"object"==typeof r&&n0 in r}function $l(r){return"function"==typeof r}const Xp=new en("Set Injector scope."),ud={},s0={};let Zh;function cd(){return void 0===Zh&&(Zh=new z_),Zh}class La{}class eg extends La{constructor(i,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kh(i,m=>this.processProvider(m)),this.records.set(ju,Hu(void 0,this)),u.has("environment")&&this.records.set(La,Hu(void 0,this));const h=this.records.get(Xp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Kp.multi,ut,je.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=us(this),l=qt(void 0);try{return i()}finally{us(o),qt(l)}}get(i,o=Or,l=je.Default){this.assertNotDestroyed();const u=us(this),h=qt(void 0);try{if(!(l&je.SkipSelf)){let v=this.records.get(i);if(void 0===v){const E=function J_(r){return"function"==typeof r||"object"==typeof r&&r instanceof en}(i)&&qn(i);v=E&&this.injectableDefInScope(E)?Hu(qh(i),ud):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(l&je.Self?cd():this.parent).get(i,o=l&je.Optional&&o===Or?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Fi]=m[Fi]||[]).unshift(le(i)),u)throw m;return function L(r,i,o,l){const u=r[Fi];throw i[on]&&u.unshift(i[on]),r.message=function q(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=le(i);if(Array.isArray(i))u=i.map(le).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):le(v)))}u=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${r.replace(rr,"\n  ")}`}("\n"+r.message,u,o,l),r.ngTokenPath=u,r[Fi]=null,r}(m,i,"R3InjectorError",this.source)}throw m}finally{qt(h),us(u)}}resolveInjectorInitializers(){const i=us(this),o=qt(void 0);try{const l=this.get(zh.multi,ut,je.Self);for(const u of l)u()}finally{us(i),qt(o)}}toString(){const i=[],o=this.records;for(const l of o.keys())i.push(le(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(i){let o=$l(i=Y(i))?i:Y(i&&i.provide);const l=function a0(r){return Jp(r)?Hu(void 0,r.useValue):Hu(Q_(r),ud)}(i);if($l(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=Hu(void 0,ud,!0),u.factory=()=>w(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,l)}hydrate(i,o){return o.value===ud&&(o.value=s0,o.value=o.factory()),"object"==typeof o.value&&o.value&&function u0(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Y(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function qh(r){const i=qn(r),o=null!==i?i.factory:Kn(r);if(null!==o)return o;if(r instanceof en)throw new ye(204,!1);if(r instanceof Function)return function o0(r){const i=r.length;if(i>0)throw function os(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}(i,"?"),new ye(204,!1);const o=function gn(r){const i=r&&(r[or]||r[Rr]);if(i){const o=function Hr(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new ye(204,!1)}function Q_(r,i,o){let l;if($l(r)){const u=Y(r);return Kn(u)||qh(u)}if(Jp(r))l=()=>Y(r.useValue);else if(function Y_(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...w(r.deps||[]));else if(function K_(r){return!(!r||!r.useExisting)}(r))l=()=>an(Y(r.useExisting));else{const u=Y(r&&(r.useClass||r.provide));if(!function l0(r){return!!r.deps}(r))return Kn(u)||qh(u);l=()=>new u(...w(r.deps))}return l}function Hu(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function tg(r){return!!r.\u0275providers}function Kh(r,i){for(const o of r)Array.isArray(o)?Kh(o,i):tg(o)?Kh(o.\u0275providers,i):i(o)}class c0{}class h0{resolveComponentFactory(i){throw function d0(r){const i=Error(`No component factory found for ${le(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Va=(()=>{class r{}return r.NULL=new h0,r})();function ty(){return Ua(kn(),be())}function Ua(r,i){return new jl(Gn(r,i))}let jl=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=ty,r})();function f0(r){return r instanceof jl?r.nativeElement:r}class dd{}let p0=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function g0(){const r=be(),o=Ut(kn().index,r);return(On(o)?o:r)[11]}(),r})(),m0=(()=>{class r{}return r.\u0275prov=Lt({token:r,providedIn:"root",factory:()=>null}),r})();class ny{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ry=new ny("14.2.12"),Yh={};function Qh(r){return r.ngOriginalError}class Ba{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Qh(i);for(;o&&Qh(o);)o=Qh(o);return o||null}}function eo(r){return r instanceof Function?r():r}function ng(r,i,o){let l=r.length;for(;;){const u=r.indexOf(i,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const h=i.length;if(u+h===l||r.charCodeAt(u+h)<=32)return u}o=u+1}}const tf="ng-template";function D0(r,i,o){let l=0;for(;l<r.length;){let u=r[l++];if(o&&"class"===u){if(u=r[l],-1!==ng(u.toLowerCase(),i,0))return!0}else if(1===u){for(;l<r.length&&"string"==typeof(u=r[l++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function sy(r){return 4===r.type&&r.value!==tf}function I0(r,i,o){return i===(4!==r.type||o?r.value:tf)}function oy(r,i,o){let l=4;const u=r.attrs||[],h=function ay(r){for(let i=0;i<r.length;i++)if(Po(r[i]))return i;return r.length}(u);let m=!1;for(let v=0;v<i.length;v++){const E=i[v];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!I0(r,E,o)||""===E&&1===i.length){if(fs(l))return!1;m=!0}}else{const b=8&l?E:i[++v];if(8&l&&null!==r.attrs){if(!D0(r.attrs,b,o)){if(fs(l))return!1;m=!0}continue}const O=XI(8&l?"class":E,u,sy(r),o);if(-1===O){if(fs(l))return!1;m=!0;continue}if(""!==b){let z;z=O>h?"":u[O+1].toLowerCase();const te=8&l?z:null;if(te&&-1!==ng(te,b,0)||2&l&&b!==z){if(fs(l))return!1;m=!0}}}}else{if(!m&&!fs(l)&&!fs(E))return!1;if(m&&fs(E))continue;m=!1,l=E|1&l}}return fs(l)||m}function fs(r){return 0==(1&r)}function XI(r,i,o,l){if(null===i)return-1;let u=0;if(l||!o){let h=!1;for(;u<i.length;){const m=i[u];if(m===r)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function b0(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function fd(r,i,o=!1){for(let l=0;l<i.length;l++)if(oy(r,i[l],o))return!0;return!1}function rg(r,i){return r?":not("+i.trim()+")":i}function A0(r){let i=r[0],o=1,l=2,u="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&l){const v=r[++o];u+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?u+="."+m:4&l&&(u+=" "+m);else""!==u&&!fs(m)&&(i+=rg(h,u),u=""),l=m,h=h||!fs(l);o++}return""!==u&&(i+=rg(h,u)),i}const Tt={};function ly(r){ig(Rt(),be(),cn()+r,!1)}function ig(r,i,o,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&Fs(i,h,o)}else{const h=r.preOrderHooks;null!==h&&Ls(i,h,0,o)}pi(o)}function hy(r,i=null,o=null,l){const u=dn(r,i,o,l);return u.resolveInjectorInitializers(),u}function dn(r,i=null,o=null,l,u=new Set){const h=[o||ut,t0(r)];return l=l||("object"==typeof r?void 0:le(r)),new eg(h,i||cd(),l||null,u)}let vr=(()=>{class r{static create(o,l){if(Array.isArray(o))return hy({name:""},l,o,"");{const u=o.name??"";return hy({name:u},o.parent,o.providers,u)}}}return r.THROW_IF_NOT_FOUND=Or,r.NULL=new z_,r.\u0275prov=Lt({token:r,providedIn:"any",factory:()=>an(ju)}),r.__NG_ELEMENT_ID__=-1,r})();function ti(r,i=je.Default){const o=be();return null===o?an(r,i):js(kn(),o,Y(r),i)}function ps(){throw new Error("invalid")}function af(r,i){return r<<17|i<<2}function Lr(r){return r>>17&32767}function Qn(r){return 2|r}function no(r){return(131068&r)>>2}function hg(r,i){return-131069&r|i<<2}function fg(r){return 1|r}function Dg(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],h=o[l+1];if(-1!==h){const m=r.data[h];Cl(u),m.contentQueries(2,i[h],h)}}}function ff(r,i,o,l,u,h,m,v,E,b,M){const O=i.blueprint.slice();return O[0]=u,O[2]=76|l,(null!==M||r&&1024&r[2])&&(O[2]|=1024),vo(O),O[3]=O[15]=r,O[8]=o,O[10]=m||r&&r[10],O[11]=v||r&&r[11],O[12]=E||r&&r[12]||null,O[9]=b||r&&r[9]||null,O[6]=h,O[20]=function Pp(){return Sh++}(),O[21]=M,O[16]=2==i.type?r[16]:O,O}function yi(r,i,o,l,u){let h=r.data[i];if(null===h)h=function md(r,i,o,l,u){const h=Ns(),m=da(),E=r.data[i]=function G0(r,i,o,l,u,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,l,u);return null===r.firstChild&&(r.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(r,i,o,l,u),function gu(){return _t.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=u;const m=function ca(){const r=_t.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return lr(h,!0),h}function zu(r,i,o,l){if(0===o)return-1;const u=i.length;for(let h=0;h<o;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return u}function Ig(r,i,o){ks(i);try{const l=r.viewQuery;null!==l&&Vg(1,l,o);const u=r.template;null!==u&&ql(r,i,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Dg(r,i),r.staticViewQueries&&Vg(2,r.viewQuery,o);const h=r.components;null!==h&&function j0(r,i){for(let o=0;o<i.length;o++)Lg(r,i[o])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,Mi()}}function Zl(r,i,o,l){const u=i[2];if(128!=(128&u)){ks(i);try{vo(i),function To(r){return _t.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&ql(r,i,o,2,l);const m=3==(3&u);if(m){const b=r.preOrderCheckHooks;null!==b&&Fs(i,b,null)}else{const b=r.preOrderHooks;null!==b&&Ls(i,b,0,null),Eu(i,0)}if(function Y0(r){for(let i=Wo(r);null!==i;i=Xs(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const u=o[l],h=u[3];0==(512&u[2])&&vn(h,1),u[2]|=512}}}(i),function K0(r){for(let i=Wo(r);null!==i;i=Xs(i))for(let o=10;o<i.length;o++){const l=i[o],u=l[1];Si(l)&&Zl(u,l,u.template,l[8])}}(i),null!==r.contentQueries&&Dg(r,i),m){const b=r.contentCheckHooks;null!==b&&Fs(i,b)}else{const b=r.contentHooks;null!==b&&Ls(i,b,1),Eu(i,1)}!function Py(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)pi(~u);else{const h=u,m=o[++l],v=o[++l];mu(m,h),v(2,i[h])}}}finally{pi(-1)}}(r,i);const v=r.components;null!==v&&function $0(r,i){for(let o=0;o<i.length;o++)Uy(r,i[o])}(i,v);const E=r.viewQuery;if(null!==E&&Vg(2,E,l),m){const b=r.viewCheckHooks;null!==b&&Fs(i,b)}else{const b=r.viewHooks;null!==b&&Ls(i,b,2),Eu(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,vn(i[3],-1))}finally{Mi()}}}function ql(r,i,o,l,u){const h=cn(),m=2&l;try{pi(-1),m&&i.length>22&&ig(r,i,22,!1),o(l,u)}finally{pi(h)}}function Tg(r,i,o){!ts()||(function Yt(r,i,o,l){const u=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||mi(o,i),p(l,i);const m=o.initialInputs;for(let v=u;v<h;v++){const E=r.data[v],b=gr(E);b&&Pn(i,o,E);const M=qr(i,r,v,o);p(M,i),null!==m&&q0(0,v-u,M,E,0,m),b&&(Ut(o.index,i)[8]=M)}}(r,i,o,Gn(o,i)),128==(128&o.flags)&&function Gt(r,i,o){const l=o.directiveStart,u=o.directiveEnd,h=o.index,m=function Rc(){return _t.lFrame.currentDirectiveIndex}();try{pi(h);for(let v=l;v<u;v++){const E=r.data[v],b=i[v];Os(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Nt(E,b)}}finally{pi(-1),Os(m)}}(r,i,o))}function Ag(r,i,o=Gn){const l=i.localNames;if(null!==l){let u=i.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],v=-1===m?o(i,r):r[m];r[u++]=v}}}function Ny(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Sg(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Sg(r,i,o,l,u,h,m,v,E,b){const M=22+l,O=M+u,z=function Mg(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:Tt);return o}(M,O),te="function"==typeof b?b():b;return z[1]={type:r,blueprint:z,template:o,queries:null,viewQuery:v,declTNode:i,data:z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:te,incompleteFirstPass:!1}}function Rg(r,i,o,l){const u=Za(i);null===o?u.push(l):(u.push(o),r.firstCreatePass&&kt(r).push(l,u.length-1))}function Pg(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const u=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,u):o[l]=[i,u]}return o}function Ng(r,i){const l=i.directiveEnd,u=r.data,h=i.attrs,m=[];let v=null,E=null;for(let b=i.directiveStart;b<l;b++){const M=u[b],O=M.inputs,z=null===h||sy(i)?null:Fg(O,h);m.push(z),v=Pg(O,b,v),E=Pg(M.outputs,b,E)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=v,i.outputs=E}function Oy(r,i){const o=Ut(i,r);16&o[2]||(o[2]|=32)}function Zu(r,i,o,l){let u=!1;if(ts()){const h=function za(r,i,o){const l=r.directiveRegistry;let u=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];fd(o,m.selectors,!1)&&(u||(u=[]),rs(mi(o,i),r,m.type),gr(m)?(ln(r,o),u.unshift(m)):u.push(m))}return u}(r,i,o),m=null===l?null:{"":-1};if(null!==h){u=!0,qu(o,r.data.length,h.length);for(let M=0;M<h.length;M++){const O=h[M];O.providersResolver&&O.providersResolver(O)}let v=!1,E=!1,b=zu(r,i,h.length,null);for(let M=0;M<h.length;M++){const O=h[M];o.mergedAttrs=No(o.mergedAttrs,O.hostAttrs),kg(r,o,i,b,O),Z0(b,O,m),null!==O.contentQueries&&(o.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(o.flags|=128);const z=O.type.prototype;!v&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),v=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),b++}Ng(r,o)}m&&function Og(r,i,o){if(i){const l=r.localNames=[];for(let u=0;u<i.length;u+=2){const h=o[i[u+1]];if(null==h)throw new ye(-301,!1);l.push(i[u],h)}}}(o,l,m)}return o.mergedAttrs=No(o.mergedAttrs,o.attrs),u}function xg(r,i,o,l,u,h){const m=h.hostBindings;if(m){let v=r.hostBindingOpCodes;null===v&&(v=r.hostBindingOpCodes=[]);const E=~i.index;(function Ly(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=E&&v.push(E),v.push(l,u,m)}}function Nt(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function ln(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Z0(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;gr(i)&&(o[""]=r)}}function qu(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function kg(r,i,o,l,u){r.data[l]=u;const h=u.factory||(u.factory=Kn(u.type)),m=new Sr(h,gr(u),ti);r.blueprint[l]=m,o[l]=m,xg(r,i,0,l,zu(r,o,u.hostVars,Tt),u)}function Pn(r,i,o){const l=Gn(i,r),u=Ny(o),h=r[10],m=pf(r,ff(r,u,null,o.onPush?32:16,l,i,h,h.createRenderer(l,o),null,null,null));r[i.index]=m}function Et(r,i,o,l,u,h){const m=Gn(r,i);!function Cr(r,i,o,l,u,h,m){if(null==h)r.removeAttribute(i,u,o);else{const v=null==m?me(h):m(h,l||"",u);r.setAttribute(i,u,v,o)}}(i[11],m,h,r.value,o,l,u)}function q0(r,i,o,l,u,h){const m=h[i];if(null!==m){const v=l.setInput;for(let E=0;E<m.length;){const b=m[E++],M=m[E++],O=m[E++];null!==v?l.setInput(o,O,b,M):o[M]=O}}}function Fg(r,i){let o=null,l=0;for(;l<i.length;){const u=i[l];if(0!==u)if(5!==u){if("number"==typeof u)break;r.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,r[u],i[l+1])),l+=2}else l+=2;else l+=4}return o}function Vy(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}function Uy(r,i){const o=Ut(i,r);if(Si(o)){const l=o[1];48&o[2]?Zl(l,o,l.template,o[8]):o[5]>0&&Xo(o)}}function Xo(r){for(let l=Wo(r);null!==l;l=Xs(l))for(let u=10;u<l.length;u++){const h=l[u];if(Si(h))if(512&h[2]){const m=h[1];Zl(m,h,m.template,h[8])}else h[5]>0&&Xo(h)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=Ut(o[l],r);Si(u)&&u[5]>0&&Xo(u)}}function Lg(r,i){const o=Ut(i,r),l=o[1];(function _d(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),Ig(l,o,o[8])}function pf(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function gf(r){for(;r;){r[2]|=32;const i=Ho(r);if(hl(r)&&!i)return r;r=i}return null}function mf(r,i,o,l=!0){const u=i[10];u.begin&&u.begin();try{Zl(r,i,r.template,o)}catch(m){throw l&&vd(i,m),m}finally{u.end&&u.end()}}function Vg(r,i,o){Cl(0),i(r,o)}function Za(r){return r[7]||(r[7]=[])}function kt(r){return r.cleanup||(r.cleanup=[])}function vd(r,i){const o=r[9],l=o?o.get(Ba,null):null;l&&l.handleError(i)}function _f(r,i,o,l,u){for(let h=0;h<o.length;){const m=o[h++],v=o[h++],E=i[m],b=r.data[m];null!==b.setInput?b.setInput(E,u,l,v):E[v]=u}}function Kl(r,i,o){let l=o?r.styles:null,u=o?r.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?h=v:1==h?u=pe(u,v):2==h&&(l=pe(l,v+": "+i[++m]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=u:r.classesWithoutHost=u}function ri(r,i,o,l,u=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&l.push(mn(h)),Ir(h))for(let v=10;v<h.length;v++){const E=h[v],b=E[1].firstChild;null!==b&&ri(E[1],E,b,l)}const m=o.type;if(8&m)ri(r,i,o.child,l);else if(32&m){const v=kl(o,i);let E;for(;E=v();)l.push(E)}else if(16&m){const v=$p(i,o);if(Array.isArray(v))l.push(...v);else{const E=Ho(i[16]);ri(E[1],E,v,l,!0)}}o=u?o.projectionNext:o.next}return l}class Cd{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return ri(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Ir(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Op(i,l),nr(o,l))}this._attachedToViewContainer=!1}P_(this._lView[1],this._lView)}onDestroy(i){Rg(this._lView[1],this._lView,null,i)}markForCheck(){gf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){mf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function M_(r,i){Vl(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=i}}class ii extends Cd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;mf(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Ug extends Va{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=R(i);return new Ku(o,this.ngModule)}}function yf(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class J0{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,l){const u=this.injector.get(i,Yh,l);return u!==Yh||o===Yh?u:this.parentInjector.get(i,o,l)}}class Ku extends c0{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function S0(r){return r.map(A0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return yf(this.componentDef.inputs)}get outputs(){return yf(this.componentDef.outputs)}create(i,o,l,u){let h=(u=u||this.ngModule)instanceof La?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new J0(i,h):i,v=m.get(dd,null);if(null===v)throw new ye(407,!1);const E=m.get(m0,null),b=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=l?function W0(r,i,o){return r.selectRootElement(i,o===tt.ShadowDom)}(b,l,this.componentDef.encapsulation):Jc(b,M,function Bg(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(M)),z=this.componentDef.onPush?288:272,te=Sg(0,null,null,1,0,null,null,null,null,null),fe=ff(null,te,null,z,null,null,v,b,E,m,null);let Oe,Be;ks(fe);try{const Qe=function $y(r,i,o,l,u,h){const m=o[1];o[22]=r;const E=yi(m,22,2,"#host",null),b=E.mergedAttrs=i.hostAttrs;null!==b&&(Kl(E,b,!0),null!==r&&(gi(u,r,b),null!==E.classes&&Uh(u,r,E.classes),null!==E.styles&&Vh(u,r,E.styles)));const M=l.createRenderer(r,i),O=ff(o,Ny(i),null,i.onPush?32:16,o[22],E,l,M,h||null,null,null);return m.firstCreatePass&&(rs(mi(E,o),m,i.type),ln(m,E),qu(E,o.length,1)),pf(o,O),o[22]=O}(O,this.componentDef,fe,v,b);if(O)if(l)gi(b,O,["ng-version",ry.full]);else{const{attrs:dt,classes:Te}=function M0(r){const i=[],o=[];let l=1,u=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===u?""!==h&&i.push(h,r[++l]):8===u&&o.push(h);else{if(!fs(u))break;u=h}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);dt&&gi(b,O,dt),Te&&Te.length>0&&Uh(b,O,Te.join(" "))}if(Be=Rs(te,22),void 0!==o){const dt=Be.projection=[];for(let Te=0;Te<this.ngContentSelectors.length;Te++){const ft=o[Te];dt.push(null!=ft?Array.from(ft):null)}}Oe=function tw(r,i,o,l){const u=o[1],h=function Fy(r,i,o){const l=kn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),kg(r,l,i,zu(r,i,1,null),o),Ng(r,l));const u=qr(i,r,l.directiveStart,l);p(u,i);const h=Gn(l,i);return h&&p(h,i),u}(u,o,i);if(r[8]=o[8]=h,null!==l)for(const v of l)v(h,i);if(i.contentQueries){const v=kn();i.contentQueries(1,h,v.directiveStart)}const m=kn();return!u.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(pi(m.index),xg(o[1],m,0,m.directiveStart,m.directiveEnd,i),Nt(i,h)),h}(Qe,this.componentDef,fe,[nw]),Ig(te,fe,null)}finally{Mi()}return new Yu(this.componentType,Oe,Ua(Be,fe),fe,Be)}}class Yu extends class X_{}{constructor(i,o,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new ii(u),this.componentType=i}setInput(i,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[i])){const h=this._rootLView;_f(h[1],h,u,i,o),Oy(h,this._tNode.index)}}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function nw(){const r=kn();ha(be()[1],r)}function un(r){let i=function jy(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let u;if(gr(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ye(903,!1);u=i.\u0275dir}if(u){if(o){l.push(u);const m=r;m.inputs=$g(r.inputs),m.declaredInputs=$g(r.declaredInputs),m.outputs=$g(r.outputs);const v=u.hostBindings;v&&Qu(r,v);const E=u.viewQuery,b=u.contentQueries;if(E&&vf(r,E),b&&jg(r,b),ce(r.inputs,u.inputs),ce(r.declaredInputs,u.declaredInputs),ce(r.outputs,u.outputs),gr(u)&&u.data.animation){const M=r.data;M.animation=(M.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(r),v===un&&(o=!1)}}i=Object.getPrototypeOf(i)}!function rw(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=i+=u.hostVars,u.hostAttrs=No(u.hostAttrs,o=No(o,u.hostAttrs))}}(l)}function $g(r){return r===Xn?{}:r===ut?[]:r}function vf(r,i){const o=r.viewQuery;r.viewQuery=o?(l,u)=>{i(l,u),o(l,u)}:i}function jg(r,i){const o=r.contentQueries;r.contentQueries=o?(l,u,h)=>{i(l,u,h),o(l,u,h)}:i}function Qu(r,i){const o=r.hostBindings;r.hostBindings=o?(l,u)=>{i(l,u),o(l,u)}:i}let Cf=null;function ms(){if(!Cf){const r=pt.Symbol;if(r&&r.iterator)Cf=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Cf=l)}}}return Cf}function hn(r){return!!wd(r)&&(Array.isArray(r)||!(r instanceof Map)&&ms()in r)}function wd(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Er(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Ef(r,i,o,l){const u=be();return Er(u,Ao(),i)&&(Rt(),Et(sn(),u,r,i,o,l)),Ef}function bd(r,i,o,l,u,h,m,v){const E=be(),b=Rt(),M=r+22,O=b.firstCreatePass?function sw(r,i,o,l,u,h,m,v,E){const b=i.consts,M=yi(i,r,4,m||null,Ar(b,v));Zu(i,o,M,Ar(b,E)),ha(i,M);const O=M.tViews=Sg(2,M,l,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,M),O.queries=i.queries.embeddedTView(M)),M}(M,b,E,i,o,l,u,h,m):b.data[M];lr(O,!1);const z=E[11].createComment("");Fh(b,E,z,O),p(z,E),pf(E,E[M]=Vy(z,E,z,O)),go(O)&&Tg(b,E,O),null!=m&&Ag(E,O,v)}function Td(r,i,o){const l=be();return Er(l,Ao(),i)&&function ni(r,i,o,l,u,h,m,v){const E=Gn(i,o);let M,b=i.inputs;!v&&null!=b&&(M=b[l])?(_f(r,o,M,l,u),dl(i)&&Oy(o,i.index)):3&i.type&&(l=function xy(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=m?m(u,i.value||"",l):u,h.setProperty(E,l,u))}(Rt(),sn(),l,r,i,l[11],o,!1),Td}function Zg(r,i,o,l,u){const m=u?"class":"style";_f(r,o,i.inputs[m],m,l)}function Ad(r,i,o,l){const u=be(),h=Rt(),m=22+r,v=u[11],E=u[m]=Jc(v,i,function Dl(){return _t.lFrame.currentNamespace}()),b=h.firstCreatePass?function ow(r,i,o,l,u,h,m){const v=i.consts,b=yi(i,r,2,u,Ar(v,h));return Zu(i,o,b,Ar(v,m)),null!==b.attrs&&Kl(b,b.attrs,!1),null!==b.mergedAttrs&&Kl(b,b.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,b),b}(m,h,u,0,i,o,l):h.data[m];lr(b,!0);const M=b.mergedAttrs;null!==M&&gi(v,E,M);const O=b.classes;null!==O&&Uh(v,E,O);const z=b.styles;return null!==z&&Vh(v,E,z),64!=(64&b.flags)&&Fh(h,u,E,b),0===function Eo(){return _t.lFrame.elementDepthCount}()&&p(E,u),function pu(){_t.lFrame.elementDepthCount++}(),go(b)&&(Tg(h,u,b),function bg(r,i,o){if(Is(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,b,u)),null!==l&&Ag(u,b),Ad}function bf(){let r=kn();da()?function xs(){_t.lFrame.isParent=!1}():(r=r.parent,lr(r,!1));const i=r;!function wo(){_t.lFrame.elementDepthCount--}();const o=Rt();return o.firstCreatePass&&(ha(o,r),Is(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function pa(r){return 0!=(16&r.flags)}(i)&&Zg(o,i,be(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ga(r){return 0!=(32&r.flags)}(i)&&Zg(o,i,be(),i.stylesWithoutHost,!1),bf}function qg(r,i,o,l){return Ad(r,i,o,l),bf(),qg}function ic(r){return!!r&&"function"==typeof r.then}function sc(r){return!!r&&"function"==typeof r.subscribe}const Ka=sc;function Ya(r,i,o,l){const u=be(),h=Rt(),m=kn();return function Zy(r,i,o,l,u,h,m,v){const E=go(l),M=r.firstCreatePass&&kt(r),O=i[8],z=Za(i);let te=!0;if(3&l.type||v){const Be=Gn(l,i),Qe=v?v(Be):Be,dt=z.length,Te=v?Bt=>v(mn(Bt[l.index])):l.index;let ft=null;if(!v&&E&&(ft=function lw(r,i,o,l){const u=r.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===o&&u[h+1]===l){const v=i[7],E=u[h+2];return v.length>E?v[E]:null}"string"==typeof m&&(h+=2)}return null}(r,i,u,l.index)),null!==ft)(ft.__ngLastListenerFn__||ft).__ngNextListenerFn__=h,ft.__ngLastListenerFn__=h,te=!1;else{h=qy(l,i,O,h,!1);const Bt=o.listen(Qe,u,h);z.push(h,Bt),M&&M.push(u,Te,dt,dt+1)}}else h=qy(l,i,O,h,!1);const fe=l.outputs;let Oe;if(te&&null!==fe&&(Oe=fe[u])){const Be=Oe.length;if(Be)for(let Qe=0;Qe<Be;Qe+=2){const pn=i[Oe[Qe]][Oe[Qe+1]].subscribe(h),su=z.length;z.push(h,pn),M&&M.push(u,l.index,su,-(su+1))}}}(h,u,u[11],m,r,i,0,l),Ya}function oc(r,i,o,l){try{return!1!==o(l)}catch(u){return vd(r,u),!1}}function qy(r,i,o,l,u){return function h(m){if(m===Function)return l;gf(2&r.flags?Ut(r.index,i):i);let E=oc(i,0,l,m),b=h.__ngNextListenerFn__;for(;b;)E=oc(i,0,b,m)&&E,b=b.__ngNextListenerFn__;return u&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function Ky(r=1){return function Ri(r){return(_t.lFrame.contextLView=function vu(r,i){for(;r>0;)i=i[15],r--;return i}(r,_t.lFrame.contextLView))[8]}(r)}function Pf(r,i,o,l,u){const h=r[o+1],m=null===i;let v=l?Lr(h):no(h),E=!1;for(;0!==v&&(!1===E||m);){const M=r[v+1];uc(r[v],i)&&(E=!0,r[v+1]=l?fg(M):Qn(M)),v=l?Lr(M):no(M)}E&&(r[o+1]=l?Qn(h):fg(h))}function uc(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Jr(r,i)>=0}function Qg(r,i){return function ys(r,i,o,l){const u=be(),h=Rt(),m=function fi(r){const i=_t.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);h.firstUpdatePass&&function em(r,i,o,l){const u=r.data;if(null===u[o+1]){const h=u[cn()],m=function Xg(r,i){return i>=r.expandoStartIndex}(r,o);(function rm(r,i){return 0!=(r.flags&(i?16:32))})(h,l)&&null===i&&!m&&(i=!1),i=function fw(r,i,o,l){const u=function vl(r){const i=_t.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=l?i.residualClasses:i.residualStyles;if(null===u)0===(l?i.classBindings:i.styleBindings)&&(o=Nd(o=nm(null,r,i,o,l),i.attrs,l),h=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==u)if(o=nm(u,r,i,o,l),null===h){let E=function pw(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==no(l))return r[Lr(l)]}(r,i,l);void 0!==E&&Array.isArray(E)&&(E=nm(null,r,i,E[1],l),E=Nd(E,i.attrs,l),function lv(r,i,o,l){r[Lr(o?i.classBindings:i.styleBindings)]=l}(r,i,l,E))}else h=function tm(r,i,o){let l;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)l=Nd(l,r[h].hostAttrs,o);return Nd(l,i.attrs,o)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),o}(u,h,i,l),function Jy(r,i,o,l,u,h){let m=h?i.classBindings:i.styleBindings,v=Lr(m),E=no(m);r[l]=o;let M,b=!1;if(Array.isArray(o)){const O=o;M=O[1],(null===M||Jr(O,M)>0)&&(b=!0)}else M=o;if(u)if(0!==E){const z=Lr(r[v+1]);r[l+1]=af(z,v),0!==z&&(r[z+1]=hg(r[z+1],l)),r[v+1]=function vy(r,i){return 131071&r|i<<17}(r[v+1],l)}else r[l+1]=af(v,0),0!==v&&(r[v+1]=hg(r[v+1],l)),v=l;else r[l+1]=af(E,0),0===v?v=l:r[E+1]=hg(r[E+1],l),E=l;b&&(r[l+1]=Qn(r[l+1])),Pf(r,M,l,!0),Pf(r,M,l,!1),function Qa(r,i,o,l,u){const h=u?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Jr(h,i)>=0&&(o[l+1]=fg(o[l+1]))}(i,M,r,l,h),m=af(v,E),h?i.classBindings=m:i.styleBindings=m}(u,h,i,o,m,l)}}(h,r,m,l),i!==Tt&&Er(u,m,i)&&function xd(r,i,o,l,u,h,m,v){if(!(3&i.type))return;const E=r.data,b=E[v+1];Od(function Cy(r){return 1==(1&r)}(b)?Nf(E,i,o,u,no(b),m):void 0)||(Od(h)||function lf(r){return 2==(2&r)}(b)&&(h=Nf(E,null,o,u,v,m)),function NE(r,i,o,l,u){if(i)u?r.addClass(o,l):r.removeClass(o,l);else{let h=-1===l.indexOf("-")?void 0:ei.DashCase;null==u?r.removeStyle(o,l,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=ei.Important),r.setStyle(o,l,u,h))}}(l,m,Nr(cn(),o),u,h))}(h,h.data[cn()],u,u[11],r,u[m+1]=function mw(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=le(Zo(r)))),r}(i,o),l,m)}(r,i,null,!0),Qg}function nm(r,i,o,l,u){let h=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(h=i[v],l=Nd(l,h.hostAttrs,u),h!==r);)v++;return null!==r&&(o.directiveStylingLast=v),l}function Nd(r,i,o){const l=o?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?u=m:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),st(r,m,!!o||i[++h]))}return void 0===r?null:r}function Nf(r,i,o,l,u,h){const m=null===i;let v;for(;u>0;){const E=r[u],b=Array.isArray(E),M=b?E[1]:E,O=null===M;let z=o[u+1];z===Tt&&(z=O?ut:void 0);let te=O?Pl(z,l):M===l?z:void 0;if(b&&!Od(te)&&(te=Pl(E,l)),Od(te)&&(v=te,m))return v;const fe=r[u+1];u=m?Lr(fe):no(fe)}if(null!==i){let E=h?i.residualClasses:i.residualStyles;null!=E&&(v=Pl(E,l))}return v}function Od(r){return void 0!==r}function xf(r,i=""){const o=be(),l=Rt(),u=r+22,h=l.firstCreatePass?yi(l,u,1,i,null):l.data[u],m=o[u]=function Oh(r,i){return r.createText(i)}(o[11],i);Fh(l,o,m,h),lr(h,!1)}function im(r){return Of("",r,""),im}function Of(r,i,o){const l=be(),u=function ro(r,i,o,l){return Er(r,Ao(),o)?i+me(o)+l:Tt}(l,r,i,o);return u!==Tt&&function cr(r,i,o){const l=Nr(i,r);!function xp(r,i,o){r.setValue(i,o)}(r[11],l,o)}(l,cn(),u),Of}const Ql=void 0;var Rv=["en",[["a","p"],["AM","PM"],Ql],[["AM","PM"],Ql,Ql],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ql,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ql,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ql,"{1} 'at' {0}",Ql],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vf(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let hc={};function fc(r){const i=function Fd(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=um(i);if(o)return o;const l=i.split("-")[0];if(o=um(l),o)return o;if("en"===l)return Rv;throw new ye(701,!1)}function Jl(r){return fc(r)[ct.PluralCase]}function um(r){return r in hc||(hc[r]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[r]),hc[r]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const el="en-US";let Nv=el;function Sm(r,i,o,l,u){if(r=Y(r),Array.isArray(r))for(let h=0;h<r.length;h++)Sm(r[h],i,o,l,u);else{const h=Rt(),m=be();let v=$l(r)?r:Y(r.provide),E=Q_(r);const b=kn(),M=1048575&b.providerIndexes,O=b.directiveStart,z=b.providerIndexes>>20;if($l(r)||!r.multi){const te=new Sr(E,u,ti),fe=Zf(v,i,u?M:M+z,O);-1===fe?(rs(mi(b,m),h,v),Gd(h,r,i.length),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(te),m.push(te)):(o[fe]=te,m[fe]=te)}else{const te=Zf(v,i,M+z,O),fe=Zf(v,i,M,M+z),Oe=te>=0&&o[te],Be=fe>=0&&o[fe];if(u&&!Be||!u&&!Oe){rs(mi(b,m),h,v);const Qe=function oi(r,i,o,l,u){const h=new Sr(r,o,ti);return h.multi=[],h.index=i,h.componentProviders=0,Xv(h,u,l&&!o),h}(u?Mm:eC,o.length,u,l,E);!u&&Be&&(o[fe].providerFactory=Qe),Gd(h,r,i.length,0),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(Qe),m.push(Qe)}else Gd(h,r,te>-1?te:fe,Xv(o[u?fe:te],E,!u&&l));!u&&l&&Be&&o[fe].componentProviders++}}}function Gd(r,i,o,l){const u=$l(i),h=function r0(r){return!!r.useClass}(i);if(u||h){const E=(h?Y(i.useClass):i).prototype.ngOnDestroy;if(E){const b=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const M=b.indexOf(o);-1===M?b.push(o,[l,E]):b[M+1].push(l,E)}else b.push(o,E)}}}function Xv(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Zf(r,i,o,l){for(let u=o;u<l;u++)if(i[u]===r)return u;return-1}function eC(r,i,o,l){return qf(this.multi,[])}function Mm(r,i,o,l){const u=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=qr(o,o[1],this.providerFactory.index,l);h=v.slice(0,m),qf(u,h);for(let E=m;E<v.length;E++)h.push(v[E])}else h=[],qf(u,h);return h}function qf(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function zd(r,i=[]){return o=>{o.providersResolver=(l,u)=>function Bw(r,i,o){const l=Rt();if(l.firstCreatePass){const u=gr(r);Sm(o,l.data,l.blueprint,u,!0),Sm(i,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,i)}}class Ii{}class Zd{}function Gi(r,i){return new Rm(r,i??null)}class Rm extends Ii{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ug(this);const l=qe(i);this._bootstrapComponents=eo(l.bootstrap),this._r3Injector=dn(i,o,[{provide:Ii,useValue:this},{provide:Va,useValue:this.componentFactoryResolver}],le(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Kf extends Zd{constructor(i){super(),this.moduleType=i}create(i){return new Rm(this.moduleType,i)}}class nu extends Ii{constructor(i,o,l){super(),this.componentFactoryResolver=new Ug(this),this.instance=null;const u=new eg([...i,{provide:Ii,useValue:this},{provide:Va,useValue:this.componentFactoryResolver}],o||cd(),l,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function tC(r,i,o=null){return new nu(r,i,o).injector}let $w=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=Z_(0,o.type),u=l.length>0?tC([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Lt({token:r,providedIn:"environment",factory:()=>new r(an(La))}),r})();function nC(r){r.getStandaloneInjector=i=>i.get($w).getOrCreateStandaloneInjector(r)}function km(r){return i=>{setTimeout(r,void 0,i)}}const lo=class sD extends c.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){let u=i,h=o||(()=>null),m=l;if(i&&"object"==typeof i){const E=i;u=E.next?.bind(E),h=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(h=km(h),u&&(u=km(u)),m&&(m=km(m)));const v=super.subscribe({next:u,error:h,complete:m});return i instanceof B.w0&&i.add(v),v}};function oD(){return this._results[ms()]()}class Qf{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ms(),l=Qf.prototype;l[o]||(l[o]=oD)}get changes(){return this._changes||(this._changes=new lo)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const u=nn(i);(this._changesDetected=!function Qr(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],h=i[l];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Jd=(()=>{class r{}return r.__NG_ELEMENT_ID__=mC,r})();const aD=Jd,lD=class extends aD{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i,o){const l=this._declarationTContainer.tViews,u=ff(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,o||null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(l)),Ig(l,u,i),new Cd(u)}};function mC(){return Jf(kn(),be())}function Jf(r,i){return 4&r.type?new lD(i,r,Ua(r,i)):null}let Xf=(()=>{class r{}return r.__NG_ELEMENT_ID__=uD,r})();function uD(){return vC(kn(),be())}const cD=Xf,_C=class extends cD{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const i=Oo(this._hostTNode,this._hostLView);if(kc(i)){const o=Pi(i,this._hostLView),l=Ln(i);return new Ws(o[1].data[l+8],o)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=yC(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){let u,h;"number"==typeof l?u=l:null!=l&&(u=l.index,h=l.injector);const m=i.createEmbeddedView(o||{},h);return this.insert(m,u),m}createComponent(i,o,l,u,h){const m=i&&!function Yr(r){return"function"==typeof r}(i);let v;if(m)v=o;else{const O=o||{};v=O.index,l=O.injector,u=O.projectableNodes,h=O.environmentInjector||O.ngModuleRef}const E=m?i:new Ku(R(i)),b=l||this.parentInjector;if(!h&&null==E.ngModule){const z=(m?b:this.parentInjector).get(La,null);z&&(h=z)}const M=E.create(b,u,void 0,h);return this.insert(M.hostView,v),M}insert(i,o){const l=i._lView,u=l[1];if(function _l(r){return Ir(r[3])}(l)){const M=this.indexOf(i);if(-1!==M)this.detach(M);else{const O=l[3],z=new _C(O,O[6],O[3]);z.detach(z.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function TE(r,i,o,l){const u=10+l,h=o.length;l>0&&(o[u-1][4]=i),l<h-10?(i[4]=o[u],ss(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function AE(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=64}(u,l,m,h);const v=Xc(h,m),E=l[11],b=Ui(E,m[7]);return null!==b&&function kh(r,i,o,l,u,h){l[0]=u,l[6]=i,Vl(r,l,o,1,u,h)}(u,m[6],E,l,b,v),i.attachToViewContainerRef(),ss(Fm(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=yC(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Op(this._lContainer,o);l&&(nr(Fm(this._lContainer),o),P_(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Op(this._lContainer,o);return l&&null!=nr(Fm(this._lContainer),o)?new Cd(l):null}_adjustIndex(i,o=0){return i??this.length+o}};function yC(r){return r[8]}function Fm(r){return r[8]||(r[8]=[])}function vC(r,i){let o;const l=i[r.index];if(Ir(l))o=l;else{let u;if(8&r.type)u=mn(l);else{const h=i[11];u=h.createComment("");const m=Gn(r,i);Oa(h,Ui(h,m),u,function Vu(r,i){return r.nextSibling(i)}(h,m),!1)}i[r.index]=o=Vy(l,i,u,r),pf(i,o)}return new _C(o,r,i)}class Lm{constructor(i){this.queryList=i,this.matches=null}clone(){return new Lm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vm{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let h=0;h<l;h++){const m=o.getByIndex(h);u.push(this.queries[m.indexInDeclarationView].clone())}return new Vm(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Bm(i,o).matches&&this.queries[o].setDirty()}}class CC{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class ep{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(i,u);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new ep(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Um{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Um(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(i,o,hD(o,h)),this.matchTNodeWithReadOption(i,o,Fo(o,i,h,!1,!1))}else l===Jd?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Fo(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===jl||u===Xf||u===Jd&&4&o.type)this.addMatch(o.index,-2);else{const h=Fo(o,i,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function hD(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function pD(r,i,o,l){return-1===o?function fD(r,i){return 11&r.type?Ua(r,i):4&r.type?Jf(r,i):null}(i,r):-2===o?function il(r,i,o){return o===jl?Ua(i,r):o===Jd?Jf(i,r):o===Xf?vC(i,r):void 0}(r,i,l):qr(r,r[1],o,i)}function dr(r,i,o,l){const u=i[19].queries[l];if(null===u.matches){const h=r.data,m=o.matches,v=[];for(let E=0;E<m.length;E+=2){const b=m[E];v.push(b<0?null:pD(i,h[b],m[E+1],o.metadata.read))}u.matches=v}return u.matches}function Vr(r,i,o,l){const u=r.queries.getByIndex(o),h=u.matches;if(null!==h){const m=dr(r,i,u,o);for(let v=0;v<h.length;v+=2){const E=h[v];if(E>0)l.push(m[v/2]);else{const b=h[v+1],M=i[-E];for(let O=10;O<M.length;O++){const z=M[O];z[17]===z[3]&&Vr(z[1],z,b,l)}if(null!==M[9]){const O=M[9];for(let z=0;z<O.length;z++){const te=O[z];Vr(te[1],te,b,l)}}}}}return l}function Ec(r){const i=be(),o=Rt(),l=So();Cl(l+1);const u=Bm(o,l);if(r.dirty&&function ml(r){return 4==(4&r[2])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const h=u.crossesNgTemplate?Vr(o,i,l,[]):dr(o,i,u,l);r.reset(h,f0),r.notifyOnChanges()}return!0}return!1}function EC(r,i,o,l){const u=Rt();if(u.firstCreatePass){const h=kn();(function DC(r,i,o){null===r.queries&&(r.queries=new ep),r.queries.track(new Um(i,o))})(u,new CC(i,o,l),h.index),function _D(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function Xd(r,i,o){const l=new Qf(4==(4&o));Rg(r,i,l,l.destroy),null===i[19]&&(i[19]=new Vm),i[19].queries.push(new Lm(l))}(u,be(),o)}function wC(){return function mD(r,i){return r[19].queries[i].queryList}(be(),So())}function Bm(r,i){return r.queries.getByIndex(i)}function op(...r){}const ap=new en("Application Initializer");let lp=(()=>{class r{constructor(o){this.appInits=o,this.resolve=op,this.reject=op,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(ic(h))o.push(h);else if(Ka(h)){const m=new Promise((v,E)=>{h.subscribe({complete:v,error:E})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(an(ap,8))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const up=new en("AppId",{providedIn:"root",factory:function qm(){return`${ih()}${ih()}${ih()}`}});function ih(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const FC=new en("Platform Initializer"),FD=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),LC=new en("appBootstrapListener");let Ym=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const sh=new en("LocaleId",{providedIn:"root",factory:()=>Xr(sh,je.Optional|je.SkipSelf)||function Qm(){return typeof $localize<"u"&&$localize.locale||el}()}),LD=new en("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class BD{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let $D=(()=>{class r{compileModuleSync(o){return new Kf(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=eo(qe(o).declarations).reduce((m,v)=>{const E=R(v);return E&&m.push(new Ku(E)),m},[]);return new BD(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const cp=(()=>Promise.resolve(0))();function dp(r){typeof Zone>"u"?cp.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class ai{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lo(!1),this.onMicrotaskEmpty=new lo(!1),this.onStable=new lo(!1),this.onError=new lo(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const u=this;if(u._nesting=0,u._outer=u._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;u._inner=u._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function $C(){let r=pt.requestAnimationFrame,i=pt.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function jC(r){const i=()=>{!function GD(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(pt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,hp(r),r.isCheckStableRunning=!0,Jm(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),hp(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,h,m,v)=>{try{return Xm(r),o.invokeTask(u,h,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),e_(r)}},onInvoke:(o,l,u,h,m,v,E)=>{try{return Xm(r),o.invoke(u,h,m,v,E)}finally{r.shouldCoalesceRunChangeDetection&&i(),e_(r)}},onHasTask:(o,l,u,h)=>{o.hasTask(u,h),l===u&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,hp(r),Jm(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,u,h)=>(o.handleError(u,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ai.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(ai.isInAngularZone())throw new ye(909,!1)}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,i,WD,op,op);try{return h.runTask(m,o,l)}finally{h.cancelTask(m)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const WD={};function Jm(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function hp(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Xm(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function e_(r){r._nesting--,Jm(r)}class HC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lo,this.onMicrotaskEmpty=new lo,this.onStable=new lo,this.onError=new lo}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,u){return i.apply(o,l)}}const zD=new en(""),WC=new en("");let GC,Mb=(()=>{class r{constructor(o,l,u){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,GC||(function t_(r){GC=r}(u),u.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ai.assertNotInAngularZone(),dp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dp(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,u){return[]}}return r.\u0275fac=function(o){return new(o||r)(an(ai),an(ZD),an(WC))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac}),r})(),ZD=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return GC?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),ol=null;const n_=new en("AllowMultipleToken"),r_=new en("PlatformDestroyListeners");class s_{constructor(i,o){this.name=i,this.token=o}}function zC(r,i,o=[]){const l=`Platform: ${i}`,u=new en(l);return(h=[])=>{let m=ZC();if(!m||m.injector.get(n_,!1)){const v=[...o,...h,{provide:u,useValue:!0}];r?r(v):function Pb(r){if(ol&&!ol.get(n_,!1))throw new ye(400,!1);ol=r;const i=r.get(QD);(function KD(r){const i=r.get(FC,null);i&&i.forEach(o=>o())})(r)}(function YD(r=[],i){return vr.create({name:i,providers:[{provide:Xp,useValue:"platform"},{provide:r_,useValue:new Set([()=>ol=null])},...r]})}(v,l))}return function xb(r){const i=ZC();if(!i)throw new ye(401,!1);return i}()}}function ZC(){return ol?.get(QD)??null}let QD=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const u=function XD(r,i){let o;return o="noop"===r?new HC:("zone.js"===r?void 0:r)||new ai(i),o}(l?.ngZone,function JD(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:ai,useValue:u}];return u.run(()=>{const m=vr.create({providers:h,parent:this.injector,name:o.moduleType.name}),v=o.create(m),E=v.injector.get(Ba,null);if(!E)throw new ye(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:M=>{E.handleError(M)}});v.onDestroy(()=>{ah(this._modules,v),b.unsubscribe()})}),function eI(r,i,o){try{const l=o();return ic(l)?l.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(E,u,()=>{const b=v.injector.get(lp);return b.runInitializers(),b.donePromise.then(()=>(function $f(r){bt(r,"Expected localeId to be defined"),"string"==typeof r&&(Nv=r.toLowerCase().replace(/_/g,"-"))}(v.injector.get(sh,el)||el),this._moduleDoBootstrap(v),v))})})}bootstrapModule(o,l=[]){const u=co({},l);return function i_(r,i,o){const l=new Kf(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const l=o.injector.get(pp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ye(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(r_,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(an(vr))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function co(r,i){return Array.isArray(i)?i.reduce(co,r):{...r,...i}}let pp=(()=>{class r{constructor(o,l,u){this._zone=o,this._injector=l,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new P.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new P.y(v=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{ai.assertNotInAngularZone(),dp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{ai.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{E.unsubscribe(),b.unsubscribe()}});this.isStable=(0,re.T)(h,m.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const u=o instanceof c0;if(!this._injector.get(lp).done)throw!u&&Me(o),new ye(405,false);let m;m=u?o:this._injector.get(Va).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const v=function Rb(r){return r.isBoundToModule}(m)?void 0:this._injector.get(Ii),b=m.create(vr.NULL,[],l||m.selector,v),M=b.location.nativeElement,O=b.injector.get(zD,null);return O?.registerApplication(M),b.onDestroy(()=>{this.detachView(b.hostView),ah(this.components,b),O?.unregisterApplication(M)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;ah(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(LC,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>ah(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ye(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(an(ai),an(La),an(Ba))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ah(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let a_=!0,l_=!1;function KC(){return l_=!0,a_}function YC(){if(l_)throw new Error("Cannot enable prod mode after platform setup.");a_=!1}let nI=(()=>{class r{}return r.__NG_ELEMENT_ID__=JC,r})();function JC(r){return function XC(r,i,o){if(dl(r)&&!o){const l=Ut(r.index,i);return new Cd(l,l)}return 47&r.type?new Cd(i[16],i):null}(kn(),be(),16==(16&r))}class lh{constructor(){}supports(i){return hn(i)}create(i){return new lI(i)}}const Cp=(r,i)=>i;class lI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Cp}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,u=0,h=null;for(;o||l;){const m=!l||o&&o.currentIndex<al(l,u,h)?o:l,v=al(m,u,h),E=m.currentIndex;if(m===l)u--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{h||(h=[]);const b=v-u,M=E-u;if(b!=M){for(let z=0;z<b;z++){const te=z<h.length?h[z]:h[z]=0,fe=te+z;M<=fe&&fe<b&&(h[z]=te+1)}h[m.previousIndex]=M-b}}v!==E&&i(m,v,E)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!hn(i))throw new ye(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,m,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)h=i[v],m=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,h,m,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,v),l=!0),o=o._next}else u=0,function iw(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[ms()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,v=>{m=this._trackByFn(u,v),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,v,m,u)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,u)):i=this._addAfter(new rE(o,l),h,u),i}_verifyReinsertion(i,o,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new h_),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new h_),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class rE{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class h_{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new uI,this.map.set(o,l)),l.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function al(r,i,o){const l=r.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+i+u}class Es{constructor(){}supports(i){return i instanceof Map||wd(i)}create(){return new cI}}class cI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||wd(i)))throw new ye(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const l=new iE(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class iE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sE(){return new f_([new lh])}let f_=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||sE()),deps:[[r,new nt,new _e]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new ye(901,!1)}}return r.\u0275prov=Lt({token:r,providedIn:"root",factory:sE}),r})();function ll(){return new p_([new Es])}let p_=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||ll()),deps:[[r,new nt,new _e]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(l)return l;throw new ye(901,!1)}}return r.\u0275prov=Lt({token:r,providedIn:"root",factory:ll}),r})();const dI=zC(null,"core",[]);let jn=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(an(pp))},r.\u0275mod=xt({type:r}),r.\u0275inj=wt({}),r})();function aE(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(Je,Ie,x)=>{x.d(Ie,{Z:()=>ye});var c=x(2090),B=x(4859),P=x(9681),re=x(1877);class oe{constructor(me,de){this._delegate=me,this.firebase=de,(0,P._addComponent)(me,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(me,de=P._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(me);return!$e.isInitialized()&&"EXPLICIT"===(null===(He=$e.getComponent())||void 0===He?void 0:He.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:de})}_removeServiceInstance(me,de=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(de)}_addComponent(me){(0,P._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,P._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function pe(){const Ze=function le(Ze){const me={},de={__esModule:!0,initializeApp:function Re(ne,ae={}){const ge=P.initializeApp(ne,ae);if((0,c.r3)(me,ge.name))return me[ge.name];const K=new Ze(ge,de);return me[ge.name]=K,K},app:$e,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ve(ne){const ae=ne.name,ge=ae.replace("-compat","");if(P._registerComponent(ne)&&"PUBLIC"===ne.type){const K=(Q=$e())=>{if("function"!=typeof Q[ge])throw ce.create("invalid-app-argument",{appName:ae});return Q[ge]()};void 0!==ne.serviceProps&&(0,c.ZB)(K,ne.serviceProps),de[ge]=K,Ze.prototype[ge]=function(...Q){return this._getService.bind(this,ae).apply(this,ne.multipleInstances?Q:[])}}return"PUBLIC"===ne.type?de[ge]:null},removeApp:function He(ne){delete me[ne]},useAsService:function Le(ne,ae){return"serverAuth"===ae?null:ae},modularAPIs:P}};function $e(ne){if(!(0,c.r3)(me,ne=ne||P._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:ne});return me[ne]}return de.default=de,Object.defineProperty(de,"apps",{get:function Ae(){return Object.keys(me).map(ne=>me[ne])}}),$e.App=Ze,de}(oe);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function me(de){(0,c.ZB)(Ze,de)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ze}(),H=new re.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ye=G;!function Se(Ze){(0,P.registerVersion)("@firebase/app-compat","0.1.39",Ze)}()},9681:(Je,Ie,x)=>{x.r(Ie),x.d(Ie,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Wr,_DEFAULT_ENTRY_NAME:()=>bt,_addComponent:()=>Ft,_addOrOverwriteComponent:()=>Lt,_apps:()=>$t,_clearComponents:()=>jr,_components:()=>Qt,_getProvider:()=>wt,_registerComponent:()=>St,_removeServiceInstance:()=>qn,deleteApp:()=>Gr,getApp:()=>yn,getApps:()=>Rr,initializeApp:()=>or,onLog:()=>Dn,registerVersion:()=>xn,setLogLevel:()=>qt});var c=x(5861),B=x(4859),P=x(1877),re=x(2090),oe=x(8766);class he{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(Ge=>{if(function ce(We){return"VERSION"===We.getComponent()?.type}(Ge)){const at=Ge.getImmediate();return`${at.library}/${at.version}`}return null}).filter(Ge=>Ge).join(" ")}}const le="@firebase/app",G=new P.Yd("@firebase/app"),bt="[DEFAULT]",Ue={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$t=new Map,Qt=new Map;function Ft(We,Ee){try{We.container.addComponent(Ee)}catch(Ge){G.debug(`Component ${Ee.name} failed to register with FirebaseApp ${We.name}`,Ge)}}function Lt(We,Ee){We.container.addOrOverwriteComponent(Ee)}function St(We){const Ee=We.name;if(Qt.has(Ee))return G.debug(`There were multiple attempts to register component ${Ee}.`),!1;Qt.set(Ee,We);for(const Ge of $t.values())Ft(Ge,We);return!0}function wt(We,Ee){const Ge=We.container.getProvider("heartbeat").getImmediate({optional:!0});return Ge&&Ge.triggerHeartbeat(),We.container.getProvider(Ee)}function qn(We,Ee,Ge=bt){wt(We,Ee).clearInstance(Ge)}function jr(){Qt.clear()}const gn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hr{constructor(Ee,Ge,at){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},Ge),this._name=Ge.name,this._automaticDataCollectionEnabled=Ge.automaticDataCollectionEnabled,this._container=at,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const Wr="9.14.0";function or(We,Ee={}){let Ge=We;"object"!=typeof Ee&&(Ee={name:Ee});const at=Object.assign({name:bt,automaticDataCollectionEnabled:!1},Ee),lt=at.name;if("string"!=typeof lt||!lt)throw gn.create("bad-app-name",{appName:String(lt)});if(Ge||(Ge=(0,re.aH)()),!Ge)throw gn.create("no-options");const xt=$t.get(lt);if(xt){if((0,re.vZ)(Ge,xt.options)&&(0,re.vZ)(at,xt.config))return xt;throw gn.create("duplicate-app",{appName:lt})}const W=new B.H0(lt);for(const Z of Qt.values())W.addComponent(Z);const $=new Hr(Ge,at,W);return $t.set(lt,$),$}function yn(We=bt){const Ee=$t.get(We);if(!Ee&&We===bt)return or();if(!Ee)throw gn.create("no-app",{appName:We});return Ee}function Rr(){return Array.from($t.values())}function Gr(We){return je.apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(We){const Ee=We.name;$t.has(Ee)&&($t.delete(Ee),yield Promise.all(We.container.getProviders().map(Ge=>Ge.delete())),We.isDeleted=!0)})).apply(this,arguments)}function xn(We,Ee,Ge){var at;let lt=null!==(at=Ue[We])&&void 0!==at?at:We;Ge&&(lt+=`-${Ge}`);const xt=lt.match(/\s|\//),W=Ee.match(/\s|\//);if(xt||W){const $=[`Unable to register library "${lt}" with version "${Ee}":`];return xt&&$.push(`library name "${lt}" contains illegal characters (whitespace or "/")`),xt&&W&&$.push("and"),W&&$.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void G.warn($.join(" "))}St(new B.wA(`${lt}-version`,()=>({library:lt,version:Ee}),"VERSION"))}function Dn(We,Ee){if(null!==We&&"function"!=typeof We)throw gn.create("invalid-log-argument");(0,P.Am)(We,Ee)}function qt(We){(0,P.Ub)(We)}const Kt="firebase-heartbeat-store";let Jt=null;function zt(){return Jt||(Jt=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(We,Ee)=>{0===Ee&&We.createObjectStore(Kt)}}).catch(We=>{throw gn.create("idb-open",{originalErrorMessage:We.message})})),Jt}function tt(){return(tt=(0,c.Z)(function*(We){var Ee;try{return(yield zt()).transaction(Kt).objectStore(Kt).get(In(We))}catch(Ge){if(Ge instanceof re.ZR)G.warn(Ge.message);else{const at=gn.create("idb-get",{originalErrorMessage:null===(Ee=Ge)||void 0===Ee?void 0:Ee.message});G.warn(at.message)}}})).apply(this,arguments)}function pt(We,Ee){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(We,Ee){var Ge;try{const lt=(yield zt()).transaction(Kt,"readwrite");return yield lt.objectStore(Kt).put(Ee,In(We)),lt.done}catch(at){if(at instanceof re.ZR)G.warn(at.message);else{const lt=gn.create("idb-set",{originalErrorMessage:null===(Ge=at)||void 0===Ge?void 0:Ge.message});G.warn(lt.message)}}})).apply(this,arguments)}function In(We){return`${We.name}!${We.options.appId}`}class er{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const Ge=this.container.getProvider("app").getImmediate();this._storage=new Pt(Ge),this._heartbeatsCachePromise=this._storage.read().then(at=>(this._heartbeatsCache=at,at))}triggerHeartbeat(){var Ee=this;return(0,c.Z)(function*(){const at=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),lt=yt();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==lt&&!Ee._heartbeatsCache.heartbeats.some(xt=>xt.date===lt))return Ee._heartbeatsCache.heartbeats.push({date:lt,agent:at}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(xt=>{const W=new Date(xt.date).valueOf();return Date.now()-W<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,c.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const Ge=yt(),{heartbeatsToSend:at,unsentEntries:lt}=function fr(We,Ee=1024){const Ge=[];let at=We.slice();for(const lt of We){const xt=Ge.find(W=>W.agent===lt.agent);if(xt){if(xt.dates.push(lt.date),Vn(Ge)>Ee){xt.dates.pop();break}}else if(Ge.push({agent:lt.agent,dates:[lt.date]}),Vn(Ge)>Ee){Ge.pop();break}at=at.slice(1)}return{heartbeatsToSend:Ge,unsentEntries:at}}(Ee._heartbeatsCache.heartbeats),xt=(0,re.L)(JSON.stringify({version:2,heartbeats:at}));return Ee._heartbeatsCache.lastSentHeartbeatDate=Ge,lt.length>0?(Ee._heartbeatsCache.heartbeats=lt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),xt})()}}function yt(){return(new Date).toISOString().substring(0,10)}class Pt{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,c.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function et(We){return tt.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var Ge=this;return(0,c.Z)(function*(){var at;if(yield Ge._canUseIndexedDBPromise){const xt=yield Ge.read();return pt(Ge.app,{lastSentHeartbeatDate:null!==(at=Ee.lastSentHeartbeatDate)&&void 0!==at?at:xt.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var Ge=this;return(0,c.Z)(function*(){var at;if(yield Ge._canUseIndexedDBPromise){const xt=yield Ge.read();return pt(Ge.app,{lastSentHeartbeatDate:null!==(at=Ee.lastSentHeartbeatDate)&&void 0!==at?at:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...Ee.heartbeats]})}})()}}function Vn(We){return(0,re.L)(JSON.stringify({version:2,heartbeats:We})).length}!function rn(We){St(new B.wA("platform-logger",Ee=>new he(Ee),"PRIVATE")),St(new B.wA("heartbeat",Ee=>new er(Ee),"PRIVATE")),xn(le,"0.8.4",We),xn(le,"0.8.4","esm2017"),xn("fire-js","")}("")},4859:(Je,Ie,x)=>{x.d(Ie,{H0:()=>le,wA:()=>P,zt:()=>oe});var c=x(5861),B=x(2090);class P{constructor(G,H,Y){this.name=G,this.instanceFactory=H,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const re="[DEFAULT]";class oe{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const Y=new B.BH;if(this.instancesDeferred.set(H,Y),this.isInitialized(H)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:H});ke&&Y.resolve(ke)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const Y=this.normalizeInstanceIdentifier(G?.identifier),ke=null!==(H=G?.optional)&&void 0!==H&&H;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Se){if(ke)return null;throw Se}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ce(pe){return"EAGER"===pe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[H,Y]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(H);try{const Se=this.getOrInitializeService({instanceIdentifier:ke});Y.resolve(Se)}catch{}}}}clearInstance(G=re){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...H.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=re){return this.instances.has(G)}getOptions(G=re){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,Y=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:Y,options:H});for(const[Se,ye]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Se)&&ye.resolve(ke);return ke}onInit(G,H){var Y;const ke=this.normalizeInstanceIdentifier(H),Se=null!==(Y=this.onInitCallbacks.get(ke))&&void 0!==Y?Y:new Set;Se.add(G),this.onInitCallbacks.set(ke,Se);const ye=this.instances.get(ke);return ye&&G(ye,ke),()=>{Se.delete(G)}}invokeOnInitCallbacks(G,H){const Y=this.onInitCallbacks.get(H);if(Y)for(const ke of Y)try{ke(G,H)}catch{}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let Y=this.instances.get(G);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=G,pe===re?void 0:pe),options:H}),this.instances.set(G,Y),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(Y,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Y)}catch{}var pe;return Y||null}normalizeInstanceIdentifier(G=re){return this.component?this.component.multipleInstances?G:re:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new oe(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(Je,Ie,x)=>{x.d(Ie,{Am:()=>pe,Ub:()=>le,Yd:()=>ce,in:()=>B});const c=[];var B=(()=>{return(G=B||(B={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",B;var G})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},re=B.INFO,oe={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},he=(G,H,...Y)=>{if(H<G.logLevel)return;const ke=(new Date).toISOString(),Se=oe[H];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Se](`[${ke}]  ${G.name}:`,...Y)};class ce{constructor(H){this.name=H,this._logLevel=re,this._logHandler=he,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in B))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?P[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...H),this._logHandler(this,B.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...H),this._logHandler(this,B.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,B.INFO,...H),this._logHandler(this,B.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,B.WARN,...H),this._logHandler(this,B.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...H),this._logHandler(this,B.ERROR,...H)}}function le(G){c.forEach(H=>{H.setLogLevel(G)})}function pe(G,H){for(const Y of c){let ke=null;H&&H.level&&(ke=P[H.level]),Y.userLogHandler=null===G?null:(Se,ye,...Ze)=>{const me=Ze.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");ye>=(ke??Se.logLevel)&&G({level:B[ye].toLowerCase(),message:me,args:Ze,type:Se.name})}}}},8766:(Je,Ie,x)=>{x.d(Ie,{Lj:()=>Re,X3:()=>$e});var c=x(5861);let P,re;const ce=new WeakMap,le=new WeakMap,pe=new WeakMap,G=new WeakMap,H=new WeakMap;let Se={get(ae,ge,K){if(ae instanceof IDBTransaction){if("done"===ge)return le.get(ae);if("objectStoreNames"===ge)return ae.objectStoreNames||pe.get(ae);if("store"===ge)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return de(ae[ge])},set:(ae,ge,K)=>(ae[ge]=K,!0),has:(ae,ge)=>ae instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in ae};function me(ae){return"function"==typeof ae?function Ze(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...ge){return ae.apply(He(this),ge),de(ce.get(this))}:function(...ge){return de(ae.apply(He(this),ge))}:function(ge,...K){const Q=ae.call(He(this),ge,...K);return pe.set(Q,ge.sort?ge.sort():[ge]),de(Q)}}(ae):(ae instanceof IDBTransaction&&function ke(ae){if(le.has(ae))return;const ge=new Promise((K,Q)=>{const ue=()=>{ae.removeEventListener("complete",ie),ae.removeEventListener("error",Ne),ae.removeEventListener("abort",Ne)},ie=()=>{K(),ue()},Ne=()=>{Q(ae.error||new DOMException("AbortError","AbortError")),ue()};ae.addEventListener("complete",ie),ae.addEventListener("error",Ne),ae.addEventListener("abort",Ne)});le.set(ae,ge)}(ae),((ae,ge)=>ge.some(K=>ae instanceof K))(ae,function oe(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,Se):ae)}function de(ae){if(ae instanceof IDBRequest)return function Y(ae){const ge=new Promise((K,Q)=>{const ue=()=>{ae.removeEventListener("success",ie),ae.removeEventListener("error",Ne)},ie=()=>{K(de(ae.result)),ue()},Ne=()=>{Q(ae.error),ue()};ae.addEventListener("success",ie),ae.addEventListener("error",Ne)});return ge.then(K=>{K instanceof IDBCursor&&ce.set(K,ae)}).catch(()=>{}),H.set(ge,ae),ge}(ae);if(G.has(ae))return G.get(ae);const ge=me(ae);return ge!==ae&&(G.set(ae,ge),H.set(ge,ae)),ge}const He=ae=>H.get(ae);function $e(ae,ge,{blocked:K,upgrade:Q,blocking:ue,terminated:ie}={}){const Ne=indexedDB.open(ae,ge),xe=de(Ne);return Q&&Ne.addEventListener("upgradeneeded",Xe=>{Q(de(Ne.result),Xe.oldVersion,Xe.newVersion,de(Ne.transaction))}),K&&Ne.addEventListener("blocked",()=>K()),xe.then(Xe=>{ie&&Xe.addEventListener("close",()=>ie()),ue&&Xe.addEventListener("versionchange",()=>ue())}).catch(()=>{}),xe}function Re(ae,{blocked:ge}={}){const K=indexedDB.deleteDatabase(ae);return ge&&K.addEventListener("blocked",()=>ge()),de(K).then(()=>{})}const Ae=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Le=new Map;function ne(ae,ge){if(!(ae instanceof IDBDatabase)||ge in ae||"string"!=typeof ge)return;if(Le.get(ge))return Le.get(ge);const K=ge.replace(/FromIndex$/,""),Q=ge!==K,ue=ve.includes(K);if(!(K in(Q?IDBIndex:IDBObjectStore).prototype)||!ue&&!Ae.includes(K))return;const ie=function(){var Ne=(0,c.Z)(function*(xe,...Xe){const Vt=this.transaction(xe,ue?"readwrite":"readonly");let bt=Vt.store;return Q&&(bt=bt.index(Xe.shift())),(yield Promise.all([bt[K](...Xe),ue&&Vt.done]))[0]});return function(Xe){return Ne.apply(this,arguments)}}();return Le.set(ge,ie),ie}!function ye(ae){Se=ae(Se)}(ae=>({...ae,get:(ge,K,Q)=>ne(ge,K)||ae.get(ge,K,Q),has:(ge,K)=>!!ne(ge,K)||ae.has(ge,K)}))},5861:(Je,Ie,x)=>{function c(P,re,oe,he,ce,le,pe){try{var G=P[le](pe),H=G.value}catch(Y){return void oe(Y)}G.done?re(H):Promise.resolve(H).then(he,ce)}function B(P){return function(){var re=this,oe=arguments;return new Promise(function(he,ce){var le=P.apply(re,oe);function pe(H){c(le,he,ce,pe,G,"next",H)}function G(H){c(le,he,ce,pe,G,"throw",H)}pe(void 0)})}}x.d(Ie,{Z:()=>B})}},Je=>{Je(Je.s=4914)}]);