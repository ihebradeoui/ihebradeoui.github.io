"use strict";(self.webpackChunkthe_project=self.webpackChunkthe_project||[]).push([[179],{2011:(rt,Ie,L)=>{L.d(Ie,{Dh:()=>he,GT:()=>me,cc:()=>Pe,hO:()=>Ve,on:()=>K,pX:()=>ce,xv:()=>_e});var u=L(4650),j=L(127),x=L(5813);rt=L.hmd(rt);const oe=["ngOnDestroy"],ce=(ge,Ze,Ge,Ne={})=>new Proxy(ge,{get:(Re,we)=>Ge.runOutsideAngular(()=>{var $e;if(ge[we])return!(null===($e=Ne?.spy)||void 0===$e)&&$e.get&&Ne.spy.get(we,ge[we]),ge[we];if(oe.indexOf(we)>-1)return()=>{};const se=Ze.toPromise().then(ue=>{const ye=ue&&ue[we];return"function"==typeof ye?ye.bind(ue):ye&&ye.then?ye.then(J=>Ge.run(()=>J)):Ge.run(()=>ye)});return new Proxy(()=>{},{get:(ue,ye)=>se[ye],apply:(ue,ye,J)=>se.then(ee=>{var pe;const ae=ee&&ee(...J);return!(null===(pe=Ne?.spy)||void 0===pe)&&pe.apply&&Ne.spy.apply(we,J,ae),ae})})})}),me=(ge,Ze)=>{Ze.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Ne=>{Object.defineProperty(ge.prototype,Ne,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Ne))})})};class fe{constructor(Ze){return Ze}}const he=new u.OlP("angularfire2.app.options"),_e=new u.OlP("angularfire2.app.name");function K(ge,Ze,Ge){const Re="object"==typeof Ge&&Ge||{};Re.name=Re.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const $e=j.Z.apps.filter(se=>se&&se.name===Re.name)[0]||Ze.runOutsideAngular(()=>j.Z.initializeApp(ge,Re));try{JSON.stringify(ge)!==JSON.stringify($e.options)&&z("error",`${$e.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe($e)}const z=(ge,...Ze)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ge](...Ze)},X={provide:fe,useFactory:K,deps:[he,u.R0b,[new u.FiY,_e]]};let Ve=(()=>{class ge{constructor(Ge){j.Z.registerVersion("angularfire",x.q4.full,"core"),j.Z.registerVersion("angularfire",x.q4.full,"app-compat"),j.Z.registerVersion("angular",u.q4F.full,Ge.toString())}static initializeApp(Ge,Ne){return{ngModule:ge,providers:[{provide:he,useValue:Ge},{provide:_e,useValue:Ne}]}}}return ge.\u0275fac=function(Ge){return new(Ge||ge)(u.LFG(u.Lbi))},ge.\u0275mod=u.oAB({type:ge}),ge.\u0275inj=u.cJS({providers:[X]}),ge})();function Pe(ge,Ze,Ge,Ne,Re){const[,we,$e]=globalThis.\u0275AngularfireInstanceCache.find(se=>se[0]===ge)||[];if(we)return function Ce(ge,Ze){try{return ge.toString()===Ze.toString()}catch{return ge===Ze}}(Re,$e)||(Ee("error",`${Ze} was already initialized on the ${Ge} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Re,was:$e})),we;{const se=Ne();return globalThis.\u0275AngularfireInstanceCache.push([ge,se,Re]),se}}const Je=!!rt.hot,Ee=(ge,...Ze)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ge](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rt,Ie,L)=>{L.d(Ie,{q4:()=>Zl,iC:()=>On,HU:()=>Ts,vb:()=>ci,JM:()=>Co,u3:()=>ui});var u=L(4650),j=L(5867),x=L(5861),oe=L(9681),ce=L(2090),me=L(4859),fe=L(1877),he=L(8766);const _e="@firebase/installations",K="0.5.16",X=`w:${K}`,Ve="FIS_v2",Ze=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(b){return b instanceof ce.ZR&&b.code.includes("request-failed")}function Ne({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Re(b){return{token:b.token,requestStatus:2,expiresIn:ee(b.expiresIn),creationTime:Date.now()}}function we(b,I){return $e.apply(this,arguments)}function $e(){return($e=(0,x.Z)(function*(b,I){const B=(yield I.json()).error;return Ze.create("request-failed",{requestName:b,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function se({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function ue(b,{refreshToken:I}){const R=se(b);return R.append("Authorization",function pe(b){return`${Ve} ${b}`}(I)),R}function ye(b){return J.apply(this,arguments)}function J(){return(J=(0,x.Z)(function*(b){const I=yield b();return I.status>=500&&I.status<600?b():I})).apply(this,arguments)}function ee(b){return Number(b.replace("s","000"))}function ae(b,I){return Le.apply(this,arguments)}function Le(){return(Le=(0,x.Z)(function*({appConfig:b,heartbeatServiceProvider:I},{fid:R}){const B=Ne(b),Q=se(b),le=I.getImmediate({optional:!0});if(le){const wt=yield le.getHeartbeatsHeader();wt&&Q.append("x-firebase-client",wt)}const Be={method:"POST",headers:Q,body:JSON.stringify({fid:R,authVersion:Ve,appId:b.appId,sdkVersion:X})},lt=yield ye(()=>fetch(B,Be));if(lt.ok){const wt=yield lt.json();return{fid:wt.fid||R,registrationStatus:2,refreshToken:wt.refreshToken,authToken:Re(wt.authToken)}}throw yield we("Create Installation",lt)})).apply(this,arguments)}function Fe(b){return new Promise(I=>{setTimeout(I,b)})}const zt=/^[cdef][\w-]{21}$/;function We(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const R=function Qt(b){return function st(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return zt.test(R)?R:""}catch{return""}}function hn(b){return`${b.appName}!${b.appId}`}const $t=new Map;function Wt(b,I){const R=hn(b);rr(R,I),function Xr(b,I){const R=function Dn(){return!mr&&"BroadcastChannel"in self&&(mr=new BroadcastChannel("[Firebase] FID Change"),mr.onmessage=b=>{rr(b.data.key,b.data.fid)}),mr}();R&&R.postMessage({key:b,fid:I}),function ei(){0===$t.size&&mr&&(mr.close(),mr=null)}()}(R,I)}function rr(b,I){const R=$t.get(b);if(R)for(const B of R)B(I)}let mr=null;const An="firebase-installations-store";let Gr=null;function ni(){return Gr||(Gr=(0,he.X3)("firebase-installations-database",1,{upgrade:(b,I)=>{0===I&&b.createObjectStore(An)}})),Gr}function Ke(b,I){return jn.apply(this,arguments)}function jn(){return(jn=(0,x.Z)(function*(b,I){const R=hn(b),Q=(yield ni()).transaction(An,"readwrite"),le=Q.objectStore(An),ve=yield le.get(R);return yield le.put(I,R),yield Q.done,(!ve||ve.fid!==I.fid)&&Wt(b,I.fid),I})).apply(this,arguments)}function kn(b){return an.apply(this,arguments)}function an(){return(an=(0,x.Z)(function*(b){const I=hn(b),B=(yield ni()).transaction(An,"readwrite");yield B.objectStore(An).delete(I),yield B.done})).apply(this,arguments)}function Qn(b,I){return ds.apply(this,arguments)}function ds(){return(ds=(0,x.Z)(function*(b,I){const R=hn(b),Q=(yield ni()).transaction(An,"readwrite"),le=Q.objectStore(An),ve=yield le.get(R),Be=I(ve);return void 0===Be?yield le.delete(R):yield le.put(Be,R),yield Q.done,Be&&(!ve||ve.fid!==Be.fid)&&Wt(b,Be.fid),Be})).apply(this,arguments)}function ln(b){return fn.apply(this,arguments)}function fn(){return(fn=(0,x.Z)(function*(b){let I;const R=yield Qn(b.appConfig,B=>{const Q=tn(B),le=ot(b,Q);return I=le.registrationPromise,le.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function tn(b){return _t(b||{fid:We(),registrationStatus:0})}function ot(b,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ze.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},B=function at(b,I){return Et.apply(this,arguments)}(b,R);return{installationEntry:R,registrationPromise:B}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:yr(b)}:{installationEntry:I}}function Et(){return(Et=(0,x.Z)(function*(b,I){try{const R=yield ae(b,I);return Ke(b.appConfig,R)}catch(R){throw Ge(R)&&409===R.customData.serverCode?yield kn(b.appConfig):yield Ke(b.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function yr(b){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,x.Z)(function*(b){let I=yield lr(b.appConfig);for(;1===I.registrationStatus;)yield Fe(100),I=yield lr(b.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:B}=yield ln(b);return B||R}return I})).apply(this,arguments)}function lr(b){return Qn(b,I=>{if(!I)throw Ze.create("installation-not-found");return _t(I)})}function _t(b){return function cr(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Dt(b,I){return br.apply(this,arguments)}function br(){return(br=(0,x.Z)(function*({appConfig:b,heartbeatServiceProvider:I},R){const B=Vt(b,R),Q=ue(b,R),le=I.getImmediate({optional:!0});if(le){const wt=yield le.getHeartbeatsHeader();wt&&Q.append("x-firebase-client",wt)}const Be={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:X,appId:b.appId}})},lt=yield ye(()=>fetch(B,Be));if(lt.ok)return Re(yield lt.json());throw yield we("Generate Auth Token",lt)})).apply(this,arguments)}function Vt(b,{fid:I}){return`${Ne(b)}/${I}/authTokens:generate`}function Kn(b){return yn.apply(this,arguments)}function yn(){return(yn=(0,x.Z)(function*(b,I=!1){let R;const B=yield Qn(b.appConfig,le=>{if(!Bt(le))throw Ze.create("not-registered");const ve=le.authToken;if(!I&&G(ve))return le;if(1===ve.requestStatus)return R=qe(b,I),le;{if(!navigator.onLine)throw Ze.create("app-offline");const Be=Y(le);return R=pt(b,Be),Be}});return R?yield R:B.authToken})).apply(this,arguments)}function qe(b,I){return De.apply(this,arguments)}function De(){return(De=(0,x.Z)(function*(b,I){let R=yield Ye(b.appConfig);for(;1===R.authToken.requestStatus;)yield Fe(100),R=yield Ye(b.appConfig);const B=R.authToken;return 0===B.requestStatus?Kn(b,I):B})).apply(this,arguments)}function Ye(b){return Qn(b,I=>{if(!Bt(I))throw Ze.create("not-registered");return function H(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function pt(b,I){return gt.apply(this,arguments)}function gt(){return(gt=(0,x.Z)(function*(b,I){try{const R=yield Dt(b,I),B=Object.assign(Object.assign({},I),{authToken:R});return yield Ke(b.appConfig,B),R}catch(R){if(!Ge(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const B=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Ke(b.appConfig,B)}else yield kn(b.appConfig);throw R}})).apply(this,arguments)}function Bt(b){return void 0!==b&&2===b.registrationStatus}function G(b){return 2===b.requestStatus&&!function $(b){const I=Date.now();return I<b.creationTime||b.creationTime+b.expiresIn<I+36e5}(b)}function Y(b){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:I})}function V(){return(V=(0,x.Z)(function*(b){const I=b,{installationEntry:R,registrationPromise:B}=yield ln(I);return B?B.catch(console.error):Kn(I).catch(console.error),R.fid})).apply(this,arguments)}function Oe(){return(Oe=(0,x.Z)(function*(b,I=!1){const R=b;return yield Xe(R),(yield Kn(R,I)).token})).apply(this,arguments)}function Xe(b){return et.apply(this,arguments)}function et(){return(et=(0,x.Z)(function*(b){const{registrationPromise:I}=yield ln(b);I&&(yield I)})).apply(this,arguments)}function hs(b){return Ze.create("missing-app-config-values",{valueName:b})}const zs="installations",fs=b=>{const I=b.getProvider("app").getImmediate(),R=function pn(b){if(!b||!b.options)throw hs("App Configuration");if(!b.name)throw hs("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!b.options[R])throw hs(R);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,oe._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},ps=b=>{const I=b.getProvider("app").getImmediate(),R=(0,oe._getProvider)(I,zs).getImmediate();return{getId:()=>function P(b){return V.apply(this,arguments)}(R),getToken:Q=>function re(b){return Oe.apply(this,arguments)}(R,Q)}};(function Pa(){(0,oe._registerComponent)(new me.wA(zs,fs,"PUBLIC")),(0,oe._registerComponent)(new me.wA("installations-internal",ps,"PRIVATE"))})(),(0,oe.registerVersion)(_e,K),(0,oe.registerVersion)(_e,K,"esm2017");const vi="@firebase/remote-config",Vn=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ma{constructor(I,R,B,Q){this.client=I,this.storage=R,this.storageCache=B,this.logger=Q}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-R,Q=B<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var R=this;return(0,x.Z)(function*(){const[B,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(I.cacheMaxAgeMillis,B))return Q;I.eTag=Q&&Q.eTag;const le=yield R.client.fetch(I),ve=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&ve.push(R.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(ve),le})()}}function Ks(b=navigator){return b.languages&&b.languages[0]||b.language}class ys{constructor(I,R,B,Q,le,ve){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=B,this.projectId=Q,this.apiKey=le,this.appId=ve}fetch(I){var R=this;return(0,x.Z)(function*(){var B,Q,le;const[ve,Be]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),wt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,St={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},dt={sdk_version:R.sdkVersion,app_instance_id:ve,app_instance_id_token:Be,app_id:R.appId,language_code:Ks()},Bn={method:"POST",headers:St,body:JSON.stringify(dt)},hr=fetch(wt,Bn),Ps=new Promise((Gi,er)=>{I.signal.addEventListener(()=>{const du=new Error("The operation was aborted.");du.name="AbortError",er(du)})});let Rt;try{yield Promise.race([hr,Ps]),Rt=yield hr}catch(Gi){let er="fetch-client-network";throw"AbortError"===(null===(B=Gi)||void 0===B?void 0:B.name)&&(er="fetch-timeout"),Vn.create(er,{originalErrorMessage:null===(Q=Gi)||void 0===Q?void 0:Q.message})}let sr=Rt.status;const Ms=Rt.headers.get("ETag")||void 0;let zi,Ya;if(200===Rt.status){let Gi;try{Gi=yield Rt.json()}catch(er){throw Vn.create("fetch-client-parse",{originalErrorMessage:null===(le=er)||void 0===le?void 0:le.message})}zi=Gi.entries,Ya=Gi.state}if("INSTANCE_STATE_UNSPECIFIED"===Ya?sr=500:"NO_CHANGE"===Ya?sr=304:("NO_TEMPLATE"===Ya||"EMPTY_CONFIG"===Ya)&&(zi={}),304!==sr&&200!==sr)throw Vn.create("fetch-status",{httpStatus:sr});return{status:sr,eTag:Ms,config:zi}})()}}class Ci{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,x.Z)(function*(){const B=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,B)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:B}){var Q=this;return(0,x.Z)(function*(){yield function xr(b,I){return new Promise((R,B)=>{const Q=Math.max(I-Date.now(),0),le=setTimeout(R,Q);b.addEventListener(()=>{clearTimeout(le),B(Vn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const le=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),le}catch(le){if(!function Gh(b){if(!(b instanceof ce.ZR&&b.customData))return!1;const I=Number(b.customData.httpStatus);return 429===I||500===I||503===I||504===I}(le))throw le;const ve={throttleEndTimeMillis:Date.now()+(0,ce.$s)(B),backoffCount:B+1};return yield Q.storage.setThrottleMetadata(ve),Q.attemptFetch(I,ve)}})()}}class Zh{constructor(I,R,B,Q,le){this.app=I,this._client=R,this._storageCache=B,this._storage=Q,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Uo(b,I){var R;const B=b.target.error||void 0;return Vn.create(I,{originalErrorMessage:B&&(null===(R=B)||void 0===R?void 0:R.message)})}const Zs="app_namespace_store";class Hc{constructor(I,R,B,Q=function Yh(){return new Promise((b,I)=>{var R;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=Q=>{I(Uo(Q,"storage-open"))},B.onsuccess=Q=>{b(Q.target.result)},B.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(Zs,{keyPath:"compositeKey"})}}catch(B){I(Vn.create("storage-open",{originalErrorMessage:null===(R=B)||void 0===R?void 0:R.message}))}})}()){this.appId=I,this.appName=R,this.namespace=B,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,x.Z)(function*(){const B=yield R.openDbPromise;return new Promise((Q,le)=>{var ve;const lt=B.transaction([Zs],"readonly").objectStore(Zs),wt=R.createCompositeKey(I);try{const St=lt.get(wt);St.onerror=dt=>{le(Uo(dt,"storage-get"))},St.onsuccess=dt=>{const Bn=dt.target.result;Q(Bn?Bn.value:void 0)}}catch(St){le(Vn.create("storage-get",{originalErrorMessage:null===(ve=St)||void 0===ve?void 0:ve.message}))}})})()}set(I,R){var B=this;return(0,x.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((le,ve)=>{var Be;const wt=Q.transaction([Zs],"readwrite").objectStore(Zs),St=B.createCompositeKey(I);try{const dt=wt.put({compositeKey:St,value:R});dt.onerror=Bn=>{ve(Uo(Bn,"storage-set"))},dt.onsuccess=()=>{le()}}catch(dt){ve(Vn.create("storage-set",{originalErrorMessage:null===(Be=dt)||void 0===Be?void 0:Be.message}))}})})()}delete(I){var R=this;return(0,x.Z)(function*(){const B=yield R.openDbPromise;return new Promise((Q,le)=>{var ve;const lt=B.transaction([Zs],"readwrite").objectStore(Zs),wt=R.createCompositeKey(I);try{const St=lt.delete(wt);St.onerror=dt=>{le(Uo(dt,"storage-delete"))},St.onsuccess=()=>{Q()}}catch(St){le(Vn.create("storage-delete",{originalErrorMessage:null===(ve=St)||void 0===ve?void 0:ve.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class qs{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,x.Z)(function*(){const R=I.storage.getLastFetchStatus(),B=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),le=yield R;le&&(I.lastFetchStatus=le);const ve=yield B;ve&&(I.lastSuccessfulFetchTimestampMillis=ve);const Be=yield Q;Be&&(I.activeConfig=Be)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Dg(){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,x.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function jc(){(0,oe._registerComponent)(new me.wA("remote-config",function b(I,{instanceIdentifier:R}){const B=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vn.create("registration-window");if(!(0,ce.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:le,apiKey:ve,appId:Be}=B.options;if(!le)throw Vn.create("registration-project-id");if(!ve)throw Vn.create("registration-api-key");if(!Be)throw Vn.create("registration-app-id");const lt=new Hc(Be,B.name,R=R||"firebase"),wt=new qs(lt),St=new fe.Yd(vi);St.logLevel=fe.in.ERROR;const dt=new ys(Q,oe.SDK_VERSION,R,le,ve,Be),Bn=new Ci(dt,lt),hr=new Ma(Bn,lt,wt,St),Ps=new Zh(B,hr,wt,lt,St);return function Un(b){const I=(0,ce.m9)(b);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ps),Ps},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(vi,"0.3.15"),(0,oe.registerVersion)(vi,"0.3.15","esm2017")}();const ir="/firebase-messaging-sw.js",Qs="/firebase-cloud-messaging-push-scope",ki="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Na="google.c.a.c_id",Ml="google.c.a.c_l",zc="google.c.a.ts",Js="google.c.a.e";var kr=(()=>{return(b=kr||(kr={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",kr;var b})();function wi(b){const I=new Uint8Array(b);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sr(b){const R=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(R),Q=new Uint8Array(B.length);for(let le=0;le<B.length;++le)Q[le]=B.charCodeAt(le);return Q}const vs="fcm_token_details_db",Ho="fcm_token_object_Store";function Qh(b){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,x.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(vs))return null;let I=null;return(yield(0,he.X3)(vs,5,{upgrade:(B=(0,x.Z)(function*(Q,le,ve,Be){var lt;if(le<2||!Q.objectStoreNames.contains(Ho))return;const wt=Be.objectStore(Ho),St=yield wt.index("fcmSenderId").get(b);if(yield wt.clear(),St)if(2===le){const dt=St;if(!dt.auth||!dt.p256dh||!dt.endpoint)return;I={token:dt.fcmToken,createTime:null!==(lt=dt.createTime)&&void 0!==lt?lt:Date.now(),subscriptionOptions:{auth:dt.auth,p256dh:dt.p256dh,endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:"string"==typeof dt.vapidKey?dt.vapidKey:wi(dt.vapidKey)}}}else if(3===le){const dt=St;I={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:wi(dt.auth),p256dh:wi(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:wi(dt.vapidKey)}}}else if(4===le){const dt=St;I={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:wi(dt.auth),p256dh:wi(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:wi(dt.vapidKey)}}}}),function(le,ve,Be,lt){return B.apply(this,arguments)})})).close(),yield(0,he.Lj)(vs),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),In(I)?I:null;var B}),Ol.apply(this,arguments)}function In(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:I}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Kr="firebase-messaging-store";let Jn=null;function xa(){return Jn||(Jn=(0,he.X3)("firebase-messaging-database",1,{upgrade:(b,I)=>{0===I&&b.createObjectStore(Kr)}})),Jn}function Xs(b){return ri.apply(this,arguments)}function ri(){return(ri=(0,x.Z)(function*(b){const I=Fr(b),B=yield(yield xa()).transaction(Kr).objectStore(Kr).get(I);if(B)return B;{const Q=yield Qh(b.appConfig.senderId);if(Q)return yield Gt(b,Q),Q}})).apply(this,arguments)}function Gt(b,I){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,x.Z)(function*(b,I){const R=Fr(b),Q=(yield xa()).transaction(Kr,"readwrite");return yield Q.objectStore(Kr).put(I,R),yield Q.done,I})).apply(this,arguments)}function Li(b){return xl.apply(this,arguments)}function xl(){return(xl=(0,x.Z)(function*(b){const I=Fr(b),B=(yield xa()).transaction(Kr,"readwrite");yield B.objectStore(Kr).delete(I),yield B.done})).apply(this,arguments)}function Fr({appConfig:b}){return b.appId}const Rn=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bt(b,I){return $o.apply(this,arguments)}function $o(){return($o=(0,x.Z)(function*(b,I){var R;const B=yield Go(b),Q=Ae(I),le={method:"POST",headers:B,body:JSON.stringify(Q)};let ve;try{ve=yield(yield fetch(Es(b.appConfig),le)).json()}catch(Be){throw Rn.create("token-subscribe-failed",{errorInfo:null===(R=Be)||void 0===R?void 0:R.toString()})}if(ve.error)throw Rn.create("token-subscribe-failed",{errorInfo:ve.error.message});if(!ve.token)throw Rn.create("token-subscribe-no-token");return ve.token})).apply(this,arguments)}function Jh(b,I){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,x.Z)(function*(b,I){var R;const B=yield Go(b),Q=Ae(I.subscriptionOptions),le={method:"PATCH",headers:B,body:JSON.stringify(Q)};let ve;try{ve=yield(yield fetch(`${Es(b.appConfig)}/${I.token}`,le)).json()}catch(Be){throw Rn.create("token-update-failed",{errorInfo:null===(R=Be)||void 0===R?void 0:R.toString()})}if(ve.error)throw Rn.create("token-update-failed",{errorInfo:ve.error.message});if(!ve.token)throw Rn.create("token-update-no-token");return ve.token})).apply(this,arguments)}function Kc(b,I){return zo.apply(this,arguments)}function zo(){return(zo=(0,x.Z)(function*(b,I){var R;const Q={method:"DELETE",headers:yield Go(b)};try{const ve=yield(yield fetch(`${Es(b.appConfig)}/${I}`,Q)).json();if(ve.error)throw Rn.create("token-unsubscribe-failed",{errorInfo:ve.error.message})}catch(le){throw Rn.create("token-unsubscribe-failed",{errorInfo:null===(R=le)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function Es({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Go(b){return eo.apply(this,arguments)}function eo(){return(eo=(0,x.Z)(function*({appConfig:b,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ae({p256dh:b,auth:I,endpoint:R,vapidKey:B}){const Q={web:{endpoint:R,auth:I,p256dh:b}};return B!==ki&&(Q.web.applicationPubKey=B),Q}const Ft=6048e5;function td(b){return to.apply(this,arguments)}function to(){return(to=(0,x.Z)(function*(b){const I=yield nd(b.swRegistration,b.vapidKey),R={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:I.endpoint,auth:wi(I.getKey("auth")),p256dh:wi(I.getKey("p256dh"))},B=yield Xs(b.firebaseDependencies);if(B){if(Xh(B.subscriptionOptions,R))return Date.now()>=B.createTime+Ft?ka(b,{token:B.token,createTime:Date.now(),subscriptionOptions:R}):B.token;try{yield Kc(b.firebaseDependencies,B.token)}catch(Q){console.warn(Q)}return La(b.firebaseDependencies,R)}return La(b.firebaseDependencies,R)})).apply(this,arguments)}function Wn(b){return no.apply(this,arguments)}function no(){return(no=(0,x.Z)(function*(b){const I=yield Xs(b.firebaseDependencies);I&&(yield Kc(b.firebaseDependencies,I.token),yield Li(b.firebaseDependencies));const R=yield b.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function ka(b,I){return vr.apply(this,arguments)}function vr(){return(vr=(0,x.Z)(function*(b,I){try{const R=yield Jh(b.firebaseDependencies,I),B=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Gt(b.firebaseDependencies,B),R}catch(R){throw yield Wn(b),R}})).apply(this,arguments)}function La(b,I){return ro.apply(this,arguments)}function ro(){return(ro=(0,x.Z)(function*(b,I){const B={token:yield bt(b,I),createTime:Date.now(),subscriptionOptions:I};return yield Gt(b,B),B.token})).apply(this,arguments)}function nd(b,I){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,x.Z)(function*(b,I){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sr(I)})})).apply(this,arguments)}function Xh(b,I){return I.vapidKey===b.vapidKey&&I.endpoint===b.endpoint&&I.auth===b.auth&&I.p256dh===b.p256dh}function Cs(b){const I={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function zn(b,I){if(!I.notification)return;b.notification={};const R=I.notification.title;R&&(b.notification.title=R);const B=I.notification.body;B&&(b.notification.body=B);const Q=I.notification.image;Q&&(b.notification.image=Q);const le=I.notification.icon;le&&(b.notification.icon=le)}(I,b),function ii(b,I){!I.data||(b.data=I.data)}(I,b),function Zo(b,I){var R,B,Q,le,ve;if(!(I.fcmOptions||null!==(R=I.notification)&&void 0!==R&&R.click_action))return;b.fcmOptions={};const Be=null!==(Q=null===(B=I.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==Q?Q:null===(le=I.notification)||void 0===le?void 0:le.click_action;Be&&(b.fcmOptions.link=Be);const lt=null===(ve=I.fcmOptions)||void 0===ve?void 0:ve.analytics_label;lt&&(b.fcmOptions.analyticsLabel=lt)}(I,b),I}function qo(b){return"object"==typeof b&&!!b&&Na in b}function bi(b,I){const R=[];for(let B=0;B<b.length;B++)R.push(b.charAt(B)),B<I.length&&R.push(I.charAt(B));return R.join("")}function kl(b){return Rn.create("missing-app-config-values",{valueName:b})}bi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qc{constructor(I,R,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Zc(b){if(!b||!b.options)throw kl("App Configuration Object");if(!b.name)throw kl("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=b;for(const B of I)if(!R[B])throw kl(B);return{appName:b.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:R,analyticsProvider:B}}_delete(){return Promise.resolve()}}function rd(b){return io.apply(this,arguments)}function io(){return(io=(0,x.Z)(function*(b){var I;try{b.swRegistration=yield navigator.serviceWorker.register(ir,{scope:Qs}),b.swRegistration.update().catch(()=>{})}catch(R){throw Rn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=R)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function Ll(b,I){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,x.Z)(function*(b,I){if(!I&&!b.swRegistration&&(yield rd(b)),I||!b.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Rn.create("invalid-sw-registration");b.swRegistration=I}})).apply(this,arguments)}function Fl(b,I){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,x.Z)(function*(b,I){I?b.vapidKey=I:b.vapidKey||(b.vapidKey=ki)})).apply(this,arguments)}function so(){return(so=(0,x.Z)(function*(b,I){if(!navigator)throw Rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rn.create("permission-blocked");return yield Fl(b,I?.vapidKey),yield Ll(b,I?.serviceWorkerRegistration),td(b)})).apply(this,arguments)}function id(b,I,R){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,x.Z)(function*(b,I,R){const B=sd(I);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:R[Na],message_name:R[Ml],message_time:R[zc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sd(b){switch(b){case kr.NOTIFICATION_CLICKED:return"notification_open";case kr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Fi(){return(Fi=(0,x.Z)(function*(b,I){const R=I.data;if(!R.isFirebaseMessaging)return;b.onMessageHandler&&R.messageType===kr.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Cs(R)):b.onMessageHandler.next(Cs(R)));const B=R.data;qo(B)&&"1"===B[Js]&&(yield id(b,R.messageType,B))})).apply(this,arguments)}const Vi="@firebase/messaging",En=b=>{const I=new qc(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Qc(b,I){return Fi.apply(this,arguments)}(I,R)),I},Di=b=>{const I=b.getProvider("messaging").getImmediate();return{getToken:B=>function Yc(b,I){return so.apply(this,arguments)}(I,B)}};function Xc(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,x.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vn(){(0,oe._registerComponent)(new me.wA("messaging",En,"PUBLIC")),(0,oe._registerComponent)(new me.wA("messaging-internal",Di,"PRIVATE")),(0,oe.registerVersion)(Vi,"0.11.0"),(0,oe.registerVersion)(Vi,"0.11.0","esm2017")}();const lo="analytics",tu="firebase_id",jl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nu="https://www.googletagmanager.com/gtag/js",Pn=new fe.Yd("@firebase/analytics");function Va(b){return Promise.all(b.map(I=>I.catch(R=>R)))}function Ua(b,I){const R=document.createElement("script");R.src=`${nu}?l=${b}&id=${I}`,R.async=!0,document.head.appendChild(R)}function ad(b,I,R,B,Q,le){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,x.Z)(function*(b,I,R,B,Q,le){const ve=B[Q];try{if(ve)yield I[ve];else{const lt=(yield Va(R)).find(wt=>wt.measurementId===Q);lt&&(yield I[lt.appId])}}catch(Be){Pn.error(Be)}b("config",Q,le)})).apply(this,arguments)}function Ii(b,I,R,B,Q){return ea.apply(this,arguments)}function ea(){return(ea=(0,x.Z)(function*(b,I,R,B,Q){try{let le=[];if(Q&&Q.send_to){let ve=Q.send_to;Array.isArray(ve)||(ve=[ve]);const Be=yield Va(R);for(const lt of ve){const wt=Be.find(dt=>dt.measurementId===lt),St=wt&&I[wt.appId];if(!St){le=[];break}le.push(St)}}0===le.length&&(le=Object.values(I)),yield Promise.all(le),b("event",B,Q||{})}catch(le){Pn.error(le)}})).apply(this,arguments)}function ru(b){const I=window.document.getElementsByTagName("script");for(const R of Object.values(I))if(R.src&&R.src.includes(nu)&&R.src.includes(b))return R;return null}const Gn=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),na=new class Wl{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function co(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function ud(b){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,x.Z)(function*(b){var I;const{appId:R,apiKey:B}=b,Q={method:"GET",headers:co(B)},le=jl.replace("{app-id}",R),ve=yield fetch(le,Q);if(200!==ve.status&&304!==ve.status){let Be="";try{const lt=yield ve.json();null!==(I=lt.error)&&void 0!==I&&I.message&&(Be=lt.error.message)}catch{}throw Gn.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:Be})}return ve.json()})).apply(this,arguments)}function iu(b){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,x.Z)(function*(b,I=na,R){const{appId:B,apiKey:Q,measurementId:le}=b.options;if(!B)throw Gn.create("no-app-id");if(!Q){if(le)return{measurementId:le,appId:B};throw Gn.create("no-api-key")}const ve=I.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new ra;return setTimeout((0,x.Z)(function*(){Be.abort()}),void 0!==R?R:6e4),su({appId:B,apiKey:Q,measurementId:le},ve,Be,I)})).apply(this,arguments)}function su(b,I,R){return Si.apply(this,arguments)}function Si(){return(Si=(0,x.Z)(function*(b,{throttleEndTimeMillis:I,backoffCount:R},B,Q=na){var le,ve;const{appId:Be,measurementId:lt}=b;try{yield zl(B,I)}catch(wt){if(lt)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${null===(le=wt)||void 0===le?void 0:le.message}]`),{appId:Be,measurementId:lt};throw wt}try{const wt=yield ud(b);return Q.deleteThrottleMetadata(Be),wt}catch(wt){const St=wt;if(!Ha(St)){if(Q.deleteThrottleMetadata(Be),lt)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${St?.message}]`),{appId:Be,measurementId:lt};throw wt}const dt=503===Number(null===(ve=St?.customData)||void 0===ve?void 0:ve.httpStatus)?(0,ce.$s)(R,Q.intervalMillis,30):(0,ce.$s)(R,Q.intervalMillis),Bn={throttleEndTimeMillis:Date.now()+dt,backoffCount:R+1};return Q.setThrottleMetadata(Be,Bn),Pn.debug(`Calling attemptFetch again in ${dt} millis`),su(b,Bn,B,Q)}})).apply(this,arguments)}function zl(b,I){return new Promise((R,B)=>{const Q=Math.max(I-Date.now(),0),le=setTimeout(R,Q);b.addEventListener(()=>{clearTimeout(le),B(Gn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Ha(b){if(!(b instanceof ce.ZR&&b.customData))return!1;const I=Number(b.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ra{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let ws,$a;function uo(){return(uo=(0,x.Z)(function*(b,I,R,B,Q){if(Q&&Q.global)b("event",R,B);else{const le=yield I;b("event",R,Object.assign(Object.assign({},B),{send_to:le}))}})).apply(this,arguments)}function po(b){$a=b}function Gl(b){ws=b}function Bi(){return go.apply(this,arguments)}function go(){return(go=(0,x.Z)(function*(){var b;if(!(0,ce.hl)())return Pn.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(I){return Pn.warn(Gn.create("indexeddb-unavailable",{errorInfo:null===(b=I)||void 0===b?void 0:b.toString()}).message),!1}return!0})).apply(this,arguments)}function mo(){return(mo=(0,x.Z)(function*(b,I,R,B,Q,le,ve){var Be;const lt=iu(b);lt.then(hr=>{R[hr.measurementId]=hr.appId,b.options.measurementId&&hr.measurementId!==b.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${hr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hr=>Pn.error(hr)),I.push(lt);const wt=Bi().then(hr=>{if(hr)return B.getId()}),[St,dt]=yield Promise.all([lt,wt]);ru(le)||Ua(le,St.measurementId),$a&&(Q("consent","default",$a),po(void 0)),Q("js",new Date);const Bn=null!==(Be=ve?.config)&&void 0!==Be?Be:{};return Bn.origin="firebase",Bn.update=!0,null!=dt&&(Bn[tu]=dt),Q("config",St.measurementId,Bn),ws&&(Q("set",ws),Gl(void 0)),St.measurementId})).apply(this,arguments)}class Wa{constructor(I){this.app=I}_delete(){return delete ur[this.app.options.appId],Promise.resolve()}}let ur={},_o=[];const Ds={};let vo,oi,yo="dataLayer",au=!1;function fd(b,I,R){!function ef(){const b=[];if((0,ce.ru)()&&b.push("This is a browser extension environment."),(0,ce.zI)()||b.push("Cookies are not available."),b.length>0){const I=b.map((B,Q)=>`(${Q+1}) ${B}`).join(" "),R=Gn.create("invalid-analytics-context",{errorInfo:I});Pn.warn(R.message)}}();const B=b.options.appId;if(!B)throw Gn.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Gn.create("no-api-key");Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ur[B])throw Gn.create("already-exists",{id:B});if(!au){!function Ba(b){let I=[];Array.isArray(window[b])?I=window[b]:window[b]=I}(yo);const{wrappedGtag:le,gtagCore:ve}=function ta(b,I,R,B,Q){let le=function(...ve){window[B].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(le=window[Q]),window[Q]=function $l(b,I,R,B){function le(){return(le=(0,x.Z)(function*(ve,Be,lt){try{"event"===ve?yield Ii(b,I,R,Be,lt):"config"===ve?yield ad(b,I,R,B,Be,lt):"consent"===ve?b("consent","update",lt):b("set",Be)}catch(wt){Pn.error(wt)}})).apply(this,arguments)}return function Q(ve,Be,lt){return le.apply(this,arguments)}}(le,b,I,R),{gtagCore:le,wrappedGtag:window[Q]}}(ur,_o,Ds,yo,"gtag");oi=le,vo=ve,au=!0}return ur[B]=function hd(b,I,R,B,Q,le,ve){return mo.apply(this,arguments)}(b,_o,Ds,I,vo,yo,R),new Wa(b)}function Sg(){return pd.apply(this,arguments)}function pd(){return(pd=(0,x.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const it="@firebase/analytics";!function _n(){(0,oe._registerComponent)(new me.wA(lo,(I,{options:R})=>fd(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,oe._registerComponent)(new me.wA("analytics-internal",function b(I){try{const R=I.getProvider(lo).getImmediate();return{logEvent:(B,Q,le)=>function mn(b,I,R,B){b=(0,ce.m9)(b),function ia(b,I,R,B,Q){return uo.apply(this,arguments)}(oi,ur[b.app.options.appId],I,R,B).catch(Q=>Pn.error(Q))}(R,B,Q,le)}}catch(R){throw Gn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,oe.registerVersion)(it,"0.8.4"),(0,oe.registerVersion)(it,"0.8.4","esm2017")}();var Ti=L(4408),Zn=L(7565);const lu=new class Ss extends Zn.v{}(class Is extends Ti.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(I,R,B):(I.flush(this),0)}});var gd=L(4986),Hi=L(9751),uu=L(8505),ji=L(9468),ut=L(5363);const Zl=new u.GfV("7.5.0"),li="__angularfire_symbol__analyticsIsSupportedValue",Ga="__angularfire_symbol__analyticsIsSupported",oa="__angularfire_symbol__remoteConfigIsSupportedValue",Cn="__angularfire_symbol__remoteConfigIsSupported",aa="__angularfire_symbol__messagingIsSupportedValue",Ka="__angularfire_symbol__messagingIsSupported";function Co(b,I,R){if(I){if(1===I.length)return I[0];const le=I.filter(ve=>ve.app===R);if(1===le.length)return le[0]}return R.container.getProvider(b).getImmediate({optional:!0})}globalThis[Ga]||(globalThis[Ga]=Sg().then(b=>globalThis[li]=b).catch(()=>globalThis[li]=!1)),globalThis[Ka]||(globalThis[Ka]=Xc().then(b=>globalThis[aa]=b).catch(()=>globalThis[aa]=!1)),globalThis[Cn]||(globalThis[Cn]=Dg().then(b=>globalThis[oa]=b).catch(()=>globalThis[oa]=!1));const ci=(b,I)=>{const R=I?[I]:(0,j.C6)(),B=[];return R.forEach(Q=>{Q.container.getProvider(b).instances.forEach(ve=>{B.includes(ve)||B.push(ve)})}),B};function qr(){}class qa{constructor(I,R=lu){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,B){const Q=this.zone;return this.delegate.schedule(function(ve){Q.runGuarded(()=>{I.apply(this,[ve])})},R,B)}}class $i{constructor(I){this.zone=I,this.task=null}call(I,R){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qr,{},qr,qr)),R.pipe((0,uu.b)({next:B,complete:B,error:B})).subscribe(I).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ts=(()=>{class b{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new qa(Zone.current)),this.insideAngular=R.run(()=>new qa(Zone.current,gd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(R){return new(R||b)(u.LFG(u.R0b))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function dr(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Wi(b){return dr().ngZone.runOutsideAngular(()=>b())}function cn(b){return dr().ngZone.run(()=>b())}function On(b){return dr(),function un(b){return function(R){return(R=R.lift(new $i(b.ngZone))).pipe((0,ji.R)(b.outsideAngular),(0,ut.Q)(b.insideAngular))}}(dr())(b)}const wo=(b,I)=>function(){const B=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),cn(()=>b.apply(void 0,B))},ui=(b,I)=>function(){let R;const B=arguments;for(let le=0;le<arguments.length;le++)"function"==typeof B[le]&&(I&&(R||(R=cn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qr,{},qr,qr)))),B[le]=wo(B[le],R));const Q=Wi(()=>b.apply(this,B));if(!I){if(Q instanceof Hi.y){const le=dr();return Q.pipe((0,ji.R)(le.outsideAngular),(0,ut.Q)(le.insideAngular))}return cn(()=>Q)}return Q instanceof Hi.y?Q.pipe(On):Q instanceof Promise?cn(()=>new Promise((le,ve)=>Q.then(Be=>cn(()=>le(Be)),Be=>cn(()=>ve(Be))))):"function"==typeof Q&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),Q.apply(this,arguments)}:cn(()=>Q)}},8247:(rt,Ie,L)=>{L.d(Ie,{$:()=>Es,A:()=>z,B:()=>Pe,G:()=>ps,H:()=>Dr,J:()=>Ci,L:()=>G,M:()=>Oa,N:()=>Wc,P:()=>gd,Q:()=>Na,R:()=>Tg,T:()=>Ml,U:()=>ki,V:()=>kr,W:()=>wi,X:()=>Qh,Y:()=>jo,Z:()=>bt,_:()=>Jh,a:()=>Ui,a0:()=>td,a1:()=>Wn,a2:()=>ka,a3:()=>La,a4:()=>nd,a5:()=>Xh,a6:()=>zn,a7:()=>ii,a8:()=>qo,a9:()=>bi,aA:()=>$,aB:()=>Be,aC:()=>cn,aD:()=>Wi,aE:()=>ct,aI:()=>co,aL:()=>Js,aa:()=>rd,ab:()=>Ll,ac:()=>Fl,af:()=>id,ag:()=>sd,ah:()=>Qc,ak:()=>Kr,al:()=>Ul,an:()=>nu,ao:()=>Xo,ap:()=>ye,aq:()=>ke,ar:()=>Xe,as:()=>Ge,at:()=>ca,au:()=>sr,av:()=>Ct,aw:()=>Ne,ax:()=>se,ay:()=>Bn,az:()=>ee,b:()=>Gn,c:()=>Cn,d:()=>md,e:()=>Ka,f:()=>On,g:()=>R,h:()=>ui,i:()=>go,j:()=>le,k:()=>di,l:()=>Kt,m:()=>wd,n:()=>bd,o:()=>he,r:()=>Ti,s:()=>ai,u:()=>lu});var u=L(5861),j=L(2090),x=L(9681),oe=L(1877),ce=L(655),me=L(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new oe.Yd("@firebase/auth");function Ze(v,...p){ge.logLevel<=oe.in.ERROR&&ge.error(`Auth (${x.SDK_VERSION}): ${v}`,...p)}function Ge(v,...p){throw $e(v,...p)}function Ne(v,...p){return $e(v,...p)}function Re(v,p,m){const C=Object.assign(Object.assign({},Ce()),{[p]:m});return new j.LL("auth","Firebase",C).create(p,{appName:v.name})}function we(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ge(v,"argument-error"),Re(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(v,...p){if("string"!=typeof v){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(m,...C)}return Je.create(v,...p)}function se(v,p,...m){if(!v)throw $e(p,...m)}function ue(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ze(p),new Error(p)}function ye(v,p){v||ue(p)}const J=new Map;function ee(v){ye(v instanceof Function,"Expected a class definition");let p=J.get(v);return p?(ye(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,J.set(v,p),p)}function Le(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Fe(){return"http:"===st()||"https:"===st()}function st(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class We{constructor(p,m){this.shortDelay=p,this.longDelay=m,ye(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fe()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qt(v,p){ye(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class hn{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wt=new We(3e4,6e4);function kt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function At(v,p,m,C){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(v,p,m,C,T={}){return Xr(v,T,(0,u.Z)(function*(){let k={},ne={};C&&("GET"===p?ne=C:k={body:JSON.stringify(C)});const Te=(0,j.xO)(Object.assign({key:v.config.apiKey},ne)).slice(1),Qe=yield v._getAdditionalHeaders();return Qe["Content-Type"]="application/json",v.languageCode&&(Qe["X-Firebase-Locale"]=v.languageCode),hn.fetch()(ti(v,v.config.apiHost,m,Te),Object.assign({method:p,headers:Qe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Xr(v,p,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,u.Z)(function*(v,p,m){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},$t),p);try{const T=new _r(v),k=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const ne=yield k.json();if("needConfirmation"in ne)throw An(v,"account-exists-with-different-credential",ne);if(k.ok&&!("errorMessage"in ne))return ne;{const Te=k.ok?ne.errorMessage:ne.error.message,[Qe,ft]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw An(v,"credential-already-in-use",ne);if("EMAIL_EXISTS"===Qe)throw An(v,"email-already-in-use",ne);if("USER_DISABLED"===Qe)throw An(v,"user-disabled",ne);const Lt=C[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw Re(v,Lt,ft);Ge(v,Lt)}}catch(T){if(T instanceof j.ZR)throw T;Ge(v,"network-request-failed")}})).apply(this,arguments)}function Dn(v,p,m,C){return ei.apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(v,p,m,C,T={}){const k=yield At(v,p,m,C,T);return"mfaPendingCredential"in k&&Ge(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function ti(v,p,m,C){const T=`${p}${m}?${C}`;return v.config.emulator?Qt(v.config,T):`${v.config.apiScheme}://${T}`}class _r{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Ne(this.auth,"network-request-failed")),Wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(v,p,m){const C={appName:v.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const T=Ne(v,p,C);return T.customData._tokenResponse=m,T}function ni(){return(ni=(0,u.Z)(function*(v,p){return At(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ke(v,p){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(v,p){return At(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function kn(v,p){return an.apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(v,p){return At(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Qn(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function fn(){return(fn=(0,u.Z)(function*(v,p=!1){const m=(0,j.m9)(v),C=yield m.getIdToken(p),T=ot(C);se(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const k="object"==typeof T.firebase?T.firebase:void 0,ne=k?.sign_in_provider;return{claims:T,token:C,authTime:Qn(tn(T.auth_time)),issuedAtTime:Qn(tn(T.iat)),expirationTime:Qn(tn(T.exp)),signInProvider:ne||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function tn(v){return 1e3*Number(v)}function ot(v){var p;const[m,C,T]=v.split(".");if(void 0===m||void 0===C||void 0===T)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,j.tV)(C);return k?JSON.parse(k):(Ze("Failed to decode base64 JWT payload"),null)}catch(k){return Ze("Caught error parsing JWT payload as JSON",null===(p=k)||void 0===p?void 0:p.toString()),null}}function Et(v,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof j.ZR&&Ln(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function Ln({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class lr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,u.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(m=C)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class _t{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(v){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(v){var p;const m=v.auth,C=yield v.getIdToken(),T=yield Et(v,kn(m,{idToken:C}));se(T?.users.length,m,"internal-error");const k=T.users[0];v._notifyReloadListener(k);const ne=null!==(p=k.providerUserInfo)&&void 0!==p&&p.length?yn(k.providerUserInfo):[],Te=Kn(v.providerData,ne),Lt=!!v.isAnonymous&&!(v.email&&k.passwordHash||Te?.length),nn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Te,metadata:new _t(k.createdAt,k.lastLoginAt),isAnonymous:Lt};Object.assign(v,nn)})).apply(this,arguments)}function Vt(){return(Vt=(0,u.Z)(function*(v){const p=(0,j.m9)(v);yield cr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Kn(v,p){return[...v.filter(C=>!p.some(T=>T.providerId===C.providerId)),...p]}function yn(v){return v.map(p=>{var{providerId:m}=p,C=(0,ce._T)(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function De(){return(De=(0,u.Z)(function*(v,p){const m=yield Xr(v,{},(0,u.Z)(function*(){const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:k}=v.config,ne=ti(v,T,"/v1/token",`key=${k}`),Te=yield v._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",hn.fetch()(ne,{method:"POST",headers:Te,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){se(p.idToken,"internal-error"),se(typeof p.idToken<"u","internal-error"),se(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function at(v){const p=ot(v);return se(p,"internal-error"),se(typeof p.exp<"u","internal-error"),se(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,u.Z)(function*(){return se(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:k,expiresIn:ne}=yield function qe(v,p){return De.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(T,k,Number(ne))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:T,expirationTime:k}=m,ne=new Ye;return C&&(se("string"==typeof C,"internal-error",{appName:p}),ne.refreshToken=C),T&&(se("string"==typeof T,"internal-error",{appName:p}),ne.accessToken=T),k&&(se("number"==typeof k,"internal-error",{appName:p}),ne.expirationTime=k),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ye,this.toJSON())}_performRefresh(){return ue("not implemented")}}function pt(v,p){se("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class gt{constructor(p){var{uid:m,auth:C,stsTokenManager:T}=p,k=(0,ce._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new _t(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const C=yield Et(m,m.stsTokenManager.getToken(m.auth,p));return se(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function ln(v){return fn.apply(this,arguments)}(this,p)}reload(){return function br(v){return Vt.apply(this,arguments)}(this)}_assign(p){this!==p&&(se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new gt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,u.Z)(function*(){let T=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),T=!0),m&&(yield cr(C)),yield C.auth._persistUserIfCurrent(C),T&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield Et(p,function Gr(v,p){return ni.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,T,k,ne,Te,Qe,ft,Lt;const nn=null!==(C=m.displayName)&&void 0!==C?C:void 0,Ur=null!==(T=m.email)&&void 0!==T?T:void 0,Yr=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,da=null!==(ne=m.photoURL)&&void 0!==ne?ne:void 0,Jl=null!==(Te=m.tenantId)&&void 0!==Te?Te:void 0,pu=null!==(Qe=m._redirectEventId)&&void 0!==Qe?Qe:void 0,bo=null!==(ft=m.createdAt)&&void 0!==ft?ft:void 0,uf=null!==(Lt=m.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:ha,emailVerified:Dd,isAnonymous:df,providerData:fa,stsTokenManager:Do}=m;se(ha&&Do,p,"internal-error");const hf=Ye.fromJSON(this.name,Do);se("string"==typeof ha,p,"internal-error"),pt(nn,p.name),pt(Ur,p.name),se("boolean"==typeof Dd,p,"internal-error"),se("boolean"==typeof df,p,"internal-error"),pt(Yr,p.name),pt(da,p.name),pt(Jl,p.name),pt(pu,p.name),pt(bo,p.name),pt(uf,p.name);const gu=new gt({uid:ha,auth:p,email:Ur,emailVerified:Dd,displayName:nn,isAnonymous:df,photoURL:da,phoneNumber:Yr,tenantId:Jl,stsTokenManager:hf,createdAt:bo,lastLoginAt:uf});return fa&&Array.isArray(fa)&&(gu.providerData=fa.map(nl=>Object.assign({},nl))),pu&&(gu._redirectEventId=pu),gu}static _fromIdTokenResponse(p,m,C=!1){return(0,u.Z)(function*(){const T=new Ye;T.updateFromServerResponse(m);const k=new gt({uid:m.localId,auth:p,stsTokenManager:T,isAnonymous:C});return yield cr(k),k})()}}const G=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,C){var T=this;return(0,u.Z)(function*(){T.storage[m]=C})()}_get(m){var C=this;return(0,u.Z)(function*(){const T=C.storage[m];return void 0===T?null:T})()}_remove(m){var C=this;return(0,u.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return v.type="NONE",v})();function $(v,p,m){return`firebase:${v}:${p}:${m}`}class Y{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:T,name:k}=this.auth;this.fullUserKey=$(this.userKey,T.apiKey,k),this.fullPersistenceKey=$("persistence",T.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?gt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,u.Z)(function*(){if(!m.length)return new Y(ee(G),p,C);const T=(yield Promise.all(m.map(function(){var ft=(0,u.Z)(function*(Lt){if(yield Lt._isAvailable())return Lt});return function(Lt){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let k=T[0]||ee(G);const ne=$(C,p.config.apiKey,p.name);let Te=null;for(const ft of m)try{const Lt=yield ft._get(ne);if(Lt){const nn=gt._fromJSON(p,Lt);ft!==k&&(Te=nn),k=ft;break}}catch{}const Qe=T.filter(ft=>ft._shouldAllowMigration);return k._shouldAllowMigration&&Qe.length?(k=Qe[0],Te&&(yield k._set(ne,Te.toJSON())),yield Promise.all(m.map(function(){var ft=(0,u.Z)(function*(Lt){if(Lt!==k)try{yield Lt._remove(ne)}catch{}});return function(Lt){return ft.apply(this,arguments)}}())),new Y(k,p,C)):new Y(k,p,C)})()}}function H(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Oe(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(P(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(et(p))return"Blackberry";if(Se(p))return"Webos";if(V(p))return"Safari";if((p.includes("chrome/")||re(p))&&!p.includes("edge/"))return"Chrome";if(Xe(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function P(v=(0,j.z$)()){return/firefox\//i.test(v)}function V(v=(0,j.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function re(v=(0,j.z$)()){return/crios\//i.test(v)}function Oe(v=(0,j.z$)()){return/iemobile/i.test(v)}function Xe(v=(0,j.z$)()){return/android/i.test(v)}function et(v=(0,j.z$)()){return/blackberry/i.test(v)}function Se(v=(0,j.z$)()){return/webos/i.test(v)}function ke(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Ct(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Xt(v=(0,j.z$)()){return ke(v)||Xe(v)||Se(v)||et(v)||/windows phone/i.test(v)||Oe(v)}function pn(v,p=[]){let m;switch(v){case"Browser":m=H((0,j.z$)());break;case"Worker":m=`${H((0,j.z$)())}-${v}`;break;default:m=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${x.SDK_VERSION}/${C}`}class hs{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const C=k=>new Promise((ne,Te)=>{try{ne(p(k))}catch(Qe){Te(Qe)}});C.onAbort=m,this.queue.push(C);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){var C;if(m.auth.currentUser===p)return;const T=[];try{for(const k of m.queue)yield k(p),k.onAbort&&T.push(k.onAbort)}catch(k){T.reverse();for(const ne of T)try{ne()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=k)||void 0===C?void 0:C.message})}})()}}class zs{constructor(p,m,C){this.app=p,this.heartbeatServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fs(this),this.idTokenSubscription=new fs(this),this.beforeStateQueue=new hs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=ee(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,k;if(!C._deleted&&(C.persistenceManager=yield Y.create(C,p),!C._deleted)){if(null!==(T=C._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(k=C.currentUser)||void 0===k?void 0:k.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var C;const T=yield m.assertedPersistence.getCurrentUser();let k=T,ne=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Te=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,Qe=k?._redirectEventId,ft=yield m.tryRedirectSignIn(p);(!Te||Te===Qe)&&ft?.user&&(k=ft.user,ne=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(ne)try{yield m.beforeStateQueue.runMiddleware(k)}catch(Te){k=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Te))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return se(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){var C;try{yield cr(p)}catch(T){if("auth/network-request-failed"!==(null===(C=T)||void 0===C?void 0:C.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ot(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const C=p?(0,j.m9)(p):null;return C&&se(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p,m=!1){var C=this;return(0,u.Z)(function*(){if(!C._deleted)return p&&se(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,u.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(ee(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,u.Z)(function*(){const T=yield C.getOrInitRedirectPersistenceManager(m);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&ee(p)||m._popupRedirectResolver;se(C,m,"argument-error"),m.redirectPersistenceManager=yield Y.create(m,[ee(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var C,T;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,T){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return se(ne,this,"internal-error"),ne.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,C,T):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=pn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(C["X-Firebase-Client"]=T),C})()}}function ct(v){return(0,j.m9)(v)}class fs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(m=>this.observer=m)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ps(v,p,m){const C=ct(v);se(C._canInitEmulator,C,"emulator-config-failed"),se(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const T=!!m?.disableWarnings,k=Pa(p),{host:ne,port:Te}=function vi(v){const p=Pa(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(C);if(T){const k=T[1];return{host:k,port:Fn(C.substr(k.length+1))}}{const[k,ne]=C.split(":");return{host:k,port:Fn(ne)}}}(p);C.config.emulator={url:`${k}//${ne}${null===Te?"":`:${Te}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ne,port:Te,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function gs(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Pa(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Fn(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Dr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ue("not implemented")}_getIdTokenResponse(p){return ue("not implemented")}_linkToIdToken(p,m){return ue("not implemented")}_getReauthenticationResolver(p){return ue("not implemented")}}function Or(v,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(v,p){return At(v,"POST","/v1/accounts:resetPassword",kt(v,p))})).apply(this,arguments)}function Al(v,p){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(v,p){return At(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ju(v,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(v,p){return At(v,"POST","/v1/accounts:update",kt(v,p))})).apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(v,p){return Dn(v,"POST","/v1/accounts:signInWithPassword",kt(v,p))})).apply(this,arguments)}function xi(v,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(v,p){return At(v,"POST","/v1/accounts:sendOobCode",kt(v,p))})).apply(this,arguments)}function Ei(v,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(v,p){return xi(v,p)})).apply(this,arguments)}function Xu(v,p){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(v,p){return xi(v,p)})).apply(this,arguments)}function Nr(v,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(v,p){return xi(v,p)})).apply(this,arguments)}function Rl(v,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,u.Z)(function*(v,p){return xi(v,p)})).apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(v,p){return Dn(v,"POST","/v1/accounts:signInWithEmailLink",kt(v,p))})).apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(v,p){return Dn(v,"POST","/v1/accounts:signInWithEmailLink",kt(v,p))})).apply(this,arguments)}class Ks extends Dr{constructor(p,m,C,T=null){super("password",C),this._email=p,this._password=m,this._tenantId=T}static _fromEmailAndPassword(p,m){return new Ks(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new Ks(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function Fo(v,p){return ms.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ir(v,p){return Pl.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ge(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return Al(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function zh(v,p){return Ma.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:Ge(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ys(v,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(v,p){return Dn(v,"POST","/v1/accounts:signInWithIdp",kt(v,p))})).apply(this,arguments)}class Ci extends Dr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Ci(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ge("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:T}=m,k=(0,ce._T)(m,["providerId","signInMethod"]);if(!C||!T)return null;const ne=new Ci(C,T);return ne.idToken=k.idToken||void 0,ne.accessToken=k.accessToken||void 0,ne.secret=k.secret,ne.nonce=k.nonce,ne.pendingToken=k.pendingToken||null,ne}_getIdTokenResponse(p){return ys(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,ys(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ys(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,j.xO)(m)}return p}}function Kh(v,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,u.Z)(function*(v,p){return At(v,"POST","/v1/accounts:sendVerificationCode",kt(v,p))})).apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(v,p){return Dn(v,"POST","/v1/accounts:signInWithPhoneNumber",kt(v,p))})).apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(v,p){const m=yield Dn(v,"POST","/v1/accounts:signInWithPhoneNumber",kt(v,p));if(m.temporaryProof)throw An(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const qh={USER_NOT_FOUND:"user-not-found"};function Hc(){return(Hc=(0,u.Z)(function*(v,p){return Dn(v,"POST","/v1/accounts:signInWithPhoneNumber",kt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),qh)})).apply(this,arguments)}class qs extends Dr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new qs({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new qs({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Zh(v,p){return Uo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Zs(v,p){return Bc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Yh(v,p){return Hc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:T}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:T,temporaryProof:k}=p;return C||m||T||k?new qs({verificationId:m,verificationCode:C,phoneNumber:T,temporaryProof:k}):null}}class Ys{constructor(p){var m,C,T,k,ne,Te;const Qe=(0,j.zd)((0,j.pd)(p)),ft=null!==(m=Qe.apiKey)&&void 0!==m?m:null,Lt=null!==(C=Qe.oobCode)&&void 0!==C?C:null,nn=function jc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Qe.mode)&&void 0!==T?T:null);se(ft&&Lt&&nn,"argument-error"),this.apiKey=ft,this.operation=nn,this.code=Lt,this.continueUrl=null!==(k=Qe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(ne=Qe.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(Te=Qe.tenantId)&&void 0!==Te?Te:null}static parseLink(p){const m=function $c(v){const p=(0,j.zd)((0,j.pd)(v)).link,m=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||m||p||v}(p);try{return new Ys(m)}catch{return null}}}let Oa=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,C){return Ks._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const T=Ys.parseLink(C);return se(T,"argument-error"),Ks._fromEmailAndCode(m,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ir{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Qs extends ir{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ki extends Qs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return se("providerId"in m&&"signInMethod"in m,"argument-error"),Ci._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return se(p.idToken||p.accessToken,"argument-error"),Ci._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ki.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ki.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:T,pendingToken:k,nonce:ne,providerId:Te}=p;if(!C&&!T&&!m&&!k||!Te)return null;try{return new ki(Te)._credential({idToken:m,accessToken:C,nonce:ne,pendingToken:k})}catch{return null}}}let Wc=(()=>{class v extends Qs{constructor(){super("facebook.com")}static credential(m){return Ci._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Na=(()=>{class v extends Qs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return Ci._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:T}=m;if(!C&&!T)return null;try{return v.credential(C,T)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ml=(()=>{class v extends Qs{constructor(){super("github.com")}static credential(m){return Ci._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Js extends Dr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ys(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,ys(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ys(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:T,pendingToken:k}=m;return C&&T&&k&&C===T?new Js(C,k):null}static _create(p,m){return new Js(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class kr extends ir{constructor(p){se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return kr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return kr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Js.fromJSON(p);return se(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:C}=p;if(!m||!C)return null;try{return Js._create(C,m)}catch{return null}}}let wi=(()=>{class v extends Qs{constructor(){super("twitter.com")}static credential(m,C){return Ci._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:T}=m;if(!C||!T)return null;try{return v.credential(C,T)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Sr(v,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(v,p){return Dn(v,"POST","/v1/accounts:signUp",kt(v,p))})).apply(this,arguments)}class Lr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,T=!1){return(0,u.Z)(function*(){const k=yield gt._fromIdTokenResponse(p,C,T),ne=Ho(C);return new Lr({user:k,providerId:ne,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const T=Ho(C);return new Lr({user:p,providerId:T,_tokenResponse:C,operationType:m})})()}}function Ho(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Qh(v){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(v){var p;const m=ct(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Lr({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Sr(m,{returnSecureToken:!0}),T=yield Lr._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class In extends j.ZR{constructor(p,m,C,T){var k;super(m.code,m.message),this.operationType=C,this.user=T,Object.setPrototypeOf(this,In.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,T){return new In(p,m,C,T)}}function Gc(v,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?In._fromErrorAndOperation(v,k,p,C):k})}function ed(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Kr(v,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(v,p){const m=(0,j.m9)(v);yield ri(!0,m,p);const{providerUserInfo:C}=yield Ke(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),T=ed(C||[]);return m.providerData=m.providerData.filter(k=>T.has(k.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function xa(v,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(v,p,m=!1){const C=yield Et(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Lr._forOperation(v,"link",C)})).apply(this,arguments)}function ri(v,p,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,u.Z)(function*(v,p,m){yield cr(p);const T=!1===v?"provider-already-linked":"no-such-provider";se(ed(p.providerData).has(m)===v,p.auth,T)})).apply(this,arguments)}function Nl(v,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(v,p,m=!1){var C;const{auth:T}=v,k="reauthenticate";try{const ne=yield Et(v,Gc(T,k,p,v),m);se(ne.idToken,T,"internal-error");const Te=ot(ne.idToken);se(Te,T,"internal-error");const{sub:Qe}=Te;return se(v.uid===Qe,T,"user-mismatch"),Lr._forOperation(v,k,ne)}catch(ne){throw"auth/user-not-found"===(null===(C=ne)||void 0===C?void 0:C.code)&&Ge(T,"user-mismatch"),ne}})).apply(this,arguments)}function xl(v,p){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(v,p,m=!1){const C="signIn",T=yield Gc(v,C,p),k=yield Lr._fromIdTokenResponse(v,C,T);return m||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function jo(v,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(v,p){return xl(ct(v),p)})).apply(this,arguments)}function bt(v,p){return $o.apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(v,p){const m=(0,j.m9)(v);return yield ri(!1,m,p.providerId),xa(m,p)})).apply(this,arguments)}function Jh(v,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(v,p){return Nl((0,j.m9)(v),p)})).apply(this,arguments)}function Kc(v,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(v,p){return Dn(v,"POST","/v1/accounts:signInWithCustomToken",kt(v,p))})).apply(this,arguments)}function Es(v,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(v,p){const m=ct(v),C=yield Kc(m,{token:p,returnSecureToken:!0}),T=yield Lr._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class eo{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Ae._fromServerResponse(p,m):Ge(p,"internal-error")}}class Ae extends eo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Ae(m)}}function Ft(v,p,m){var C;se((null===(C=m.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),se(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(se(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(se(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function td(v,p,m){return to.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(v,p,m){const C=(0,j.m9)(v),T={requestType:"PASSWORD_RESET",email:p};m&&Ft(C,T,m),yield Xu(C,T)})).apply(this,arguments)}function Wn(v,p,m){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(v,p,m){yield Or((0,j.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function ka(v,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,u.Z)(function*(v,p){yield Ju((0,j.m9)(v),{oobCode:p})})).apply(this,arguments)}function La(v,p){return ro.apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(v,p){const m=(0,j.m9)(v),C=yield Or(m,{oobCode:p}),T=C.requestType;switch(se(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(C.mfaInfo,m,"internal-error");default:se(C.email,m,"internal-error")}let k=null;return C.mfaInfo&&(k=eo._fromServerResponse(ct(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:k},operation:T}})).apply(this,arguments)}function nd(v,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(v,p){const{data:m}=yield La((0,j.m9)(v),p);return m.email})).apply(this,arguments)}function Xh(v,p,m){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(v,p,m){const C=ct(v),T=yield Sr(C,{returnSecureToken:!0,email:p,password:m}),k=yield Lr._fromIdTokenResponse(C,"signIn",T);return yield C._updateCurrentUser(k.user),k})).apply(this,arguments)}function zn(v,p,m){return jo((0,j.m9)(v),Oa.credential(p,m))}function ii(v,p,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(v,p,m){const C=(0,j.m9)(v),T={requestType:"EMAIL_SIGNIN",email:p};se(m.handleCodeInApp,C,"argument-error"),m&&Ft(C,T,m),yield Nr(C,T)})).apply(this,arguments)}function qo(v,p){return"EMAIL_SIGNIN"===Ys.parseLink(p)?.operation}function bi(v,p,m){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(v,p,m){const C=(0,j.m9)(v),T=Oa.credentialWithLink(p,m||Le());return se(T._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),jo(C,T)})).apply(this,arguments)}function kl(v,p){return qc.apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(v,p){return At(v,"POST","/v1/accounts:createAuthUri",kt(v,p))})).apply(this,arguments)}function rd(v,p){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(v,p){const C={identifier:p,continueUri:Fe()?Le():"http://localhost"},{signinMethods:T}=yield kl((0,j.m9)(v),C);return T||[]})).apply(this,arguments)}function Ll(v,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(v,p){const m=(0,j.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ft(m.auth,T,p);const{email:k}=yield Ei(m.auth,T);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function Fl(v,p,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(v,p,m){const C=(0,j.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Ft(C.auth,k,m);const{email:ne}=yield Rl(C.auth,k);ne!==v.email&&(yield v.reload())})).apply(this,arguments)}function Yc(v,p){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(v,p){return At(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function id(v,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,j.m9)(v),k={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},ne=yield Et(C,Yc(C.auth,k));C.displayName=ne.displayName||null,C.photoURL=ne.photoUrl||null;const Te=C.providerData.find(({providerId:Qe})=>"password"===Qe);Te&&(Te.displayName=C.displayName,Te.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ne)})).apply(this,arguments)}function sd(v,p){return Fi((0,j.m9)(v),p,null)}function Qc(v,p){return Fi((0,j.m9)(v),null,p)}function Fi(v,p,m){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,u.Z)(function*(v,p,m){const{auth:C}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const ne=yield Et(v,Al(C,k));yield v._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class En{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class Di extends En{constructor(p,m,C,T){super(p,m,C),this.username=T}}class vn extends En{constructor(p,m){super(p,"facebook.com",m)}}class Xc extends Di{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Vl extends En{constructor(p,m){super(p,"google.com",m)}}class od extends Di{constructor(p,m,C){super(p,"twitter.com",m,C)}}function Ul(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Jc(v){var p,m;if(!v)return null;const{providerId:C}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&v?.idToken){const ne=null===(m=null===(p=ot(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(ne)return new En(k,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!C)return null;switch(C){case"facebook.com":return new vn(k,T);case"github.com":return new Xc(k,T);case"google.com":return new Vl(k,T);case"twitter.com":return new od(k,T,v.screenName||null);case"custom":case"anonymous":return new En(k,null);default:return new En(k,C,T)}}(m)}class Vr{constructor(p,m,C){this.type=p,this.credential=m,this.auth=C}static _fromIdtoken(p,m){return new Vr("enroll",p,m)}static _fromMfaPendingCredential(p){return new Vr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Vr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return Vr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class jl{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=ct(p),T=m.customData._serverResponse,k=(T.mfaInfo||[]).map(Te=>eo._fromServerResponse(C,Te));se(T.mfaPendingCredential,C,"internal-error");const ne=Vr._fromMfaPendingCredential(T.mfaPendingCredential);return new jl(ne,k,function(){var Te=(0,u.Z)(function*(Qe){const ft=yield Qe._process(C,ne);delete T.mfaInfo,delete T.mfaPendingCredential;const Lt=Object.assign(Object.assign({},T),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(m.operationType){case"signIn":const nn=yield Lr._fromIdTokenResponse(C,m.operationType,Lt);return yield C._updateCurrentUser(nn.user),nn;case"reauthenticate":return se(m.user,C,"internal-error"),Lr._forOperation(m.user,m.operationType,Lt);default:Ge(C,"internal-error")}});return function(Qe){return Te.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}function nu(v,p){var m;const C=(0,j.m9)(v),T=p;return se(p.customData.operationType,C,"argument-error"),se(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),jl._fromError(C,T)}function Pn(v,p){return At(v,"POST","/v2/accounts/mfaEnrollment:start",kt(v,p))}class Ba{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>eo._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Ba(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Vr._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var C=this;return(0,u.Z)(function*(){const T=p,k=yield C.getSession(),ne=yield Et(C.user,T._process(C.user.auth,k,m));return yield C.user._updateTokensIfNecessary(ne),C.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){var C;const T="string"==typeof p?p:p.uid,k=yield m.user.getIdToken(),ne=yield Et(m.user,function Ua(v,p){return At(v,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(v,p))}(m.user.auth,{idToken:k,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Te})=>Te!==T),yield m.user._updateTokensIfNecessary(ne);try{yield m.user.reload()}catch(Te){if("auth/user-token-expired"!==(null===(C=Te)||void 0===C?void 0:C.code))throw Te}})()}}const ad=new WeakMap;function Xo(v){const p=(0,j.m9)(v);return ad.has(p)||ad.set(p,Ba._fromUser(p)),ad.get(p)}const Ii="__sak";class ea{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ii,"1"),this.storage.removeItem(Ii),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gn=(()=>{class v extends ea{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $l(){const v=(0,j.z$)();return V(v)||ke(v)}()&&function yi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const T=this.storage.getItem(C),k=this.localCache[C];T!==k&&m(C,k,T)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((Te,Qe,ft)=>{this.notifyListeners(Te,ft)});const T=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(T);if(m.newValue!==Te)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!C)return}const k=()=>{const Te=this.storage.getItem(T);!C&&this.localCache[T]===Te||this.notifyListeners(T,Te)},ne=this.storage.getItem(T);!function It(){return(0,j.w1)()&&10===document.documentMode}()||ne===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,C){this.localCache[m]=C;const T=this.listeners[m];if(T)for(const k of Array.from(T))k(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var T=()=>super._set,k=this;return(0,u.Z)(function*(){yield T().call(k,m,C),k.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,T=this;return(0,u.Z)(function*(){const k=yield C().call(T,m);return T.localCache[m]=JSON.stringify(k),k})()}_remove(m){var C=()=>super._remove,T=this;return(0,u.Z)(function*(){yield C().call(T,m),delete T.localCache[m]})()}}return v.type="LOCAL",v})(),Ui=(()=>{class v extends ea{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return v.type="SESSION",v})();let na=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(k=>k.isListeningto(m));if(C)return C;const T=new v(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,u.Z)(function*(){const T=m,{eventId:k,eventType:ne,data:Te}=T.data,Qe=C.handlersMap[ne];if(!Qe?.size)return;T.ports[0].postMessage({status:"ack",eventId:k,eventType:ne});const ft=Array.from(Qe).map(function(){var nn=(0,u.Z)(function*(Ur){return Ur(T.origin,Te)});return function(Ur){return nn.apply(this,arguments)}}()),Lt=yield function Wl(v){return Promise.all(v.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(ft);T.ports[0].postMessage({status:"done",eventId:k,eventType:ne,response:Lt})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function co(v="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return v+m}class ud{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var T=this;return(0,u.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let ne,Te;return new Promise((Qe,ft)=>{const Lt=co("",20);k.port1.start();const nn=setTimeout(()=>{ft(new Error("unsupported_event"))},C);Te={messageChannel:k,onMessage(Ur){const Yr=Ur;if(Yr.data.eventId===Lt)switch(Yr.data.status){case"ack":clearTimeout(nn),ne=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),Qe(Yr.data.response);break;default:clearTimeout(nn),clearTimeout(ne),ft(new Error("invalid_response"))}}},T.handlers.add(Te),k.port1.addEventListener("message",Te.onMessage),T.target.postMessage({eventType:p,eventId:Lt,data:m},[k.port2])}).finally(()=>{Te&&T.removeMessageHandler(Te)})})()}}function Mn(){return window}function Tr(){return typeof Mn().WorkerGlobalScope<"u"&&"function"==typeof Mn().importScripts}function Si(){return(Si=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ra="firebaseLocalStorageDb",ia="firebaseLocalStorage",uo="fbase_key";class bs{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ho(v,p){return v.transaction([ia],p?"readwrite":"readonly").objectStore(ia)}function ja(){const v=indexedDB.open(ra,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(ia,{keyPath:uo})}catch(T){m(T)}}),v.addEventListener("success",(0,u.Z)(function*(){const C=v.result;C.objectStoreNames.contains(ia)?p(C):(C.close(),yield function ou(){const v=indexedDB.deleteDatabase(ra);return new bs(v).toPromise()}(),p(yield ja()))}))})}function sa(v,p,m){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(v,p,m){const C=ho(v,!0).put({[uo]:p,value:m});return new bs(C).toPromise()})).apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(v,p){const m=ho(v,!1).get(p),C=yield new bs(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function $a(v,p){const m=ho(v,!0).delete(p);return new bs(m).toPromise()}const go=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield ja()),m.db})()}_withRetries(m){var C=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const k=yield C._openDb();return yield m(k)}catch(k){if(T++>3)throw k;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return Tr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=na._getInstance(function Ha(){return Tr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(T,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(T,k){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(T,k){return["keyChanged"]});return function(T,k){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var C,T;if(m.activeServiceWorker=yield function su(){return Si.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ud(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(C=k[0])||void 0===C?void 0:C.fulfilled)&&(null===(T=k[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function zl(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ja();return yield sa(m,Ii,"1"),yield $a(m,Ii),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(k=>sa(k,m,C)),T.localCache[m]=C,T.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,u.Z)(function*(){const T=yield C._withRetries(k=>function dd(v,p){return fo.apply(this,arguments)}(k,m));return C.localCache[m]=T,T})()}_remove(m){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(T=>$a(T,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const C=yield m._withRetries(ne=>{const Te=ho(ne,!1).getAll();return new bs(Te).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const T=[],k=new Set;for(const{fbase_key:ne,value:Te}of C)k.add(ne),JSON.stringify(m.localCache[ne])!==JSON.stringify(Te)&&(m.notifyListeners(ne,Te),T.push(ne));for(const ne of Object.keys(m.localCache))m.localCache[ne]&&!k.has(ne)&&(m.notifyListeners(ne,null),T.push(ne));return T})()}notifyListeners(m,C){this.localCache[m]=C;const T=this.listeners[m];if(T)for(const k of Array.from(T))k(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function hd(v,p){return At(v,"POST","/v2/accounts/mfaSignIn:start",kt(v,p))}function ur(){return(ur=(0,u.Z)(function*(v){return(yield At(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ds(v){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=T=>{const k=Ne("internal-error");k.customData=T,m(k)},C.type="text/javascript",C.charset="UTF-8",function _o(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function yo(v){return`__${v}${Math.floor(1e6*Math.random())}`}const oi=1e12;class au{constructor(p){this.auth=p,this.counter=oi,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new gn(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||oi;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||oi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var C;return null===(C=m._widgets.get(p||oi))||void 0===C||C.execute(),""})()}}class gn{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;se(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ef(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fd=yo("rcb"),jy=new We(3e4,6e4);class Sg{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Mn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return se(function pd(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Mn().grecaptcha):new Promise((C,T)=>{const k=Mn().setTimeout(()=>{T(Ne(p,"network-request-failed"))},jy.get());Mn()[fd]=()=>{Mn().clearTimeout(k),delete Mn()[fd];const Te=Mn().grecaptcha;if(!Te)return void T(Ne(p,"internal-error"));const Qe=Te.render;Te.render=(ft,Lt)=>{const nn=Qe(ft,Lt);return this.counter++,nn},this.hostLanguage=m,C(Te)},Ds(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:fd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),T(Ne(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Mn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $y{load(p){return(0,u.Z)(function*(){return new au(p)})()}clearedOneInstance(){}}const za="recaptcha",Wy={theme:"light",type:"image"};class Tg{constructor(p,m=Object.assign({},Wy),C){this.parameters=m,this.type=za,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ct(C),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;se(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $y:new Sg,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(k=>{const ne=Te=>{!Te||(p.tokenChangeListeners.delete(ne),k(Te))};p.tokenChangeListeners.add(ne),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=Mn()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){se(Fe()&&!Tr(),p.auth,"internal-error"),yield function Xn(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Wa(v){return ur.apply(this,arguments)}(p.auth);se(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mn{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=qs._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ai(v,p,m){return it.apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(v,p,m){const C=ct(v),T=yield Zn(C,p,(0,j.m9)(m));return new mn(T,k=>jo(C,k))})).apply(this,arguments)}function Kt(v,p,m){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(v,p,m){const C=(0,j.m9)(v);yield ri(!1,C,"phone");const T=yield Zn(C.auth,p,(0,j.m9)(m));return new mn(T,k=>bt(C,k))})).apply(this,arguments)}function Ti(v,p,m){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(v,p,m){const C=(0,j.m9)(v),T=yield Zn(C.auth,p,(0,j.m9)(m));return new mn(T,k=>Jh(C,k))})).apply(this,arguments)}function Zn(v,p,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(v,p,m){var C;const T=yield m.verify();try{let k;if(se("string"==typeof T,v,"argument-error"),se(m.type===za,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const ne=k.session;if("phoneNumber"in k)return se("enroll"===ne.type,v,"internal-error"),(yield Pn(v,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{se("signin"===ne.type,v,"internal-error");const Te=(null===(C=k.multiFactorHint)||void 0===C?void 0:C.uid)||k.multiFactorUid;return se(Te,v,"missing-multi-factor-info"),(yield hd(v,{mfaPendingCredential:ne.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Kh(v,{phoneNumber:k.phoneNumber,recaptchaToken:T});return ne}}finally{m._reset()}})).apply(this,arguments)}function lu(v,p){return cu.apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(v,p){yield xa((0,j.m9)(v),p)})).apply(this,arguments)}let gd=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=ct(m)}verifyPhoneNumber(m,C){return Zn(this.auth,m,(0,j.m9)(C))}static credential(m,C){return qs._fromVerification(m,C)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:T}=m;return C&&T?qs._fromTokenResponse(C,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Hi(v,p){return p?ee(p):(se(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class uu extends Dr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ys(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ys(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ys(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ji(v){return xl(v.auth,new uu(v),v.bypassAuthState)}function ut(v){const{auth:p,user:m}=v;return se(m,p,"internal-error"),Nl(m,new uu(v),v.bypassAuthState)}function Zl(v){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(v){const{auth:p,user:m}=v;return se(m,p,"internal-error"),xa(m,new uu(v),v.bypassAuthState)})).apply(this,arguments)}class Ga{constructor(p,m,C,T,k=!1){this.auth=p,this.resolver=C,this.user=T,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(C,T){p.pendingPromise={resolve:C,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(C,T){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:T,postBody:k,tenantId:ne,error:Te,type:Qe}=p;if(Te)return void m.reject(Te);const ft={auth:m.auth,requestUri:C,sessionId:T,tenantId:ne||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Qe)(ft))}catch(Lt){m.reject(Lt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ji;case"linkViaPopup":case"linkViaRedirect":return Zl;case"reauthViaPopup":case"reauthViaRedirect":return ut;default:Ge(this.auth,"internal-error")}}resolve(p){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oa=new We(2e3,1e4);function Cn(v,p,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(v,p,m){const C=ct(v);we(v,p,ir);const T=Hi(C,m);return new Za(C,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Ka(v,p,m){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(v,p,m){const C=(0,j.m9)(v);we(C.auth,p,ir);const T=Hi(C.auth,m);return new Za(C.auth,"reauthViaPopup",p,T,C).executeNotNull()})).apply(this,arguments)}function md(v,p,m){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(v,p,m){const C=(0,j.m9)(v);we(C.auth,p,ir);const T=Hi(C.auth,m);return new Za(C.auth,"linkViaPopup",p,T,C).executeNotNull()})).apply(this,arguments)}let Za=(()=>{class v extends Ga{constructor(m,C,T,k,ne){super(m,C,k,ne),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const C=yield m.execute();return se(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,u.Z)(function*(){ye(1===m.filter.length,"Popup operations only handle one event");const C=co();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(Ne(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,T;this.pollId=null!==(T=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,oa.get())};m()}}return v.currentPopupAction=null,v})();const ci=new Map;class qr extends Ga{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let C=ci.get(m.auth._key());if(!C){try{const k=(yield function qa(v,p){return $i.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(k)}catch(T){C=()=>Promise.reject(T)}ci.set(m.auth._key(),C)}return m.bypassAuthState||ci.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const T=yield C.auth._redirectUserForId(p.eventId);if(T)return C.user=T,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function $i(){return($i=(0,u.Z)(function*(v,p){const m=Rs(p),C=As(v);if(!(yield C._isAvailable()))return!1;const T="true"===(yield C._get(m));return yield C._remove(m),T})).apply(this,arguments)}function Ts(v,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(v,p){return As(v)._set(Rs(p),"true")})).apply(this,arguments)}function Wi(){ci.clear()}function cn(v,p){ci.set(v._key(),p)}function As(v){return ee(v._redirectPersistence)}function Rs(v){return $("pendingRedirect",v.config.apiKey,v.name)}function On(v,p,m){return function un(v,p,m){return wo.apply(this,arguments)}(v,p,m)}function wo(){return(wo=(0,u.Z)(function*(v,p,m){const C=ct(v);we(v,p,ir);const T=Hi(C,m);return yield Ts(T,C),T._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function ui(v,p,m){return function b(v,p,m){return I.apply(this,arguments)}(v,p,m)}function I(){return(I=(0,u.Z)(function*(v,p,m){const C=(0,j.m9)(v);we(C.auth,p,ir);const T=Hi(C.auth,m);yield Ts(T,C.auth);const k=yield wt(C);return T._openRedirect(C.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function R(v,p,m){return function B(v,p,m){return Q.apply(this,arguments)}(v,p,m)}function Q(){return(Q=(0,u.Z)(function*(v,p,m){const C=(0,j.m9)(v);we(C.auth,p,ir);const T=Hi(C.auth,m);yield ri(!1,C,p.providerId),yield Ts(T,C.auth);const k=yield wt(C);return T._openRedirect(C.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function le(v,p){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(v,p){return yield ct(v)._initializationPromise,Be(v,p,!1)})).apply(this,arguments)}function Be(v,p){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(v,p,m=!1){const C=ct(v),T=Hi(C,p),ne=yield new qr(C,T,m).execute();return ne&&!m&&(delete ne.user._redirectEventId,yield C._persistUserIfCurrent(ne.user),yield C._setRedirectUser(null,p)),ne})).apply(this,arguments)}function wt(v){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(v){const p=co(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Bn{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Rt(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ps(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!Ps(p)){const T=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Ne(this.auth,T))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hr(p))}saveEventToCache(p){this.cachedEventUids.add(hr(p)),this.lastProcessedEventTime=Date.now()}}function hr(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Ps({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function sr(v){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(v,p={}){return At(v,"GET","/v1/projects",p)})).apply(this,arguments)}const zi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ya=/^https?/;function er(){return(er=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield sr(v);for(const m of p)try{if(du(m))return}catch{}Ge(v,"unauthorized-domain")})).apply(this,arguments)}function du(v){const p=Le(),{protocol:m,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const ne=new URL(v);return""===ne.hostname&&""===C?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&ne.hostname===C}if(!Ya.test(m))return!1;if(zi.test(v))return C===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(C)}const tf=new We(3e4,6e4);function _d(){const v=Mn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Nn=null;function Os(v){return Nn=Nn||function zy(v){return new Promise((p,m)=>{var C,T,k;function ne(){_d(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{_d(),m(Ne(v,"network-request-failed"))},timeout:tf.get()})}if(null!==(T=null===(C=Mn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==T&&T.Iframe)p(gapi.iframes.getContext());else{if(null===(k=Mn().gapi)||void 0===k||!k.load){const Te=yo("iframefcb");return Mn()[Te]=()=>{gapi.load?ne():m(Ne(v,"network-request-failed"))},Ds(`https://apis.google.com/js/api.js?onload=${Te}`).catch(Qe=>m(Qe))}ne()}}).catch(p=>{throw Nn=null,p})}(v),Nn}const yd=new We(5e3,15e3),vd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ag=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rg(v){const p=v.config;se(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?Qt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:x.SDK_VERSION},T=Ag.get(v.config.apiHost);T&&(C.eid=T);const k=v._getFrameworks();return k.length&&(C.fw=k.join(",")),`${m}?${(0,j.xO)(C).slice(1)}`}function ql(){return ql=(0,u.Z)(function*(v){const p=yield Os(v),m=Mn().gapi;return se(m,v,"internal-error"),p.open({where:document.body,url:Rg(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vd,dontclear:!0},C=>new Promise(function(){var T=(0,u.Z)(function*(k,ne){yield C.restyle({setHideOnLeave:!1});const Te=Ne(v,"network-request-failed"),Qe=Mn().setTimeout(()=>{ne(Te)},yd.get());function ft(){Mn().clearTimeout(Qe),k(C)}C.ping(ft).then(ft,()=>{ne(Te)})});return function(k,ne){return T.apply(this,arguments)}}()))}),ql.apply(this,arguments)}const Pg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ca(v,p,m,C,T,k){se(v.config.authDomain,v,"auth-domain-config-required"),se(v.config.apiKey,v,"invalid-api-key");const ne={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:C,v:x.SDK_VERSION,eventId:T};if(p instanceof ir){p.setDefaultLanguage(v.languageCode),ne.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(ne.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Qe,ft]of Object.entries(k||{}))ne[Qe]=ft}if(p instanceof Qs){const Qe=p.getScopes().filter(ft=>""!==ft);Qe.length>0&&(ne.scopes=Qe.join(","))}v.tenantId&&(ne.tid=v.tenantId);const Te=ne;for(const Qe of Object.keys(Te))void 0===Te[Qe]&&delete Te[Qe];return`${function sf({config:v}){return v.emulator?Qt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,j.xO)(Te).slice(1)}`}const ua="webStorageSupport",di=class el{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ui,this._completeRedirectFn=Be,this._overrideRedirectResult=cn}_openPopup(p,m,C,T){var k=this;return(0,u.Z)(function*(){var ne;ye(null===(ne=k.eventManagers[p._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const Te=ca(p,m,C,Le(),T);return function Ky(v,p,m,C=500,T=600){const k=Math.max((window.screen.availHeight-T)/2,0).toString(),ne=Math.max((window.screen.availWidth-C)/2,0).toString();let Te="";const Qe=Object.assign(Object.assign({},Pg),{width:C.toString(),height:T.toString(),top:k,left:ne}),ft=(0,j.z$)().toLowerCase();m&&(Te=re(ft)?"_blank":m),P(ft)&&(p=p||"http://localhost",Qe.scrollbars="yes");const Lt=Object.entries(Qe).reduce((Ur,[Yr,da])=>`${Ur}${Yr}=${da},`,"");if(function Jt(v=(0,j.z$)()){var p;return ke(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ft)&&"_self"!==Te)return function Xa(v,p){const m=document.createElement("a");m.href=v,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",Te),new Yl(null);const nn=window.open(p||"",Te,Lt);se(nn,v,"popup-blocked");try{nn.focus()}catch{}return new Yl(nn)}(p,Te,co())})()}_openRedirect(p,m,C,T){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(p),function iu(v){Mn().location.href=v}(ca(p,m,C,Le(),T)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:T,promise:k}=this.eventManagers[m];return T?Promise.resolve(T):(ye(k,"If manager is not set, promise should be"),k)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const C=yield function rf(v){return ql.apply(this,arguments)}(p),T=new Bn(p);return C.register("authEvent",k=>(se(k?.authEvent,p,"invalid-auth-event"),{status:T.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:T},m.iframes[p._key()]=C,T})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(ua,{type:ua},T=>{var k;const ne=null===(k=T?.[0])||void 0===k?void 0:k[ua];void 0!==ne&&m(!!ne),Ge(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Gi(v){return er.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Xt()||V()||ke()}};class Cd extends class hu{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Cd(p)}_finalizeEnroll(p,m,C){return function Va(v,p){return At(v,"POST","/v2/accounts/mfaEnrollment:finalize",kt(v,p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function mo(v,p){return At(v,"POST","/v2/accounts/mfaSignIn:finalize",kt(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wd=(()=>{class v{constructor(){}static assertion(m){return Cd._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var tl="@firebase/auth",Ql="0.20.11";class af{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{var T;p((null===(T=C)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fu=(0,j.Pz)("authIdTokenMaxAge")||300;let cf=null;const Ar=v=>function(){var p=(0,u.Z)(function*(m){const C=m&&(yield m.getIdTokenResult()),T=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(T&&T>fu)return;const k=C?.token;cf!==k&&(cf=k,yield fetch(v,{method:k?"POST":"DELETE",headers:k?{Authorization:`Bearer ${k}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function bd(v=(0,x.getApp)()){const p=(0,x._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const m=function pe(v,p){const m=(0,x._getProvider)(v,"auth");if(m.isInitialized()){const T=m.getImmediate(),k=m.getOptions();if((0,j.vZ)(k,p??{}))return T;Ge(T,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:di,persistence:[go,Gn,Ui]}),C=(0,j.Pz)("authTokenSyncURL");if(C){const k=Ar(C);(function Fa(v,p,m){(0,j.m9)(v).beforeAuthStateChanged(p,m)})(m,k,()=>k(m.currentUser)),function Hl(v,p,m,C){(0,j.m9)(v).onIdTokenChanged(p,m,C)}(m,ne=>k(ne))}const T=(0,j.q4)("auth");return T&&ps(m,`http://${T}`),m}!function xg(v){(0,x._registerComponent)(new me.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),{apiKey:k,authDomain:ne}=C.options;return((Te,Qe)=>{se(k&&!k.includes(":"),"invalid-api-key",{appName:Te.name}),se(!ne?.includes(":"),"argument-error",{appName:Te.name});const ft={apiKey:k,authDomain:ne,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pn(v)},Lt=new zs(Te,Qe,ft);return function ae(v,p){const m=p?.persistence||[],C=(Array.isArray(m)?m:[m]).map(ee);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,p?.popupRedirectResolver)}(Lt,m),Lt})(C,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new me.wA("auth-internal",p=>{const m=ct(p.getProvider("auth").getImmediate());return new af(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(tl,Ql,function Ng(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,x.registerVersion)(tl,Ql,"esm2017")}("Browser")},2090:(rt,Ie,L)=>{L.d(Ie,{$s:()=>Ye,BH:()=>Ot,DV:()=>An,Dv:()=>yr,GJ:()=>ti,L:()=>he,LL:()=>$t,P0:()=>Fe,Pz:()=>zt,Sg:()=>We,UG:()=>Ce,UI:()=>ni,US:()=>me,Wj:()=>_t,Wl:()=>rr,Yr:()=>Re,ZB:()=>z,ZR:()=>hn,aH:()=>st,b$:()=>ge,cI:()=>At,dS:()=>Dt,eu:()=>se,g5:()=>x,gK:()=>Ln,gQ:()=>ln,h$:()=>fe,hl:()=>$e,hu:()=>j,jU:()=>Je,lb:()=>cr,m9:()=>Bt,ne:()=>fn,p$:()=>K,pd:()=>ds,q4:()=>Le,r3:()=>_r,ru:()=>Ee,tV:()=>_e,uI:()=>Pe,ug:()=>br,vZ:()=>Ke,w1:()=>Ge,w9:()=>ei,xO:()=>an,xb:()=>Gr,z$:()=>Ve,zI:()=>ue,zd:()=>Qn});const j=function(G,$){if(!G)throw x($)},x=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},oe=function(G){const $=[];let Y=0;for(let H=0;H<G.length;H++){let P=G.charCodeAt(H);P<128?$[Y++]=P:P<2048?($[Y++]=P>>6|192,$[Y++]=63&P|128):55296==(64512&P)&&H+1<G.length&&56320==(64512&G.charCodeAt(H+1))?(P=65536+((1023&P)<<10)+(1023&G.charCodeAt(++H)),$[Y++]=P>>18|240,$[Y++]=P>>12&63|128,$[Y++]=P>>6&63|128,$[Y++]=63&P|128):($[Y++]=P>>12|224,$[Y++]=P>>6&63|128,$[Y++]=63&P|128)}return $},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,$){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let P=0;P<G.length;P+=3){const V=G[P],re=P+1<G.length,Oe=re?G[P+1]:0,Xe=P+2<G.length,et=Xe?G[P+2]:0;let Ct=(15&Oe)<<2|et>>6,Jt=63&et;Xe||(Jt=64,re||(Ct=64)),H.push(Y[V>>2],Y[(3&V)<<4|Oe>>4],Y[Ct],Y[Jt])}return H.join("")},encodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(G):this.encodeByteArray(oe(G),$)},decodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(G):function(G){const $=[];let Y=0,H=0;for(;Y<G.length;){const P=G[Y++];if(P<128)$[H++]=String.fromCharCode(P);else if(P>191&&P<224){const V=G[Y++];$[H++]=String.fromCharCode((31&P)<<6|63&V)}else if(P>239&&P<365){const Xe=((7&P)<<18|(63&G[Y++])<<12|(63&G[Y++])<<6|63&G[Y++])-65536;$[H++]=String.fromCharCode(55296+(Xe>>10)),$[H++]=String.fromCharCode(56320+(1023&Xe))}else{const V=G[Y++],re=G[Y++];$[H++]=String.fromCharCode((15&P)<<12|(63&V)<<6|63&re)}}return $.join("")}(this.decodeStringToByteArray(G,$))},decodeStringToByteArray(G,$){this.init_();const Y=$?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let P=0;P<G.length;){const V=Y[G.charAt(P++)],Oe=P<G.length?Y[G.charAt(P)]:0;++P;const et=P<G.length?Y[G.charAt(P)]:64;++P;const ke=P<G.length?Y[G.charAt(P)]:64;if(++P,null==V||null==Oe||null==et||null==ke)throw Error();H.push(V<<2|Oe>>4),64!==et&&(H.push(Oe<<4&240|et>>2),64!==ke&&H.push(et<<6&192|ke))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},fe=function(G){const $=oe(G);return me.encodeByteArray($,!0)},he=function(G){return fe(G).replace(/\./g,"")},_e=function(G){try{return me.decodeString(G,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function K(G){return z(void 0,G)}function z(G,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return $}for(const Y in $)!$.hasOwnProperty(Y)||!X(Y)||(G[Y]=z(G[Y],$[Y]));return G}function X(G){return"__proto__"!==G}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Je(){return"object"==typeof self&&self.self===self}function Ee(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){const G=Ve();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Re(){return!1}function $e(){return"object"==typeof indexedDB}function se(){return new Promise((G,$)=>{try{let Y=!0;const H="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(H);P.onsuccess=()=>{P.result.close(),Y||self.indexedDB.deleteDatabase(H),G(!0)},P.onupgradeneeded=()=>{Y=!1},P.onerror=()=>{var V;$((null===(V=P.error)||void 0===V?void 0:V.message)||"")}}catch(Y){$(Y)}})}function ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ae=()=>{try{return function ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=G&&_e(G[1]);return $&&JSON.parse($)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},Le=G=>{var $,Y;return null===(Y=null===($=ae())||void 0===$?void 0:$.emulatorHosts)||void 0===Y?void 0:Y[G]},Fe=G=>{const $=Le(G);if(!$)return;const Y=$.lastIndexOf(":");if(Y<=0||Y+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const H=parseInt($.substring(Y+1),10);return"["===$[0]?[$.substring(1,Y-1),H]:[$.substring(0,Y),H]},st=()=>{var G;return null===(G=ae())||void 0===G?void 0:G.config},zt=G=>{var $;return null===($=ae())||void 0===$?void 0:$[`_${G}`]};class Ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Y)=>{this.resolve=$,this.reject=Y})}wrapCallback($){return(Y,H)=>{Y?this.reject(Y):this.resolve(H),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Y):$(Y,H))}}}function We(G,$){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=$||"demo-project",P=G.iat||0,V=G.sub||G.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:P,exp:P+3600,auth_time:P,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},G);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(re)),""].join(".")}class hn extends Error{constructor($,Y,H){super(Y),this.code=$,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor($,Y,H){this.service=$,this.serviceName=Y,this.errors=H}create($,...Y){const H=Y[0]||{},P=`${this.service}/${$}`,V=this.errors[$],re=V?function Wt(G,$){return G.replace(kt,(Y,H)=>{const P=$[H];return null!=P?String(P):`<${H}?>`})}(V,H):"Error";return new hn(P,`${this.serviceName}: ${re} (${P}).`,H)}}const kt=/\{\$([^}]+)}/g;function At(G){return JSON.parse(G)}function rr(G){return JSON.stringify(G)}const Xr=function(G){let $={},Y={},H={},P="";try{const V=G.split(".");$=At(_e(V[0])||""),Y=At(_e(V[1])||""),P=V[2],H=Y.d||{},delete Y.d}catch{}return{header:$,claims:Y,data:H,signature:P}},ei=function(G){const Y=Xr(G).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},ti=function(G){const $=Xr(G).claims;return"object"==typeof $&&!0===$.admin};function _r(G,$){return Object.prototype.hasOwnProperty.call(G,$)}function An(G,$){if(Object.prototype.hasOwnProperty.call(G,$))return G[$]}function Gr(G){for(const $ in G)if(Object.prototype.hasOwnProperty.call(G,$))return!1;return!0}function ni(G,$,Y){const H={};for(const P in G)Object.prototype.hasOwnProperty.call(G,P)&&(H[P]=$.call(Y,G[P],P,G));return H}function Ke(G,$){if(G===$)return!0;const Y=Object.keys(G),H=Object.keys($);for(const P of Y){if(!H.includes(P))return!1;const V=G[P],re=$[P];if(jn(V)&&jn(re)){if(!Ke(V,re))return!1}else if(V!==re)return!1}for(const P of H)if(!Y.includes(P))return!1;return!0}function jn(G){return null!==G&&"object"==typeof G}function an(G){const $=[];for(const[Y,H]of Object.entries(G))Array.isArray(H)?H.forEach(P=>{$.push(encodeURIComponent(Y)+"="+encodeURIComponent(P))}):$.push(encodeURIComponent(Y)+"="+encodeURIComponent(H));return $.length?"&"+$.join("&"):""}function Qn(G){const $={};return G.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[P,V]=H.split("=");$[decodeURIComponent(P)]=decodeURIComponent(V)}}),$}function ds(G){const $=G.indexOf("?");if(!$)return"";const Y=G.indexOf("#",$);return G.substring($,Y>0?Y:void 0)}class ln{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,Y){Y||(Y=0);const H=this.W_;if("string"==typeof $)for(let ke=0;ke<16;ke++)H[ke]=$.charCodeAt(Y)<<24|$.charCodeAt(Y+1)<<16|$.charCodeAt(Y+2)<<8|$.charCodeAt(Y+3),Y+=4;else for(let ke=0;ke<16;ke++)H[ke]=$[Y]<<24|$[Y+1]<<16|$[Y+2]<<8|$[Y+3],Y+=4;for(let ke=16;ke<80;ke++){const Ct=H[ke-3]^H[ke-8]^H[ke-14]^H[ke-16];H[ke]=4294967295&(Ct<<1|Ct>>>31)}let et,Se,P=this.chain_[0],V=this.chain_[1],re=this.chain_[2],Oe=this.chain_[3],Xe=this.chain_[4];for(let ke=0;ke<80;ke++){ke<40?ke<20?(et=Oe^V&(re^Oe),Se=1518500249):(et=V^re^Oe,Se=1859775393):ke<60?(et=V&re|Oe&(V|re),Se=2400959708):(et=V^re^Oe,Se=3395469782);const Ct=(P<<5|P>>>27)+et+Xe+Se+H[ke]&4294967295;Xe=Oe,Oe=re,re=4294967295&(V<<30|V>>>2),V=P,P=Ct}this.chain_[0]=this.chain_[0]+P&4294967295,this.chain_[1]=this.chain_[1]+V&4294967295,this.chain_[2]=this.chain_[2]+re&4294967295,this.chain_[3]=this.chain_[3]+Oe&4294967295,this.chain_[4]=this.chain_[4]+Xe&4294967295}update($,Y){if(null==$)return;void 0===Y&&(Y=$.length);const H=Y-this.blockSize;let P=0;const V=this.buf_;let re=this.inbuf_;for(;P<Y;){if(0===re)for(;P<=H;)this.compress_($,P),P+=this.blockSize;if("string"==typeof $){for(;P<Y;)if(V[re]=$.charCodeAt(P),++re,++P,re===this.blockSize){this.compress_(V),re=0;break}}else for(;P<Y;)if(V[re]=$[P],++re,++P,re===this.blockSize){this.compress_(V),re=0;break}}this.inbuf_=re,this.total_+=Y}digest(){const $=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let P=this.blockSize-1;P>=56;P--)this.buf_[P]=255&Y,Y/=256;this.compress_(this.buf_);let H=0;for(let P=0;P<5;P++)for(let V=24;V>=0;V-=8)$[H]=this.chain_[P]>>V&255,++H;return $}}function fn(G,$){const Y=new tn(G,$);return Y.subscribe.bind(Y)}class tn{constructor($,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{$(this)}).catch(H=>{this.error(H)})}next($){this.forEachObserver(Y=>{Y.next($)})}error($){this.forEachObserver(Y=>{Y.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Y,H){let P;if(void 0===$&&void 0===Y&&void 0===H)throw new Error("Missing Observer.");P=function at(G,$){if("object"!=typeof G||null===G)return!1;for(const Y of $)if(Y in G&&"function"==typeof G[Y])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Y,complete:H},void 0===P.next&&(P.next=Et),void 0===P.error&&(P.error=Et),void 0===P.complete&&(P.complete=Et);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),V}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,$)}sendOne($,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Y(this.observers[$])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Et(){}const yr=function(G,$,Y,H){let P;if(H<$?P="at least "+$:H>Y&&(P=0===Y?"none":"no more than "+Y),P)throw new Error(G+" failed: Was called with "+H+(1===H?" argument.":" arguments.")+" Expects "+P+".")};function Ln(G,$){return`${G} failed: ${$} argument `}function _t(G,$,Y,H){if((!H||Y)&&"function"!=typeof Y)throw new Error(Ln(G,$)+"must be a valid function.")}function cr(G,$,Y,H){if((!H||Y)&&("object"!=typeof Y||null===Y))throw new Error(Ln(G,$)+"must be a valid context object.")}const Dt=function(G){const $=[];let Y=0;for(let H=0;H<G.length;H++){let P=G.charCodeAt(H);if(P>=55296&&P<=56319){const V=P-55296;H++,j(H<G.length,"Surrogate pair missing trail surrogate."),P=65536+(V<<10)+(G.charCodeAt(H)-56320)}P<128?$[Y++]=P:P<2048?($[Y++]=P>>6|192,$[Y++]=63&P|128):P<65536?($[Y++]=P>>12|224,$[Y++]=P>>6&63|128,$[Y++]=63&P|128):($[Y++]=P>>18|240,$[Y++]=P>>12&63|128,$[Y++]=P>>6&63|128,$[Y++]=63&P|128)}return $},br=function(G){let $=0;for(let Y=0;Y<G.length;Y++){const H=G.charCodeAt(Y);H<128?$++:H<2048?$+=2:H>=55296&&H<=56319?($+=4,Y++):$+=3}return $};function Ye(G,$=1e3,Y=2){const H=$*Math.pow(Y,G),P=Math.round(.5*H*(Math.random()-.5)*2);return Math.min(144e5,H+P)}function Bt(G){return G&&G._delegate?G._delegate:G}},4847:(rt,Ie,L)=>{var u=L(4650);let j=null;function x(){return j}const fe=new u.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function _e(){return(0,u.LFG)(z)}()},providedIn:"platform"}),n})();const K=new u.OlP("Location Initialized");let z=(()=>{class n extends he{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){X()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){X()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ve(){return new z((0,u.LFG)(fe))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Pe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ce(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ze)},providedIn:"root"}),n})();const ge=new u.OlP("appBaseHref");let Ze=(()=>{class n extends Ee{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Pe(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Je(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,l){const h=this.prepareExternalUrl(o+Je(l));this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,l){const h=this.prepareExternalUrl(o+Je(l));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(he),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ge=(()=>{class n extends Ee{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Pe(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,l){let h=this.prepareExternalUrl(o+Je(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,l){let h=this.prepareExternalUrl(o+Je(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(he),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=Ce($e(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Je(r))}normalize(e){return n.stripTrailingSlash(function we(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,$e(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=Je,n.joinWithSlash=Pe,n.stripTrailingSlash=Ce,n.\u0275fac=function(e){return new(e||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Re(){return new Ne((0,u.LFG)(Ee))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}let Yt=(()=>{class n{constructor(e,r,o,l){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ms{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xi=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,l,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new ms(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===l?void 0:l);else if(null!==l){const g=r.get(l);r.move(g,h),_s(g,o)}});for(let o=0,l=r.length;o<l;o++){const g=r.get(o).context;g.index=o,g.count=l,g.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{_s(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _s(n,t){n.context.$implicit=t.item}let Un=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Xu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$n("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$n("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Xu{constructor(){this.$implicit=null,this.ngIf=null}}function $n(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}let Ma=(()=>{class n{constructor(e,r,o){this._ngEl=e,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[o,l]=e.split("."),h=-1===o.indexOf("-")?void 0:u.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,l?`${r}${l}`:r,h):this._renderer.removeStyle(this._ngEl.nativeElement,o,h)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Ks=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:l,ngTemplateOutletInjector:h}=this;this._viewRef=r.createEmbeddedView(o,l,h?{injector:h}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),n})(),Bo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const kr="browser";let Gc=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new ed((0,u.LFG)(fe),window)}),n})();class ed{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Jn(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Kr(this.window.history)||Kr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Fi extends class Qc extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){j||(j=n)}(new Fi)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Jc(){return Vi=Vi||document.querySelector("base"),Vi?Vi.getAttribute("href"):null}();return null==e?null:function Di(n){En=En||document.createElement("a"),En.setAttribute("href",n);const t=En.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Vi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Al(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,l]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let En,Vi=null;const vn=new u.OlP("TRANSITION_ID"),Vl=[{provide:u.ip1,useFactory:function Xc(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const r=x(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[vn,fe,u.zs3],multi:!0}];let Ul=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Bl=new u.OlP("EventManagerPlugins");let Hl=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Bl),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Fa{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=x().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let oo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ao=(()=>{class n extends oo{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(eu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(eu))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function eu(n){x().remove(n)}const lo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tu=/%COMP%/g;function Ua(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?Ua(n,o,e):(o=o.replace(tu,n),e.push(o))}return e}function Ba(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Xo=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ii(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new ru(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case u.ifc.ShadowDom:return new ld(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ua(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Hl),u.LFG(ao),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ii{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(lo[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(ta(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(ta(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const l=lo[o];l?t.setAttributeNS(l,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=lo[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,r,o&u.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ba(r)):this.eventManager.addEventListener(t,e,Ba(r))}}function ta(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ru extends Ii{constructor(t,e,r,o){super(t),this.component=r;const l=Ua(o+"-"+r.id,r.styles,[]);e.addStyles(l),this.contentAttr=function Pn(n){return"_ngcontent-%COMP%".replace(tu,n)}(o+"-"+r.id),this.hostAttr=function Va(n){return"_nghost-%COMP%".replace(tu,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class ld extends Ii{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ua(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const g=document.createElement("style");g.textContent=l[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Gn=(()=>{class n extends Fa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const cd=["alt","control","meta","shift"],Ui={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let na=(()=>{class n extends Fa{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),h="code."),cd.forEach(D=>{const N=r.indexOf(D);N>-1&&(r.splice(N,1),h+=D+".")}),h+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=o,y.fullKey=h,y}static matchEventFullKeyCode(e,r){let o=Ui[e.key]||e.key,l="";return r.indexOf("code.")>-1&&(o=e.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),cd.forEach(h=>{h!==o&&(0,Wl[h])(e)&&(l+=h+".")}),l+=o,l===r)}static eventCallback(e,r,o){return l=>{n.matchEventFullKeyCode(l,e)&&o.runGuarded(()=>r(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ra=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:kr},{provide:u.g9A,useValue:function su(){Fi.makeCurrent()},multi:!0},{provide:fe,useFactory:function zl(){return(0,u.RDi)(document),document},deps:[]}]),ws=new u.OlP(""),ia=[{provide:u.rWj,useClass:class od{addToWindow(t){u.dqk.getAngularTestability=(r,o=!0)=>{const l=t.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const g=function(y){h=h||y,l--,0==l&&r(h)};o.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],uo=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Si(){return new u.qLn},deps:[]},{provide:Bl,useClass:Gn,multi:!0,deps:[fe,u.R0b,u.Lbi]},{provide:Bl,useClass:na,multi:!0,deps:[fe]},{provide:Xo,useClass:Xo,deps:[Hl,ao,u.AFp]},{provide:u.FYo,useExisting:Xo},{provide:oo,useExisting:ao},{provide:ao,useClass:ao,deps:[fe]},{provide:Hl,useClass:Hl,deps:[Bl,u.R0b]},{provide:class Xs{},useClass:Ul,deps:[]},[]];let bs=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:vn,useExisting:u.AFp},Vl]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ws,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...uo,...ia],imports:[Bo,u.hGG]}),n})(),si=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function sa(){return new si((0,u.LFG)(fe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var mn=L(8996),ai=L(3269);function it(...n){const t=(0,ai.yG)(n);return(0,mn.D)(n,t)}var Kt=L(7579);class _n extends Kt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Is=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Zn=L(9751);const{isArray:Ss}=Array,{getPrototypeOf:lu,prototype:cu,keys:gd}=Object;function Hi(n){if(1===n.length){const t=n[0];if(Ss(t))return{args:t,keys:null};if(function uu(n){return n&&"object"==typeof n&&lu(n)===cu}(t)){const e=gd(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var ji=L(4671),ut=L(4004);const{isArray:Zl}=Array;function Ga(n){return(0,ut.U)(t=>function li(n,t){return Zl(t)?n(...t):n(t)}(n,t))}function oa(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}var Cn=L(5403),aa=L(9672);function Ka(...n){const t=(0,ai.yG)(n),e=(0,ai.jO)(n),{args:r,keys:o}=Hi(n);if(0===r.length)return(0,mn.D)([],t);const l=new Zn.y(function la(n,t,e=ji.y){return r=>{md(t,()=>{const{length:o}=n,l=new Array(o);let h=o,g=o;for(let y=0;y<o;y++)md(t,()=>{const D=(0,mn.D)(n[y],t);let N=!1;D.subscribe((0,Cn.x)(r,O=>{l[y]=O,N||(N=!0,g--),g||r.next(e(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,t,o?h=>oa(o,h):ji.y));return e?l.pipe(Ga(e)):l}function md(n,t,e){n?(0,aa.f)(e,n,t):t()}var Eo=L(8189);function Co(...n){return function Za(){return(0,Eo.J)(1)}()((0,mn.D)(n,(0,ai.yG)(n)))}var ci=L(8421);function qr(n){return new Zn.y(t=>{(0,ci.Xf)(n()).subscribe(t)})}var qa=L(9635),$i=L(576);function Ts(n,t){const e=(0,$i.m)(n)?n:()=>n,r=o=>o.error(e());return new Zn.y(t?o=>t.schedule(r,0,o):r)}var dr=L(515),Wi=L(727),cn=L(4482);function As(){return(0,cn.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Cn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class Rs extends Zn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,cn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Wi.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Cn.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Wi.w0.EMPTY)}return t}refCount(){return As()(this)}}function On(n,t){return(0,cn.e)((e,r)=>{let o=null,l=0,h=!1;const g=()=>h&&!o&&r.complete();e.subscribe((0,Cn.x)(r,y=>{o?.unsubscribe();let D=0;const N=l++;(0,ci.Xf)(n(y,N)).subscribe(o=(0,Cn.x)(r,O=>r.next(t?t(y,O,N,D++):O),()=>{o=null,g()}))},()=>{h=!0,g()}))})}function un(n){return n<=0?()=>dr.E:(0,cn.e)((t,e)=>{let r=0;t.subscribe((0,Cn.x)(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function wo(...n){const t=(0,ai.yG)(n);return(0,cn.e)((e,r)=>{(t?Co(n,e,t):Co(n,e)).subscribe(r)})}function ui(n,t){return(0,cn.e)((e,r)=>{let o=0;e.subscribe((0,Cn.x)(r,l=>n.call(t,l,o++)&&r.next(l)))})}var b=L(5577);function I(n){return(0,cn.e)((t,e)=>{let r=!1;t.subscribe((0,Cn.x)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function R(n=B){return(0,cn.e)((t,e)=>{let r=!1;t.subscribe((0,Cn.x)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function B(){return new Is}function Q(n,t){const e=arguments.length>=2;return r=>r.pipe(n?ui((o,l)=>n(o,l,r)):ji.y,un(1),e?I(t):R(()=>new Is))}function le(n,t){return(0,$i.m)(t)?(0,b.z)(n,t,1):(0,b.z)(n,1)}var ve=L(8505);function Be(n){return(0,cn.e)((t,e)=>{let l,r=null,o=!1;r=t.subscribe((0,Cn.x)(e,void 0,void 0,h=>{l=(0,ci.Xf)(n(h,Be(n)(t))),r?(r.unsubscribe(),r=null,l.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(e))})}function lt(n,t,e,r,o){return(l,h)=>{let g=e,y=t,D=0;l.subscribe((0,Cn.x)(h,N=>{const O=D++;y=g?n(y,N,O):(g=!0,N),r&&h.next(y)},o&&(()=>{g&&h.next(y),h.complete()})))}}function wt(n,t){return(0,cn.e)(lt(n,t,arguments.length>=2,!0))}function St(n){return n<=0?()=>dr.E:(0,cn.e)((t,e)=>{let r=[];t.subscribe((0,Cn.x)(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function dt(n,t){const e=arguments.length>=2;return r=>r.pipe(n?ui((o,l)=>n(o,l,r)):ji.y,St(1),e?I(t):R(()=>new Is))}function Ps(n){return(0,cn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Rt="primary",sr=Symbol("RouteTitle");class Ms{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function zi(n){return new Ms(n)}function Ya(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],g=n[l];if(h.startsWith(":"))o[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function er(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!du(n[o],t[o]))return!1;return!0}function du(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,l)=>r[l]===o)}return n===t}function tf(n){return Array.prototype.concat.apply([],n)}function _d(n){return n.length>0?n[n.length-1]:null}function Nn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Os(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,mn.D)(Promise.resolve(n)):it(n)}const Gy={exact:function rf(n,t,e){if(!Xa(n.segments,t.segments)||!Qa(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!rf(n.children[r],t.children[r],e))return!1;return!0},subset:Pg},vd={exact:function Rg(n,t){return er(n,t)},subset:function ql(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>du(n[e],t[e]))},ignored:()=>!0};function Ag(n,t,e){return Gy[e.paths](n.root,t.root,e.matrixParams)&&vd[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Pg(n,t,e){return Mg(n,t,t.segments,e)}function Mg(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!Xa(o,e)||t.hasChildren()||!Qa(o,e,r))}if(n.segments.length===e.length){if(!Xa(n.segments,e)||!Qa(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!Pg(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(Xa(n.segments,o)&&Qa(n.segments,o,r)&&n.children[Rt])&&Mg(n.children[Rt],t,l,r)}}function Qa(n,t,e){return t.every((r,o)=>vd[e](n[o].parameters,r.parameters))}class Ja{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zi(this.queryParams)),this._queryParamMap}toString(){return sf.serialize(this)}}class Ht{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nn(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ua(this)}}class Yl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=zi(this.parameters)),this._parameterMap}toString(){return af(this)}}function Xa(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Ed=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new ca},providedIn:"root"}),n})();class ca{parse(t){const e=new p(t);return new Ja(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${el(t.root,!0)}`,r=function xg(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${hu(e)}=${hu(o)}`).join("&"):`${hu(e)}=${hu(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function Cd(n){return encodeURI(n)}(t.fragment)}`:""}`}}const sf=new ca;function ua(n){return n.segments.map(t=>af(t)).join("/")}function el(n,t){if(!n.hasChildren())return ua(n);if(t){const e=n.children[Rt]?el(n.children[Rt],!1):"",r=[];return Nn(n.children,(o,l)=>{l!==Rt&&r.push(`${l}:${el(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Og(n,t){let e=[];return Nn(n.children,(r,o)=>{o===Rt&&(e=e.concat(t(r,o)))}),Nn(n.children,(r,o)=>{o!==Rt&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===Rt?[el(n.children[Rt],!1)]:[`${o}:${el(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${ua(n)}/${e[0]}`:`${ua(n)}/(${e.join("//")})`}}function di(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hu(n){return di(n).replace(/%3B/gi,";")}function wd(n){return di(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tl(n){return decodeURIComponent(n)}function Ql(n){return tl(n.replace(/\+/g,"%20"))}function af(n){return`${wd(n.path)}${function Ng(n){return Object.keys(n).map(t=>`;${wd(t)}=${wd(n[t])}`).join("")}(n.parameters)}`}const lf=/^[^\/()?;=#]+/;function fu(n){const t=n.match(lf);return t?t[0]:""}const cf=/^[^=?&#]+/,bd=/^[^&#]+/;class p{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Rt]=new Ht(t,e)),r}parseSegment(){const t=fu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(t),new Yl(tl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=fu(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=fu(this.remaining);o&&(r=o,this.capture(r))}t[tl(e)]=tl(r)}parseQueryParam(t){const e=function Ar(n){const t=n.match(cf);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function v(n){const t=n.match(bd);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Ql(e),l=Ql(r);if(t.hasOwnProperty(o)){let h=t[o];Array.isArray(h)||(h=[h],t[o]=h),h.push(l)}else t[o]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fu(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new u.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Rt);const h=this.parseChildren();e[l]=1===Object.keys(h).length?h[Rt]:new Ht([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,!1)}}function m(n){return n.segments.length>0?new Ht([],{[Rt]:n}):n}function C(n){const t={};for(const r of Object.keys(n.children)){const l=C(n.children[r]);(l.segments.length>0||l.hasChildren())&&(t[r]=l)}return function T(n){if(1===n.numberOfChildren&&n.children[Rt]){const t=n.children[Rt];return new Ht(n.segments.concat(t.segments),t.children)}return n}(new Ht(n.segments,t))}function k(n){return n instanceof Ja}function Lt(n,t,e,r,o){if(0===e.length)return Yr(t.root,t.root,t.root,r,o);const l=function pu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Jl(!0,0,n);let t=0,e=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return Nn(l.outlets,(y,D)=>{g[D]="string"==typeof y?y.split("/"):y}),[...o,{outlets:g}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?e=!0:".."===g?t++:""!=g&&o.push(g))}),o):[...o,l]},[]);return new Jl(e,t,r)}(e);return l.toRoot()?Yr(t.root,t.root,new Ht([],{}),r,o):function h(y){const D=function ha(n,t,e,r){if(n.isAbsolute)return new bo(t.root,!0,0);if(-1===r)return new bo(e,e===t.root,0);return function Dd(n,t,e){let r=n,o=t,l=e;for(;l>o;){if(l-=o,r=r.parent,!r)throw new u.vHH(4005,!1);o=r.segments.length}return new bo(r,!1,o-l)}(e,r+(nn(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,t,n.snapshot?._urlSegment,y),N=D.processChildren?Do(D.segmentGroup,D.index,l.commands):fa(D.segmentGroup,D.index,l.commands);return Yr(t.root,D.segmentGroup,N,r,o)}(n.snapshot?._lastPathIndex)}function nn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ur(n){return"object"==typeof n&&null!=n&&n.outlets}function Yr(n,t,e,r,o){let h,l={};r&&Nn(r,(y,D)=>{l[D]=Array.isArray(y)?y.map(N=>`${N}`):`${y}`}),h=n===t?e:da(n,t,e);const g=m(C(h));return new Ja(g,l,o)}function da(n,t,e){const r={};return Nn(n.children,(o,l)=>{r[l]=o===t?e:da(o,t,e)}),new Ht(n.segments,r)}class Jl{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&nn(r[0]))throw new u.vHH(4003,!1);const o=r.find(Ur);if(o&&o!==_d(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bo{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function fa(n,t,e){if(n||(n=new Ht([],{})),0===n.segments.length&&n.hasChildren())return Do(n,t,e);const r=function hf(n,t,e){let r=0,o=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return l;const h=n.segments[o],g=e[r];if(Ur(g))break;const y=`${g}`,D=r<e.length-1?e[r+1]:null;if(o>0&&void 0===y)break;if(y&&D&&"object"==typeof D&&void 0===D.outlets){if(!kg(y,D,h))return l;r+=2}else{if(!kg(y,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Ht(n.segments.slice(0,r.pathIndex),{});return l.children[Rt]=new Ht(n.segments.slice(r.pathIndex),n.children),Do(l,0,o)}return r.match&&0===o.length?new Ht(n.segments,{}):r.match&&!n.hasChildren()?gu(n,t,e):r.match?Do(n,0,o):gu(n,t,e)}function Do(n,t,e){if(0===e.length)return new Ht(n.segments,{});{const r=function df(n){return Ur(n[0])?n[0].outlets:{[Rt]:n}}(e),o={};return Nn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=fa(n.children[h],t,l))}),Nn(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new Ht(n.segments,o)}}function gu(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const l=e[o];if(Ur(l)){const y=nl(l.outlets);return new Ht(r,y)}if(0===o&&nn(e[0])){r.push(new Yl(n.segments[t].path,ff(e[0]))),o++;continue}const h=Ur(l)?l.outlets[Rt]:`${l}`,g=o<e.length-1?e[o+1]:null;h&&g&&nn(g)?(r.push(new Yl(h,ff(g))),o+=2):(r.push(new Yl(h,{})),o++)}return new Ht(r,{})}function nl(n){const t={};return Nn(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=gu(new Ht([],{}),0,e))}),t}function ff(n){const t={};return Nn(n,(e,r)=>t[r]=`${e}`),t}function kg(n,t,e){return n==e.path&&er(t,e.parameters)}class pa{constructor(t,e){this.id=t,this.url=e}}class Id extends pa{constructor(t,e,r="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xl extends pa{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pf extends pa{constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zy extends pa{constructor(t,e,r,o){super(t,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rb extends pa{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ib extends pa{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sb extends pa{constructor(t,e,r,o,l){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qy extends pa{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lg extends pa{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yy{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fg{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ob{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ab{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qy{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jy{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rl{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ug(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Ug(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ev(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return ev(t,this._root).map(e=>e.value)}}function Ug(n,t){if(n===t.value)return t;for(const e of t.children){const r=Ug(n,e);if(r)return r}return null}function ev(n,t){if(n===t.value)return[t];for(const e of t.children){const r=ev(n,e);if(r.length)return r.unshift(t),r}return[]}class Ki{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function mu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Bg extends Vg{constructor(t,e){super(t),this.snapshot=e,Sd(this,t)}toString(){return this.snapshot.toString()}}function Hg(n,t){const e=function tv(n,t){const h=new ec([],{},{},"",{},Rt,t,null,n.root,-1,{});return new $g("",new Ki(h,[]))}(n,t),r=new _n([new Yl("",{})]),o=new _n({}),l=new _n({}),h=new _n({}),g=new _n(""),y=new ga(r,o,h,g,l,Rt,t,e.root);return y.snapshot=e.root,new Bg(new Ki(y,[]),e)}class ga{constructor(t,e,r,o,l,h,g,y){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=g,this.title=this.data?.pipe((0,ut.U)(D=>D[sr]))??it(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(t=>zi(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(t=>zi(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jg(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],l=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function gf(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class ec{constructor(t,e,r,o,l,h,g,y,D,N,O,W){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=g,this.title=this.data?.[sr],this.routeConfig=y,this._urlSegment=D,this._lastPathIndex=N,this._correctedLastPathIndex=W??N,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $g extends Vg{constructor(t,e){super(e),this.url=t,Sd(this,e)}toString(){return mf(this._root)}}function Sd(n,t){t.value._routerState=n,t.children.forEach(e=>Sd(n,e))}function mf(n){const t=n.children.length>0?` { ${n.children.map(mf).join(", ")} } `:"";return`${n.value}${t}`}function Td(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,er(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),er(t.params,e.params)||n.params.next(e.params),function Gi(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!er(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),er(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function tc(n,t){const e=er(n.params,t.params)&&function Ky(n,t){return Xa(n,t)&&n.every((e,r)=>er(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||tc(n.parent,t.parent))}function _u(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function cb(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return _u(n,r,o);return _u(n,r)})}(n,t,e);return new Ki(r,o)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(g=>_u(n,g)),h}}const r=function ub(n){return new ga(new _n(n.url),new _n(n.params),new _n(n.queryParams),new _n(n.fragment),new _n(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(l=>_u(n,l));return new Ki(r,o)}}const _f="ngNavigationCancelingError";function yf(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=k(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Ad(!1,0,t);return o.url=e,o.navigationBehaviorOptions=r,o}function Ad(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[_f]=!0,r.cancellationCode=t,e&&(r.url=e),r}function vf(n){return il(n)&&k(n.url)}function il(n){return n&&n[_f]}class db{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rd,this.attachRef=null}}let Rd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new db,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wg=!1;let zg=(()=>{class n{constructor(e,r,o,l,h){this.parentContexts=e,this.location=r,this.changeDetector=l,this.environmentInjector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=o||Rt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Wg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Wg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Wg);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new u.vHH(4013,Wg);this._activatedRoute=e;const o=this.location,h=e._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new Gg(e,g,o.injector);if(r&&function hb(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(h);this.activated=o.createComponent(D,o.length,y)}else this.activated=o.createComponent(h,{index:o.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Rd),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Gg{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===ga?this.route:t===Rd?this.childContexts:this.parent.get(t,e)}}let Ef=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(e,r){1&e&&u._UZ(0,"router-outlet")},dependencies:[zg],encapsulation:2}),n})();function Pd(n,t){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Kg(n){const t=n.children&&n.children.map(Kg),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Rt&&(e.component=Ef),e}function Zi(n){return n.outlet||Rt}function ma(n,t){const e=n.filter(r=>Zi(r)===t);return e.push(...n.filter(r=>Zi(r)!==t)),e}function _a(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class IS{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Td(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=mu(e);t.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Nn(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(t,e,r){const o=t.value,l=e?e.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else l&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,l=mu(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:g})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,l=mu(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=mu(e);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new Jy(l.value.snapshot))}),t.children.length&&this.forwardEvent(new ab(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,l=e?e.value:null;if(Td(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),Td(g.route.value),this.activateChildRoutes(t,null,h.children)}else{const g=_a(o.snapshot),y=g?.get(u._Vd)??null;h.attachRef=null,h.route=o,h.resolver=y,h.injector=g,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}class Eb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Zg{constructor(t,e){this.component=t,this.route=e}}function SS(n,t,e){const r=n._root;return Md(r,t?t._root:null,e,[r.value])}function nc(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,u.Z0I)(n)?t.get(n):n:r}function Md(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=mu(t);return n.children.forEach(h=>{(function Cb(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=t?t.value:null,g=e?e.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const y=function wb(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Xa(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Xa(n.url,t.url)||!er(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tc(n,t)||!er(n.queryParams,t.queryParams);default:return!tc(n,t)}}(h,l,l.routeConfig.runGuardsAndResolvers);y?o.canActivateChecks.push(new Eb(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Md(n,t,l.component?g?g.children:null:e,r,o),y&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Zg(g.outlet.component,h))}else h&&Od(t,g,o),o.canActivateChecks.push(new Eb(r)),Md(n,null,l.component?g?g.children:null:e,r,o)})(h,l[h.value.outlet],e,r.concat([h.value]),o),delete l[h.value.outlet]}),Nn(l,(h,g)=>Od(h,e.getContext(g),o)),o}function Od(n,t,e){const r=mu(n),o=n.value;Nn(r,(l,h)=>{Od(l,o.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Zg(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function rc(n){return"function"==typeof n}function xd(n){return n instanceof Is||"EmptyError"===n?.name}const yu=Symbol("INITIAL_VALUE");function kd(){return On(n=>Ka(n.map(t=>t.pipe(un(1),wo(yu)))).pipe((0,ut.U)(t=>{for(const e of t)if(!0!==e){if(e===yu)return yu;if(!1===e||e instanceof Ja)return e}return!0}),ui(t=>t!==yu),un(1)))}function bf(n){return(0,qa.z)((0,ve.b)(t=>{if(k(t))throw yf(0,t)}),(0,ut.U)(t=>!0===t))}const qn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lv(n,t,e,r,o){const l=qg(n,t,e);return l.matched?function Ab(n,t,e,r){const o=t.canMatch;return o&&0!==o.length?it(o.map(h=>{const g=nc(h,n);return Os(function AS(n){return n&&rc(n.canMatch)}(g)?g.canMatch(t,e):n.runInContext(()=>g(t,e)))})).pipe(kd(),bf()):it(!0)}(r=Pd(t,r),t,e).pipe((0,ut.U)(h=>!0===h?l:{...qn})):it(l)}function qg(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...qn}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Ya)(e,n,t);if(!o)return{...qn};const l={};Nn(o.posParams,(g,y)=>{l[y]=g.path});const h=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function vu(n,t,e,r,o="corrected"){if(e.length>0&&function Pb(n,t,e){return e.some(r=>Df(n,t,r)&&Zi(r)!==Rt)}(n,e,r)){const h=new Ht(t,function Rb(n,t,e,r){const o={};o[Rt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Zi(l)!==Rt){const h=new Ht([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[Zi(l)]=h}return o}(n,t,r,new Ht(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function Mb(n,t,e){return e.some(r=>Df(n,t,r))}(n,e,r)){const h=new Ht(n.segments,function cv(n,t,e,r,o,l){const h={};for(const g of r)if(Df(n,e,g)&&!o[Zi(g)]){const y=new Ht([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:t.length,h[Zi(g)]=y}return{...o,...h}}(n,t,e,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const l=new Ht(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function Df(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function uv(n,t,e,r){return!!(Zi(n)===r||r!==Rt&&Df(t,e,n))&&("**"===n.path||qg(t,n,e).matched)}function Ob(n,t,e){return 0===t.length&&!n.children[e]}const Yg=!1;class sl{constructor(t){this.segmentGroup=t||null}}class If{constructor(t){this.urlTree=t}}function Eu(n){return Ts(new sl(n))}function Qg(n){return Ts(new If(n))}class fv{constructor(t,e,r,o,l){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0}apply(){const t=vu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ht(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Rt).pipe((0,ut.U)(l=>this.createUrlTree(C(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Be(l=>{if(l instanceof If)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof sl?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Rt).pipe((0,ut.U)(o=>this.createUrlTree(C(o),t.queryParams,t.fragment))).pipe(Be(o=>{throw o instanceof sl?this.noMatchError(o):o}))}noMatchError(t){return new u.vHH(4002,Yg)}createUrlTree(t,e,r){const o=m(t);return new Ja(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ut.U)(l=>new Ht([],l))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,mn.D)(o).pipe(le(l=>{const h=r.children[l],g=ma(e,l);return this.expandSegmentGroup(t,g,h,l).pipe((0,ut.U)(y=>({segment:y,outlet:l})))}),wt((l,h)=>(l[h.outlet]=h.segment,l),{}),dt())}expandSegment(t,e,r,o,l,h){return(0,mn.D)(r).pipe(le(g=>this.expandSegmentAgainstRoute(t,e,r,g,o,l,h).pipe(Be(D=>{if(D instanceof sl)return it(null);throw D}))),Q(g=>!!g),Be((g,y)=>{if(xd(g))return Ob(e,o,l)?it(new Ht([],{})):Eu(e);throw g}))}expandSegmentAgainstRoute(t,e,r,o,l,h,g){return uv(o,e,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,l,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h):Eu(e):Eu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Qg(l):this.lineralizeSegments(r,l).pipe((0,b.z)(h=>{const g=new Ht(h,{});return this.expandSegment(t,g,e,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h){const{matched:g,consumedSegments:y,remainingSegments:D,positionalParamSegments:N}=qg(e,o,l);if(!g)return Eu(e);const O=this.applyRedirectCommands(y,o.redirectTo,N);return o.redirectTo.startsWith("/")?Qg(O):this.lineralizeSegments(o,O).pipe((0,b.z)(W=>this.expandSegment(t,e,r,W.concat(D),h,!1)))}matchSegmentAgainstRoute(t,e,r,o,l){return"**"===r.path?(t=Pd(r,t),r.loadChildren?(r._loadedRoutes?it({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,ut.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new Ht(o,{})))):it(new Ht(o,{}))):lv(e,r,o,t).pipe(On(({matched:h,consumedSegments:g,remainingSegments:y})=>h?this.getChildConfig(t=r._injector??t,r,o).pipe((0,b.z)(N=>{const O=N.injector??t,W=N.routes,{segmentGroup:te,slicedSegments:de}=vu(e,g,y,W),xe=new Ht(te.segments,te.children);if(0===de.length&&xe.hasChildren())return this.expandChildren(O,W,xe).pipe((0,ut.U)(qt=>new Ht(g,qt)));if(0===W.length&&0===de.length)return it(new Ht(g,{}));const je=Zi(r)===l;return this.expandSegment(O,xe,W,de,je?Rt:l,!0).pipe((0,ut.U)(Tt=>new Ht(g.concat(Tt.segments),Tt.children)))})):Eu(e)))}getChildConfig(t,e,r){return e.children?it({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?it({routes:e._loadedRoutes,injector:e._loadedInjector}):function Tb(n,t,e,r){const o=t.canLoad;return void 0===o||0===o.length?it(!0):it(o.map(h=>{const g=nc(h,n);return Os(function Nd(n){return n&&rc(n.canLoad)}(g)?g.canLoad(t,e):n.runInContext(()=>g(t,e)))})).pipe(kd(),bf())}(t,e,r).pipe((0,b.z)(o=>o?this.configLoader.loadChildren(t,e).pipe((0,ve.b)(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function Nb(n){return Ts(Ad(Yg,3))}())):it({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return it(r);if(o.numberOfChildren>1||!o.children[Rt])return Ts(new u.vHH(4e3,Yg));o=o.children[Rt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,o){const l=this.createSegmentGroup(t,e.root,r,o);return new Ja(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Nn(t,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[l]=e[g]}else r[l]=o}),r}createSegmentGroup(t,e,r,o){const l=this.createSegments(t,e.segments,r,o);let h={};return Nn(e.children,(g,y)=>{h[y]=this.createSegmentGroup(t,g,r,o)}),new Ht(l,h)}createSegments(t,e,r,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,o):this.findOrReturn(l,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new u.vHH(4001,Yg);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}class xb{}class gv{constructor(t,e,r,o,l,h,g,y){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=g,this.urlSerializer=y}recognize(){const t=vu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Rt).pipe((0,ut.U)(e=>{if(null===e)return null;const r=new ec([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ki(r,e),l=new $g(this.url,o);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(t){const e=t.value,r=jg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,o)}processChildren(t,e,r){return(0,mn.D)(Object.keys(r.children)).pipe(le(o=>{const l=r.children[o],h=ma(e,o);return this.processSegmentGroup(t,h,l,o)}),wt((o,l)=>o&&l?(o.push(...l),o):null),function Bn(n,t=!1){return(0,cn.e)((e,r)=>{let o=0;e.subscribe((0,Cn.x)(r,l=>{const h=n(l,o++);(h||t)&&r.next(l),!h&&r.complete()}))})}(o=>null!==o),I(null),dt(),(0,ut.U)(o=>{if(null===o)return null;const l=Ld(o);return function ic(n){n.sort((t,e)=>t.value.outlet===Rt?-1:e.value.outlet===Rt?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l}))}processSegment(t,e,r,o,l){return(0,mn.D)(e).pipe(le(h=>this.processSegmentAgainstRoute(h._injector??t,h,r,o,l)),Q(h=>!!h),Be(h=>{if(xd(h))return Ob(r,o,l)?it([]):it(null);throw h}))}processSegmentAgainstRoute(t,e,r,o,l){if(e.redirectTo||!uv(e,r,o,l))return it(null);let h;if("**"===e.path){const g=o.length>0?_d(o).parameters:{},y=Fd(r)+o.length;h=it({snapshot:new ec(o,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nm(e),Zi(e),e.component??e._loadedComponent??null,e,Sf(r),y,Tf(e),y),consumedSegments:[],remainingSegments:[]})}else h=lv(r,e,o,t).pipe((0,ut.U)(({matched:g,consumedSegments:y,remainingSegments:D,parameters:N})=>{if(!g)return null;const O=Fd(r)+y.length;return{snapshot:new ec(y,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nm(e),Zi(e),e.component??e._loadedComponent??null,e,Sf(r),O,Tf(e),O),consumedSegments:y,remainingSegments:D}}));return h.pipe(On(g=>{if(null===g)return it(null);const{snapshot:y,consumedSegments:D,remainingSegments:N}=g;t=e._injector??t;const O=e._loadedInjector??t,W=function kb(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:te,slicedSegments:de}=vu(r,D,N,W.filter(je=>void 0===je.redirectTo),this.relativeLinkResolution);if(0===de.length&&te.hasChildren())return this.processChildren(O,W,te).pipe((0,ut.U)(je=>null===je?null:[new Ki(y,je)]));if(0===W.length&&0===de.length)return it([new Ki(y,[])]);const xe=Zi(e)===l;return this.processSegment(O,W,te,de,xe?Rt:l).pipe((0,ut.U)(je=>null===je?null:[new Ki(y,je)]))}))}}function tm(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ld(n){const t=[],e=new Set;for(const r of n){if(!tm(r)){t.push(r);continue}const o=t.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=Ld(r.children);t.push(new Ki(r.value,o))}return t.filter(r=>!e.has(r))}function Sf(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Fd(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function nm(n){return n.data||{}}function Tf(n){return n.resolve||{}}function _v(n){return"string"==typeof n.title||null===n.title}function rm(n){return On(t=>{const e=n(t);return e?(0,mn.D)(e).pipe((0,ut.U)(()=>t)):it(t)})}let Af=(()=>{class n{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(l=>l.outlet===Rt);return r}getResolvedTitleForRoute(e){return e.data[sr]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(yv)},providedIn:"root"}),n})(),yv=(()=>{class n extends Af{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(si))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jb{}class MS extends class vv{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const al=new u.OlP("",{providedIn:"root",factory:()=>({})}),ll=new u.OlP("ROUTES");let sc=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return it(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Os(e.loadComponent()).pipe((0,ve.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),Ps(()=>{this.componentLoaders.delete(e)})),o=new Rs(r,()=>new Kt.x).pipe(As());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return it({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ut.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,D,N=!1;Array.isArray(g)?D=g:(y=g.create(e).injector,D=tf(y.get(ll,[],u.XFs.Self|u.XFs.Optional)));return{routes:D.map(Kg),injector:y}}),Ps(()=>{this.childrenLoaders.delete(r)})),h=new Rs(l,()=>new Kt.x).pipe(As());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(e){return Os(e()).pipe((0,b.z)(r=>r instanceof u.YKP||Array.isArray(r)?it(r):(0,mn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Wb{}class OS{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function zb(n){throw n}function Gb(n,t,e){return t.parse("/")}const Kb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Rf(){const n=(0,u.f3M)(Ed),t=(0,u.f3M)(Rd),e=(0,u.f3M)(Ne),r=(0,u.f3M)(u.zs3),o=(0,u.f3M)(u.Sil),l=(0,u.f3M)(ll,{optional:!0})??[],h=(0,u.f3M)(al,{optional:!0})??{},g=(0,u.f3M)(yv),y=(0,u.f3M)(Af,{optional:!0}),D=(0,u.f3M)(Wb,{optional:!0}),N=(0,u.f3M)(jb,{optional:!0}),O=new Yn(null,n,t,e,r,o,tf(l));return D&&(O.urlHandlingStrategy=D),N&&(O.routeReuseStrategy=N),O.titleStrategy=y??g,function wv(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,O),O}let Yn=(()=>{class n{constructor(e,r,o,l,h,g,y){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Kt.x,this.errorHandler=zb,this.malformedUriErrorHandler=Gb,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>it(void 0),this.urlHandlingStrategy=new OS,this.routeReuseStrategy=new MS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=h.get(sc),this.configLoader.onLoadEndListener=W=>this.triggerEvent(new Fg(W)),this.configLoader.onLoadStartListener=W=>this.triggerEvent(new Yy(W)),this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const O=h.get(u.R0b);this.isNgZoneEnabled=O instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function nf(){return new Ja(new Ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hg(this.currentUrlTree,this.rootComponentType),this.transitions=new _n({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(ui(o=>0!==o.id),(0,ut.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),On(o=>{let l=!1,h=!1;return it(o).pipe((0,ve.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),On(g=>{const y=this.browserUrlTree.toString(),D=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Pf(g.source)&&(this.browserUrlTree=g.extractedUrl),it(g).pipe(On(O=>{const W=this.transitions.getValue();return r.next(new Id(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),W!==this.transitions.getValue()?dr.E:Promise.resolve(O)}),function Jg(n,t,e,r){return On(o=>function hv(n,t,e,r,o){return new fv(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,ut.U)(l=>({...o,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ve.b)(O=>{this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects},o.urlAfterRedirects=O.urlAfterRedirects}),function Fb(n,t,e,r,o,l){return(0,b.z)(h=>function pv(n,t,e,r,o,l,h="emptyOnly",g="legacy"){return new gv(n,t,e,r,o,h,g,l).recognize().pipe(On(y=>null===y?function em(n){return new Zn.y(t=>t.error(n))}(new xb):it(y)))}(n,t,e,h.urlAfterRedirects,r.serialize(h.urlAfterRedirects),r,o,l).pipe((0,ut.U)(g=>({...h,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ve.b)(O=>{if(o.targetSnapshot=O.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const te=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(te,O)}this.browserUrlTree=O.urlAfterRedirects}const W=new rb(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(W)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:te,source:de,restoredState:xe,extras:je}=g,yt=new Id(W,this.serializeUrl(te),de,xe);r.next(yt);const Tt=Hg(te,this.rootComponentType).snapshot;return it(o={...g,targetSnapshot:Tt,urlAfterRedirects:te,extras:{...je,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),dr.E}),(0,ve.b)(g=>{const y=new ib(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,ut.U)(g=>o={...g,guards:SS(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function PS(n,t){return(0,b.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return 0===h.length&&0===l.length?it({...e,guardsResult:!0}):function ov(n,t,e,r){return(0,mn.D)(n).pipe((0,b.z)(o=>function wf(n,t,e,r,o){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?it(l.map(g=>{const y=_a(t)??o,D=nc(g,y);return Os(function sv(n){return n&&rc(n.canDeactivate)}(D)?D.canDeactivate(n,t,e,r):y.runInContext(()=>D(n,t,e,r))).pipe(Q())})).pipe(kd()):it(!0)}(o.component,o.route,e,t,r)),Q(o=>!0!==o,!0))}(h,r,o,n).pipe((0,b.z)(g=>g&&function ya(n){return"boolean"==typeof n}(g)?function bb(n,t,e,r){return(0,mn.D)(t).pipe(le(o=>Co(function Ib(n,t){return null!==n&&t&&t(new ob(n)),it(!0)}(o.route.parent,r),function Db(n,t){return null!==n&&t&&t(new Qy(n)),it(!0)}(o.route,r),function av(n,t,e){const r=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(h=>function TS(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>qr(()=>it(h.guards.map(y=>{const D=_a(h.node)??e,N=nc(y,D);return Os(function iv(n){return n&&rc(n.canActivateChild)}(N)?N.canActivateChild(r,n):D.runInContext(()=>N(r,n))).pipe(Q())})).pipe(kd())));return it(l).pipe(kd())}(n,o.path,e),function Sb(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return it(!0);const o=r.map(l=>qr(()=>{const h=_a(t)??e,g=nc(l,h);return Os(function rv(n){return n&&rc(n.canActivate)}(g)?g.canActivate(t,n):h.runInContext(()=>g(t,n))).pipe(Q())}));return it(o).pipe(kd())}(n,o.route,e))),Q(o=>!0!==o,!0))}(r,l,n,t):it(g)),(0,ut.U)(g=>({...e,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,ve.b)(g=>{if(o.guardsResult=g.guardsResult,k(g.guardsResult))throw yf(0,g.guardsResult);const y=new sb(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),ui(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),rm(g=>{if(g.guards.canActivateChecks.length)return it(g).pipe((0,ve.b)(y=>{const D=new qy(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(D)}),On(y=>{let D=!1;return it(y).pipe(function Vb(n,t){return(0,b.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return it(e);let l=0;return(0,mn.D)(o).pipe(le(h=>function mv(n,t,e,r){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!_v(o)&&(l[sr]=o.title),function Cu(n,t,e,r){const o=function Ub(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return it({});const l={};return(0,mn.D)(o).pipe((0,b.z)(h=>function Bb(n,t,e,r){const o=_a(t)??r,l=nc(n,o);return Os(l.resolve?l.resolve(t,e):o.runInContext(()=>l(t,e)))}(n[h],t,e,r).pipe(Q(),(0,ve.b)(g=>{l[h]=g}))),St(1),function hr(n){return(0,ut.U)(()=>n)}(l),Be(h=>xd(h)?dr.E:Ts(h)))}(l,n,t,r).pipe((0,ut.U)(h=>(n._resolvedData=h,n.data=jg(n,e).resolve,o&&_v(o)&&(n.data[sr]=o.title),null)))}(h.route,r,n,t)),(0,ve.b)(()=>l++),St(1),(0,b.z)(h=>l===o.length?it(e):dr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ve.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,ve.b)(y=>{const D=new Lg(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(D)}))}),rm(g=>{const y=D=>{const N=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,ve.b)(O=>{D.component=O}),(0,ut.U)(()=>{})));for(const O of D.children)N.push(...y(O));return N};return Ka(y(g.targetSnapshot.root)).pipe(I(),un(1))}),rm(()=>this.afterPreactivation()),(0,ut.U)(g=>{const y=function lb(n,t,e){const r=_u(n,t._root,e?e._root:void 0);return new Bg(r,t)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return o={...g,targetRouterState:y}}),(0,ve.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,t,e)=>(0,ut.U)(r=>(new IS(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,ve.b)({next(){l=!0},complete(){l=!0}}),Ps(()=>{l||h||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Be(g=>{if(h=!0,il(g)){vf(g)||(this.navigated=!0,this.restoreHistory(o,!0));const y=new pf(o.id,this.serializeUrl(o.extractedUrl),g.message,g.cancellationCode);if(r.next(y),vf(g)){const D=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pf(o.source)};this.scheduleNavigation(D,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const y=new Zy(o.id,this.serializeUrl(o.extractedUrl),g,o.targetSnapshot??void 0);r.next(y);try{o.resolve(this.errorHandler(g))}catch(D){o.reject(D)}}return dr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},l=e.state?.navigationId?e.state:null;if(l){const g={...l};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,r,l,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Kg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:g,preserveFragment:y}=r,D=o||this.routerState.root,N=y?this.currentUrlTree.fragment:h;let O=null;switch(g){case"merge":O={...this.currentUrlTree.queryParams,...l};break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),Lt(D,this.currentUrlTree,e,O,N??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=k(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function Zb(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new u.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...Kb}:!1===r?{...Cv}:r,k(e))return Ag(this.currentUrlTree,e,o);const l=this.parseUrl(e);return Ag(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const l=e[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Xl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,l,h){if(this.disposed)return Promise.resolve(!1);let g,y,D;h?(g=h.resolve,y=h.reject,D=h.promise):D=new Promise((W,te)=>{g=W,y=te});const N=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),O=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):O=0,this.setTransition({id:N,targetPageId:O,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:g,reject:y,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(W=>Promise.reject(W))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,o){const l=new pf(e.id,this.serializeUrl(e.extractedUrl),r,o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return Rf()},providedIn:"root"}),n})();function Pf(n){return"imperative"!==n}let cl=(()=>{class n{constructor(e,r,o,l,h){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Kt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,u.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,u.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,u.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==e?r.setAttribute(o,"tabindex",e):r.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Yn),u.Y36(ga),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class bv{}let Qb=(()=>{class n{constructor(e,r,o,l,h){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(ui(e=>e instanceof Xl),le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,u.MMx)(l.providers,e,`Route: ${l.path}`));const h=l._injector??e,g=l._loadedInjector??h;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?o.push(this.preloadConfig(h,l)):(l.children||l._loadedRoutes)&&o.push(this.processRoutes(g,l.children??l._loadedRoutes))}return(0,mn.D)(o).pipe((0,Eo.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):it(null);const l=o.pipe((0,b.z)(h=>null===h?it(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,mn.D)([l,h]).pipe((0,Eo.J)())}return l})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Yn),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(bv),u.LFG(sc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ul=new u.OlP("");let Io=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Id?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof rl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new rl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ud(n,t){return{\u0275kind:n,\u0275providers:t}}function Of(n){return[{provide:ll,multi:!0,useValue:n}]}function sm(){const n=(0,u.f3M)(u.zs3);return t=>{const e=n.get(u.z2F);if(t!==e.components[0])return;const r=n.get(Yn),o=n.get(Xb);1===n.get(Nf)&&r.initialNavigation(),n.get(Iv,null,u.XFs.Optional)?.setUpPreloading(),n.get(ul,null,u.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const Xb=new u.OlP("",{factory:()=>new Kt.x}),Nf=new u.OlP("",{providedIn:"root",factory:()=>1});const Iv=new u.OlP("");function Ns(n){return Ud(0,[{provide:Iv,useExisting:Qb},{provide:bv,useExisting:n}])}const Sv=new u.OlP("ROUTER_FORROOT_GUARD"),nD=[Ne,{provide:Ed,useClass:ca},{provide:Yn,useFactory:Rf},Rd,{provide:ga,useFactory:function Jb(n){return n.routerState.root},deps:[Yn]},sc];function rD(){return new u.PXZ("Router",Yn)}let om=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[nD,[],Of(e),{provide:Sv,useFactory:Nt,deps:[[Yn,new u.FiY,new u.tp0]]},{provide:al,useValue:r||{}},r?.useHash?{provide:Ee,useClass:Ge}:{provide:Ee,useClass:Ze},{provide:ul,useFactory:()=>{const n=(0,u.f3M)(Yn),t=(0,u.f3M)(Gc),e=(0,u.f3M)(al);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Io(n,t,e)}},r?.preloadingStrategy?Ns(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:rD},r?.initialNavigation?Tv(r):[],[{provide:am,useFactory:sm},{provide:u.tb,multi:!0,useExisting:am}]]}}static forChild(e){return{ngModule:n,providers:[Of(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Sv,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ef]}),n})();function Nt(n){return"guarded"}function Tv(n){return["disabled"===n.initialNavigation?Ud(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const t=(0,u.f3M)(Yn);return()=>{t.setUpLocationChangeListener()}}},{provide:Nf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ud(2,[{provide:Nf,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:t=>{const e=t.get(K,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(l=>{const h=t.get(Yn),g=t.get(Xb);(function o(l){t.get(Yn).events.pipe(ui(g=>g instanceof Xl||g instanceof pf||g instanceof Zy),(0,ut.U)(g=>g instanceof Xl||g instanceof pf&&(0===g.code||1===g.code)&&null),ui(g=>null!==g),un(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),h.afterPreactivation=()=>(l(!0),r||g.closed?it(void 0):g),h.initialNavigation()}))}}]).\u0275providers:[]]}const am=new u.OlP("");let lm=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),oc=(()=>{class n extends lm{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const qi=new u.OlP("NgValueAccessor"),US={provide:qi,useExisting:(0,u.Gpc)(()=>Yi),multi:!0},Mv=new u.OlP("CompositionEventMode");let Yi=(()=>{class n extends lm{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pv(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Mv,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([US]),u.qOj]}),n})();function So(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function xf(n){return null!=n&&"number"==typeof n.length}const Br=new u.OlP("NgValidators"),ac=new u.OlP("NgAsyncValidators"),BS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tr{static min(t){return function Ov(n){return t=>{if(So(t.value)||So(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function cm(n){return t=>{if(So(t.value)||So(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function uD(n){return So(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Nv(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function lc(n){return So(n.value)||BS.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function xv(n){return t=>So(t.value)||!xf(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function um(n){return t=>xf(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Hd(n){if(!n)return kf;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(So(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return hm(t)}static composeAsync(t){return pm(t)}}function kf(n){return null}function dm(n){return null!=n}function kv(n){return(0,u.QGY)(n)?(0,mn.D)(n):n}function Lv(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Fv(n,t){return t.map(e=>e(n))}function Vv(n){return n.map(t=>function dD(n){return!n.validate}(t)?t:e=>t.validate(e))}function hm(n){if(!n)return null;const t=n.filter(dm);return 0==t.length?null:function(e){return Lv(Fv(e,t))}}function fm(n){return null!=n?hm(Vv(n)):null}function pm(n){if(!n)return null;const t=n.filter(dm);return 0==t.length?null:function(e){return function aD(...n){const t=(0,ai.jO)(n),{args:e,keys:r}=Hi(n),o=new Zn.y(l=>{const{length:h}=e;if(!h)return void l.complete();const g=new Array(h);let y=h,D=h;for(let N=0;N<h;N++){let O=!1;(0,ci.Xf)(e[N]).subscribe((0,Cn.x)(l,W=>{O||(O=!0,D--),g[N]=W},()=>y--,void 0,()=>{(!y||!O)&&(D||l.next(r?oa(r,g):g),l.complete())}))}});return t?o.pipe(Ga(t)):o}(Fv(e,t).map(kv)).pipe((0,ut.U)(Lv))}}function Lf(n){return null!=n?pm(Vv(n)):null}function Ff(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function hD(n){return n._rawValidators}function Vf(n){return n._rawAsyncValidators}function gm(n){return n?Array.isArray(n)?n:[n]:[]}function mm(n,t){return Array.isArray(n)?n.includes(t):n===t}function cc(n,t){const e=gm(t);return gm(n).forEach(o=>{mm(e,o)||e.push(o)}),e}function _m(n,t){return gm(t).filter(e=>!mm(n,e))}class ym{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=fm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Lf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Er extends ym{get formDirective(){return null}get path(){return null}}class Cr extends ym{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vm{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qi=(()=>{class n extends vm{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Cr,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),jd=(()=>{class n extends vm{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Er,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const Hf="VALID",$d="INVALID",uc="PENDING",Wd="DISABLED";function zd(n){return(bm(n)?n.validators:n)||null}function gD(n){return Array.isArray(n)?fm(n):n||null}function zv(n,t){return(bm(t)?t.asyncValidators:n)||null}function mD(n){return Array.isArray(n)?Lf(n):n||null}function bm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function _D(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function yD(n,t,e){n._forEachChild((r,o)=>{if(void 0===e[o])throw new u.vHH(1002,"")})}class Dm{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=gD(this._rawValidators),this._composedAsyncValidatorFn=mD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Hf}get invalid(){return this.status===$d}get pending(){return this.status==uc}get disabled(){return this.status===Wd}get enabled(){return this.status!==Wd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=gD(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=mD(t)}addValidators(t){this.setValidators(cc(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(cc(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_m(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_m(t,this._rawAsyncValidators))}hasValidator(t){return mm(this._rawValidators,t)}hasAsyncValidator(t){return mm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=uc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wd,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Hf,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hf||this.status===uc)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wd:Hf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=uc,this._hasOwnPendingAsyncValidator=!0;const e=kv(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Wd:this.errors?$d:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uc)?uc:this._anyControlsHaveStatus($d)?$d:Hf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class jf extends Dm{constructor(t,e,r){super(zd(e),zv(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){yD(this,0,t),Object.keys(t).forEach(r=>{_D(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,l)=>{r=e(r,o,l)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class va extends jf{}function $f(n,t){return[...t.path,n]}function bu(n,t){Sm(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Kv(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Zv(n,t)})}(n,t),function qv(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function vD(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Zv(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Im(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Du(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),xs(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Gd(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Sm(n,t){const e=hD(n);null!==t.validator?n.setValidators(Ff(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=Vf(n);null!==t.asyncValidator?n.setAsyncValidators(Ff(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Gd(t._rawValidators,o),Gd(t._rawAsyncValidators,o)}function xs(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=hD(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==t.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const o=Vf(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==t.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Gd(t._rawValidators,r),Gd(t._rawAsyncValidators,r),e}function Zv(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zd(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Gf(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(l=>{l.constructor===Yi?e=l:function zf(n){return Object.getPrototypeOf(n.constructor)===oc}(l)?r=l:o=l}),o||r||e||null}function CD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Xv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const hi=class extends Dm{constructor(t=null,e,r){super(zd(e),zv(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Xv(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){CD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){CD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Xv(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Om={provide:Cr,useExisting:(0,u.Gpc)(()=>Kf)},Nm=(()=>Promise.resolve())();let Kf=(()=>{class n extends Cr{constructor(e,r,o,l,h){super(),this._changeDetectorRef=h,this.control=new hi,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Gf(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Zd(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Nm.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=0!==r&&(0,u.D6c)(r);Nm.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?$f(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Er,9),u.Y36(Br,10),u.Y36(ac,10),u.Y36(qi,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Om]),u.qOj,u.TTD]}),n})(),xm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),nE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Xi=new u.OlP("NgModelWithFormControlWarning"),TD={provide:Er,useExisting:(0,u.Gpc)(()=>Zf)};let Zf=(()=>{class n extends Er{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return bu(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Du(e.control||null,e,!1),function Rm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function Am(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(Du(r||null,e),(n=>n instanceof hi)(o)&&(bu(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function Yv(n,t){Sm(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function ED(n,t){return xs(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sm(this.form,this),this._oldForm&&xs(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Br,10),u.Y36(ac,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([TD]),u.qOj,u.TTD]}),n})();const RD={provide:Cr,useExisting:(0,u.Gpc)(()=>Yf)};let Yf=(()=>{class n extends Cr{constructor(e,r,o,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Gf(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Zd(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return $f(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(u.Y36(Er,13),u.Y36(Br,10),u.Y36(ac,10),u.Y36(qi,10),u.Y36(Xi,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([RD]),u.qOj,u.TTD]}),n})(),mE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[nE]}),n})(),xD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mE]}),n})(),_E=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Xi,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mE]}),n})();class yE extends Dm{constructor(t,e,r){super(zd(e),zv(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){yD(this,0,t),t.forEach((r,o)=>{_D(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function dl(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let kD=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const o=this._reduceControls(e);let l={};return dl(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new jf(o,l)}record(e,r=null){const o=this._reduceControls(e);return new va(o,r)}control(e,r,o){let l={};return this.useNonNullable?(dl(r)?l=r:(l.validators=r,l.asyncValidators=o),new hi(e,{...l,nonNullable:!0})):new hi(e,r,o)}array(e,r,o){const l=e.map(h=>this._createControl(h));return new yE(l,r,o)}_reduceControls(e){const r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){return e instanceof hi||e instanceof Dm?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:_E}),n})();var ks=L(127);const rp_firebase={projectId:"the-project-be0ce",appId:"1:717332156551:web:ff7cb9d83dda008fcd2822",storageBucket:"the-project-be0ce.appspot.com",apiKey:"AIzaSyDWM-gY_VAzJiNuBV1pIoR-QKxyKf3CnNc",authDomain:"the-project-be0ce.firebaseapp.com",messagingSenderId:"717332156551"};let es=(()=>{class n{constructor(){this.fireApp2=ks.Z.initializeApp(rp_firebase,"tempApp")}CreateNewUser(e,r){return new Promise((o,l)=>{this.fireApp2.auth().createUserWithEmailAndPassword(e,r).then(()=>{o(!0)},h=>{l(h)})})}SignInUser(e,r){return new Promise((o,l)=>{ks.Z.auth().signInWithEmailAndPassword(e,r).then(()=>{o(!0),console.log("resolve")},h=>{console.log(e,r),l(h),console.log("reject")})})}SignOutUser(){ks.Z.auth().signOut()}IsConnected(){return new Promise((e,r)=>{ks.Z.auth().onAuthStateChanged(o=>{o?e(!0):r("offline")})})}Auth(){return ks.Z.auth()}CurrentUserEmail(){return ks.Z.auth().currentUser?.email}CurrentUserUid(){return ks.Z.auth().currentUser?.uid}ResetPassword(e){return new Promise((r,o)=>{ks.Z.auth().sendPasswordResetEmail(e).then(()=>{r(!0)},l=>{o(l)})})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qd{constructor(t,e){this.userUid=t,this.value=e}}var fr=L(4986),Ls=L(6451),Jd=L(3099);function Gm(n,t){return n===t}var fc=L(5032),rn=L(5813),Hr=L(2011),Au=(L(5881),L(3942)),ns=L(4859),fi=L(5861),Ro=L(9681),U=L(2090),eh=L(1877);const Km="@firebase/database",Zm="0.13.10";let ip="";function qm(n){ip=n}class vE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,U.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,U.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class EE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,U.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const CE=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new vE(t)}}catch{}return new EE},pc=CE("localStorage"),sp=CE("sessionStorage"),Ru=new eh.Yd("@firebase/database"),Ym=function(){let n=1;return function(){return n++}}(),op=function(n){const t=(0,U.dS)(n),e=new U.gQ;e.update(t);const r=e.digest();return U.US.encodeByteArray(r)},gc=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=gc.apply(null,r):t+="object"==typeof r?(0,U.Wl)(r):r,t+=" "}return t};let mc=null,th=!0;const nh=function(n,t){(0,U.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ru.logLevel=eh.in.VERBOSE,mc=Ru.log.bind(Ru),t&&sp.set("logging_enabled",!0)):"function"==typeof n?mc=n:(mc=null,sp.remove("logging_enabled"))},or=function(...n){if(!0===th&&(th=!1,null===mc&&!0===sp.get("logging_enabled")&&nh(!0)),mc){const t=gc.apply(null,n);mc(t)}},rh=function(n){return function(...t){or(n,...t)}},Pu=function(...n){const t="FIREBASE INTERNAL ERROR: "+gc(...n);Ru.error(t)},Ai=function(...n){const t=`FIREBASE FATAL ERROR: ${gc(...n)}`;throw Ru.error(t),new Error(t)},wr=function(...n){const t="FIREBASE WARNING: "+gc(...n);Ru.warn(t)},Mu=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Po="[MIN_NAME]",rs="[MAX_NAME]",hl=function(n,t){if(n===t)return 0;if(n===Po||t===rs)return-1;if(t===Po||n===rs)return 1;{const e=ih(n),r=ih(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},LD=function(n,t){return n===t?0:n<t?-1:1},Ou=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Wl)(t))},ap=function(n){if("object"!=typeof n||null===n)return(0,U.Wl)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,U.Wl)(t[r]),e+=":",e+=ap(n[t[r]]);return e+="}",e},Qm=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let o=0;o<e;o+=t)r.push(n.substring(o,o+t>e?e:o+t));return r};function pr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const DE=function(n){(0,U.hu)(!Mu(n),"Invalid JSON number");const r=1023;let o,l,h,g,y;0===n?(l=0,h=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(g=Math.min(Math.floor(Math.log(n)/Math.LN2),r),l=g+r,h=Math.round(n*Math.pow(2,52-g)-Math.pow(2,52))):(l=0,h=Math.round(n/Math.pow(2,-1074))));const D=[];for(y=52;y;y-=1)D.push(h%2?1:0),h=Math.floor(h/2);for(y=11;y;y-=1)D.push(l%2?1:0),l=Math.floor(l/2);D.push(o?1:0),D.reverse();const N=D.join("");let O="";for(y=0;y<64;y+=8){let W=parseInt(N.substr(y,8),2).toString(16);1===W.length&&(W="0"+W),O+=W}return O.toLowerCase()},Jm=new RegExp("^-?(0*)\\d{1,10}$"),Xm=-2147483648,lp=2147483647,ih=function(n){if(Jm.test(n)){const t=Number(n);if(t>=Xm&&t<=lp)return t}return null},_c=function(n){try{n()}catch(t){setTimeout(()=>{throw wr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Nu=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class TE{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){wr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class AE{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(or("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wr(t)}}let cp=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const t_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,NE="websocket",n_="long_polling";class hp{constructor(t,e,r,o,l=!1,h="",g=!1){this.secure=e,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=h,this.includeNamespaceInQueryParams=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pc.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&pc.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function xE(n,t,e){let r;if((0,U.hu)("string"==typeof t,"typeof type must == string"),(0,U.hu)("object"==typeof e,"typeof params must == object"),t===NE)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==n_)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function xu(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return pr(e,(l,h)=>{o.push(l+"="+h)}),r+o.join("&")}class UD{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,U.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,U.p$)(this.counters_)}}const fp={},r_={};function pp(n){const t=n.toString();return fp[t]||(fp[t]=new UD),fp[t]}class kE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&_c(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class fl{constructor(t,e,r,o,l,h,g){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=o,this.authToken=l,this.transportSessionId=h,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rh(t),this.stats_=pp(e),this.urlFn=y=>(this.appCheckToken&&(y.ac=this.appCheckToken),xE(e,n_,y))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new kE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _p((...l)=>{const[h,g,y,D,N]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=g,this.password=y;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[h,g]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(h,g)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&t_.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fl.forceAllow_=!0}static forceDisallow(){fl.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!fl.forceAllow_&&(fl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,U.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,U.h$)(e),o=Qm(r,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,U.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class _p{constructor(t,e,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Ym(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=_p.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(g){or("frame writing exception"),g.stack&&or(g.stack),or(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||or("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const h=this.pendingSegs.shift();r=r+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),r()})}addTag(t,e){(0,U.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{or("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let vp=null;typeof MozWebSocket<"u"?vp=MozWebSocket:typeof WebSocket<"u"&&(vp=WebSocket);let yc=(()=>{class n{constructor(e,r,o,l,h,g,y){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rh(this.connId),this.stats_=pp(r),this.connURL=n.connectionURL_(r,g,y,l,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,o,l,h){const g={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&t_.test(location.hostname)&&(g.r="f"),r&&(g.s=r),o&&(g.ls=o),l&&(g.ac=l),h&&(g.p=h),xE(e,NE,g)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pc.set("previous_websocket_failure",!0);try{let o;if((0,U.Yr)()){o={headers:{"User-Agent":`Firebase/5/${ip}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,g=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;g&&(o.proxy={origin:g})}this.mySock=new vp(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==vp&&!n.forceDisallow_}static previouslyFailed(){return pc.isInMemoryStorage||!0===pc.get("previous_websocket_failure")}markConnectionHealthy(){pc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,U.cI)(r);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const r=(0,U.Wl)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Qm(r,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),i_=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[fl,yc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=yc&&yc.isAvailable();let o=r&&!yc.previouslyFailed();if(e.webSocketOnly&&(r||wr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[yc];else{const l=this.transports_=[];for(const h of n.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class qE{constructor(t,e,r,o,l,h,g,y,D,N){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=h,this.onReady_=g,this.onDisconnect_=y,this.onKill_=D,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rh("c:"+this.id+":"),this.transportManager_=new i_(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Nu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ou("t",t),r=Ou("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ou("t",t),r=Ou("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ou("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?Pu("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pu("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&wr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Nu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class YE{put(t,e,r,o){}merge(t,e,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class QE{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,U.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const o=this.getInitialEvent(t);o&&e.apply(r,o)}off(t,e,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let l=0;l<o.length;l++)if(o[l].callback===e&&(!r||r===o[l].context))return void o.splice(l,1)}validateEventType_(t){(0,U.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Cp extends QE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cp}getInitialEvent(t){return(0,U.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class dn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function en(){return new dn("")}function jt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function pl(n){return n.pieces_.length-n.pieceNum_}function wn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new dn(n.pieces_,t)}function u_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function oh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function d_(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new dn(t,0)}function xn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof dn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&e.push(r[o])}return new dn(e,0)}function Ut(n){return n.pieceNum_>=n.pieces_.length}function jr(n,t){const e=jt(n),r=jt(t);if(null===e)return t;if(e===r)return jr(wn(n),wn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function eC(n,t){const e=oh(n,0),r=oh(t,0);for(let o=0;o<e.length&&o<r.length;o++){const l=hl(e[o],r[o]);if(0!==l)return l}return e.length===r.length?0:e.length<r.length?-1:1}function wp(n,t){if(pl(n)!==pl(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function Ri(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(pl(n)>pl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class tC{constructor(t,e){this.errorPrefix_=e,this.parts_=oh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,U.ug)(this.parts_[r]);h_(this)}}function h_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Pi(n))}function Pi(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class f_ extends QE{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new f_}getInitialEvent(t){return(0,U.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ah=1e3;let Dp,Lu=(()=>{class n extends YE{constructor(e,r,o,l,h,g,y,D){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=h,this.authTokenProvider_=g,this.appCheckTokenProvider_=y,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=rh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ah,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");f_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Cp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,o){const l=++this.requestNumber_,h={r:l,a:e,b:r};this.log_((0,U.Wl)(h)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const r=new U.BH,o={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:o,onComplete:g=>{const y=g.d;"ok"===g.s?r.resolve(y):r.reject(y)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,o,l){this.initConnection_();const h=e._queryIdentifier,g=e._path.toString();this.log_("Listen called for "+g+" "+h),this.listens.has(g)||this.listens.set(g,new Map),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(g).has(h),"listen() called twice for same path/queryId.");const y={onComplete:l,hashFn:r,query:e,tag:o};this.listens.get(g).set(h,y),this.connected_&&this.sendListen_(y)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(e){const r=e.query,o=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+o+" for "+l);const h={p:o};e.tag&&(h.q=r._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,y=>{const D=y.d,N=y.s;n.warnOnListenWarnings_(D,r),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",y),"ok"!==N&&this.removeListen_(o,l),e.onComplete&&e.onComplete(N,D))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,U.r3)(e,"w")){const o=(0,U.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();wr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,U.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,U.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,l=>{const h=l.s,g=l.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,o=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(e,r){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,r)}sendUnlisten_(e,r,o,l){this.log_("Unlisten on "+e+" for "+r);const h={p:e};l&&(h.q=o,h.t=l),this.sendRequest("n",h)}onDisconnectPut(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:o})}onDisconnectMerge(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:o})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,o,l){const h={p:r,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,g=>{l&&setTimeout(()=>{l(g.s,g.d)},Math.floor(0))})}put(e,r,o,l){this.putInternal("p",e,r,o,l)}merge(e,r,o,l){this.putInternal("m",e,r,o,l)}putInternal(e,r,o,l,h){this.initConnection_();const g={p:r,d:o};void 0!==h&&(g.h=h),this.outstandingPuts_.push({action:e,request:g,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,o,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(h.s,h.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,U.Wl)(e));const r=e.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):Pu("Unrecognized action received from server: "+(0,U.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ah,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ah,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ah),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,fi.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,g=e.lastSessionId;let y=!1,D=null;const N=function(){D?D.close():(y=!0,l())};e.realtime_={close:N,sendRequest:function(te){(0,U.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(te)}};const W=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[te,de]=yield Promise.all([e.authTokenProvider_.getToken(W),e.appCheckTokenProvider_.getToken(W)]);y?or("getToken() completed but was canceled"):(or("getToken() completed. Creating connection."),e.authToken_=te&&te.accessToken,e.appCheckToken_=de&&de.token,D=new qE(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,o,l,xe=>{wr(xe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},g))}catch(te){e.log_("Failed to get token: "+te),y||(e.repoInfo_.nodeAdmin&&wr(te),N())}}})()}interrupt(e){or("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){or("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ah,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let o;o=r?r.map(h=>ap(h)).join("$"):"default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const o=new dn(e).toString();let l;if(this.listens.has(o)){const h=this.listens.get(o);l=h.get(r),h.delete(r),0===h.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,r){or("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){or("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,U.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+ip.replace(/\./g,"-")]=1,(0,U.uI)()?e["framework.cordova"]=1:(0,U.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cp.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class He{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new He(t,e)}}class bp{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new He(Po,t),o=new He(Po,e);return 0!==this.compare(r,o)}minPost(){return He.MIN}}class sC extends bp{static get __EMPTY_NODE(){return Dp}static set __EMPTY_NODE(t){Dp=t}compare(t,e){return hl(t.name,e.name)}isDefinedOn(t){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return He.MIN}maxPost(){return new He(rs,Dp)}makePost(t,e){return(0,U.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new He(t,Dp)}toString(){return".key"}}const Qr=new sC;class Ip{constructor(t,e,r,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(h=e?r(t.key,e):1,o&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Ap,pi=(()=>{class n{constructor(e,r,o,l,h){this.key=e,this.value=r,this.color=o??n.RED,this.left=l??Zt.EMPTY_NODE,this.right=h??Zt.EMPTY_NODE}copy(e,r,o,l,h){return new n(e??this.key,r??this.value,o??this.color,l??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,r,o),null):0===h?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let o,l;if(o=this,r(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(e,o.key)){if(o.right.isEmpty())return Zt.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Zt{constructor(t,e=Zt.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Zt(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,pi.BLACK,null,null))}remove(t){return new Zt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,pi.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,o=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ip(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Ip(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Ip(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Ip(this.root_,null,this.comparator_,!0,t)}}function oT(n,t){return hl(n.name,t.name)}function Tp(n,t){return hl(n,t)}Zt.EMPTY_NODE=new class Sp{copy(t,e,r,o,l){return this}insert(t,e,r){return new pi(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const m_=function(n){return"number"==typeof n?"number:"+DE(n):"string:"+n},__=function(n){if(n.isLeafNode()){const t=n.val();(0,U.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,U.r3)(t,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===Ap||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===Ap||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let y_,oC,aC,vc=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),__(this.priorityNode_)}static set __childrenNodeConstructor(e){y_=e}static get __childrenNodeConstructor(){return y_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ut(e)?this:".priority"===jt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const o=jt(e);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,U.hu)(".priority"!==o||1===pl(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(wn(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+m_(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?DE(this.value_):this.value_,this.lazyHash_=op(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(r),h=n.VALUE_TYPE_ORDER.indexOf(o);return(0,U.hu)(l>=0,"Unknown leaf type: "+r),(0,U.hu)(h>=0,"Unknown leaf type: "+o),l===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Sn=new class YD extends bp{compare(t,e){const r=t.node.getPriority(),o=e.node.getPriority(),l=r.compareTo(o);return 0===l?hl(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return He.MIN}maxPost(){return new He(rs,new vc("[PRIORITY-POST]",aC))}makePost(t,e){const r=oC(t);return new He(e,new vc("[PRIORITY-POST]",r))}toString(){return".priority"}},QD=Math.log(2);class Rp{constructor(t){this.count=parseInt(Math.log(t+1)/QD,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ch=function(n,t,e,r){n.sort(t);const o=function(y,D){const N=D-y;let O,W;if(0===N)return null;if(1===N)return O=n[y],W=e?e(O):O,new pi(W,O.node,pi.BLACK,null,null);{const te=parseInt(N/2,10)+y,de=o(y,te),xe=o(te+1,D);return O=n[te],W=e?e(O):O,new pi(W,O.node,pi.BLACK,de,xe)}},g=function(y){let D=null,N=null,O=n.length;const W=function(de,xe){const je=O-de,yt=O;O-=de;const Tt=o(je+1,yt),qt=n[je],xt=e?e(qt):qt;te(new pi(xt,qt.node,xe,null,Tt))},te=function(de){D?(D.left=de,D=de):(N=de,D=de)};for(let de=0;de<y.count;++de){const xe=y.nextBitIsOne(),je=Math.pow(2,y.count-(de+1));xe?W(je,pi.BLACK):(W(je,pi.BLACK),W(je,pi.RED))}return N}(new Rp(n.length));return new Zt(r||t,g)};let Pp;const Ec={};class Ea{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,U.hu)(Ec&&Sn,"ChildrenNode.ts has not been loaded"),Pp=Pp||new Ea({".priority":Ec},{".priority":Sn}),Pp}get(t){const e=(0,U.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Zt?e:null}hasIndex(t){return(0,U.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,U.hu)(t!==Qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const l=e.getIterator(He.Wrap);let g,h=l.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=l.getNext();g=o?ch(r,t.getCompare()):Ec;const y=t.toString(),D=Object.assign({},this.indexSet_);D[y]=t;const N=Object.assign({},this.indexes_);return N[y]=g,new Ea(N,D)}addToIndexes(t,e){const r=(0,U.UI)(this.indexes_,(o,l)=>{const h=(0,U.DV)(this.indexSet_,l);if((0,U.hu)(h,"Missing index implementation for "+l),o===Ec){if(h.isDefinedOn(t.node)){const g=[],y=e.getIterator(He.Wrap);let D=y.getNext();for(;D;)D.name!==t.name&&g.push(D),D=y.getNext();return g.push(t),ch(g,h.getCompare())}return Ec}{const g=e.get(t.name);let y=o;return g&&(y=y.remove(new He(t.name,g))),y.insert(t,t.node)}});return new Ea(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,U.UI)(this.indexes_,o=>{if(o===Ec)return o;{const l=e.get(t.name);return l?o.remove(new He(t.name,l)):o}});return new Ea(r,this.indexSet_)}}let Ca,Pt=(()=>{class n{constructor(e,r,o){this.children_=e,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&__(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ca||(Ca=new n(new Zt(Tp),null,Ea.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ca}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Ca:r}}getChild(e){const r=jt(e);return null===r?this:this.getImmediateChild(r).getChild(wn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,U.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const o=new He(e,r);let l,h;r.isEmpty()?(l=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,r),h=this.indexMap_.addToIndexes(o,this.children_));const g=l.isEmpty()?Ca:this.priorityNode_;return new n(l,g,h)}}updateChild(e,r){const o=jt(e);if(null===o)return r;{(0,U.hu)(".priority"!==jt(e)||1===pl(e),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(wn(e),r);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let o=0,l=0,h=!0;if(this.forEachChild(Sn,(g,y)=>{r[g]=y.val(e),o++,h&&n.INTEGER_REGEXP_.test(g)?l=Math.max(l,Number(g)):h=!1}),!e&&h&&l<2*o){const g=[];for(const y in r)g[y]=r[y];return g}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+m_(this.getPriority().val())+":"),this.forEachChild(Sn,(r,o)=>{const l=o.hash();""!==l&&(e+=":"+r+":"+l)}),this.lazyHash_=""===e?"":op(e)}return this.lazyHash_}getPredecessorChildName(e,r,o){const l=this.resolveIndex_(o);if(l){const h=l.getPredecessorKey(new He(e,r));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new He(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new He(r,this.children_.get(r)):null}forEachChild(e,r){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,He.Wrap);let h=l.peek();for(;null!=h&&r.compare(h,e)<0;)l.getNext(),h=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,He.Wrap);let h=l.peek();for(;null!=h&&r.compare(h,e)>0;)l.getNext(),h=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===uh?-1:0}withIndex(e){if(e===Qr||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Qr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(Sn),l=r.getIterator(Sn);let h=o.getNext(),g=l.getNext();for(;h&&g;){if(h.name!==g.name||!h.node.equals(g.node))return!1;h=o.getNext(),g=l.getNext()}return null===h&&null===g}return!1}return!1}}resolveIndex_(e){return e===Qr?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const uh=new class JD extends Pt{constructor(){super(new Zt(Tp),Pt.EMPTY_NODE,Ea.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Pt.EMPTY_NODE}isEmpty(){return!1}};function Hn(n,t=null){if(null===n)return Pt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,U.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new vc(n,Hn(t));if(n instanceof Array){let e=Pt.EMPTY_NODE;return pr(n,(r,o)=>{if((0,U.r3)(n,r)&&"."!==r.substring(0,1)){const l=Hn(o);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(r,l))}}),e.updatePriority(Hn(t))}{const e=[];let r=!1;if(pr(n,(h,g)=>{if("."!==h.substring(0,1)){const y=Hn(g);y.isEmpty()||(r=r||!y.getPriority().isEmpty(),e.push(new He(h,y)))}}),0===e.length)return Pt.EMPTY_NODE;const l=ch(e,oT,h=>h.name,Tp);if(r){const h=ch(e,Sn.getCompare());return new Pt(l,Hn(t),new Ea({".priority":h},{".priority":Sn}))}return new Pt(l,Hn(t),Ea.Default)}}Object.defineProperties(He,{MIN:{value:new He(Po,Pt.EMPTY_NODE)},MAX:{value:new He(rs,uh)}}),sC.__EMPTY_NODE=Pt.EMPTY_NODE,vc.__childrenNodeConstructor=Pt,function ZD(n){Ap=n}(uh),function lh(n){aC=n}(uh),function qD(n){oC=n}(Hn);class Mp extends bp{constructor(t){super(),this.indexPath_=t,(0,U.hu)(!Ut(t)&&".priority"!==jt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),o=this.extractChild(e.node),l=r.compareTo(o);return 0===l?hl(t.name,e.name):l}makePost(t,e){const r=Hn(t),o=Pt.EMPTY_NODE.updateChild(this.indexPath_,r);return new He(e,o)}maxPost(){const t=Pt.EMPTY_NODE.updateChild(this.indexPath_,uh);return new He(rs,t)}toString(){return oh(this.indexPath_,0).join("/")}}const v_=new class lC extends bp{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?hl(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return He.MIN}maxPost(){return He.MAX}makePost(t,e){const r=Hn(t);return new He(e,r)}toString(){return".value"}},Cc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",aT=function(){let n=0;const t=[];return function(e){const r=e===n;let o;n=e;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Cc.charAt(e%64),e=Math.floor(e/64);(0,U.hu)(0===e,"Cannot push at time == 0");let h=l.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=Cc.charAt(t[o]);return(0,U.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),tI=function(n){if(n===""+lp)return"-";const t=ih(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let h=0;h<e.length;h++)e[h]=n.charAt(h);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return rs;const l=Cc.charAt(Cc.indexOf(e[r])+1);return e[r]=l,e.slice(0,r+1).join("")},nI=function(n){if(n===""+Xm)return Po;const t=ih(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+lp:(delete e[e.length-1],e.join("")):(e[e.length-1]=Cc.charAt(Cc.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function C_(n){return{type:"value",snapshotNode:n}}function wa(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function dh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function hh(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class wc{constructor(t){this.index_=t}updateChild(t,e,r,o,l,h){(0,U.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(e);return g.getChild(o).equals(r.getChild(o))&&g.isEmpty()===r.isEmpty()||(null!=h&&(r.isEmpty()?t.hasChild(e)?h.trackChildChange(dh(e,g)):(0,U.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?h.trackChildChange(wa(e,r)):h.trackChildChange(hh(e,r,g))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Sn,(o,l)=>{e.hasChild(o)||r.trackChildChange(dh(o,l))}),e.isLeafNode()||e.forEachChild(Sn,(o,l)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(l)||r.trackChildChange(hh(o,l,h))}else r.trackChildChange(wa(o,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Pt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class fh{constructor(t){this.indexedFilter_=new wc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=fh.getStartPost_(t),this.endPost_=fh.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,o,l,h){return this.matches(new He(e,r))||(r=Pt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,o,l,h)}updateFullNode(t,e,r){e.isLeafNode()&&(e=Pt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(Pt.EMPTY_NODE);const l=this;return e.forEachChild(Sn,(h,g)=>{l.matches(new He(h,g))||(o=o.updateImmediateChild(h,Pt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class rI{constructor(t){this.rangedFilter_=new fh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,o,l,h){return this.rangedFilter_.matches(new He(e,r))||(r=Pt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,o,l,h):this.fullLimitUpdateChild_(t,e,r,l,h)}updateFullNode(t,e,r){let o;if(e.isLeafNode()||e.isEmpty())o=Pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;o=Pt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;l.hasNext()&&h<this.limit_;){const g=l.getNext();let y;if(y=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),g)<=0:this.index_.compare(g,this.rangedFilter_.getEndPost())<=0,!y)break;o=o.updateImmediateChild(g.name,g.node),h++}}else{let l,h,g,y;if(o=e.withIndex(this.index_),o=o.updatePriority(Pt.EMPTY_NODE),this.reverse_){y=o.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const O=this.index_.getCompare();g=(W,te)=>O(te,W)}else y=o.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();let D=0,N=!1;for(;y.hasNext();){const O=y.getNext();!N&&g(l,O)<=0&&(N=!0),N&&D<this.limit_&&g(O,h)<=0?D++:o=o.updateImmediateChild(O.name,Pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,o,l){let h;if(this.reverse_){const O=this.index_.getCompare();h=(W,te)=>O(te,W)}else h=this.index_.getCompare();const g=t;(0,U.hu)(g.numChildren()===this.limit_,"");const y=new He(e,r),D=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),N=this.rangedFilter_.matches(y);if(g.hasChild(e)){const O=g.getImmediateChild(e);let W=o.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=W&&(W.name===e||g.hasChild(W.name));)W=o.getChildAfterChild(this.index_,W,this.reverse_);const te=null==W?1:h(W,y);if(N&&!r.isEmpty()&&te>=0)return l?.trackChildChange(hh(e,r,O)),g.updateImmediateChild(e,r);{l?.trackChildChange(dh(e,O));const xe=g.updateImmediateChild(e,Pt.EMPTY_NODE);return null!=W&&this.rangedFilter_.matches(W)?(l?.trackChildChange(wa(W.name,W.node)),xe.updateImmediateChild(W.name,W.node)):xe}}return r.isEmpty()?t:N&&h(D,y)>=0?(null!=l&&(l.trackChildChange(dh(D.name,D.node)),l.trackChildChange(wa(e,r))),g.updateImmediateChild(e,r).updateImmediateChild(D.name,Pt.EMPTY_NODE)):t}}class Op{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Sn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Po}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Sn}copy(){const t=new Op;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function w_(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function bc(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function ph(n,t){const e=n.copy();return e.index_=t,e}function hC(n){const t={};if(n.isDefault())return t;let e;return n.index_===Sn?e="$priority":n.index_===v_?e="$value":n.index_===Qr?e="$key":((0,U.hu)(n.index_ instanceof Mp,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,U.Wl)(e),n.startSet_&&(t.startAt=(0,U.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,U.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,U.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,U.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function b_(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Sn&&(t.i=n.index_.toString()),t}class Np extends YE{constructor(t,e,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=rh("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,U.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,o){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const h=Np.getListenId_(t,r),g={};this.listens_[h]=g;const y=hC(t._queryParams);this.restRequest_(l+".json",y,(D,N)=>{let O=N;if(404===D&&(O=null,D=null),null===D&&this.onDataUpdate_(l,O,!1,r),(0,U.DV)(this.listens_,h)===g){let W;W=D?401===D?"permission_denied":"rest_error:"+D:"ok",o(W,null)}})}unlisten(t,e){const r=Np.getListenId_(t,e);delete this.listens_[r]}get(t){const e=hC(t._queryParams),r=t._path.toString(),o=new U.BH;return this.restRequest_(r+".json",e,(l,h)=>{let g=h;404===l&&(g=null,l=null),null===l?(this.onDataUpdate_(r,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(e.auth=o.accessToken),l&&l.token&&(e.ac=l.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,U.xO)(e);this.log_("Sending REST request for "+h);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(r&&4===g.readyState){this.log_("REST Response for "+h+" received. status:",g.status,"response:",g.responseText);let y=null;if(g.status>=200&&g.status<300){try{y=(0,U.cI)(g.responseText)}catch{wr("Failed to parse JSON response for "+h+": "+g.responseText)}r(null,y)}else 401!==g.status&&404!==g.status&&wr("Got unsuccessful REST response for "+h+" Status: "+g.status),r(g.status);r=null}},g.open("GET",h,!0),g.send()})}}class fC{constructor(){this.rootNode_=Pt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function xp(){return{value:null,children:new Map}}function gl(n,t,e){if(Ut(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=jt(t);n.children.has(r)||n.children.set(r,xp()),gl(n.children.get(r),t=wn(t),e)}}function D_(n,t){if(Ut(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Sn,(r,o)=>{gl(n,new dn(r),o)}),D_(n,t)}}if(n.children.size>0){const e=jt(t);return t=wn(t),n.children.has(e)&&D_(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function kp(n,t,e){null!==n.value?e(t,n.value):function pC(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,o)=>{kp(o,new dn(t.toString()+"/"+r),e)})}class lI{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&pr(this.last_,(r,o)=>{e[r]=e[r]-o}),this.last_=t,e}}class uI{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new lI(t);const r=1e4+2e4*Math.random();Nu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;pr(t,(o,l)=>{l>0&&(0,U.r3)(this.statsToReport_,o)&&(e[o]=l,r=!0)}),r&&this.server_.reportStats(e),Nu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Mi=(()=>{return(n=Mi||(Mi={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Mi;var n})();function A_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Lp{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Mi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Ut(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new dn(t));return new Lp(en(),e,this.revert)}}return(0,U.hu)(jt(this.path)===t,"operationForChild called for unrelated child."),new Lp(wn(this.path),this.affectedTree,this.revert)}}class gh{constructor(t,e){this.source=t,this.path=e,this.type=Mi.LISTEN_COMPLETE}operationForChild(t){return Ut(this.path)?new gh(this.source,en()):new gh(this.source,wn(this.path))}}class Dc{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Mi.OVERWRITE}operationForChild(t){return Ut(this.path)?new Dc(this.source,en(),this.snap.getImmediateChild(t)):new Dc(this.source,wn(this.path),this.snap)}}class Fu{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Mi.MERGE}operationForChild(t){if(Ut(this.path)){const e=this.children.subtree(new dn(t));return e.isEmpty()?null:e.value?new Dc(this.source,en(),e.value):new Fu(this.source,en(),e)}return(0,U.hu)(jt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Fu(this.source,wn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ml{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ut(t))return this.isFullyInitialized()&&!this.filtered_;const e=jt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class mC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function mh(n,t,e,r,o,l){const h=r.filter(g=>g.type===e);h.sort((g,y)=>function yC(n,t,e){if(null==t.childName||null==e.childName)throw(0,U.g5)("Should only compare child_ events.");const r=new He(t.childName,t.snapshotNode),o=new He(e.childName,e.snapshotNode);return n.index_.compare(r,o)}(n,g,y)),h.forEach(g=>{const y=function dI(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,g,l);o.forEach(D=>{D.respondsTo(g.type)&&t.push(D.createEvent(y,n.query_))})})}function Fp(n,t){return{eventCache:n,serverCache:t}}function _h(n,t,e,r){return Fp(new ml(t,e,r),n.serverCache)}function vC(n,t,e,r){return Fp(n.eventCache,new ml(t,e,r))}function Vu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ba(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Vp;class Tn{constructor(t,e=(()=>(Vp||(Vp=new Zt(LD)),Vp))()){this.value=t,this.children=e}static fromObject(t){let e=new Tn(null);return pr(t,(r,o)=>{e=e.set(new dn(r),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:en(),value:this.value};if(Ut(t))return null;{const r=jt(t),o=this.children.get(r);if(null!==o){const l=o.findRootMostMatchingPathAndValue(wn(t),e);return null!=l?{path:xn(new dn(r),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ut(t))return this;{const e=jt(t),r=this.children.get(e);return null!==r?r.subtree(wn(t)):new Tn(null)}}set(t,e){if(Ut(t))return new Tn(e,this.children);{const r=jt(t),l=(this.children.get(r)||new Tn(null)).set(wn(t),e),h=this.children.insert(r,l);return new Tn(this.value,h)}}remove(t){if(Ut(t))return this.children.isEmpty()?new Tn(null):new Tn(null,this.children);{const e=jt(t),r=this.children.get(e);if(r){const o=r.remove(wn(t));let l;return l=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&l.isEmpty()?new Tn(null):new Tn(this.value,l)}return this}}get(t){if(Ut(t))return this.value;{const e=jt(t),r=this.children.get(e);return r?r.get(wn(t)):null}}setTree(t,e){if(Ut(t))return e;{const r=jt(t),l=(this.children.get(r)||new Tn(null)).setTree(wn(t),e);let h;return h=l.isEmpty()?this.children.remove(r):this.children.insert(r,l),new Tn(this.value,h)}}fold(t){return this.fold_(en(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((o,l)=>{r[o]=l.fold_(xn(t,o),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,en(),e)}findOnPath_(t,e,r){const o=!!this.value&&r(e,this.value);if(o)return o;if(Ut(t))return null;{const l=jt(t),h=this.children.get(l);return h?h.findOnPath_(wn(t),xn(e,l),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,en(),e)}foreachOnPath_(t,e,r){if(Ut(t))return this;{this.value&&r(e,this.value);const o=jt(t),l=this.children.get(o);return l?l.foreachOnPath_(wn(t),xn(e,o),r):new Tn(null)}}foreach(t){this.foreach_(en(),t)}foreach_(t,e){this.children.inorderTraversal((r,o)=>{o.foreach_(xn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Vs{constructor(t){this.writeTree_=t}static empty(){return new Vs(new Tn(null))}}function Ic(n,t,e){if(Ut(t))return new Vs(new Tn(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let l=r.value;const h=jr(o,t);return l=l.updateChild(h,e),new Vs(n.writeTree_.set(o,l))}{const o=new Tn(e),l=n.writeTree_.setTree(t,o);return new Vs(l)}}}function P_(n,t,e){let r=n;return pr(e,(o,l)=>{r=Ic(r,xn(t,o),l)}),r}function M_(n,t){if(Ut(t))return Vs.empty();{const e=n.writeTree_.setTree(t,new Tn(null));return new Vs(e)}}function _l(n,t){return null!=yl(n,t)}function yl(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(jr(e.path,t)):null}function EC(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Sn,(r,o)=>{t.push(new He(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&t.push(new He(r,o.value))}),t}function Sc(n,t){if(Ut(t))return n;{const e=yl(n,t);return new Vs(null!=e?new Tn(e):n.writeTree_.subtree(t))}}function Up(n){return n.writeTree_.isEmpty()}function vl(n,t){return CC(en(),n.writeTree_,t)}function CC(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((o,l)=>{".priority"===o?((0,U.hu)(null!==l.value,"Priority writes must always be leaf nodes"),r=l.value):e=CC(xn(n,o),l,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(xn(n,".priority"),r)),e}}function Uu(n,t){return k_(t,n)}function DC(n,t){if(n.snap)return Ri(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ri(xn(n.path,e),t))return!0;return!1}function SC(n){return n.visible}function TC(n,t,e){let r=Vs.empty();for(let o=0;o<n.length;++o){const l=n[o];if(t(l)){const h=l.path;let g;if(l.snap)Ri(e,h)?(g=jr(e,h),r=Ic(r,g,l.snap)):Ri(h,e)&&(g=jr(h,e),r=Ic(r,en(),l.snap.getChild(g)));else{if(!l.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(Ri(e,h))g=jr(e,h),r=P_(r,g,l.children);else if(Ri(h,e))if(g=jr(h,e),Ut(g))r=P_(r,en(),l.children);else{const y=(0,U.DV)(l.children,jt(g));if(y){const D=y.getChild(wn(g));r=Ic(r,en(),D)}}}}}return r}function AC(n,t,e,r,o){if(r||o){const l=Sc(n.visibleWrites,t);return!o&&Up(l)?e:o||null!=e||_l(l,en())?vl(TC(n.allWrites,function(D){return(D.visible||o)&&(!r||!~r.indexOf(D.writeId))&&(Ri(D.path,t)||Ri(t,D.path))},t),e||Pt.EMPTY_NODE):null}{const l=yl(n.visibleWrites,t);if(null!=l)return l;{const h=Sc(n.visibleWrites,t);return Up(h)?e:null!=e||_l(h,en())?vl(h,e||Pt.EMPTY_NODE):null}}}function Bp(n,t,e,r){return AC(n.writeTree,n.treePath,t,e,r)}function MC(n,t){return function fI(n,t,e){let r=Pt.EMPTY_NODE;const o=yl(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Sn,(l,h)=>{r=r.updateImmediateChild(l,h)}),r;if(e){const l=Sc(n.visibleWrites,t);return e.forEachChild(Sn,(h,g)=>{const y=vl(Sc(l,new dn(h)),g);r=r.updateImmediateChild(h,y)}),EC(l).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}return EC(Sc(n.visibleWrites,t)).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}(n.writeTree,n.treePath,t)}function mI(n,t,e,r){return function pI(n,t,e,r,o){(0,U.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const l=xn(t,e);if(_l(n.visibleWrites,l))return null;{const h=Sc(n.visibleWrites,l);return Up(h)?o.getChild(e):vl(h,o.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Hp(n,t){return function lT(n,t){return yl(n.visibleWrites,t)}(n.writeTree,xn(n.treePath,t))}function N_(n,t,e){return function RC(n,t,e,r){const o=xn(t,e),l=yl(n.visibleWrites,o);return null!=l?l:r.isCompleteForChild(e)?vl(Sc(n.visibleWrites,o),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function x_(n,t){return k_(xn(n.treePath,t),n.writeTree)}function k_(n,t){return{treePath:n,writeTree:t}}class yI{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,U.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const l=o.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(r,hh(r,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(r,dh(r,o.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(r,wa(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,U.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(r,hh(r,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const OC=new class vI{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class L_{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new ml(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return N_(this.writes_,t,r)}}getChildAfterChild(t,e,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ba(this.viewCache_),l=function _I(n,t,e,r,o,l){return function PC(n,t,e,r,o,l,h){let g;const y=Sc(n.visibleWrites,t),D=yl(y,en());if(null!=D)g=D;else{if(null==e)return[];g=vl(y,e)}if(g=g.withIndex(h),g.isEmpty()||g.isLeafNode())return[];{const N=[],O=h.getCompare(),W=l?g.getReverseIteratorFrom(r,h):g.getIteratorFrom(r,h);let te=W.getNext();for(;te&&N.length<o;)0!==O(te,r)&&N.push(te),te=W.getNext();return N}}(n.writeTree,n.treePath,t,e,r,o,l)}(this.writes_,o,e,1,r,t);return 0===l.length?null:l[0]}}function F_(n,t,e,r,o,l){const h=t.eventCache;if(null!=Hp(r,e))return t;{let g,y;if(Ut(e))if((0,U.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=ba(t),O=MC(r,D instanceof Pt?D:Pt.EMPTY_NODE);g=n.filter.updateFullNode(t.eventCache.getNode(),O,l)}else{const D=Bp(r,ba(t));g=n.filter.updateFullNode(t.eventCache.getNode(),D,l)}else{const D=jt(e);if(".priority"===D){(0,U.hu)(1===pl(e),"Can't have a priority with additional path components");const N=h.getNode();y=t.serverCache.getNode();const O=mI(r,e,N,y);g=null!=O?n.filter.updatePriority(N,O):h.getNode()}else{const N=wn(e);let O;if(h.isCompleteForChild(D)){y=t.serverCache.getNode();const W=mI(r,e,h.getNode(),y);O=null!=W?h.getNode().getImmediateChild(D).updateChild(N,W):h.getNode().getImmediateChild(D)}else O=N_(r,D,t.serverCache);g=null!=O?n.filter.updateChild(h.getNode(),D,O,N,o,l):h.getNode()}}return _h(t,g,h.isFullyInitialized()||Ut(e),n.filter.filtersNodes())}}function vh(n,t,e,r,o,l,h,g){const y=t.serverCache;let D;const N=h?n.filter:n.filter.getIndexedFilter();if(Ut(e))D=N.updateFullNode(y.getNode(),r,null);else if(N.filtersNodes()&&!y.isFiltered()){const te=y.getNode().updateChild(e,r);D=N.updateFullNode(y.getNode(),te,null)}else{const te=jt(e);if(!y.isCompleteForPath(e)&&pl(e)>1)return t;const de=wn(e),je=y.getNode().getImmediateChild(te).updateChild(de,r);D=".priority"===te?N.updatePriority(y.getNode(),je):N.updateChild(y.getNode(),te,je,de,OC,null)}const O=vC(t,D,y.isFullyInitialized()||Ut(e),N.filtersNodes());return F_(n,O,e,o,new L_(o,O,l),g)}function jp(n,t,e,r,o,l,h){const g=t.eventCache;let y,D;const N=new L_(o,t,l);if(Ut(e))D=n.filter.updateFullNode(t.eventCache.getNode(),r,h),y=_h(t,D,!0,n.filter.filtersNodes());else{const O=jt(e);if(".priority"===O)D=n.filter.updatePriority(t.eventCache.getNode(),r),y=_h(t,D,g.isFullyInitialized(),g.isFiltered());else{const W=wn(e),te=g.getNode().getImmediateChild(O);let de;if(Ut(W))de=r;else{const xe=N.getCompleteChild(O);de=null!=xe?".priority"===u_(W)&&xe.getChild(d_(W)).isEmpty()?xe:xe.updateChild(W,r):Pt.EMPTY_NODE}y=te.equals(de)?t:_h(t,n.filter.updateChild(g.getNode(),O,de,W,N,h),g.isFullyInitialized(),n.filter.filtersNodes())}}return y}function V_(n,t){return n.eventCache.isCompleteForChild(t)}function xC(n,t,e){return e.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function U_(n,t,e,r,o,l,h,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,y=t;D=Ut(e)?r:new Tn(null).setTree(e,r);const N=t.serverCache.getNode();return D.children.inorderTraversal((O,W)=>{if(N.hasChild(O)){const de=xC(0,t.serverCache.getNode().getImmediateChild(O),W);y=vh(n,y,new dn(O),de,o,l,h,g)}}),D.children.inorderTraversal((O,W)=>{const te=!t.serverCache.isCompleteForChild(O)&&null===W.value;if(!N.hasChild(O)&&!te){const xe=xC(0,t.serverCache.getNode().getImmediateChild(O),W);y=vh(n,y,new dn(O),xe,o,l,h,g)}}),y}class II{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new wc(r.getIndex()),l=function iI(n){return n.loadsAllData()?new wc(n.getIndex()):n.hasLimit()?new rI(n):new fh(n)}(r);this.processor_=function EI(n){return{filter:n}}(l);const h=e.serverCache,g=e.eventCache,y=o.updateFullNode(Pt.EMPTY_NODE,h.getNode(),null),D=l.updateFullNode(Pt.EMPTY_NODE,g.getNode(),null),N=new ml(y,h.isFullyInitialized(),o.filtersNodes()),O=new ml(D,g.isFullyInitialized(),l.filtersNodes());this.viewCache_=Fp(O,N),this.eventGenerator_=new mC(this.query_)}get query(){return this.query_}}function Eh(n,t){const e=ba(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Ut(t)&&!e.getImmediateChild(jt(t)).isEmpty())?e.getChild(t):null}function kC(n){return 0===n.eventRegistrations_.length}function Us(n,t,e){const r=[];if(e){(0,U.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const h=l.createCancelEvent(e,o);h&&r.push(h)})}if(t){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const h=n.eventRegistrations_[l];if(h.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(h)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function LC(n,t,e,r){t.type===Mi.MERGE&&null!==t.source.queryId&&((0,U.hu)(ba(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(Vu(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function wI(n,t,e,r,o){const l=new yI;let h,g;if(e.type===Mi.OVERWRITE){const D=e;D.source.fromUser?h=jp(n,t,D.path,D.snap,r,o,l):((0,U.hu)(D.source.fromServer,"Unknown source."),g=D.source.tagged||t.serverCache.isFiltered()&&!Ut(D.path),h=vh(n,t,D.path,D.snap,r,o,g,l))}else if(e.type===Mi.MERGE){const D=e;D.source.fromUser?h=function NC(n,t,e,r,o,l,h){let g=t;return r.foreach((y,D)=>{const N=xn(e,y);V_(t,jt(N))&&(g=jp(n,g,N,D,o,l,h))}),r.foreach((y,D)=>{const N=xn(e,y);V_(t,jt(N))||(g=jp(n,g,N,D,o,l,h))}),g}(n,t,D.path,D.children,r,o,l):((0,U.hu)(D.source.fromServer,"Unknown source."),g=D.source.tagged||t.serverCache.isFiltered(),h=U_(n,t,D.path,D.children,r,o,g,l))}else if(e.type===Mi.ACK_USER_WRITE){const D=e;h=D.revert?function DI(n,t,e,r,o,l){let h;if(null!=Hp(r,e))return t;{const g=new L_(r,t,o),y=t.eventCache.getNode();let D;if(Ut(e)||".priority"===jt(e)){let N;if(t.serverCache.isFullyInitialized())N=Bp(r,ba(t));else{const O=t.serverCache.getNode();(0,U.hu)(O instanceof Pt,"serverChildren would be complete if leaf node"),N=MC(r,O)}D=n.filter.updateFullNode(y,N,l)}else{const N=jt(e);let O=N_(r,N,t.serverCache);null==O&&t.serverCache.isCompleteForChild(N)&&(O=y.getImmediateChild(N)),D=null!=O?n.filter.updateChild(y,N,O,wn(e),g,l):t.eventCache.getNode().hasChild(N)?n.filter.updateChild(y,N,Pt.EMPTY_NODE,wn(e),g,l):y,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Bp(r,ba(t)),h.isLeafNode()&&(D=n.filter.updateFullNode(D,h,l)))}return h=t.serverCache.isFullyInitialized()||null!=Hp(r,en()),_h(t,D,h,n.filter.filtersNodes())}}(n,t,D.path,r,o,l):function cT(n,t,e,r,o,l,h){if(null!=Hp(o,e))return t;const g=t.serverCache.isFiltered(),y=t.serverCache;if(null!=r.value){if(Ut(e)&&y.isFullyInitialized()||y.isCompleteForPath(e))return vh(n,t,e,y.getNode().getChild(e),o,l,g,h);if(Ut(e)){let D=new Tn(null);return y.getNode().forEachChild(Qr,(N,O)=>{D=D.set(new dn(N),O)}),U_(n,t,e,D,o,l,g,h)}return t}{let D=new Tn(null);return r.foreach((N,O)=>{const W=xn(e,N);y.isCompleteForPath(W)&&(D=D.set(N,y.getNode().getChild(W)))}),U_(n,t,e,D,o,l,g,h)}}(n,t,D.path,D.affectedTree,r,o,l)}else{if(e.type!==Mi.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+e.type);h=function bI(n,t,e,r,o){const l=t.serverCache;return F_(n,vC(t,l.getNode(),l.isFullyInitialized()||Ut(e),l.isFiltered()),e,r,OC,o)}(n,t,e.path,r,l)}const y=l.getChanges();return function yh(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=Vu(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&e.push(C_(Vu(t)))}}(t,h,y),{viewCache:h,changes:y}}(n.processor_,o,t,e,r);return function CI(n,t){(0,U.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,U.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,Bu(n,l.changes,l.viewCache.eventCache.getNode(),null)}function Bu(n,t,e,r){return function _C(n,t,e,r){const o=[],l=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&l.push(function uC(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),mh(n,o,"child_removed",t,r,e),mh(n,o,"child_added",t,r,e),mh(n,o,"child_moved",l,r,e),mh(n,o,"child_changed",t,r,e),mh(n,o,"value",t,r,e),o}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let $p,ju;class FC{constructor(){this.views=new Map}}function j_(n,t,e,r){const o=t.source.queryId;if(null!==o){const l=n.views.get(o);return(0,U.hu)(null!=l,"SyncTree gave us an op for an invalid query."),LC(l,t,e,r)}{let l=[];for(const h of n.views.values())l=l.concat(LC(h,t,e,r));return l}}function VC(n,t,e,r,o){const h=n.views.get(t._queryIdentifier);if(!h){let g=Bp(e,o?r:null),y=!1;g?y=!0:r instanceof Pt?(g=MC(e,r),y=!1):(g=Pt.EMPTY_NODE,y=!1);const D=Fp(new ml(g,y,!1),new ml(r,o,!1));return new II(t,D)}return h}function Gp(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Da(n,t){let e=null;for(const r of n.views.values())e=e||Eh(r,t);return e}function HC(n,t){return t._queryParams.loadsAllData()?Hu(n):n.views.get(t._queryIdentifier)}function jC(n,t){return null!=HC(n,t)}function Tc(n){return null!=Hu(n)}function Hu(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let W_=1;class WC{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Tn(null),this.pendingWriteTree_=function gI(){return{visibleWrites:Vs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function z_(n,t,e,r,o){return function hI(n,t,e,r,o){(0,U.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:o}),o&&(n.visibleWrites=Ic(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,o),o?Ac(n,new Dc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function El(n,t,e=!1){const r=function O_(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function bC(n,t){const e=n.allWrites.findIndex(g=>g.writeId===t);(0,U.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let o=r.visible,l=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const g=n.allWrites[h];g.visible&&(h>=e&&DC(g,r.path)?o=!1:Ri(r.path,g.path)&&(l=!0)),h--}return!!o&&(l?(function IC(n){n.visibleWrites=TC(n.allWrites,SC,en()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=M_(n.visibleWrites,r.path):pr(r.children,y=>{n.visibleWrites=M_(n.visibleWrites,xn(r.path,y))}),!0))}(n.pendingWriteTree_,t)){let l=new Tn(null);return null!=r.snap?l=l.set(en(),!0):pr(r.children,h=>{l=l.set(new dn(h),!0)}),Ac(n,new Lp(r.path,l,e))}return[]}function $u(n,t,e){return Ac(n,new Dc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Ch(n,t,e,r,o=!1){const l=t._path,h=n.syncPointTree_.get(l);let g=[];if(h&&("default"===t._queryIdentifier||jC(h,t))){const y=function BC(n,t,e,r){const o=t._queryIdentifier,l=[];let h=[];const g=Tc(n);if("default"===o)for(const[y,D]of n.views.entries())h=h.concat(Us(D,e,r)),kC(D)&&(n.views.delete(y),D.query._queryParams.loadsAllData()||l.push(D.query));else{const y=n.views.get(o);y&&(h=h.concat(Us(y,e,r)),kC(y)&&(n.views.delete(o),y.query._queryParams.loadsAllData()||l.push(y.query)))}return g&&!Tc(n)&&l.push(new(function Wp(){return(0,U.hu)($p,"Reference.ts has not been loaded"),$p}())(t._repo,t._path)),{removed:l,events:h}}(h,t,e,r);(function zp(n){return 0===n.views.size})(h)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const D=y.removed;if(g=y.events,!o){const N=-1!==D.findIndex(W=>W._queryParams.loadsAllData()),O=n.syncPointTree_.findOnPath(l,(W,te)=>Tc(te));if(N&&!O){const W=n.syncPointTree_.subtree(l);if(!W.isEmpty()){const te=function qC(n){return n.fold((t,e,r)=>{if(e&&Tc(e))return[Hu(e)];{let o=[];return e&&(o=Gp(e)),pr(r,(l,h)=>{o=o.concat(h)}),o}})}(W);for(let de=0;de<te.length;++de){const xe=te[de],je=xe.query,yt=Rc(n,xe);n.listenProvider_.startListening(Ia(je),bh(n,je),yt.hashFn,yt.onComplete)}}}!O&&D.length>0&&!r&&(N?n.listenProvider_.stopListening(Ia(t),null):D.forEach(W=>{const te=n.queryToTagMap.get(Zp(W));n.listenProvider_.stopListening(Ia(W),te)}))}!function OI(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const o=Zp(r),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,D)}return g}function K_(n,t,e,r){const o=KC(n,r);if(null!=o){const l=ZC(o),h=l.path,g=l.queryId,y=jr(h,t);return qp(n,h,new Dc(A_(g),y,e))}return[]}function Kp(n,t,e,r=!1){const o=t._path;let l=null,h=!1;n.syncPointTree_.foreachOnPath(o,(W,te)=>{const de=jr(W,o);l=l||Da(te,de),h=h||Tc(te)});let y,g=n.syncPointTree_.get(o);g?(h=h||Tc(g),l=l||Da(g,en())):(g=new FC,n.syncPointTree_=n.syncPointTree_.set(o,g)),null!=l?y=!0:(y=!1,l=Pt.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((te,de)=>{const xe=Da(de,en());xe&&(l=l.updateImmediateChild(te,xe))}));const D=jC(g,t);if(!D&&!t._queryParams.loadsAllData()){const W=Zp(t);(0,U.hu)(!n.queryToTagMap.has(W),"View does not exist, but we have a tag");const te=function q_(){return W_++}();n.queryToTagMap.set(W,te),n.tagToQueryMap.set(te,W)}let O=function UC(n,t,e,r,o,l){const h=VC(n,t,r,o,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function B_(n,t){n.eventRegistrations_.push(t)}(h,e),function H_(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Sn,(l,h)=>{r.push(wa(l,h))}),e.isFullyInitialized()&&r.push(C_(e.getNode())),Bu(n,r,e.getNode(),t)}(h,e)}(g,t,e,Uu(n.pendingWriteTree_,o),l,y);if(!D&&!h&&!r){const W=HC(g,t);O=O.concat(function NI(n,t,e){const r=t._path,o=bh(n,t),l=Rc(n,e),h=n.listenProvider_.startListening(Ia(t),o,l.hashFn,l.onComplete),g=n.syncPointTree_.subtree(r);if(o)(0,U.hu)(!Tc(g.value),"If we're adding a query, it shouldn't be shadowed");else{const y=g.fold((D,N,O)=>{if(!Ut(D)&&N&&Tc(N))return[Hu(N).query];{let W=[];return N&&(W=W.concat(Gp(N).map(te=>te.query))),pr(O,(te,de)=>{W=W.concat(de)}),W}});for(let D=0;D<y.length;++D){const N=y[D];n.listenProvider_.stopListening(Ia(N),bh(n,N))}}return h}(n,t,W))}return O}function wh(n,t,e){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(h,g)=>{const D=Da(g,jr(h,t));if(D)return D});return AC(o,t,l,e,!0)}function Ac(n,t){return Z_(t,n.syncPointTree_,null,Uu(n.pendingWriteTree_,en()))}function Z_(n,t,e,r){if(Ut(n.path))return $r(n,t,e,r);{const o=t.get(en());null==e&&null!=o&&(e=Da(o,en()));let l=[];const h=jt(n.path),g=n.operationForChild(h),y=t.children.get(h);if(y&&g){const D=e?e.getImmediateChild(h):null,N=x_(r,h);l=l.concat(Z_(g,y,D,N))}return o&&(l=l.concat(j_(o,n,r,e))),l}}function $r(n,t,e,r){const o=t.get(en());null==e&&null!=o&&(e=Da(o,en()));let l=[];return t.children.inorderTraversal((h,g)=>{const y=e?e.getImmediateChild(h):null,D=x_(r,h),N=n.operationForChild(h);N&&(l=l.concat($r(N,g,y,D)))}),o&&(l=l.concat(j_(o,n,r,e))),l}function Rc(n,t){const e=t.query,r=bh(n,e);return{hashFn:()=>(function SI(n){return n.viewCache_.serverCache.getNode()}(t)||Pt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function GC(n,t,e){const r=KC(n,e);if(r){const o=ZC(r),l=o.path,h=o.queryId,g=jr(l,t);return qp(n,l,new gh(A_(h),g))}return[]}(n,e._path,r):function zC(n,t){return Ac(n,new gh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function IE(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(o,e);return Ch(n,e,null,l)}}}}function bh(n,t){const e=Zp(t);return n.queryToTagMap.get(e)}function Zp(n){return n._path.toString()+"$"+n._queryIdentifier}function KC(n,t){return n.tagToQueryMap.get(t)}function ZC(n){const t=n.indexOf("$");return(0,U.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new dn(n.substr(0,t))}}function qp(n,t,e){const r=n.syncPointTree_.get(t);return(0,U.hu)(r,"Missing sync point for query tag that we're tracking"),j_(r,e,Uu(n.pendingWriteTree_,t),null)}function Ia(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function $_(){return(0,U.hu)(ju,"Reference.ts has not been loaded"),ju}())(n._repo,n._path):n}class Yp{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Yp(e)}node(){return this.node_}}class Y_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=xn(this.path_,t);return new Y_(this.syncTree_,e)}node(){return wh(this.syncTree_,this.path_)}}const YC=function(n,t,e){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Q_(n[".sv"],t,e):"object"==typeof n[".sv"]?QC(n[".sv"],t):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Q_=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},QC=function(n,t,e){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,U.hu)(!1,"Unexpected increment value: "+r);const o=t.node();if((0,U.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return"number"!=typeof h?r:h+r},J_=function(n,t,e,r){return Dh(t,new Y_(e,n),r)},Wu=function(n,t,e){return Dh(n,new Yp(t),e)};function Dh(n,t,e){const r=n.getPriority().val(),o=YC(r,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const h=n,g=YC(h.getValue(),t,e);return g!==h.getValue()||o!==h.getPriority().val()?new vc(g,Hn(o)):n}{const h=n;return l=h,o!==h.getPriority().val()&&(l=l.updatePriority(new vc(o))),h.forEachChild(Sn,(g,y)=>{const D=Dh(y,t.getImmediateChild(g),e);D!==y&&(l=l.updateImmediateChild(g,D))}),l}}class JC{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function Ih(n,t){let e=t instanceof dn?t:new dn(t),r=n,o=jt(e);for(;null!==o;){const l=(0,U.DV)(r.node.children,o)||{children:{},childCount:0};r=new JC(o,r,l),e=wn(e),o=jt(e)}return r}function Pc(n){return n.node.value}function Qp(n,t){n.node.value=t,XC(n)}function Mc(n){return n.node.childCount>0}function Sh(n,t){pr(n.node.children,(e,r)=>{t(new JC(e,n,r))})}function Jp(n,t,e,r){e&&!r&&t(n),Sh(n,o=>{Jp(o,t,!0,r)}),e&&r&&t(n)}function Th(n){return new dn(null===n.parent?n.name:Th(n.parent)+"/"+n.name)}function XC(n){null!==n.parent&&function LI(n,t,e){const r=function kI(n){return void 0===Pc(n)&&!Mc(n)}(e),o=(0,U.r3)(n.node.children,t);r&&o?(delete n.node.children[t],n.node.childCount--,XC(n)):!r&&!o&&(n.node.children[t]=e.node,n.node.childCount++,XC(n))}(n.parent,n.name,n)}const FI=/[\[\].#$\/\u0000-\u001F\u007F]/,VI=/[\[\].#$\u0000-\u001F\u007F]/,Xp=10485760,Ah=function(n){return"string"==typeof n&&0!==n.length&&!FI.test(n)},ew=function(n){return"string"==typeof n&&0!==n.length&&!VI.test(n)},zu=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Mu(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},Oo=function(n,t,e,r){r&&void 0===t||Rh((0,U.gK)(n,"value"),t,e)},Rh=function(n,t,e){const r=e instanceof dn?new tC(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Pi(r));if("function"==typeof t)throw new Error(n+"contains a function "+Pi(r)+" with contents = "+t.toString());if(Mu(t))throw new Error(n+"contains "+t.toString()+" "+Pi(r));if("string"==typeof t&&t.length>Xp/3&&(0,U.ug)(t)>Xp)throw new Error(n+"contains a string greater than "+Xp+" utf8 bytes "+Pi(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,l=!1;if(pr(t,(h,g)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(l=!0,!Ah(h)))throw new Error(n+" contains an invalid key ("+h+") "+Pi(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function nC(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,U.ug)(t),h_(n)})(r,h),Rh(n,g,r),function rC(n){const t=n.parts_.pop();n.byteLength_-=(0,U.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),o&&l)throw new Error(n+' contains ".value" child '+Pi(r)+" in addition to actual children.")}},rw=function(n,t,e,r){if(r&&void 0===t)return;const o=(0,U.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const l=[];pr(t,(h,g)=>{const y=new dn(h);if(Rh(o,g,xn(e,y)),".priority"===u_(y)&&!zu(g))throw new Error(o+"contains an invalid value for '"+y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(y)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const l=oh(r);for(let h=0;h<l.length;h++)if((".priority"!==l[h]||h!==l.length-1)&&!Ah(l[h]))throw new Error(n+"contains an invalid key ("+l[h]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(eC);let o=null;for(e=0;e<t.length;e++){if(r=t[e],null!==o&&Ri(o,r))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,l)},eg=function(n,t,e){if(!e||void 0!==t){if(Mu(t))throw new Error((0,U.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zu(t))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Gu=function(n,t,e,r){if(!(r&&void 0===e||Ah(e)))throw new Error((0,U.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ku=function(n,t,e,r){if(!(r&&void 0===e||ew(e)))throw new Error((0,U.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},os=function(n,t){if(".info"===jt(t))throw new Error(n+" failed = Can't modify data under /.info/")},sw=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ah(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ew(n)}(e))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class dT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ph(n,t){let e=null;for(let r=0;r<t.length;r++){const o=t[r],l=o.getPath();null!==e&&!wp(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(o)}e&&n.eventLists_.push(e)}function UI(n,t,e){Ph(n,e),BI(n,r=>wp(r,t))}function as(n,t,e){Ph(n,e),BI(n,r=>Ri(r,t)||Ri(t,r))}function BI(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];o&&(t(o.path)?(hT(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function hT(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();mc&&or("event: "+e.toString()),_c(r)}}}const HI="repo_interrupt";class pT{constructor(t,e,r,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xp(),this.transactionQueueTree_=new JC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Mh(n){const e=n.infoData_.getNode(new dn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function tg(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Mh(n)})}function X_(n,t,e,r,o){n.dataUpdateCount++;const l=new dn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(o)if(r){const y=(0,U.UI)(e,D=>Hn(D));h=function PI(n,t,e,r){const o=KC(n,r);if(o){const l=ZC(o),h=l.path,g=l.queryId,y=jr(h,t),D=Tn.fromObject(e);return qp(n,h,new Fu(A_(g),y,D))}return[]}(n.serverSyncTree_,l,y,o)}else{const y=Hn(e);h=K_(n.serverSyncTree_,l,y,o)}else if(r){const y=(0,U.UI)(e,D=>Hn(D));h=function G_(n,t,e){const r=Tn.fromObject(e);return Ac(n,new Fu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,l,y)}else{const y=Hn(e);h=$u(n.serverSyncTree_,l,y)}let g=l;h.length>0&&(g=Oc(n,l)),as(n.eventQueue_,g,h)}function Oh(n,t){ng(n,"connected",t),!1===t&&function aw(n){Nh(n,"onDisconnectEvents");const t=tg(n),e=xp();kp(n.onDisconnect_,en(),(o,l)=>{const h=J_(o,l,n.serverSyncTree_,t);gl(e,o,h)});let r=[];kp(e,en(),(o,l)=>{r=r.concat($u(n.serverSyncTree_,o,l));const h=sy(n,o);Oc(n,h)}),n.onDisconnect_=xp(),as(n.eventQueue_,en(),r)}(n)}function ng(n,t,e){const r=new dn("/.info/"+t),o=Hn(e);n.infoData_.updateSnapshot(r,o);const l=$u(n.infoSyncTree_,r,o);as(n.eventQueue_,r,l)}function ey(n){return n.nextWriteId_++}function rg(n,t,e,r,o){Nh(n,"set",{path:t.toString(),value:e,priority:r});const l=tg(n),h=Hn(e,r),g=wh(n.serverSyncTree_,t),y=Wu(h,g,l),D=ey(n),N=z_(n.serverSyncTree_,t,y,D,!0);Ph(n.eventQueue_,N),n.server_.put(t.toString(),h.val(!0),(W,te)=>{const de="ok"===W;de||wr("set at "+t+" failed: "+W);const xe=El(n.serverSyncTree_,D,!de);as(n.eventQueue_,t,xe),Cl(0,o,W,te)});const O=sy(n,t);Oc(n,O),as(n.eventQueue_,O,[])}function mT(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,o)=>{"ok"===r&&D_(n.onDisconnect_,t),Cl(0,e,r,o)})}function lw(n,t,e,r){const o=Hn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,h)=>{"ok"===l&&gl(n.onDisconnect_,t,o),Cl(0,r,l,h)})}function ny(n,t,e){let r;r=".info"===jt(t._path)?Ch(n.infoSyncTree_,t,e):Ch(n.serverSyncTree_,t,e),UI(n.eventQueue_,t._path,r)}function zI(n){n.persistentConnection_&&n.persistentConnection_.interrupt(HI)}function Nh(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),or(e,...t)}function Cl(n,t,e,r){t&&_c(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let l=o;r&&(l+=": "+r);const h=new Error(l);h.code=o,t(h)}})}function ry(n,t,e){return wh(n.serverSyncTree_,t,e)||Pt.EMPTY_NODE}function iy(n,t=n.transactionQueueTree_){if(t||Zu(n,t),Pc(t)){const e=ls(n,t);(0,U.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function KI(n,t,e){const r=e.map(D=>D.currentWriteId),o=ry(n,t,r);let l=o;const h=o.hash();for(let D=0;D<e.length;D++){const N=e[D];(0,U.hu)(0===N.status,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const O=jr(t,N.path);l=l.updateChild(O,N.currentOutputSnapshotRaw)}const g=l.val(!0),y=t;n.server_.put(y.toString(),g,D=>{Nh(n,"transaction put response",{path:y.toString(),status:D});let N=[];if("ok"===D){const O=[];for(let W=0;W<e.length;W++)e[W].status=2,N=N.concat(El(n.serverSyncTree_,e[W].currentWriteId)),e[W].onComplete&&O.push(()=>e[W].onComplete(null,!0,e[W].currentOutputSnapshotResolved)),e[W].unwatcher();Zu(n,Ih(n.transactionQueueTree_,t)),iy(n,n.transactionQueueTree_),as(n.eventQueue_,t,N);for(let W=0;W<O.length;W++)_c(O[W])}else{if("datastale"===D)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{wr("transaction at "+y.toString()+" failed: "+D);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=D}Oc(n,t)}},h)}(n,Th(t),e)}else Mc(t)&&Sh(t,e=>{iy(n,e)})}function Oc(n,t){const e=ZI(n,t),r=Th(e);return function cw(n,t,e){if(0===t.length)return;const r=[];let o=[];const h=t.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const y=t[g],D=jr(e,y.path);let O,N=!1;if((0,U.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===y.status)N=!0,O=y.abortReason,o=o.concat(El(n.serverSyncTree_,y.currentWriteId,!0));else if(0===y.status)if(y.retryCount>=25)N=!0,O="maxretry",o=o.concat(El(n.serverSyncTree_,y.currentWriteId,!0));else{const W=ry(n,y.path,h);y.currentInputSnapshot=W;const te=t[g].update(W.val());if(void 0!==te){Rh("transaction failed: Data returned ",te,y.path);let de=Hn(te);"object"==typeof te&&null!=te&&(0,U.r3)(te,".priority")||(de=de.updatePriority(W.getPriority()));const je=y.currentWriteId,yt=tg(n),Tt=Wu(de,W,yt);y.currentOutputSnapshotRaw=de,y.currentOutputSnapshotResolved=Tt,y.currentWriteId=ey(n),h.splice(h.indexOf(je),1),o=o.concat(z_(n.serverSyncTree_,y.path,Tt,y.currentWriteId,y.applyLocally)),o=o.concat(El(n.serverSyncTree_,je,!0))}else N=!0,O="nodata",o=o.concat(El(n.serverSyncTree_,y.currentWriteId,!0))}as(n.eventQueue_,e,o),o=[],N&&(t[g].status=2,setTimeout(t[g].unwatcher,Math.floor(0)),t[g].onComplete&&r.push("nodata"===O?()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot):()=>t[g].onComplete(new Error(O),!1,null)))}Zu(n,n.transactionQueueTree_);for(let g=0;g<r.length;g++)_c(r[g]);iy(n,n.transactionQueueTree_)}(n,ls(n,e),r),r}function ZI(n,t){let e,r=n.transactionQueueTree_;for(e=jt(t);null!==e&&void 0===Pc(r);)r=Ih(r,e),e=jt(t=wn(t));return r}function ls(n,t){const e=[];return uw(n,t,e),e.sort((r,o)=>r.order-o.order),e}function uw(n,t,e){const r=Pc(t);if(r)for(let o=0;o<r.length;o++)e.push(r[o]);Sh(t,o=>{uw(n,o,e)})}function Zu(n,t){const e=Pc(t);if(e){let r=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[r]=e[o],r++);e.length=r,Qp(t,e.length>0?e:void 0)}Sh(t,r=>{Zu(n,r)})}function sy(n,t){const e=Th(ZI(n,t)),r=Ih(n.transactionQueueTree_,t);return function uT(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,o=>{gi(n,o)}),gi(n,r),Jp(r,o=>{gi(n,o)}),e}function gi(n,t){const e=Pc(t);if(e){const r=[];let o=[],l=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,U.hu)(l===h-1,"All SENT items should be at beginning of queue."),l=h,e[h].status=3,e[h].abortReason="set"):((0,U.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(El(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&r.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===l?Qp(t,void 0):e.length=l+1,as(n.eventQueue_,Th(t),o);for(let h=0;h<r.length;h++)_c(r[h])}}const ay=function(n,t){const e=YI(n),r=e.namespace;return"firebase.com"===e.domain&&Ai(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hp(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new dn(e.pathString)}},YI=function(n){let t="",e="",r="",o="",l="",h=!0,g="https",y=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(g=n.substring(0,D-1),n=n.substring(D+2));let N=n.indexOf("/");-1===N&&(N=n.length);let O=n.indexOf("?");-1===O&&(O=n.length),t=n.substring(0,Math.min(N,O)),N<O&&(o=function qI(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let o=e[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}(n.substring(N,O)));const W=function oy(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,O)));D=t.indexOf(":"),D>=0?(h="https"===g||"wss"===g,y=parseInt(t.substring(D+1),10)):D=t.length;const te=t.slice(0,D);if("localhost"===te.toLowerCase())e="localhost";else if(te.split(".").length<=2)e=te;else{const de=t.indexOf(".");r=t.substring(0,de).toLowerCase(),e=t.substring(de+1),l=r}"ns"in W&&(l=W.ns)}return{host:t,port:y,domain:e,subdomain:r,secure:h,scheme:g,pathString:o,namespace:l}};class sg{constructor(t,e,r,o){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Wl)(this.snapshot.exportVal())}}class ly{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class og{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class dw{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new U.BH;return mT(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){os("OnDisconnect.remove",this._path);const t=new U.BH;return lw(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){os("OnDisconnect.set",this._path),Oo("OnDisconnect.set",t,this._path,!1);const e=new U.BH;return lw(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){os("OnDisconnect.setWithPriority",this._path),Oo("OnDisconnect.setWithPriority",t,this._path,!1),eg("OnDisconnect.setWithPriority",e,!1);const r=new U.BH;return function $I(n,t,e,r,o){const l=Hn(e,r);n.server_.onDisconnectPut(t.toString(),l.val(!0),(h,g)=>{"ok"===h&&gl(n.onDisconnect_,t,l),Cl(0,o,h,g)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){os("OnDisconnect.update",this._path),rw("OnDisconnect.update",t,this._path,!1);const e=new U.BH;return function WI(n,t,e,r){if((0,U.xb)(e))return or("onDisconnect().update() called with empty data.  Don't do anything."),void Cl(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,l)=>{"ok"===o&&pr(e,(h,g)=>{const y=Hn(g);gl(n.onDisconnect_,xn(t,h),y)}),Cl(0,r,o,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Jr{constructor(t,e,r,o){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=o}get key(){return Ut(this._path)?null:u_(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const t=b_(this._queryParams),e=ap(t);return"{}"===e?"default":e}get _queryObject(){return b_(this._queryParams)}isEqual(t){if(!((t=(0,U.m9)(t))instanceof Jr))return!1;const e=this._repo===t._repo,r=wp(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function GD(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function xh(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function wl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Qr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Po)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==rs)throw new Error(r);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===Sn){if(null!=t&&!zu(t)||null!=e&&!zu(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof Mp||n.getIndex()===v_,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function kh(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cs extends Jr{constructor(t,e){super(t,e,new Op,!1)}get parent(){const t=d_(this._path);return null===t?null:new cs(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Sa{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new dn(t),r=Aa(this.ref,t);return new Sa(this._node.getChild(e),r,Sn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>t(new Sa(o,Aa(this.ref,r),Sn)))}hasChild(t){const e=new dn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ta(n,t){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==t?Aa(n._root,t):n._root}function cy(n,t){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const e=ay(t,n._repo.repoInfo_.nodeAdmin);sw("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Ai("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),Ta(n,e.path.toString())}function Aa(n,t){return null===jt((n=(0,U.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ku("child","path",e,!1)):Ku("child","path",t,!1),new cs(n._repo,xn(n._path,t));var e}function uy(n,t){n=(0,U.m9)(n),os("set",n._path),Oo("set",t,n._path,!1);const e=new U.BH;return rg(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function e0(n,t){rw("update",t,n._path,!1);const e=new U.BH;return function jI(n,t,e,r){Nh(n,"update",{path:t.toString(),value:e});let o=!0;const l=tg(n),h={};if(pr(e,(g,y)=>{o=!1,h[g]=J_(xn(t,g),Hn(y),n.serverSyncTree_,l)}),o)or("update() called with empty data.  Don't do anything."),Cl(0,r,"ok",void 0);else{const g=ey(n),y=function RI(n,t,e,r){!function wC(n,t,e,r){(0,U.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=P_(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const o=Tn.fromObject(e);return Ac(n,new Fu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,h,g);Ph(n.eventQueue_,y),n.server_.merge(t.toString(),e,(D,N)=>{const O="ok"===D;O||wr("update at "+t+" failed: "+D);const W=El(n.serverSyncTree_,g,!O),te=W.length>0?Oc(n,t):t;as(n.eventQueue_,te,W),Cl(0,r,D,N)}),pr(e,D=>{const N=sy(n,xn(t,D));Oc(n,N)}),as(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function hw(n){n=(0,U.m9)(n);const t=new og(()=>{}),e=new ag(t);return function ty(n,t,e){const r=function MI(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(D,N)=>{const O=jr(D,e);r=r||Da(N,O)});let o=n.syncPointTree_.get(e);o?r=r||Da(o,en()):(o=new FC,n.syncPointTree_=n.syncPointTree_.set(e,o));const l=null!=r,h=l?new ml(r,!0,!1):null;return function TI(n){return Vu(n.viewCache_)}(VC(o,t,Uu(n.pendingWriteTree_,t._path),l?h.getNode():Pt.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=r?Promise.resolve(r):n.server_.get(t).then(o=>{const l=Hn(o).withIndex(t._queryParams.getIndex());let h;if(Kp(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())h=$u(n.serverSyncTree_,t._path,l);else{const g=bh(n.serverSyncTree_,t);h=K_(n.serverSyncTree_,t._path,l,g)}return as(n.eventQueue_,t._path,h),Ch(n.serverSyncTree_,t,e,null,!0),l},o=>(Nh(n,"get for query "+(0,U.Wl)(t)+" failed: "+o),Promise.reject(new Error(o))))}(n._repo,n,e).then(r=>new Sa(r,new cs(n._repo,n._path),n._queryParams.getIndex()))}class ag{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new sg("value",this,new Sa(t.snapshotNode,new cs(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new ly(this,t,e):null}matches(t){return t instanceof ag&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Lh{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new ly(this,t,e):null}createEvent(t,e){(0,U.hu)(null!=t.childName,"Child events should have a childName.");const r=Aa(new cs(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new sg(t.type,this,new Sa(t.snapshotNode,r,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Lh&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Fh(n,t,e,r,o){let l;if("object"==typeof r&&(l=void 0,o=r),"function"==typeof r&&(l=r),o&&o.onlyOnce){const y=e,D=(N,O)=>{ny(n._repo,n,g),y(N,O)};D.userCallback=e.userCallback,D.context=e.context,e=D}const h=new og(e,l||void 0),g="value"===t?new ag(h):new Lh(t,h);return function ig(n,t,e){let r;r=".info"===jt(t._path)?Kp(n.infoSyncTree_,t,e):Kp(n.serverSyncTree_,t,e),UI(n.eventQueue_,t._path,r)}(n._repo,n,g),()=>ny(n._repo,n,g)}function lg(n,t,e,r){return Fh(n,"value",t,e,r)}function t0(n,t,e,r){return Fh(n,"child_added",t,e,r)}function cg(n,t,e,r){return Fh(n,"child_changed",t,e,r)}function dy(n,t,e,r){return Fh(n,"child_moved",t,e,r)}function hy(n,t,e,r){return Fh(n,"child_removed",t,e,r)}function fy(n,t,e){let r=null;const o=e?new og(e):null;"value"===t?r=new ag(o):t&&(r=new Lh(t,o)),ny(n._repo,n,r)}class us{}class py extends us{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Oo("endAt",this._value,t._path,!0);const e=bc(t._queryParams,this._value,this._key);if(kh(e),wl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jr(t._repo,t._path,e,t._orderByCalled)}}class dg extends us{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Oo("endBefore",this._value,t._path,!1);const e=function aI(n,t,e){let r,o;return n.index_===Qr?("string"==typeof t&&(t=nI(t)),o=bc(n,t,e)):(r=null==e?Po:nI(e),o=bc(n,t,r)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(kh(e),wl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jr(t._repo,t._path,e,t._orderByCalled)}}class pw extends us{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Oo("startAt",this._value,t._path,!0);const e=w_(t._queryParams,this._value,this._key);if(kh(e),wl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Jr(t._repo,t._path,e,t._orderByCalled)}}class mw extends us{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Oo("startAfter",this._value,t._path,!1);const e=function oI(n,t,e){let r;if(n.index_===Qr)"string"==typeof t&&(t=tI(t)),r=w_(n,t,e);else{let o;o=null==e?rs:tI(e),r=w_(n,t,o)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(kh(e),wl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Jr(t._repo,t._path,e,t._orderByCalled)}}class r0 extends us{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jr(t._repo,t._path,function sI(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class ET extends us{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jr(t._repo,t._path,function dC(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class s0 extends us{constructor(t){super(),this._path=t}_apply(t){xh(t,"orderByChild");const e=new dn(this._path);if(Ut(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Mp(e),o=ph(t._queryParams,r);return wl(o),new Jr(t._repo,t._path,o,!0)}}class a0 extends us{_apply(t){xh(t,"orderByKey");const e=ph(t._queryParams,Qr);return wl(e),new Jr(t._repo,t._path,e,!0)}}class wT extends us{_apply(t){xh(t,"orderByPriority");const e=ph(t._queryParams,Sn);return wl(e),new Jr(t._repo,t._path,e,!0)}}class DT extends us{_apply(t){xh(t,"orderByValue");const e=ph(t._queryParams,v_);return wl(e),new Jr(t._repo,t._path,e,!0)}}class l0 extends us{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Oo("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new py(this._value,this._key)._apply(new pw(this._value,this._key)._apply(t))}}function Bs(n,...t){let e=(0,U.m9)(n);for(const r of t)e=r._apply(e);return e}(function AI(n){(0,U.hu)(!$p,"__referenceConstructor has already been defined"),$p=n})(cs),function $C(n){(0,U.hu)(!ju,"__referenceConstructor has already been defined"),ju=n}(cs);const fg={};function pg(n,t,e,r,o){let l=r||n.options.databaseURL;void 0===l&&(n.options.projectId||Ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),or("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let y,D,h=ay(l,o),g=h.repoInfo;typeof process<"u"&&process.env&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(y=!0,l=`http://${D}?ns=${g.namespace}`,h=ay(l,o),g=h.repoInfo):y=!h.repoInfo.secure;const N=o&&y?new cp(cp.OWNER):new AE(n.name,n.options,t);sw("Invalid Firebase Database URL",h),Ut(h.path)||Ai("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function u0(n,t,e,r){let o=fg[t.name];o||(o={},fg[t.name]=o);let l=o[n.toURLString()];return l&&Ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new pT(n,false,e,r),o[n.toURLString()]=l,l}(g,n,N,new TE(n.name,e));return new _y(O,n)}class _y{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function gT(n,t,e){if(n.stats_=pp(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Np(n.repoInfo_,(r,o,l,h)=>{X_(n,r,o,l,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Oh(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Lu(n.repoInfo_,t,(r,o,l,h)=>{X_(n,r,o,l,h)},r=>{Oh(n,r)},r=>{!function ow(n,t){pr(t,(e,r)=>{ng(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function iT(n,t){const e=n.toString();return r_[e]||(r_[e]=t()),r_[e]}(n.repoInfo_,()=>new uI(n.stats_,n.server_)),n.infoData_=new fC,n.infoSyncTree_=new WC({startListening:(r,o,l,h)=>{let g=[];const y=n.infoData_.getNode(r._path);return y.isEmpty()||(g=$u(n.infoSyncTree_,r._path,y),setTimeout(()=>{h("ok")},0)),g},stopListening:()=>{}}),ng(n,"connected",!1),n.serverSyncTree_=new WC({startListening:(r,o,l,h)=>(n.server_.listen(r,l,o,(g,y)=>{const D=h(g,y);as(n.eventQueue_,r._path,D)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,en())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function gy(n,t){const e=fg[t];(!e||e[n.key]!==n)&&Ai(`Database ${t}(${n.repoInfo_}) has already been deleted.`),zI(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ai("Cannot call "+t+" on a deleted database.")}}function Vh(){i_.IS_TRANSPORT_INITIALIZED&&wr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ST(){Vh(),fl.forceDisallow()}function TT(){Vh(),yc.forceDisallow(),fl.forceAllow()}function AT(n=(0,Ro.getApp)(),t){const e=(0,Ro._getProvider)(n,"database").getImmediate({identifier:t}),r=(0,U.P0)("database");return r&&d0(e,...r),e}function d0(n,t,e,r={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ai("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new cp(cp.OWNER);else if(r.mockUserToken){const h="string"==typeof r.mockUserToken?r.mockUserToken:(0,U.Sg)(r.mockUserToken,n.app.options.projectId);l=new cp(h)}!function yw(n,t,e,r){n.repoInfo_=new hp(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(o,t,e,l)}function f0(n,t){nh(n,t)}const g0={".sv":"timestamp"};class ww{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Lu.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Lu.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function p0(n){qm(Ro.SDK_VERSION),(0,Ro._registerComponent)(new ns.wA("database",(t,{instanceIdentifier:e})=>pg(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ro.registerVersion)(Km,Zm,n),(0,Ro.registerVersion)(Km,Zm,"esm2017")}();const bw=new eh.Yd("@firebase/database-compat"),gg=function(n){bw.warn("FIREBASE WARNING: "+n)};class MT{constructor(t){this._delegate=t}cancel(t){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(t,e);return r&&o.then(()=>r(null),l=>r(l)),o}update(t,e){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,gg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),o=>e(o)),r}}class OT{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Il{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ku("DataSnapshot.child","path",t,!1),new Il(this._database,this._delegate.child(t))}hasChild(t){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ku("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Il(this._database,e)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new Oi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Rr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,o){var l;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",e,!1);const h=Rr.getCancelAndContextArgs_("Query.on",r,o),g=(D,N)=>{e.call(h.context,new Il(this.database,D),N)};g.userCallback=e,g.context=h.context;const y=null===(l=h.cancel)||void 0===l?void 0:l.bind(h.context);switch(t){case"value":return lg(this._delegate,g,y),e;case"child_added":return t0(this._delegate,g,y),e;case"child_removed":return hy(this._delegate,g,y),e;case"child_changed":return cg(this._delegate,g,y),e;case"child_moved":return dy(this._delegate,g,y),e;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,U.Wj)("Query.off","callback",e,!0),(0,U.lb)("Query.off","context",r,!0),e){const o=()=>{};o.userCallback=e,o.context=r,fy(this._delegate,t,o)}else fy(this._delegate,t)}get(){return hw(this._delegate).then(t=>new Il(this.database,t))}once(t,e,r,o){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",e,!0);const l=Rr.getCancelAndContextArgs_("Query.once",r,o),h=new U.BH,g=(D,N)=>{const O=new Il(this.database,D);e&&e.call(l.context,O,N),h.resolve(O)};g.userCallback=e,g.context=l.context;const y=D=>{l.cancel&&l.cancel.call(l.context,D),h.reject(D)};switch(t){case"value":lg(this._delegate,g,y,{onlyOnce:!0});break;case"child_added":t0(this._delegate,g,y,{onlyOnce:!0});break;case"child_removed":hy(this._delegate,g,y,{onlyOnce:!0});break;case"child_changed":cg(this._delegate,g,y,{onlyOnce:!0});break;case"child_moved":dy(this._delegate,g,y,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new Rr(this.database,Bs(this._delegate,function vT(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new r0(n)}(t)))}limitToLast(t){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new Rr(this.database,Bs(this._delegate,function _w(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ET(n)}(t)))}orderByChild(t){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new Rr(this.database,Bs(this._delegate,function o0(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ku("orderByChild","path",n,!1),new s0(n)}(t)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new Rr(this.database,Bs(this._delegate,function CT(){return new a0}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new Rr(this.database,Bs(this._delegate,function bT(){return new wT}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new Rr(this.database,Bs(this._delegate,function IT(){return new DT}()))}startAt(t=null,e){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new Rr(this.database,Bs(this._delegate,function gw(n=null,t){return Gu("startAt","key",t,!0),new pw(n,t)}(t,e)))}startAfter(t=null,e){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new Rr(this.database,Bs(this._delegate,function n0(n,t){return Gu("startAfter","key",t,!0),new mw(n,t)}(t,e)))}endAt(t=null,e){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new Rr(this.database,Bs(this._delegate,function ug(n,t){return Gu("endAt","key",t,!0),new py(n,t)}(t,e)))}endBefore(t=null,e){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new Rr(this.database,Bs(this._delegate,function fw(n,t){return Gu("endBefore","key",t,!0),new dg(n,t)}(t,e)))}equalTo(t,e){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new Rr(this.database,Bs(this._delegate,function hg(n,t){return Gu("equalTo","key",t,!0),new l0(n,t)}(t,e)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Rr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const o={cancel:void 0,context:void 0};if(e&&r)o.cancel=e,(0,U.Wj)(t,"cancel",o.cancel,!0),o.context=r,(0,U.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,U.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Oi(this.database,new cs(this._delegate._repo,this._delegate._path))}}class Oi extends Rr{constructor(t,e){super(t,new Jr(e._repo,e._path,new Op,!1)),this.database=t,this._delegate=e}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Oi(this.database,Aa(this._delegate,t))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Oi(this.database,t):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new Oi(this.database,this._delegate.root)}set(t,e){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",e,!0);const r=uy(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}update(t,e){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,gg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}os("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",e,!0);const r=e0(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function XI(n,t,e){if(os("setWithPriority",n._path),Oo("setWithPriority",t,n._path,!1),eg("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new U.BH;return rg(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&o.then(()=>r(null),l=>r(l)),o}remove(t){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",t,!0);const e=function yT(n){return os("remove",n._path),uy(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,U.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function m0(n,t,e){var r;if(n=(0,U.m9)(n),os("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(r=e?.applyLocally)||void 0===r||r,l=new U.BH,g=lg(n,()=>{});return function GI(n,t,e,r,o,l){Nh(n,"transaction on "+t);const h={path:t,update:e,onComplete:r,status:null,order:Ym(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=ry(n,t,void 0);h.currentInputSnapshot=g;const y=h.update(g.val());if(void 0===y)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{Rh("transaction failed: Data returned ",y,h.path),h.status=0;const D=Ih(n.transactionQueueTree_,t),N=Pc(D)||[];let O;N.push(h),Qp(D,N),"object"==typeof y&&null!==y&&(0,U.r3)(y,".priority")?(O=(0,U.DV)(y,".priority"),(0,U.hu)(zu(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(wh(n.serverSyncTree_,t)||Pt.EMPTY_NODE).getPriority().val();const W=tg(n),te=Hn(y,O),de=Wu(te,g,W);h.currentOutputSnapshotRaw=te,h.currentOutputSnapshotResolved=de,h.currentWriteId=ey(n);const xe=z_(n.serverSyncTree_,t,de,h.currentWriteId,h.applyLocally);as(n.eventQueue_,t,xe),iy(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(y,D,N)=>{let O=null;y?l.reject(y):(O=new Sa(N,new cs(n._repo,n._path),Sn),l.resolve(new ww(D,O)))},g,o),l.promise}(this._delegate,t,{applyLocally:r}).then(l=>new OT(l.committed,new Il(this.database,l.snapshot)));return e&&o.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),o}setPriority(t,e){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",e,!0);const r=function JI(n,t){n=(0,U.m9)(n),os("setPriority",n._path),eg("setPriority",t,!1);const e=new U.BH;return rg(n._repo,xn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}push(t,e){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",e,!0);const r=function QI(n,t){n=(0,U.m9)(n),os("push",n._path),Oo("push",t,n._path,!0);const e=Mh(n._repo),r=aT(e),o=Aa(n,r),l=Aa(n,r);let h;return h=null!=t?uy(l,t).then(()=>l):Promise.resolve(l),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,t),o=r.then(h=>new Oi(this.database,h));e&&o.then(()=>e(null),h=>e(h));const l=new Oi(this.database,r);return l.then=o.then.bind(o),l.catch=o.catch.bind(o,void 0),l}onDisconnect(){return os("Reference.onDisconnect",this._delegate._path),new MT(new dw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mg{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ST,forceLongPolling:TT}}useEmulator(t,e,r={}){d0(this._delegate,t,e,r)}ref(t){if((0,U.Dv)("database.ref",0,1,arguments.length),t instanceof Oi){const e=cy(this._delegate,t.toString());return new Oi(this,e)}{const e=Ta(this._delegate,t);return new Oi(this,e)}}refFromURL(t){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const r=cy(this._delegate,t);return new Oi(this,r)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function vw(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),zI(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function h0(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function _T(n){n.persistentConnection_&&n.persistentConnection_.resume(HI)}(n._repo)}(this._delegate)}}mg.ServerValue={TIMESTAMP:function Ew(){return g0}(),increment:n=>function Cw(n){return{".sv":{increment:n}}}(n)};var xT=Object.freeze({__proto__:null,initStandalone:function NT({app:n,url:t,version:e,customAuthImpl:r,namespace:o,nodeAdmin:l=!1}){qm(e);const h=new ns.zt("auth-internal",new ns.H0("database-standalone"));return h.setComponent(new ns.wA("auth-internal",()=>r,"PRIVATE")),{instance:new mg(pg(n,h,void 0,t,l),n),namespace:o}}});const kT=mg.ServerValue;!function LT(n){n.INTERNAL.registerComponent(new ns.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new mg(o,r)},"PUBLIC").setServiceProps({Reference:Oi,Query:Rr,Database:mg,DataSnapshot:Il,enableLogging:f0,INTERNAL:xT,ServerValue:kT}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(Au.Z);var _g=L(5363),FT=L(6063);class VT extends Kt.x{constructor(t=1/0,e=1/0,r=FT.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;e||(r.push(t),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!t.closed;h+=r?1:2)t.next(l[h]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=e.now();let g=0;for(let y=1;y<r.length&&r[y]<=h;y+=2)g=y;g&&r.splice(0,g+1)}}}function E0(n,t,e){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):r=n??1/0,(0,Jd.B)({connector:()=>new VT(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function C0(n,t){return(0,$i.m)(t)?On(()=>n,t):On(()=>n)}var Dw=L(9468),Nc=L(5867);class i{constructor(t){return t}}class s{constructor(){return(0,Nc.C6)()}}const d=new u.OlP("angularfire2._apps"),f={provide:i,useFactory:function c(n){return n&&1===n.length?n[0]:new i((0,Nc.Mq)())},deps:[[new u.FiY,d]]},_={provide:s,deps:[[new u.FiY,d]]};function E(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new i(r)}}let w=(()=>{class n{constructor(e){(0,Nc.KN)("angularfire",rn.q4.full,"core"),(0,Nc.KN)("angularfire",rn.q4.full,"app"),(0,Nc.KN)("angular",u.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[f,_]}),n})();function S(n,...t){return{ngModule:w,providers:[{provide:d,useFactory:E(n),multi:!0,deps:[u.R0b,u.zs3,rn.HU,...t]}]}}const ie=(0,rn.u3)(Nc.ZF,!0),tt=new Map,mt={activated:!1,tokenObservers:[]},Me={initialized:!1,enabled:!1};function nt(n){return tt.get(n)||Object.assign({},mt)}function bn(){return Me}class by{constructor(t,e,r,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,fi.Z)(function*(){e.stop();try{e.pending=new U.BH,yield function Dy(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new U.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Pr=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function UT(n){if(!nt(n).activated)throw Pr.create("use-before-activation",{appName:n.name})}function b0(n,t){return D0.apply(this,arguments)}function D0(){return(D0=(0,fi.Z)(function*({url:n,body:t},e){var r,o;const l={"Content-Type":"application/json"},h=e.getImmediate({optional:!0});if(h){const te=yield h.getHeartbeatsHeader();te&&(l["X-Firebase-Client"]=te)}const g={method:"POST",body:JSON.stringify(t),headers:l};let y,D;try{y=yield fetch(n,g)}catch(te){throw Pr.create("fetch-network-error",{originalErrorMessage:null===(r=te)||void 0===r?void 0:r.message})}if(200!==y.status)throw Pr.create("fetch-status-error",{httpStatus:y.status});try{D=yield y.json()}catch(te){throw Pr.create("fetch-parse-error",{originalErrorMessage:null===(o=te)||void 0===o?void 0:o.message})}const N=D.ttl.match(/^([\d.]+)(s)$/);if(!N||!N[2]||isNaN(Number(N[1])))throw Pr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${D.ttl}`});const O=1e3*Number(N[1]),W=Date.now();return{token:D.token,expireTimeMillis:W+O,issuedAtTimeMillis:W}})).apply(this,arguments)}function aP(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const Sy="firebase-app-check-store";let Tw=null;function HT(){return Tw||(Tw=new Promise((n,t)=>{var e;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var l;t(Pr.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Sy,{keyPath:"compositeKey"})}}catch(r){t(Pr.create("storage-open",{originalErrorMessage:null===(e=r)||void 0===e?void 0:e.message}))}}),Tw)}function I0(){return(I0=(0,fi.Z)(function*(n,t){const r=(yield HT()).transaction(Sy,"readwrite"),l=r.objectStore(Sy).put({compositeKey:n,value:t});return new Promise((h,g)=>{l.onsuccess=y=>{h()},r.onerror=y=>{var D;g(Pr.create("storage-set",{originalErrorMessage:null===(D=y.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Ty=new eh.Yd("@firebase/app-check");function A0(n,t){return(0,U.hl)()?function dP(n,t){return function jT(n,t){return I0.apply(this,arguments)}(function WT(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ty.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function zT(){return bn().enabled}function GT(){return P0.apply(this,arguments)}function P0(){return(P0=(0,fi.Z)(function*(){const n=bn();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _P={error:"UNKNOWN_ERROR"};function yP(n){return U.US.encodeString(JSON.stringify(n),!1)}function Aw(n){return M0.apply(this,arguments)}function M0(){return(M0=(0,fi.Z)(function*(n,t=!1){const e=n.app;UT(e);const r=nt(e);let l,o=r.token;if(o&&!vg(o)&&(r.token=void 0,o=void 0),!o){const y=yield r.cachedTokenPromise;y&&(vg(y)?o=y:yield A0(e,void 0))}if(!t&&o&&vg(o))return{token:o.token};let g,h=!1;if(zT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=b0(aP(e,yield GT()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),h=!0);const y=yield r.exchangeTokenPromise;return yield A0(e,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),h=!0),o=yield nt(e).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Ty.warn(y.message):Ty.error(y),l=y}return o?l?g=vg(o)?{token:o.token,internalError:l}:qT(l):(g={token:o.token},r.token=o,yield A0(e,o)):g=qT(l),h&&ZT(e,g),g})).apply(this,arguments)}function N0(n,t){const e=nt(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function KT(n){const{app:t}=n,e=nt(t);let r=e.tokenRefresher;r||(r=function vP(n){const{app:t}=n;return new by((0,fi.Z)(function*(){let r;if(r=nt(t).token?yield Aw(n,!0):yield Aw(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=nt(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function ZT(n,t){const e=nt(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function vg(n){return n.expireTimeMillis-Date.now()>0}function qT(n){return{token:yP(_P),error:n}}class EP{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=nt(this.app);for(const e of t)N0(this.app,e.next);return Promise.resolve()}}const rA="app-check-internal";!function xP(){(0,Ro._registerComponent)(new ns.wA("app-check",n=>function CP(n,t){return new EP(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(rA).initialize()})),(0,Ro._registerComponent)(new ns.wA(rA,n=>function wP(n){return{getToken:t=>Aw(n,t),addTokenListener:t=>function O0(n,t,e,r){const{app:o}=n,l=nt(o);if(l.tokenObservers=[...l.tokenObservers,{next:e,error:r,type:t}],l.token&&vg(l.token)){const g=l.token;Promise.resolve().then(()=>{e({token:g.token}),KT(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>KT(n))}(n,"INTERNAL",t),removeTokenListener:t=>N0(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ro.registerVersion)("@firebase/app-check","0.5.17")}();class Ay{constructor(){return(0,rn.vb)("app-check")}}typeof window<"u"&&window;const sA=new u.OlP("angularfire2.auth.use-emulator"),oA=new u.OlP("angularfire2.auth.settings"),aA=new u.OlP("angularfire2.auth.tenant-id"),lA=new u.OlP("angularfire2.auth.langugage-code"),cA=new u.OlP("angularfire2.auth.use-device-language"),uA=new u.OlP("angularfire.auth.persistence"),dA=(n,t,e,r,o,l,h,g)=>(0,Hr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=t.runOutsideAngular(()=>n.auth());if(e&&y.useEmulator(...e),r&&(y.tenantId=r),y.languageCode=o,l&&y.useDeviceLanguage(),h)for(const[D,N]of Object.entries(h))y.settings[D]=N;return g&&y.setPersistence(g),y},[e,r,o,l,h,g]);let hA=(()=>{class n{constructor(e,r,o,l,h,g,y,D,N,O,W,te){const de=new Kt.x,xe=it(void 0).pipe((0,_g.Q)(h.outsideAngular),On(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5881)))),(0,ut.U)(()=>(0,Hr.on)(e,l,r)),(0,ut.U)(je=>dA(je,l,g,D,N,O,y,W)),E0({bufferSize:1,refCount:!1}));if(function Ho(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=it(null);else{xe.pipe(Q()).subscribe();const yt=xe.pipe(On(xt=>xt.getRedirectResult().then(Mr=>Mr,()=>null)),rn.iC,E0({bufferSize:1,refCount:!1})),Tt=xe.pipe(On(xt=>new Zn.y(Mr=>({unsubscribe:l.runOutsideAngular(()=>xt.onAuthStateChanged(Wr=>Mr.next(Wr),Wr=>Mr.error(Wr),()=>Mr.complete()))})))),qt=xe.pipe(On(xt=>new Zn.y(Mr=>({unsubscribe:l.runOutsideAngular(()=>xt.onIdTokenChanged(Wr=>Mr.next(Wr),Wr=>Mr.error(Wr),()=>Mr.complete()))}))));this.authState=yt.pipe(C0(Tt),(0,Dw.R)(h.outsideAngular),(0,_g.Q)(h.insideAngular)),this.user=yt.pipe(C0(qt),(0,Dw.R)(h.outsideAngular),(0,_g.Q)(h.insideAngular)),this.idToken=this.user.pipe(On(xt=>xt?(0,mn.D)(xt.getIdToken()):it(null))),this.idTokenResult=this.user.pipe(On(xt=>xt?(0,mn.D)(xt.getIdTokenResult()):it(null))),this.credential=(0,Ls.T)(yt,de,this.authState.pipe(ui(xt=>!xt))).pipe((0,ut.U)(xt=>xt?.user?xt:null),(0,Dw.R)(h.outsideAngular),(0,_g.Q)(h.insideAngular))}return(0,Hr.pX)(this,xe,l,{spy:{apply:(je,yt,Tt)=>{(je.startsWith("signIn")||je.startsWith("createUser"))&&Tt.then(qt=>de.next(qt))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Hr.Dh),u.LFG(Hr.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(rn.HU),u.LFG(sA,8),u.LFG(oA,8),u.LFG(aA,8),u.LFG(lA,8),u.LFG(cA,8),u.LFG(uA,8),u.LFG(Ay,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function fA(n){return null==n}function pA(n){return"function"==typeof n.set}function gA(n,t){return pA(t)?t:n.ref(t)}function mA(n,t){if(function BP(n){return"string"==typeof n}(n))return t.stringCase();if(pA(n))return t.firebaseCase();if(function HP(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Ry(n,t,e="on",r=fr.z){return new Zn.y(o=>{let l=null;return l=n[e](t,(h,g)=>{r.schedule(()=>{o.next({snapshot:h,prevKey:g})}),"once"===e&&r.schedule(()=>o.complete())},h=>{r.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,ut.U)(o=>{const{snapshot:l,prevKey:h}=o;let g=null;return l.exists()&&(g=l.key),{type:t,payload:l,prevKey:h,key:g}}),(0,Jd.B)())}function _A(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function WP(n,t){const{payload:e,prevKey:r,key:o}=t,l=_A(n,o),h=function $P(n,t){if(fA(t))return 0;{const e=_A(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let g=null;t.payload.forEach(y=>{const D={payload:y,type:"value",prevKey:g,key:y.key};return g=y.key,n=[...n,D],!1})}return n;case"child_added":if(l>-1){const g=n[l-1];(g&&g.key||null)!==r&&(n=n.filter(y=>y.payload.key!==e.key)).splice(h,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(g=>g.payload.key!==e.key);case"child_changed":return n.map(g=>g.payload.key===o?t:g);case"child_moved":if(l>-1){const g=n.splice(l,1)[0];return(n=n.slice()).splice(h,0,g),n}return n;default:return n}}function yA(n){return(fA(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function vA(n,t,e){return function jP(n,t,e){return Ry(n,"value","once",e).pipe(On(r=>{const o=[it(r)];return t.forEach(l=>o.push(Ry(n,l,"on",e))),(0,Ls.T)(...o).pipe(wt(WP,[]))}),function ts(n,t=ji.y){return n=n??Gm,(0,cn.e)((e,r)=>{let o,l=!0;e.subscribe((0,Cn.x)(r,h=>{const g=t(h);(l||!n(o,g))&&(l=!1,o=g,r.next(h))}))})}())}(n,t=yA(t),e)}function EA(n,t,e){const r=(t=yA(t)).map(o=>Ry(n,o,"on",e));return(0,Ls.T)(...r)}function CA(n,t){return function(r,o){return mA(r,{stringCase:()=>n.child(r)[t](o),firebaseCase:()=>r[t](o),snapshotCase:()=>r.ref[t](o)})}}function ZP(n){return function(e){return e?mA(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function wA(n,t){return function(){return Ry(n,"value","on",t)}}const QP=new u.OlP("angularfire2.realtimeDatabaseURL"),JP=new u.OlP("angularfire2.database.use-emulator");let Eg=(()=>{class n{constructor(e,r,o,l,h,g,y,D,N,O,W,te,de,xe,je){this.schedulers=g;const yt=y,Tt=(0,Hr.on)(e,h,r);D&&dA(Tt,h,N,W,te,de,O,xe),this.database=(0,Hr.cc)(`${Tt.name}.database.${o}`,"AngularFireDatabase",Tt.name,()=>{const qt=h.runOutsideAngular(()=>Tt.database(o||void 0));return yt&&qt.useEmulator(...yt),qt},[yt])}list(e,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>gA(this.database,e));let l=o;return r&&(l=r(o)),function qP(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:CA(r,"update"),set:CA(r,"set"),push:o=>r.push(o),remove:ZP(r),snapshotChanges:o=>vA(n,o,e).pipe(rn.iC),stateChanges:o=>EA(n,o,e).pipe(rn.iC),auditTrail:o=>function zP(n,t,e){return function KP(n,t,e){return function GP(n,t){return Ry(n,"value","on",t).pipe((0,ut.U)(e=>{let r;return e.payload.forEach(o=>(r=o.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function Su(...n){const t=(0,ai.jO)(n);return(0,cn.e)((e,r)=>{const o=n.length,l=new Array(o);let h=n.map(()=>!1),g=!1;for(let y=0;y<o;y++)(0,ci.Xf)(n[y]).subscribe((0,Cn.x)(r,D=>{l[y]=D,!g&&!h[y]&&(h[y]=!0,(g=h.every(ji.y))&&(h=null))},fc.Z));e.subscribe((0,Cn.x)(r,y=>{if(g){const D=[y,...l];r.next(t?t(...D):D)}}))})}(t),(0,ut.U)(([o,l])=>{const h=o.lastKeyToLoad,g=l.map(y=>y.key);return{actions:l,lastKeyToLoad:h,loadedKeys:g}}),function Tu(n){return(0,cn.e)((t,e)=>{let r=!1,o=0;t.subscribe((0,Cn.x)(e,l=>(r||(r=!n(l,o++)))&&e.next(l)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,ut.U)(o=>o.actions))}(n,EA(n,t).pipe(wt((o,l)=>[...o,l],[])),e)}(n,o,e).pipe(rn.iC),valueChanges:(o,l)=>vA(n,o,e).pipe((0,ut.U)(g=>g.map(y=>l&&l.idField?Object.assign(Object.assign({},y.payload.val()),{[l.idField]:y.key}):y.payload.val())),rn.iC)}}(l,this)}object(e){return function YP(n,t){return{query:n,snapshotChanges:()=>wA(n,t.schedulers.outsideAngular)().pipe(rn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>wA(n,t.schedulers.outsideAngular)().pipe(rn.iC,(0,ut.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>gA(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Hr.Dh),u.LFG(Hr.xv,8),u.LFG(QP,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(rn.HU),u.LFG(JP,8),u.LFG(hA,8),u.LFG(sA,8),u.LFG(oA,8),u.LFG(aA,8),u.LFG(lA,8),u.LFG(cA,8),u.LFG(uA,8),u.LFG(Ay,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XP=(()=>{class n{constructor(){ks.Z.registerVersion("angularfire",rn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Eg]}),n})(),eM=(()=>{class n{constructor(e){this.db=e,this.DaysOffList=e.list("daysOff")}getDaysOff(){return this.db.list("daysOff").snapshotChanges()}addUser(e,r){this.DaysOffList.push(new Qd(e,r))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Eg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gr=(()=>{class n{static addClass(e,r){e.classList?e.classList.add(r):e.className+=" "+r}static addMultipleClasses(e,r){if(e.classList){let o=r.trim().split(" ");for(let l=0;l<o.length;l++)e.classList.add(o[l])}else{let o=r.split(" ");for(let l=0;l<o.length;l++)e.className+=" "+o[l]}}static removeClass(e,r){e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,r){return e.classList?e.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(r){return r!==e})}static find(e,r){return Array.from(e.querySelectorAll(r))}static findSingle(e,r){return e?e.querySelector(r):null}static index(e){let r=e.parentNode.childNodes,o=0;for(var l=0;l<r.length;l++){if(r[l]==e)return o;1==r[l].nodeType&&o++}return-1}static indexWithinGroup(e,r){let o=e.parentNode?e.parentNode.childNodes:[],l=0;for(var h=0;h<o.length;h++){if(o[h]==e)return l;o[h].attributes&&o[h].attributes[r]&&1==o[h].nodeType&&l++}return-1}static relativePosition(e,r){let o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const l=r.offsetHeight,h=r.getBoundingClientRect(),g=this.getViewport();let y,D;h.top+l+o.height>g.height?(y=-1*o.height,e.style.transformOrigin="bottom",h.top+y<0&&(y=-1*h.top)):(y=l,e.style.transformOrigin="top"),D=o.width>g.width?-1*h.left:h.left+o.width>g.width?-1*(h.left+o.width-g.width):0,e.style.top=y+"px",e.style.left=D+"px"}static absolutePosition(e,r){let te,de,o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),l=o.height,h=o.width,g=r.offsetHeight,y=r.offsetWidth,D=r.getBoundingClientRect(),N=this.getWindowScrollTop(),O=this.getWindowScrollLeft(),W=this.getViewport();D.top+g+l>W.height?(te=D.top+N-l,e.style.transformOrigin="bottom",te<0&&(te=N)):(te=g+D.top+N,e.style.transformOrigin="top"),de=D.left+h>W.width?Math.max(0,D.left+O+y-h):D.left+O,e.style.top=te+"px",e.style.left=de+"px"}static getParents(e,r=[]){return null===e.parentNode?r:this.getParents(e.parentNode,r.concat([e.parentNode]))}static getScrollableParents(e){let r=[];if(e){let o=this.getParents(e);const l=/(auto|scroll)/,h=g=>{let y=window.getComputedStyle(g,null);return l.test(y.getPropertyValue("overflow"))||l.test(y.getPropertyValue("overflowX"))||l.test(y.getPropertyValue("overflowY"))};for(let g of o){let y=1===g.nodeType&&g.dataset.scrollselectors;if(y){let D=y.split(",");for(let N of D){let O=this.findSingle(g,N);O&&h(O)&&r.push(O)}}9!==g.nodeType&&h(g)&&r.push(g)}}return r}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementDimensions(e){let r={};return e.style.visibility="hidden",e.style.display="block",r.width=e.offsetWidth,r.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",r}static scrollInView(e,r){let o=getComputedStyle(e).getPropertyValue("borderTopWidth"),l=o?parseFloat(o):0,h=getComputedStyle(e).getPropertyValue("paddingTop"),g=h?parseFloat(h):0,y=e.getBoundingClientRect(),N=r.getBoundingClientRect().top+document.body.scrollTop-(y.top+document.body.scrollTop)-l-g,O=e.scrollTop,W=e.clientHeight,te=this.getOuterHeight(r);N<0?e.scrollTop=O+N:N+te>W&&(e.scrollTop=O+N-W+te)}static fadeIn(e,r){e.style.opacity=0;let o=+new Date,l=0,h=function(){l=+e.style.opacity.replace(",",".")+((new Date).getTime()-o)/r,e.style.opacity=l,o=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(h)||setTimeout(h,16))};h()}static fadeOut(e,r){var o=1,g=50/r;let y=setInterval(()=>{(o-=g)<=0&&(o=0,clearInterval(y)),e.style.opacity=o},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,r){var o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(h){return-1!==[].indexOf.call(document.querySelectorAll(h),this)}).call(e,r)}static getOuterWidth(e,r){let o=e.offsetWidth;if(r){let l=getComputedStyle(e);o+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return o}static getHorizontalPadding(e){let r=getComputedStyle(e);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(e){let r=getComputedStyle(e);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(e){let r=e.offsetWidth,o=getComputedStyle(e);return r+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static width(e){let r=e.offsetWidth,o=getComputedStyle(e);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static getInnerHeight(e){let r=e.offsetHeight,o=getComputedStyle(e);return r+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),r}static getOuterHeight(e,r){let o=e.offsetHeight;if(r){let l=getComputedStyle(e);o+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return o}static getHeight(e){let r=e.offsetHeight,o=getComputedStyle(e);return r-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),r}static getWidth(e){let r=e.offsetWidth,o=getComputedStyle(e);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),r}static getViewport(){let e=window,r=document,o=r.documentElement,l=r.getElementsByTagName("body")[0];return{width:e.innerWidth||o.clientWidth||l.clientWidth,height:e.innerHeight||o.clientHeight||l.clientHeight}}static getOffset(e){var r=e.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,r){let o=e.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(r,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,r){if(this.isElement(r))r.appendChild(e);else{if(!r.el||!r.el.nativeElement)throw"Cannot append "+r+" to "+e;r.el.nativeElement.appendChild(e)}}static removeChild(e,r){if(this.isElement(r))r.removeChild(e);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+e+" from "+r;r.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let r=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let o=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let r=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(e,r,o){e[r].apply(e,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let r=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),o=[];for(let l of r)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&o.push(l);return o}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class bA{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=gr.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let tM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Bo]}),n})(),rM=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,gr.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&gr.addClass(e,r);let o=this.getIconClass();o&&gr.addMultipleClasses(e,o);let l=gr.findSingle(this.el.nativeElement,".p-button-label");l?this.el.nativeElement.insertBefore(e,l):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=gr.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=gr.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(gr.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),iM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Bo,tM]}),n})(),DA=(()=>{class n{constructor(e,r,o){this.el=e,this.ngModel=r,this.cd=o}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Kf,8),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,r){1&e&&u.NdJ("input",function(l){return r.onInput(l)}),2&e&&u.ekj("p-filled",r.filled)}}),n})(),IA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Bo]}),n})();class SA{}const xc="*";function oM(n,t){return{type:7,name:n,definitions:t,options:{}}}function TA(n,t=null){return{type:4,styles:t,timings:n}}function AA(n,t=null){return{type:2,steps:n,options:t}}function Pw(n){return{type:6,styles:n,offset:null}}function RA(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function PA(n){Promise.resolve().then(n)}class Py{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){PA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class MA{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const l=this.players.length;0==l?PA(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,g)=>Math.max(h,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}let mi=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),aM=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[mi.STARTS_WITH,mi.CONTAINS,mi.NOT_CONTAINS,mi.ENDS_WITH,mi.EQUALS,mi.NOT_EQUALS],numeric:[mi.EQUALS,mi.NOT_EQUALS,mi.LESS_THAN,mi.LESS_THAN_OR_EQUAL_TO,mi.GREATER_THAN,mi.GREATER_THAN_OR_EQUAL_TO],date:[mi.DATE_IS,mi.DATE_IS_NOT,mi.DATE_BEFORE,mi.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Kt.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mw=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),lM=(()=>{class n{constructor(){this.clickSource=new Kt.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cM=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),uM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Bo]}),n})();var U0=function dM(){let n=[];const o=l=>l&&parseInt(l.style.zIndex,10)||0;return{get:o,set:(l,h,g)=>{h&&(h.style.zIndex=String(((l,h)=>{let g=n.length>0?n[n.length-1]:{key:l,value:h},y=g.value+(g.key===l?0:h)+1;return n.push({key:l,value:y}),y})(l,g)))},clear:l=>{l&&((l=>{n=n.filter(h=>h.value!==l)})(o(l)),l.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const hM=["input"];function fM(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"i",5),u.NdJ("click",function(){u.CHM(e);const o=u.oxw();return u.KtG(o.clear())}),u.qZA()}}function pM(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"i",6),u.NdJ("click",function(){u.CHM(e);const o=u.oxw();return u.KtG(o.onMaskToggle())}),u.qZA()}if(2&n){const e=u.oxw();u.Q6J("ngClass",e.toggleIconClass())}}function gM(n,t){1&n&&u.GkF(0)}function mM(n,t){1&n&&u.GkF(0)}function _M(n,t){if(1&n&&(u.ynx(0),u.YNc(1,mM,1,0,"ng-container",8),u.BQk()),2&n){const e=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",e.contentTemplate)}}const yM=function(n){return{width:n}};function vM(n,t){if(1&n&&(u.TgZ(0,"div",11),u._UZ(1,"div",0),u.qZA(),u.TgZ(2,"div",12),u._uU(3),u.qZA()),2&n){const e=u.oxw(2);u.xp6(1),u.Q6J("ngClass",e.strengthClass())("ngStyle",u.VKq(3,yM,e.meter?e.meter.width:"")),u.xp6(2),u.Oqu(e.infoText)}}function EM(n,t){1&n&&u.GkF(0)}const CM=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},wM=function(n){return{value:"visible",params:n}};function bM(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",6,7),u.NdJ("click",function(o){u.CHM(e);const l=u.oxw();return u.KtG(l.onOverlayClick(o))})("@overlayAnimation.start",function(o){u.CHM(e);const l=u.oxw();return u.KtG(l.onAnimationStart(o))})("@overlayAnimation.done",function(o){u.CHM(e);const l=u.oxw();return u.KtG(l.onAnimationEnd(o))}),u.YNc(2,gM,1,0,"ng-container",8),u.YNc(3,_M,2,1,"ng-container",9),u.YNc(4,vM,4,5,"ng-template",null,10,u.W1O),u.YNc(6,EM,1,0,"ng-container",8),u.qZA()}if(2&n){const e=u.MAs(5),r=u.oxw();u.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",u.VKq(9,wM,u.WLB(6,CM,r.showTransitionOptions,r.hideTransitionOptions))),u.xp6(2),u.Q6J("ngTemplateOutlet",r.headerTemplate),u.xp6(1),u.Q6J("ngIf",r.contentTemplate)("ngIfElse",e),u.xp6(3),u.Q6J("ngTemplateOutlet",r.footerTemplate)}}let DM=(()=>{class n{constructor(e,r){this.el=e,this.zone=r,this.promptLabel="Enter a password",this.weakLabel="Weak",this.mediumLabel="Medium",this.strongLabel="Strong",this.feedback=!0}set showPassword(e){this.el.nativeElement.type=e?"text":"password"}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}createPanel(){this.panel=document.createElement("div"),this.panel.className="p-password-panel p-component p-password-panel-overlay p-connected-overlay",this.meter=document.createElement("div"),this.meter.className="p-password-meter",this.info=document.createElement("div"),this.info.className="p-password-info",this.info.textContent=this.promptLabel,this.panel.appendChild(this.meter),this.panel.appendChild(this.info),this.panel.style.minWidth=gr.getOuterWidth(this.el.nativeElement)+"px",document.body.appendChild(this.panel)}showOverlay(){this.feedback&&(this.panel||this.createPanel(),this.panel.style.zIndex=String(++gr.zindex),this.panel.style.display="block",this.zone.runOutsideAngular(()=>{setTimeout(()=>{gr.addClass(this.panel,"p-connected-overlay-visible"),this.bindScrollListener(),this.bindDocumentResizeListener()},1)}),gr.absolutePosition(this.panel,this.el.nativeElement))}hideOverlay(){this.feedback&&this.panel&&(gr.addClass(this.panel,"p-connected-overlay-hidden"),gr.removeClass(this.panel,"p-connected-overlay-visible"),this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.ngOnDestroy()},150)}))}onFocus(){this.showOverlay()}onBlur(){this.hideOverlay()}onKeyup(e){if(this.feedback){let o=e.target.value,l=null,h=null;if(0===o.length)l=this.promptLabel,h="0px 0px";else{var r=this.testStrength(o);r<30?(l=this.weakLabel,h="0px -10px"):r>=30&&r<80?(l=this.mediumLabel,h="0px -20px"):r>=80&&(l=this.strongLabel,h="0px -30px")}(!this.panel||!gr.hasClass(this.panel,"p-connected-overlay-visible"))&&this.showOverlay(),this.meter.style.backgroundPosition=h,this.info.textContent=l}}testStrength(e){let o,r=0;return o=e.match("[0-9]"),r+=25*this.normalize(o?o.length:1/4,1),o=e.match("[a-zA-Z]"),r+=10*this.normalize(o?o.length:.5,3),o=e.match("[!@#$%^&*?_~.,;=]"),r+=35*this.normalize(o?o.length:1/6,1),o=e.match("[A-Z]"),r+=30*this.normalize(o?o.length:1/6,1),r*=e.length/8,r>100?100:r}normalize(e,r){return e-r<=0?e/r:1+e/(e+r/4)*.5}get disabled(){return this.el.nativeElement.disabled}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new bA(this.el.nativeElement,()=>{gr.hasClass(this.panel,"p-connected-overlay-visible")&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){gr.isTouchDevice()||this.hideOverlay()}ngOnDestroy(){this.panel&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindDocumentResizeListener(),document.body.removeChild(this.panel),this.panel=null,this.meter=null,this.info=null)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","pPassword",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,r){1&e&&u.NdJ("input",function(l){return r.onInput(l)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("keyup",function(l){return r.onKeyup(l)}),2&e&&u.ekj("p-filled",r.filled)},inputs:{promptLabel:"promptLabel",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",feedback:"feedback",showPassword:"showPassword"}}),n})();const IM={provide:qi,useExisting:(0,u.Gpc)(()=>SM),multi:!0};let SM=(()=>{class n{constructor(e,r,o,l){this.cd=e,this.config=r,this.el=o,this.overlayService=l,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new u.vpe,this.onBlur=new u.vpe,this.onClear=new u.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,U0.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(e){"void"===e.toState&&U0.clear(e.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=gr.getOuterWidth(this.input.nativeElement)+"px",gr.absolutePosition(this.overlay,this.input.nativeElement)):gr.relativePosition(this.overlay,this.input.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(e){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(e)}onKeyDown(e){"Escape"===e.key&&(this.overlayVisible=!1)}onKeyUp(e){this.feedback&&(this.updateUI(e.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(e){let r=null,o=null;switch(this.testStrength(e)){case 1:r=this.weakText(),o={strength:"weak",width:"33.33%"};break;case 2:r=this.mediumText(),o={strength:"medium",width:"66.66%"};break;case 3:r=this.strongText(),o={strength:"strong",width:"100%"};break;default:r=this.promptText(),o=null}this.meter=o,this.infoText=r}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let r=0;return this.strongCheckRegExp.test(e)?r=3:this.mediumCheckRegExp.test(e)?r=2:e.length&&(r=1),r}writeValue(e){this.value=void 0===e?null:e,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new bA(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!gr.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":this.toggleMask}}inputFieldClass(){return{"p-password-input":!0,"p-disabled":this.disabled}}toggleIconClass(){return this.unmasked?"pi pi-eye-slash":"pi pi-eye"}strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(Mw.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(Mw.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(Mw.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(Mw.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(){return this.unmasked?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(U0.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO),u.Y36(aM),u.Y36(u.SBq),u.Y36(lM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["p-password"]],contentQueries:function(e,r,o){if(1&e&&u.Suo(o,cM,4),2&e){let l;u.iGM(l=u.CRH())&&(r.templates=l)}},viewQuery:function(e,r){if(1&e&&u.Gf(hM,5),2&e){let o;u.iGM(o=u.CRH())&&(r.input=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(e,r){2&e&&u.ekj("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused)("p-password-clearable",r.showClear)("p-password-mask",r.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[u._Bn([IM])],decls:6,vars:18,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0)(1,"input",1,2),u.NdJ("input",function(l){return r.onInput(l)})("focus",function(l){return r.onInputFocus(l)})("blur",function(l){return r.onInputBlur(l)})("keyup",function(l){return r.onKeyUp(l)})("keydown",function(l){return r.onKeyDown(l)}),u.qZA(),u.YNc(3,fM,1,0,"i",3),u.YNc(4,pM,1,1,"i",4),u.YNc(5,bM,7,11,"div",4),u.qZA()),2&e&&(u.Tol(r.styleClass),u.Q6J("ngClass",r.containerClass())("ngStyle",r.style),u.xp6(1),u.Tol(r.inputStyleClass),u.Q6J("ngClass",r.inputFieldClass())("ngStyle",r.inputStyle)("value",r.value),u.uIk("label",r.label)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.inputId)("type",r.inputType())("placeholder",r.placeholder),u.xp6(2),u.Q6J("ngIf",r.showClear&&null!=r.value),u.xp6(1),u.Q6J("ngIf",r.toggleMask),u.xp6(1),u.Q6J("ngIf",r.overlayVisible))},dependencies:[Yt,Un,Ks,Ma,DA],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[oM("overlayAnimation",[RA(":enter",[Pw({opacity:0,transform:"scaleY(0.8)"}),TA("{{showTransitionParams}}")]),RA(":leave",[TA("{{hideTransitionParams}}",Pw({opacity:0}))])])]},changeDetection:0}),n})(),TM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Bo,IA,uM]}),n})(),AM=(()=>{class n{constructor(e,r,o,l){this.fb=e,this.authservice=r,this.router=o,this.daysOffService=l}ngOnInit(){this.initForm()}initForm(){this.loginForm=this.fb.group({email:new hi("",[tr.required,tr.email]),password:new hi("",[tr.required,tr.minLength(6)])})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}login(){const e=this.loginForm.get("email").value,r=this.loginForm.get("password").value;console.log(e+r),this.authservice.SignInUser(e,r).then(()=>{this.router.navigate(["/messaging"])},o=>{this.errorMessage=o,console.log(this.errorMessage)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(kD),u.Y36(es),u.Y36(Yn),u.Y36(eM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:14,vars:1,consts:[[1,"login-page"],[1,"login-form"],[3,"formGroup"],[1,"p-field"],["type","text","formControlName","email","placeholder","Email","id","email","pInputText",""],["type","password","id","password","formControlName","password","pPassword",""],[1,"butts"],["type","submit","pButton","",3,"click"],["type","submit","routerLink","/register","pButton",""]],template:function(e,r){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h2"),u._uU(3,"Login"),u.qZA(),u.TgZ(4,"form",2)(5,"div",3),u._UZ(6,"input",4),u.qZA(),u.TgZ(7,"div",3),u._UZ(8,"input",5),u.qZA(),u.TgZ(9,"div",6)(10,"button",7),u.NdJ("click",function(){return r.login()}),u._uU(11,"Login"),u.qZA(),u.TgZ(12,"button",8),u._uU(13,"Register"),u.qZA()()()()()),2&e&&(u.xp6(4),u.Q6J("formGroup",r.loginForm))},dependencies:[cl,xm,Yi,Qi,jd,Zf,Yf,rM,DA,DM],styles:[".login-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-size:cover;background-position:center}.login-form[_ngcontent-%COMP%]{width:300px;margin-top:100px;background-color:#fff8c9;border-radius:3%;box-shadow:0 0 20px #00000080;opacity:.9;display:flex;flex-direction:column;align-items:center;padding:10px;h2 {text-align: center; margin-bottom: 20px; color: #fff;} .p-field {margin-bottom: 20px; label {display: block; margin-bottom: 5px; color: #fff;} input {width: 100%; padding: 8px;}}}button[_ngcontent-%COMP%]{background-color:#beadfa;width:48%;justify-content:center;align-items:center;padding:10px;text-align:center;display:inline-block}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px}.butts[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:10px;flex-wrap:wrap}"]}),n})();var NA=L(4408);const My={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=My;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const o=t(l=>{e=void 0,n(l)});return new Wi.w0(()=>e?.(o))},requestAnimationFrame(...n){const{delegate:t}=My;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=My;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var xA=L(7565);const kA=new class PM extends xA.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;t=t||r.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw o}}}(class RM extends NA.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=My.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:l}=t;null!=e&&(null===(o=l[l.length-1])||void 0===o?void 0:o.id)!==e&&(My.cancelAnimationFrame(e),t._scheduled=void 0)}});let B0,MM=1;const Ow={};function LA(n){return n in Ow&&(delete Ow[n],!0)}const OM={setImmediate(n){const t=MM++;return Ow[t]=!0,B0||(B0=Promise.resolve()),B0.then(()=>LA(t)&&n()),t},clearImmediate(n){LA(n)}},{setImmediate:NM,clearImmediate:xM}=OM,Nw={setImmediate(...n){const{delegate:t}=Nw;return(t?.setImmediate||NM)(...n)},clearImmediate(n){const{delegate:t}=Nw;return(t?.clearImmediate||xM)(n)},delegate:void 0};new class LM extends xA.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;t=t||r.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw o}}}(class kM extends NA.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Nw.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:l}=t;null!=e&&(null===(o=l[l.length-1])||void 0===o?void 0:o.id)!==e&&(Nw.clearImmediate(e),t._scheduled=void 0)}});var UM=L(3532);function FA(n=0,t,e=fr.P){let r=-1;return null!=t&&((0,UM.K)(t)?e=t:r=t),new Zn.y(o=>{let l=function BM(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=r?this.schedule(void 0,r):o.complete())},l)})}let H0;try{H0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{H0=!1}let Oy,j0,jM=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Lr(n){return n===kr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!H0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ny(n){return function $M(){if(null==Oy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oy=!0}))}finally{Oy=Oy||!1}return Oy}()?n:!!n.capture}function UA(n){if(function WM(){if(null==j0){const n=typeof document<"u"?document.head:null;j0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return j0}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function kw(n){return n.composedPath?n.composedPath()[0]:n.target}let GM=(()=>{class n{constructor(e,r,o){this._platform=e,this._change=new Kt.x,this._changeListener=l=>{this._change.next(l)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,left:-l.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(function HM(n,t=fr.z){return function VM(n){return(0,cn.e)((t,e)=>{let r=!1,o=null,l=null,h=!1;const g=()=>{if(l?.unsubscribe(),l=null,r){r=!1;const D=o;o=null,e.next(D)}h&&e.complete()},y=()=>{l=null,h&&e.complete()};t.subscribe((0,Cn.x)(e,D=>{r=!0,o=D,l||(0,ci.Xf)(n(D)).subscribe(l=(0,Cn.x)(e,g,y))},()=>{h=!0,(!r||!l||l.closed)&&e.complete()}))})}(()=>FA(n,t))}(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(jM),u.LFG(u.R0b),u.LFG(fe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function BA(n){return null!=n&&"false"!=`${n}`}function Hs(n){return n instanceof u.SBq?n.nativeElement:n}function $0(n){return(0,cn.e)((t,e)=>{(0,ci.Xf)(n).subscribe((0,Cn.x)(e,()=>e.complete(),fc.Z)),!e.closed&&t.subscribe(e)})}const hO=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function fO(){return(0,u.f3M)(fe)}}),pO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let mO=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new u.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function gO(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?pO.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(hO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function W0(n,t,e){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];o?n.setProperty(r,o,e?.has(r)?"important":""):n.removeProperty(r)}return n}function wg(n,t){const e=t?"":"none";W0(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function WA(n,t,e){W0(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Lw(n,t){return t&&"none"!=t?n+" "+t:n}function zA(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function z0(n,t){return n.getPropertyValue(t).split(",").map(r=>r.trim())}function G0(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function K0(n,t,e){const{top:r,bottom:o,left:l,right:h}=n;return e>=r&&e<=o&&t>=l&&t<=h}function xy(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function GA(n,t,e,r){const{top:o,right:l,bottom:h,left:g,width:y,height:D}=n,N=y*t,O=D*t;return r>o-O&&r<h+O&&e>g-N&&e<l+N}class KA{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:G0(e)})})}handleScroll(t){const e=kw(t),r=this.positions.get(e);if(!r)return null;const o=r.scrollPosition;let l,h;if(e===this._document){const D=this.getViewportScrollPosition();l=D.top,h=D.left}else l=e.scrollTop,h=e.scrollLeft;const g=o.top-l,y=o.left-h;return this.positions.forEach((D,N)=>{D.clientRect&&e!==N&&e.contains(N)&&xy(D.clientRect,g,y)}),o.top=l,o.left=h,{top:g,left:y}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ZA(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();t.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return"canvas"===r?QA(n,t):("input"===r||"select"===r||"textarea"===r)&&YA(n,t),qA("canvas",n,t,QA),qA("input, textarea, select",n,t,YA),t}function qA(n,t,e,r){const o=t.querySelectorAll(n);if(o.length){const l=e.querySelectorAll(n);for(let h=0;h<o.length;h++)r(o[h],l[h])}}let yO=0;function YA(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${yO++}`)}function QA(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const JA=Ny({passive:!0}),Fw=Ny({passive:!1}),Z0=new Set(["position"]);class EO{constructor(t,e,r,o,l,h){this._config=e,this._document=r,this._ngZone=o,this._viewportRuler=l,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Kt.x,this._pointerMoveSubscription=Wi.w0.EMPTY,this._pointerUpSubscription=Wi.w0.EMPTY,this._scrollSubscription=Wi.w0.EMPTY,this._resizeSubscription=Wi.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Kt.x,this.started=new Kt.x,this.released=new Kt.x,this.ended=new Kt.x,this.entered=new Kt.x,this.exited=new Kt.x,this.dropped=new Kt.x,this.moved=this._moveEvents,this._pointerDown=g=>{if(this.beforeStarted.next(),this._handles.length){const y=this._getTargetHandle(g);y&&!this._disabledHandles.has(y)&&!this.disabled&&this._initializeDragSequence(y,g)}else this.disabled||this._initializeDragSequence(this._rootElement,g)},this._pointerMove=g=>{const y=this._getPointerPositionOnPage(g);if(!this._hasStartedDragging){if(Math.abs(y.x-this._pickupPositionOnPage.x)+Math.abs(y.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const te=Date.now()>=this._dragStartTime+this._getDragStartDelay(g),de=this._dropContainer;if(!te)return void this._endDragSequence(g);(!de||!de.isDragging()&&!de.isReceiving())&&(g.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(g)))}return}g.preventDefault();const D=this._getConstrainedPointerPosition(y);if(this._hasMoved=!0,this._lastKnownPointerPosition=y,this._updatePointerDirectionDelta(D),this._dropContainer)this._updateActiveDropContainer(D,y);else{const N=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,O=this._activeTransform;O.x=D.x-N.x+this._passiveTransform.x,O.y=D.y-N.y+this._passiveTransform.y,this._applyRootElementTransform(O.x,O.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:D,event:g,distance:this._getDragDistance(D),delta:this._pointerDirectionDelta})})},this._pointerUp=g=>{this._endDragSequence(g)},this._nativeDragStart=g=>{if(this._handles.length){const y=this._getTargetHandle(g);y&&!this._disabledHandles.has(y)&&!this.disabled&&g.preventDefault()}else this.disabled||g.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new KA(r),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=BA(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>wg(r,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(r=>Hs(r)),this._handles.forEach(r=>wg(r,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&e.add(r)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Hs(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Fw),e.addEventListener("touchstart",this._pointerDown,JA),e.addEventListener("dragstart",this._nativeDragStart,Fw)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Hs(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),wg(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),wg(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){ky(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const r=this._rootElement,o=r.parentNode,l=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),g=this._getShadowRoot();o.insertBefore(h,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),WA(r,!1,Z0),this._document.body.appendChild(o.replaceChild(l,r)),this._getPreviewInsertionPoint(o,g).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const r=this.isDragging(),o=ky(e),l=!o&&0!==e.button,h=this._rootElement,g=kw(e),y=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),D=o?function cO(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function lO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e);if(g&&g.draggable&&"mousedown"===e.type&&e.preventDefault(),r||l||y||D)return;if(this._handles.length){const W=h.style;this._rootElementTapHighlight=W.webkitTapHighlightColor||"",W.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(W=>this._updateOnScroll(W)),this._boundaryElement&&(this._boundaryRect=G0(this._boundaryElement));const N=this._previewTemplate;this._pickupPositionInElement=N&&N.template&&!N.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const O=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:O.x,y:O.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){WA(this._rootElement,!0,Z0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,r=e.getItemIndex(this),o=this._getPointerPositionOnPage(t),l=this._getDragDistance(o),h=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:l,dropPoint:o,event:t}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:l,dropPoint:o,event:t}),e.drop(this,r,this._initialIndex,this._initialContainer,h,l,o,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:r,y:o}){let l=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!l&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(l=this._initialContainer),l&&l!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=l,this._dropContainer.enter(this,t,e,l===this._initialContainer&&l.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:l,currentIndex:l.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,o),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,r=t?t.template:null;let o;if(r&&t){const l=t.matchSize?this._initialClientRect:null,h=t.viewContainer.createEmbeddedView(r,t.context);h.detectChanges(),o=eR(h,this._document),this._previewRef=h,t.matchSize?tR(o,l):o.style.transform=Vw(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=ZA(this._rootElement),tR(o,this._initialClientRect),this._initialTransform&&(o.style.transform=this._initialTransform);return W0(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Z0),wg(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(l=>o.classList.add(l)):o.classList.add(e)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function _O(n){const t=getComputedStyle(n),e=z0(t,"transition-property"),r=e.find(g=>"transform"===g||"all"===g);if(!r)return 0;const o=e.indexOf(r),l=z0(t,"transition-duration"),h=z0(t,"transition-delay");return zA(l[o])+zA(h[o])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const o=h=>{(!h||kw(h)===this._preview&&"transform"===h.propertyName)&&(this._preview?.removeEventListener("transitionend",o),r(),clearTimeout(l))},l=setTimeout(o,1.5*e);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let r;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),r=eR(this._placeholderRef,this._document)):r=ZA(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(t,e,r){const o=e===this._rootElement?null:e,l=o?o.getBoundingClientRect():t,h=ky(r)?r.targetTouches[0]:r,g=this._getViewportScrollPosition();return{x:l.left-t.left+(h.pageX-l.left-g.left),y:l.top-t.top+(h.pageY-l.top-g.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),r=ky(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,o=r.pageX-e.left,l=r.pageY-e.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const g=this._ownerSVGElement.createSVGPoint();return g.x=o,g.y=l,g.matrixTransform(h.inverse())}}return{x:o,y:l}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:o}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:l,y:h}=this._pickupPositionInElement,g=this._boundaryRect,{width:y,height:D}=this._getPreviewRect(),N=g.top+h,O=g.bottom-(D-h);r=XA(r,g.left+l,g.right-(y-l)),o=XA(o,N,O)}return{x:r,y:o}}_updatePointerDirectionDelta(t){const{x:e,y:r}=t,o=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,h=Math.abs(e-l.x),g=Math.abs(r-l.y);return h>this._config.pointerDirectionChangeThreshold&&(o.x=e>l.x?1:-1,l.x=e),g>this._config.pointerDirectionChangeThreshold&&(o.y=r>l.y?1:-1,l.y=r),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,wg(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Fw),t.removeEventListener("touchstart",this._pointerDown,JA),t.removeEventListener("dragstart",this._nativeDragStart,Fw)}_applyRootElementTransform(t,e){const r=Vw(t,e),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=Lw(r,this._initialTransform)}_applyPreviewTransform(t,e){const r=this._previewTemplate?.template?void 0:this._initialTransform,o=Vw(t,e);this._preview.style.transform=Lw(o,r)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===r.width&&0===r.height)return;const l=o.left-r.left,h=r.right-o.right,g=o.top-r.top,y=r.bottom-o.bottom;o.width>r.width?(l>0&&(t+=l),h>0&&(t-=h)):t=0,o.height>r.height?(g>0&&(e+=g),y>0&&(e-=y)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:ky(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const r=kw(t);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&xy(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=UA(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const r=this._previewContainer||"global";if("parent"===r)return t;if("global"===r){const o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return Hs(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function Vw(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function XA(n,t,e){return Math.max(t,Math.min(e,n))}function ky(n){return"t"===n.type[0]}function eR(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const r=t.createElement("div");return e.forEach(o=>r.appendChild(o)),r}function tR(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Vw(t.left,t.top)}function Ly(n,t){return Math.max(0,Math.min(t,n))}class wO{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,r,o){const l=this._itemPositions,h=this._getItemIndexFromPointerPosition(t,e,r,o);if(-1===h&&l.length>0)return null;const g="horizontal"===this.orientation,y=l.findIndex(je=>je.drag===t),D=l[h],O=D.clientRect,W=y>h?1:-1,te=this._getItemOffsetPx(l[y].clientRect,O,W),de=this._getSiblingOffsetPx(y,l,W),xe=l.slice();return function CO(n,t,e){const r=Ly(t,n.length-1),o=Ly(e,n.length-1);if(r===o)return;const l=n[r],h=o<r?-1:1;for(let g=r;g!==o;g+=h)n[g]=n[g+h];n[o]=l}(l,y,h),l.forEach((je,yt)=>{if(xe[yt]===je)return;const Tt=je.drag===t,qt=Tt?te:de,xt=Tt?t.getPlaceholderElement():je.drag.getRootElement();je.offset+=qt,g?(xt.style.transform=Lw(`translate3d(${Math.round(je.offset)}px, 0, 0)`,je.initialTransform),xy(je.clientRect,0,qt)):(xt.style.transform=Lw(`translate3d(0, ${Math.round(je.offset)}px, 0)`,je.initialTransform),xy(je.clientRect,qt,0))}),this._previousSwap.overlaps=K0(O,e,r),this._previousSwap.drag=D.drag,this._previousSwap.delta=g?o.x:o.y,{previousIndex:y,currentIndex:h}}enter(t,e,r,o){const l=null==o||o<0?this._getItemIndexFromPointerPosition(t,e,r):o,h=this._activeDraggables,g=h.indexOf(t),y=t.getPlaceholderElement();let D=h[l];if(D===t&&(D=h[l+1]),!D&&(null==l||-1===l||l<h.length-1)&&this._shouldEnterAsFirstChild(e,r)&&(D=h[0]),g>-1&&h.splice(g,1),D&&!this._dragDropRegistry.isDragging(D)){const N=D.getRootElement();N.parentElement.insertBefore(y,N),h.splice(l,0,t)}else Hs(this._element).appendChild(y),h.push(t);y.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const r=this._itemPositions.find(o=>o.drag===t)?.initialTransform;e.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:r})=>{xy(r,t,e)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const r=e.getVisibleElement();return{drag:e,offset:0,initialTransform:r.style.transform||"",clientRect:G0(r)}}).sort((e,r)=>t?e.clientRect.left-r.clientRect.left:e.clientRect.top-r.clientRect.top)}_getItemOffsetPx(t,e,r){const o="horizontal"===this.orientation;let l=o?e.left-t.left:e.top-t.top;return-1===r&&(l+=o?e.width-t.width:e.height-t.height),l}_getSiblingOffsetPx(t,e,r){const o="horizontal"===this.orientation,l=e[t].clientRect,h=e[t+-1*r];let g=l[o?"width":"height"]*r;if(h){const y=o?"left":"top",D=o?"right":"bottom";-1===r?g-=h.clientRect[y]-l[D]:g+=l[y]-h.clientRect[D]}return g}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,o="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const h=r[r.length-1].clientRect;return o?t>=h.right:e>=h.bottom}{const h=r[0].clientRect;return o?t<=h.left:e<=h.top}}_getItemIndexFromPointerPosition(t,e,r,o){const l="horizontal"===this.orientation,h=this._itemPositions.findIndex(({drag:g,clientRect:y})=>{if(g===t)return!1;if(o){const D=l?o.x:o.y;if(g===this._previousSwap.drag&&this._previousSwap.overlaps&&D===this._previousSwap.delta)return!1}return l?e>=Math.floor(y.left)&&e<Math.floor(y.right):r>=Math.floor(y.top)&&r<Math.floor(y.bottom)});return-1!==h&&this._sortPredicate(h,t)?h:-1}}class bO{constructor(t,e,r,o,l){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=l,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Kt.x,this.entered=new Kt.x,this.exited=new Kt.x,this.dropped=new Kt.x,this.sorted=new Kt.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Wi.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Kt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function dO(n=0,t=fr.z){return n<0&&(n=0),FA(n,n,t)}(0,kA).pipe($0(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,g=this.autoScrollStep;1===this._verticalScrollDirection?h.scrollBy(0,-g):2===this._verticalScrollDirection&&h.scrollBy(0,g),1===this._horizontalScrollDirection?h.scrollBy(-g,0):2===this._horizontalScrollDirection&&h.scrollBy(g,0)})},this.element=Hs(t),this._document=r,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new KA(r),this._sortStrategy=new wO(this.element,e),this._sortStrategy.withSortPredicate((h,g)=>this.sortPredicate(h,g,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,r,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,r,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,r,o,l,h,g,y={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:r,container:this,previousContainer:o,isPointerOverContainer:l,distance:h,dropPoint:g,event:y})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>-1===t.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Hs(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,r,o){if(this.sortingDisabled||!this._clientRect||!GA(this._clientRect,.05,e,r))return;const l=this._sortStrategy.sort(t,e,r,o);l&&this.sorted.next({previousIndex:l.previousIndex,currentIndex:l.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let r,o=0,l=0;if(this._parentPositions.positions.forEach((h,g)=>{g===this._document||!h.clientRect||r||GA(h.clientRect,.05,t,e)&&([o,l]=function DO(n,t,e,r){const o=iR(t,r),l=sR(t,e);let h=0,g=0;if(o){const y=n.scrollTop;1===o?y>0&&(h=1):n.scrollHeight-y>n.clientHeight&&(h=2)}if(l){const y=n.scrollLeft;1===l?y>0&&(g=1):n.scrollWidth-y>n.clientWidth&&(g=2)}return[h,g]}(g,h.clientRect,t,e),(o||l)&&(r=g))}),!o&&!l){const{width:h,height:g}=this._viewportRuler.getViewportSize(),y={width:h,height:g,top:0,right:h,bottom:g,left:0};o=iR(y,e),l=sR(y,t),r=window}r&&(o!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=l,this._scrollNode=r,(o||l)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Hs(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Hs(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Hs(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&K0(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,r){return this._siblings.find(o=>o._canReceive(t,e,r))}_canReceive(t,e,r){if(!this._clientRect||!K0(this._clientRect,e,r)||!this.enterPredicate(t,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,r);if(!o)return!1;const l=Hs(this.element);return o===l||l.contains(o)}_startReceiving(t,e){const r=this._activeSiblings;!r.has(t)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(r.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=UA(Hs(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function iR(n,t){const{top:e,bottom:r,height:o}=n,l=.05*o;return t>=e-l&&t<=e+l?1:t>=r-l&&t<=r+l?2:0}function sR(n,t){const{left:e,right:r,width:o}=n,l=.05*o;return t>=e-l&&t<=e+l?1:t>=r-l&&t<=r+l?2:0}const Uw=Ny({passive:!1,capture:!0});let IO=(()=>{class n{constructor(e,r){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new Kt.x,this.pointerUp=new Kt.x,this.scroll=new Kt.x,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=r}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Uw)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Uw)}startDragging(e,r){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const o=r.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:l=>this.pointerUp.next(l),options:!0}).set("scroll",{handler:l=>this.scroll.next(l),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Uw}),o||this._globalListeners.set("mousemove",{handler:l=>this.pointerMove.next(l),options:Uw}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((l,h)=>{this._document.addEventListener(h,l.handler,l.options)})})}}stopDragging(e){const r=this._activeDragInstances.indexOf(e);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const r=[this.scroll];return e&&e!==this._document&&r.push(new Zn.y(o=>this._ngZone.runOutsideAngular(()=>{const h=g=>{this._activeDragInstances.length&&o.next(g)};return e.addEventListener("scroll",h,!0),()=>{e.removeEventListener("scroll",h,!0)}}))),(0,Ls.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,r)=>{this._document.removeEventListener(r,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SO={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let oR=(()=>{class n{constructor(e,r,o,l){this._document=e,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=l}createDrag(e,r=SO){return new EO(e,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new bO(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(fe),u.LFG(u.R0b),u.LFG(GM),u.LFG(IO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aR=new u.OlP("CDK_DRAG_PARENT"),TO=new u.OlP("CDK_DRAG_CONFIG"),AO=new u.OlP("CdkDropList"),lR=new u.OlP("CdkDragHandle"),RO=new u.OlP("CdkDragPlaceholder"),PO=new u.OlP("CdkDragPreview");let OO=(()=>{class n{constructor(e,r,o,l,h,g,y,D,N,O,W){this.element=e,this.dropContainer=r,this._ngZone=l,this._viewContainerRef=h,this._dir=y,this._changeDetectorRef=N,this._selfHandle=O,this._parentDrag=W,this._destroyed=new Kt.x,this.started=new u.vpe,this.released=new u.vpe,this.ended=new u.vpe,this.entered=new u.vpe,this.exited=new u.vpe,this.dropped=new u.vpe,this.moved=new Zn.y(te=>{const de=this._dragRef.moved.pipe((0,ut.U)(xe=>({source:this,pointerPosition:xe.pointerPosition,event:xe.event,delta:xe.delta,distance:xe.distance}))).subscribe(te);return()=>{de.unsubscribe()}}),this._dragRef=D.createDrag(e,{dragStartThreshold:g&&null!=g.dragStartThreshold?g.dragStartThreshold:5,pointerDirectionChangeThreshold:g&&null!=g.pointerDirectionChangeThreshold?g.pointerDirectionChangeThreshold:5,zIndex:g?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),g&&this._assignDefaults(g),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=BA(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(un(1),$0(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const r=e.rootElementSelector,o=e.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let r=e;this.rootElementSelector&&(r=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Hs(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const r=this._dir,o=this.dragStartDelay,l=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,h=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof o&&o?o:function ZM(n,t=0){return function qM(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(l).withPreviewTemplate(h).withPreviewContainer(this.previewContainer||"global"),r&&e.withDirection(r.value)}}),e.beforeStarted.pipe(un(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(o=>o.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),e.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(e){const{lockAxis:r,dragStartDelay:o,constrainPosition:l,previewClass:h,boundaryElement:g,draggingDisabled:y,rootElementSelector:D,previewContainer:N}=e;this.disabled=y??!1,this.dragStartDelay=o||0,r&&(this.lockAxis=r),l&&(this.constrainPosition=l),h&&(this.previewClass=h),g&&(this.boundaryElement=g),D&&(this.rootElementSelector=D),N&&(this.previewContainer=N)}_setupHandlesListener(){this._handles.changes.pipe(wo(this._handles),(0,ve.b)(e=>{const r=e.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),On(e=>(0,Ls.T)(...e.map(r=>r._stateChanges.pipe(wo(r))))),$0(this._destroyed)).subscribe(e=>{const r=this._dragRef,o=e.element.nativeElement;e.disabled?r.disableHandle(o):r.enableHandle(o)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(AO,12),u.Y36(fe),u.Y36(u.R0b),u.Y36(u.s_b),u.Y36(TO,8),u.Y36(mO,8),u.Y36(oR),u.Y36(u.sBO),u.Y36(lR,10),u.Y36(aR,12))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,r,o){if(1&e&&(u.Suo(o,PO,5),u.Suo(o,RO,5),u.Suo(o,lR,5)),2&e){let l;u.iGM(l=u.CRH())&&(r._previewTemplate=l.first),u.iGM(l=u.CRH())&&(r._placeholderTemplate=l.first),u.iGM(l=u.CRH())&&(r._handles=l)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,r){2&e&&u.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[u._Bn([{provide:aR,useExisting:n}]),u.TTD]}),n})(),NO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[oR],imports:[KM]}),n})();function xO(n,t){if(1&n&&(u.TgZ(0,"div")(1,"p"),u._uU(2),u.qZA()()),2&n){const e=t.$implicit;u.xp6(2),u.Oqu(e)}}let kO=(()=>{class n{constructor(e,r,o){this.router=e,this.db=r,this.auth=o,this.title="the_project",this.message=""}ngOnInit(){null==this.auth.Auth().currentUser&&this.router.navigate(["/"]),this.db.list("items").valueChanges().subscribe(r=>{this.data=r}),this.ScrollDownMessageBox()}ngAfterViewChecked(){this.ScrollDownMessageBox()}send(){const e=this.db.list("items");console.log(this.auth.CurrentUserEmail().split("@")[0]),e.push(this.auth.CurrentUserEmail().split("@")[0]+" : "+this.message).then(()=>{this.ScrollDownMessageBox()}).catch(r=>{console.log(r)}),this.message=""}ScrollDownMessageBox(){var e=document.getElementById("div");e.scrollTop=e.scrollHeight}slurp(){return(0,fi.Z)(function*(){const r=(yield fetch("https://api.github.com/users/github")).json();console.log(r)})()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Yn),u.Y36(Eg),u.Y36(es))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-messaging"]],decls:6,vars:3,consts:[["id","div","cdkDrag","",1,"messageBox",3,"draggable"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange","keydown.enter"],[3,"click"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.YNc(1,xO,3,1,"div",1),u._UZ(2,"br"),u.TgZ(3,"input",2),u.NdJ("ngModelChange",function(l){return r.message=l})("keydown.enter",function(){return r.send()}),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return r.send()}),u._uU(5," send "),u.qZA()()),2&e&&(u.Q6J("draggable",!0),u.xp6(1),u.Q6J("ngForOf",r.data),u.xp6(2),u.Q6J("ngModel",r.message))},dependencies:[xi,Yi,Qi,Kf,OO],styles:[".messageBox[_ngcontent-%COMP%]{width:300px;margin-top:100px;background-color:#fff8c9;border-radius:3%;box-shadow:0 0 20px #00000080;opacity:.9;display:flex;flex-direction:column;align-items:center;padding:10px;height:10% important!;overflow:hidden}[draggable=true][_ngcontent-%COMP%]{cursor:move}"]}),n})();class LO{constructor(t,e,r,o){this.email=t,this.firstname=e,this.lastname=r,this.phone=o}}let FO=(()=>{class n{constructor(e){this.db=e,this.userList=e.list("users")}createUser(e){this.userList.push({email:e.email,firstname:e.firstname,lastname:e.lastname,phone:e.phone}).catch(r=>{console.error(r)})}getUsers(){return this.db.list("users").snapshotChanges()}getUserById(e){return this.db.list("users",r=>r.orderByKey().equalTo(e)).snapshotChanges()}getUserByEmail(e){return this.db.list("users",r=>r.orderByChild("email").equalTo(e)).snapshotChanges()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Eg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"First name is required"),u.qZA())}function UO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"First name is too short"),u.qZA())}function BO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"First name is too long"),u.qZA())}function HO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"First name is should only contain alphabets"),u.qZA())}function jO(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,VO,2,0,"small",22),u.YNc(2,UO,2,0,"small",22),u.YNc(3,BO,2,0,"small",22),u.YNc(4,HO,2,0,"small",22),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.firstName.errors.required),u.xp6(1),u.Q6J("ngIf",e.firstName.errors.minlength),u.xp6(1),u.Q6J("ngIf",e.firstName.errors.maxlength),u.xp6(1),u.Q6J("ngIf",e.firstName.errors.pattern)}}function $O(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Last name is required"),u.qZA())}function WO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Last name is too short"),u.qZA())}function zO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Last name is too long"),u.qZA())}function GO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Last name is should only contain alphabets"),u.qZA())}function KO(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,$O,2,0,"small",22),u.YNc(2,WO,2,0,"small",22),u.YNc(3,zO,2,0,"small",22),u.YNc(4,GO,2,0,"small",22),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.lastName.errors.required),u.xp6(1),u.Q6J("ngIf",e.lastName.errors.minlength),u.xp6(1),u.Q6J("ngIf",e.lastName.errors.maxlength),u.xp6(1),u.Q6J("ngIf",e.lastName.errors.pattern)}}function ZO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Email is required"),u.qZA())}function qO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Email is too short"),u.qZA())}function YO(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,ZO,2,0,"small",22),u.YNc(2,qO,2,0,"small",22),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.email.errors.required),u.xp6(1),u.Q6J("ngIf",e.email.errors.email)}}function QO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Phone number is required"),u.qZA())}function JO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Phone number should be all numbers"),u.qZA())}function XO(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Phone number is too short"),u.qZA())}function eN(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Phone number is too long"),u.qZA())}function tN(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,QO,2,0,"small",22),u.YNc(2,JO,2,0,"small",22),u.YNc(3,XO,2,0,"small",22),u.YNc(4,eN,2,0,"small",22),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.phone.errors.required),u.xp6(1),u.Q6J("ngIf",e.phone.errors.pattern),u.xp6(1),u.Q6J("ngIf",e.phone.errors.minlength),u.xp6(1),u.Q6J("ngIf",e.phone.errors.maxlength)}}function nN(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Password is required"),u.qZA())}function rN(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Password is too short"),u.qZA())}function iN(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Password is too long"),u.qZA())}function sN(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,nN,2,0,"small",22),u.YNc(2,rN,2,0,"small",22),u.YNc(3,iN,2,0,"small",22),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.password.errors.required),u.xp6(1),u.Q6J("ngIf",e.password.errors.minlength),u.xp6(1),u.Q6J("ngIf",e.password.errors.maxlength)}}function oN(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Password is required"),u.qZA())}function aN(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Password is too short"),u.qZA())}function lN(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"Password is too long"),u.qZA())}function cN(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,oN,2,0,"small",22),u.YNc(2,aN,2,0,"small",22),u.YNc(3,lN,2,0,"small",22),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.confirmPassword.errors.required),u.xp6(1),u.Q6J("ngIf",e.confirmPassword.errors.minlength),u.xp6(1),u.Q6J("ngIf",e.confirmPassword.errors.maxlength)}}let cR=(()=>{class n{constructor(e,r,o,l,h){this.fb=e,this.authservice=r,this.router=o,this.db=l,this.userService=h,this.userList=l.list("users")}ngOnInit(){this.initRegisterForm()}initRegisterForm(){this.registerForm=this.fb.group({firstName:new hi("",[tr.required,tr.minLength(3),tr.maxLength(15),tr.pattern("[a-zA-Z ]+")]),lastName:new hi("",[tr.required,tr.minLength(3),tr.maxLength(15),tr.pattern("[a-zA-Z ]+")]),email:new hi("",[tr.required,tr.email]),phone:new hi("",[tr.required,tr.pattern("[0-9]+"),tr.minLength(8),tr.maxLength(13)]),password:new hi("",[tr.required,tr.minLength(6)]),confirmPassword:new hi("",[tr.required,tr.minLength(6)])})}get email(){return this.registerForm?.get("email")}get password(){return this.registerForm?.get("password")}get firstName(){return this.registerForm?.get("firstName")}get lastName(){return this.registerForm?.get("lastName")}get phone(){return this.registerForm?.get("phone")}get confirmPassword(){return this.registerForm?.get("confirmPassword")}register(){const e=this.registerForm.get("email").value,r=this.registerForm.get("password").value;this.authservice.CreateNewUser(e,r).then(()=>{this.userService.createUser(new LO(this.email.value,this.firstName.value,this.lastName.value,this.phone.value)),this.router.navigate(["/"])},o=>{this.errorMessage=o,console.log(this.errorMessage)})}pushUser(){this.userList.push({email:this.email,firstname:this.firstName,lastname:this.lastName,phone:this.phone}).then(r=>{this.router.navigate(["/"])}).catch(r=>{console.error(r)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(kD),u.Y36(es),u.Y36(Yn),u.Y36(Eg),u.Y36(FO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-register"]],decls:34,vars:7,consts:[[1,"container"],[1,"card","o-hidden","border-0","shadow-lg","my-5"],[1,"card-body","p-0"],[1,"row"],["id","imageHolder",1,"col-lg-5","d-none","d-lg-block","bg-register-image"],[1,"col-lg-7"],[1,"p-5"],[1,"text-center"],[1,"h4","text-gray-900","mb-4"],[1,"user",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-sm-6","mb-3","mb-sm-0"],["formControlName","firstName","type","text","id","exampleFirstName","placeholder","First Name",1,"form-control","form-control-user"],[4,"ngIf"],[1,"col-sm-6"],["formControlName","lastName","type","text","id","exampleLastName","placeholder","Last Name",1,"form-control","form-control-user"],[1,"form-group"],["formControlName","email","type","email","id","exampleInputEmail","placeholder","Email Address",1,"form-control","form-control-user"],["formControlName","phone","type","text","id","exampleInputEmail","placeholder","Phone Number",1,"form-control","form-control-user"],["formControlName","password","type","password","id","exampleInputPassword","placeholder","Password",1,"form-control","form-control-user"],["formControlName","confirmPassword","type","password","id","exampleRepeatPassword","placeholder","Repeat Password",1,"form-control","form-control-user"],["type","submit",1,"btn","btn-primary","btn-user","btn-block"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._UZ(4,"div",4),u.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),u._uU(9,"Create an Account!"),u.qZA()(),u.TgZ(10,"form",9),u.NdJ("ngSubmit",function(){return r.register()}),u.TgZ(11,"div",10)(12,"div",11),u._UZ(13,"input",12),u.YNc(14,jO,5,4,"div",13),u.qZA(),u.TgZ(15,"div",14),u._UZ(16,"input",15),u.YNc(17,KO,5,4,"div",13),u.qZA()(),u.TgZ(18,"div",16),u._UZ(19,"input",17),u.YNc(20,YO,3,2,"div",13),u.qZA(),u.TgZ(21,"div",16),u._UZ(22,"input",18),u.YNc(23,tN,5,4,"div",13),u.qZA(),u.TgZ(24,"div",10)(25,"div",11),u._UZ(26,"input",19),u.YNc(27,sN,4,3,"div",13),u.qZA(),u.TgZ(28,"div",14),u._UZ(29,"input",20),u.YNc(30,cN,4,3,"div",13),u.qZA()(),u.TgZ(31,"button",21),u._uU(32," Register Account "),u.qZA()(),u._UZ(33,"hr"),u.qZA()()()()()()),2&e&&(u.xp6(10),u.Q6J("formGroup",r.registerForm),u.xp6(4),u.Q6J("ngIf",r.firstName.touched&&r.firstName.invalid),u.xp6(3),u.Q6J("ngIf",r.lastName.touched&&r.lastName.invalid),u.xp6(3),u.Q6J("ngIf",r.email.touched&&r.email.invalid),u.xp6(3),u.Q6J("ngIf",r.phone.touched&&r.phone.invalid),u.xp6(4),u.Q6J("ngIf",r.password.touched&&r.password.invalid),u.xp6(3),u.Q6J("ngIf",r.confirmPassword.touched&&r.confirmPassword.invalid))},dependencies:[Un,xm,Yi,Qi,jd,Zf,Yf]}),n})();const uN=[{path:"register",component:cR},{path:"messaging",component:kO},{path:"",component:AM},{path:"register",component:cR}];let dN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[om.forRoot(uN),om]}),n})(),hN=(()=>{class n{constructor(e){this.db=e,this.title="the_project",this.message=""}ngOnInit(){this.db.list("items").valueChanges().subscribe(r=>{this.data=r})}slurp(){return(0,fi.Z)(function*(){const r=(yield fetch("https://api.github.com/users/github")).json();console.log(r)})()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Eg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&u._UZ(0,"router-outlet")},dependencies:[zg]}),n})();var fN=L(8247);class q0{constructor(t){return t}}class dR{constructor(){return(0,rn.vb)("auth")}}const Y0=new u.OlP("angularfire2.auth-instances");function gN(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new q0(r)}}const mN={provide:dR,deps:[[new u.FiY,Y0]]},_N={provide:q0,useFactory:function pN(n,t){const e=(0,rn.JM)("auth",n,t);return e&&new q0(e)},deps:[[new u.FiY,Y0],i]};let yN=(()=>{class n{constructor(){(0,Nc.KN)("angularfire",rn.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[_N,mN]}),n})();function vN(n,...t){return{ngModule:yN,providers:[{provide:Y0,useFactory:gN(n),multi:!0,deps:[u.R0b,u.zs3,rn.HU,s,[new u.FiY,Ay],...t]}]}}const EN=(0,rn.u3)(fN.n,!0);class Q0{constructor(t){return t}}const hR="database",J0=new u.OlP("angularfire2.database-instances");function bN(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Q0(r)}}const DN={provide:class CN{constructor(){return(0,rn.vb)(hR)}},deps:[[new u.FiY,J0]]},IN={provide:Q0,useFactory:function wN(n,t){const e=(0,rn.JM)(hR,n,t);return e&&new Q0(e)},deps:[[new u.FiY,J0],i]};let SN=(()=>{class n{constructor(){(0,Nc.KN)("angularfire",rn.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[IN,DN]}),n})();function TN(n,...t){return{ngModule:SN,providers:[{provide:J0,useFactory:bN(n),multi:!0,deps:[u.R0b,u.zs3,rn.HU,s,[new u.FiY,dR],[new u.FiY,Ay],...t]}]}}const AN=(0,rn.u3)(AT,!0);function fR(n){return new u.vHH(3e3,!1)}function cx(){return typeof window<"u"&&typeof window.document<"u"}function X0(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function qu(n){switch(n.length){case 0:return new Py;case 1:return n[0];default:return new MA(n)}}function pR(n,t,e,r,o=new Map,l=new Map){const h=[],g=[];let y=-1,D=null;if(r.forEach(N=>{const O=N.get("offset"),W=O==y,te=W&&D||new Map;N.forEach((de,xe)=>{let je=xe,yt=de;if("offset"!==xe)switch(je=t.normalizePropertyName(je,h),yt){case"!":yt=o.get(xe);break;case xc:yt=l.get(xe);break;default:yt=t.normalizeStyleValue(xe,je,yt,h)}te.set(je,yt)}),W||g.push(te),D=te,y=O}),h.length)throw function QN(n){return new u.vHH(3502,!1)}();return g}function eS(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&tS(e,"start",n)));break;case"done":n.onDone(()=>r(e&&tS(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&tS(e,"destroy",n)))}}function tS(n,t,e){const l=nS(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),h=n._data;return null!=h&&(l._data=h),l}function nS(n,t,e,r,o="",l=0,h){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:l,disabled:!!h}}function js(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function gR(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let rS=(n,t)=>!1,mR=(n,t,e)=>[],_R=null;function iS(n){const t=n.parentNode||n.host;return t===_R?null:t}(X0()||typeof Element<"u")&&(cx()?(_R=(()=>document.documentElement)(),rS=(n,t)=>{for(;t;){if(t===n)return!0;t=iS(t)}return!1}):rS=(n,t)=>n.contains(t),mR=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Bh=null,yR=!1;const vR=rS,ER=mR;let CR=(()=>{class n{validateStyleProperty(e){return function dx(n){Bh||(Bh=function hx(){return typeof document<"u"?document.body:null}()||{},yR=!!Bh.style&&"WebkitAppearance"in Bh.style);let t=!0;return Bh.style&&!function ux(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Bh.style,!t&&yR&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Bh.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return vR(e,r)}getParentElement(e){return iS(e)}query(e,r,o){return ER(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,l,h,g=[],y){return new Py(o,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),sS=(()=>{class n{}return n.NOOP=new CR,n})();const oS="ng-enter",Bw="ng-leave",Hw="ng-trigger",jw=".ng-trigger",bR="ng-animating",aS=".ng-animating";function kc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:lS(parseFloat(t[1]),t[2])}function lS(n,t){return"s"===t?1e3*n:n}function $w(n,t,e){return n.hasOwnProperty("duration")?n:function gx(n,t,e){let o,l=0,h="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return t.push(fR()),{duration:0,delay:0,easing:""};o=lS(parseFloat(g[1]),g[2]);const y=g[3];null!=y&&(l=lS(parseFloat(y),g[4]));const D=g[5];D&&(h=D)}else o=n;if(!e){let g=!1,y=t.length;o<0&&(t.push(function RN(){return new u.vHH(3100,!1)}()),g=!0),l<0&&(t.push(function PN(){return new u.vHH(3101,!1)}()),g=!0),g&&t.splice(y,0,fR())}return{duration:o,delay:l,easing:h}}(n,t,e)}function Fy(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function DR(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Yu(n,t=new Map,e){if(e)for(let[r,o]of e)t.set(r,o);for(let[r,o]of n)t.set(r,o);return t}function SR(n,t,e){return e?t+":"+e+";":""}function TR(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=SR(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=SR(0,vx(e),n.style[e]));n.setAttribute("style",t)}function Sl(n,t,e){n.style&&(t.forEach((r,o)=>{const l=uS(o);e&&!e.has(o)&&e.set(o,n.style[l]),n.style[l]=r}),X0()&&TR(n))}function Hh(n,t){n.style&&(t.forEach((e,r)=>{const o=uS(r);n.style[o]=""}),X0()&&TR(n))}function Vy(n){return Array.isArray(n)?1==n.length?n[0]:AA(n):n}const cS=new RegExp("{{\\s*(.+?)\\s*}}","g");function AR(n){let t=[];if("string"==typeof n){let e;for(;e=cS.exec(n);)t.push(e[1]);cS.lastIndex=0}return t}function Uy(n,t,e){const r=n.toString(),o=r.replace(cS,(l,h)=>{let g=t[h];return null==g&&(e.push(function ON(n){return new u.vHH(3003,!1)}()),g=""),g.toString()});return o==r?n:o}function Ww(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const yx=/-+([a-z0-9])/g;function uS(n){return n.replace(yx,(...t)=>t[1].toUpperCase())}function vx(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $s(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function NN(n){return new u.vHH(3004,!1)}()}}function RR(n,t){return window.getComputedStyle(n)[t]}function Ix(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Sx(n,t,e){if(":"==n[0]){const y=function Tx(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function KN(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof y)return void t.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function GN(n){return new u.vHH(3015,!1)}()),t;const o=r[1],l=r[2],h=r[3];t.push(PR(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&t.push(PR(h,o))}(r,e,t)):e.push(n),e}const Zw=new Set(["true","1"]),qw=new Set(["false","0"]);function PR(n,t){const e=Zw.has(n)||qw.has(n),r=Zw.has(t)||qw.has(t);return(o,l)=>{let h="*"==n||n==o,g="*"==t||t==l;return!h&&e&&"boolean"==typeof o&&(h=o?Zw.has(n):qw.has(n)),!g&&r&&"boolean"==typeof l&&(g=l?Zw.has(t):qw.has(t)),h&&g}}const Ax=new RegExp("s*:selfs*,?","g");function dS(n,t,e,r){return new Rx(n).build(t,e,r)}class Rx{constructor(t){this._driver=t}build(t,e,r){const o=new Ox(e);return this._resetContextStyleTimingState(o),$s(this,Vy(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const l=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push(function kN(){return new u.vHH(3006,!1)}()),t.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const y=g,D=y.name;D.toString().split(/\s*,\s*/).forEach(N=>{y.name=N,l.push(this.visitState(y,e))}),y.name=D}else if(1==g.type){const y=this.visitTransition(g,e);r+=y.queryCount,o+=y.depCount,h.push(y)}else e.errors.push(function LN(){return new u.vHH(3007,!1)}())}),{type:7,name:t.name,states:l,transitions:h,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=o||{};r.styles.forEach(g=>{g instanceof Map&&g.forEach(y=>{AR(y).forEach(D=>{h.hasOwnProperty(D)||l.add(D)})})}),l.size&&(Ww(l.values()),e.errors.push(function FN(n,t){return new u.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=$s(this,Vy(t.animation),e);return{type:1,matchers:Ix(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:jh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>$s(this,r,e)),options:jh(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const l=t.steps.map(h=>{e.currentTime=r;const g=$s(this,h,e);return o=Math.max(o,e.currentTime),g});return e.currentTime=o,{type:3,steps:l,options:jh(t.options)}}visitAnimate(t,e){const r=function xx(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return hS($w(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=hS(0,0,"");return l.dynamic=!0,l.strValue=e,l}const o=$w(e,t);return hS(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,l=t.styles?t.styles:Pw({});if(5==l.type)o=this.visitKeyframes(l,e);else{let h=t.styles,g=!1;if(!h){g=!0;const D={};r.easing&&(D.easing=r.easing),h=Pw(D)}e.currentTime+=r.duration+r.delay;const y=this.visitStyle(h,e);y.isEmptyStep=g,o=y}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let g of o)"string"==typeof g?g===xc?r.push(g):e.errors.push(new u.vHH(3002,!1)):r.push(DR(g));let l=!1,h=null;return r.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(h=g.get("easing"),g.delete("easing")),!l))for(let y of g.values())if(y.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:h,offset:t.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;r&&l>0&&(l-=r.duration+r.delay),t.styles.forEach(h=>{"string"!=typeof h&&h.forEach((g,y)=>{const D=e.collectedStyles.get(e.currentQuerySelector),N=D.get(y);let O=!0;N&&(l!=o&&l>=N.startTime&&o<=N.endTime&&(e.errors.push(function UN(n,t,e,r,o){return new u.vHH(3010,!1)}()),O=!1),l=N.startTime),O&&D.set(y,{startTime:l,endTime:o}),e.options&&function _x(n,t,e){const r=t.params||{},o=AR(n);o.length&&o.forEach(l=>{r.hasOwnProperty(l)||e.push(function MN(n){return new u.vHH(3001,!1)}())})}(g,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function BN(){return new u.vHH(3011,!1)}()),r;let l=0;const h=[];let g=!1,y=!1,D=0;const N=t.steps.map(yt=>{const Tt=this._makeStyleAst(yt,e);let qt=null!=Tt.offset?Tt.offset:function Nx(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Tt.styles),xt=0;return null!=qt&&(l++,xt=Tt.offset=qt),y=y||xt<0||xt>1,g=g||xt<D,D=xt,h.push(xt),Tt});y&&e.errors.push(function HN(){return new u.vHH(3012,!1)}()),g&&e.errors.push(function jN(){return new u.vHH(3200,!1)}());const O=t.steps.length;let W=0;l>0&&l<O?e.errors.push(function $N(){return new u.vHH(3202,!1)}()):0==l&&(W=1/(O-1));const te=O-1,de=e.currentTime,xe=e.currentAnimateTimings,je=xe.duration;return N.forEach((yt,Tt)=>{const qt=W>0?Tt==te?1:W*Tt:h[Tt],xt=qt*je;e.currentTime=de+xe.delay+xt,xe.duration=xt,this._validateStyleAst(yt,e),yt.offset=qt,r.styles.push(yt)}),r}visitReference(t,e){return{type:8,animation:$s(this,Vy(t.animation),e),options:jh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jh(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[l,h]=function Px(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Ax,"")),n=n.replace(/@\*/g,jw).replace(/@\w+/g,e=>jw+"-"+e.slice(1)).replace(/:animating/g,aS),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+l:l,js(e.collectedStyles,e.currentQuerySelector,new Map);const g=$s(this,Vy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:g,originalSelector:t.selector,options:jh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function WN(){return new u.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:$w(t.timings,e.errors,!0);return{type:12,animation:$s(this,Vy(t.animation),e),timings:r,options:null}}}class Ox{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jh(n){return n?(n=Fy(n)).params&&(n.params=function Mx(n){return n?Fy(n):null}(n.params)):n={},n}function hS(n,t,e){return{duration:n,delay:t,easing:e}}function fS(n,t,e,r,o,l,h=null,g=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:g}}class Yw{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Fx=new RegExp(":enter","g"),Ux=new RegExp(":leave","g");function pS(n,t,e,r,o,l=new Map,h=new Map,g,y,D=[]){return(new Bx).buildKeyframes(n,t,e,r,o,l,h,g,y,D)}class Bx{buildKeyframes(t,e,r,o,l,h,g,y,D,N=[]){D=D||new Yw;const O=new gS(t,e,D,o,l,N,[]);O.options=y;const W=y.delay?kc(y.delay):0;O.currentTimeline.delayNextStep(W),O.currentTimeline.setStyles([h],null,O.errors,y),$s(this,r,O);const te=O.timelines.filter(de=>de.containsAnimation());if(te.length&&g.size){let de;for(let xe=te.length-1;xe>=0;xe--){const je=te[xe];if(je.element===e){de=je;break}}de&&!de.allowOnlyTimelineStyles()&&de.setStyles([g],null,O.errors,y)}return te.length?te.map(de=>de.buildKeyframes()):[fS(e,[],[],[],0,W,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(t.options),l=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);l!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const o of t){const l=o?.delay;if(l){const h="number"==typeof l?l:kc(Uy(l,o?.params??{},e.errors));r.delayNextStep(h)}}}_visitSubInstructions(t,e,r){let l=e.currentTimeline.currentTime;const h=null!=r.duration?kc(r.duration):null,g=null!=r.delay?kc(r.delay):null;return 0!==h&&t.forEach(y=>{const D=e.appendInstructionToTimeline(y,h,g);l=Math.max(l,D.duration+D.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),$s(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const l=t.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Qw);const h=kc(l.delay);o.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>$s(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?kc(t.options.delay):0;t.steps.forEach(h=>{const g=e.createSubContext(t.options);l&&g.delayNextStep(l),$s(this,h,g),o=Math.max(o,g.currentTimeline.currentTime),r.push(g.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return $w(e.params?Uy(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(r.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(l):r.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,l=r.duration,g=e.createSubContext().currentTimeline;g.easing=r.easing,t.styles.forEach(y=>{g.forwardTime((y.offset||0)*l),g.setStyles(y.styles,y.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(o+l),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},l=o.delay?kc(o.delay):0;l&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qw);let h=r;const g=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=g.length;let y=null;g.forEach((D,N)=>{e.currentQueryIndex=N;const O=e.createSubContext(t.options,D);l&&O.delayNextStep(l),D===e.element&&(y=O.currentTimeline),$s(this,t.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),y&&(e.currentTimeline.mergeTimelineCollectedStyles(y),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,l=t.timings,h=Math.abs(l.duration),g=h*(e.currentQueryTotal-1);let y=h*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=g-y;break;case"full":y=r.currentStaggerTime}const N=e.currentTimeline;y&&N.delayNextStep(y);const O=N.currentTime;$s(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-O+(o.startTime-r.currentTimeline.startTime)}}const Qw={};class gS{constructor(t,e,r,o,l,h,g,y){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Jw(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=kc(r.duration)),null!=r.delay&&(o.delay=kc(r.delay));const l=r.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(g=>{(!e||!h.hasOwnProperty(g))&&(h[g]=Uy(l[g],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,l=new gS(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=Qw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},l=new Hx(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,l,h){let g=[];if(o&&g.push(this.element),t.length>0){t=(t=t.replace(Fx,"."+this._enterClassName)).replace(Ux,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),g.push(...D)}return!l&&0==g.length&&h.push(function zN(n){return new u.vHH(3014,!1)}()),g}}class Jw{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Jw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||xc),this._currentKeyframe.set(e,xc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){e&&this._previousKeyframe.set("easing",e);const l=o&&o.params||{},h=function jx(n,t){const e=new Map;let r;return n.forEach(o=>{if("*"===o){r=r||t.keys();for(let l of r)e.set(l,xc)}else Yu(o,e)}),e}(t,this._globalTimelineStyles);for(let[g,y]of h){const D=Uy(y,l,r);this._pendingStyles.set(g,D),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??xc),this._updateStyle(g,D)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const o=this._styleSummary.get(r);(!o||e.time>o.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,y)=>{const D=Yu(g,new Map,this._backFill);D.forEach((N,O)=>{"!"===N?t.add(O):N===xc&&e.add(O)}),r||D.set("offset",y/this.duration),o.push(D)});const l=t.size?Ww(t.values()):[],h=e.size?Ww(e.values()):[];if(r){const g=o[0],y=new Map(g);g.set("offset",0),y.set("offset",1),o=[g,y]}return fS(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class Hx extends Jw{constructor(t,e,r,o,l,h,g=!1){super(t,e,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],h=r+e,g=e/h,y=Yu(t[0]);y.set("offset",0),l.push(y);const D=Yu(t[0]);D.set("offset",NR(g)),l.push(D);const N=t.length-1;for(let O=1;O<=N;O++){let W=Yu(t[O]);const te=W.get("offset");W.set("offset",NR((e+te*r)/h)),l.push(W)}r=h,e=0,o="",t=l}return fS(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function NR(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class mS{}const $x=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Wx extends mS{normalizePropertyName(t,e){return uS(t)}normalizeStyleValue(t,e,r,o){let l="";const h=r.toString().trim();if($x.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const g=r.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(function xN(n,t){return new u.vHH(3005,!1)}())}return h+l}}function xR(n,t,e,r,o,l,h,g,y,D,N,O,W){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:l,toState:r,toStyles:h,timelines:g,queriedElements:y,preStyleProps:D,postStyleProps:N,totalTime:O,errors:W}}const _S={};class kR{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function zx(n,t,e,r,o){return n.some(l=>l(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,r):new Map}build(t,e,r,o,l,h,g,y,D,N){const O=[],W=this.ast.options&&this.ast.options.params||_S,de=this.buildStyles(r,g&&g.params||_S,O),xe=y&&y.params||_S,je=this.buildStyles(o,xe,O),yt=new Set,Tt=new Map,qt=new Map,xt="void"===o,Mr={params:Gx(xe,W),delay:this.ast.options?.delay},Wr=N?[]:pS(t,e,this.ast.animation,l,h,de,je,Mr,D,O);let Ni=0;if(Wr.forEach(Fc=>{Ni=Math.max(Fc.duration+Fc.delay,Ni)}),O.length)return xR(e,this._triggerName,r,o,xt,de,je,[],[],Tt,qt,Ni,O);Wr.forEach(Fc=>{const Vc=Fc.element,YR=js(Tt,Vc,new Set);Fc.preStyleProps.forEach($h=>YR.add($h));const Hy=js(qt,Vc,new Set);Fc.postStyleProps.forEach($h=>Hy.add($h)),Vc!==e&&yt.add(Vc)});const Lc=Ww(yt.values());return xR(e,this._triggerName,r,o,xt,de,je,Wr,Lc,Tt,qt,Ni)}}function Gx(n,t){const e=Fy(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class Kx{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,o=Fy(this.defaultParams);return Object.keys(t).forEach(l=>{const h=t[l];null!==h&&(o[l]=h)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,g)=>{h&&(h=Uy(h,o,e));const y=this.normalizer.normalizePropertyName(g,e);h=this.normalizer.normalizeStyleValue(g,y,h,e),r.set(y,h)})}),r}}class qx{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new Kx(o.style,o.options&&o.options.params||{},r))}),LR(this.states,"true","1"),LR(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new kR(t,o,this.states))}),this.fallbackTransition=function Yx(n,t,e){return new kR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(h=>h.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function LR(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Qx=new Yw;class Jx{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],l=dS(this._driver,e,r,[]);if(r.length)throw function JN(n){return new u.vHH(3503,!1)}();this._animations.set(t,l)}_buildPlayer(t,e,r){const o=t.element,l=pR(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],l=this._animations.get(t);let h;const g=new Map;if(l?(h=pS(this._driver,e,l,oS,Bw,new Map,new Map,r,Qx,o),h.forEach(N=>{const O=js(g,N.element,new Map);N.postStyleProps.forEach(W=>O.set(W,null))})):(o.push(function XN(){return new u.vHH(3300,!1)}()),h=[]),o.length)throw function ex(n){return new u.vHH(3504,!1)}();g.forEach((N,O)=>{N.forEach((W,te)=>{N.set(te,this._driver.computeStyle(O,te,xc))})});const D=qu(h.map(N=>{const O=g.get(N.element);return this._buildPlayer(N,new Map,O)}));return this._playersById.set(t,D),D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function tx(n){return new u.vHH(3301,!1)}();return e}listen(t,e,r,o){const l=nS(e,"","","");return eS(this._getPlayer(t),r,l,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const l=this._getPlayer(t);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const FR="ng-animate-queued",yS="ng-animate-disabled",rk=[],VR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ik={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},No="__ng_removed";class vS{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function lk(n){return n??null}(r?t.value:t),r){const l=Fy(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const By="void",ES=new vS(By);class sk{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,xo(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.has(e))throw function nx(n,t){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function rx(n){return new u.vHH(3303,!1)}();if(!function ck(n){return"start"==n||"done"==n}(r))throw function ix(n,t){return new u.vHH(3400,!1)}();const l=js(this._elementListeners,t,[]),h={name:e,phase:r,callback:o};l.push(h);const g=js(this._engine.statesByElement,t,new Map);return g.has(e)||(xo(t,Hw),xo(t,Hw+"-"+e),g.set(e,ES)),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(h);y>=0&&l.splice(y,1),this._triggers.has(e)||g.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function sx(n){return new u.vHH(3401,!1)}();return e}trigger(t,e,r,o=!0){const l=this._getTrigger(e),h=new CS(this.id,e,t);let g=this._engine.statesByElement.get(t);g||(xo(t,Hw),xo(t,Hw+"-"+e),this._engine.statesByElement.set(t,g=new Map));let y=g.get(e);const D=new vS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&D.absorbOptions(y.options),g.set(e,D),y||(y=ES),D.value!==By&&y.value===D.value){if(!function hk(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(y.params,D.params)){const xe=[],je=l.matchStyles(y.value,y.params,xe),yt=l.matchStyles(D.value,D.params,xe);xe.length?this._engine.reportError(xe):this._engine.afterFlush(()=>{Hh(t,je),Sl(t,yt)})}return}const W=js(this._engine.playersByElement,t,[]);W.forEach(xe=>{xe.namespaceId==this.id&&xe.triggerName==e&&xe.queued&&xe.destroy()});let te=l.matchTransition(y.value,D.value,t,D.params),de=!1;if(!te){if(!o)return;te=l.fallbackTransition,de=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:te,fromState:y,toState:D,player:h,isFallbackTransition:de}),de||(xo(t,FR),h.onStart(()=>{bg(t,FR)})),h.onDone(()=>{let xe=this.players.indexOf(h);xe>=0&&this.players.splice(xe,1);const je=this._engine.playersByElement.get(t);if(je){let yt=je.indexOf(h);yt>=0&&je.splice(yt,1)}}),this.players.push(h),W.push(h),h}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,jw,!0);r.forEach(o=>{if(o[No])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const l=this._engine.statesByElement.get(t),h=new Map;if(l){const g=[];if(l.forEach((y,D)=>{if(h.set(D,y.value),this._triggers.has(D)){const N=this.trigger(t,D,By,o);N&&g.push(N)}}),g.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,h),r&&qu(g).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const y=this._triggers.get(h).fallbackTransition,D=r.get(h)||ES,N=new vS(By),O=new CS(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:y,fromState:D,toState:N,player:O,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(t):[];if(l&&l.length)o=!0;else{let h=t;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const l=t[No];(!l||l===VR)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){xo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(g=>{if(g.name==r.triggerName){const y=nS(l,r.triggerName,r.fromState.value,r.toState.value);y._data=t,eS(r.player,g.phase,y,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const l=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class ok{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new sk(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let h=!1,g=this.driver.getParentElement(e);for(;g;){const y=o.get(g);if(y){const D=r.indexOf(y);r.splice(D+1,0,t),h=!0;break}g=this.driver.getParentElement(g)}h||r.unshift(t)}else r.push(t);return o.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let o of r.values())if(o.namespaceId){const l=this._fetchNamespace(o.namespaceId);l&&e.add(l)}return e}trigger(t,e,r,o){if(Xw(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!Xw(e))return;const l=e[No];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),xo(t,yS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),bg(t,yS))}removeNode(t,e,r,o){if(Xw(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o,l){this.collectedLeaveElements.push(e),e[No]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,r,o,l){return Xw(e)?this._fetchNamespace(t).listen(e,r,o,l):()=>{}}_buildInstruction(t,e,r,o,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,jw,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,aS,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[No];if(e&&e.setForRemoval){if(t[No]=VR,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(yS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)xo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?qu(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function ox(n){return new u.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new Yw,o=[],l=new Map,h=[],g=new Map,y=new Map,D=new Map,N=new Set;this.disabledNodes.forEach(ht=>{N.add(ht);const vt=this.driver.query(ht,".ng-animate-queued",!0);for(let Mt=0;Mt<vt.length;Mt++)N.add(vt[Mt])});const O=this.bodyNode,W=Array.from(this.statesByElement.keys()),te=HR(W,this.collectedEnterElements),de=new Map;let xe=0;te.forEach((ht,vt)=>{const Mt=oS+xe++;de.set(vt,Mt),ht.forEach(on=>xo(on,Mt))});const je=[],yt=new Set,Tt=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const vt=this.collectedLeaveElements[ht],Mt=vt[No];Mt&&Mt.setForRemoval&&(je.push(vt),yt.add(vt),Mt.hasAnimation?this.driver.query(vt,".ng-star-inserted",!0).forEach(on=>yt.add(on)):Tt.add(vt))}const qt=new Map,xt=HR(W,Array.from(yt));xt.forEach((ht,vt)=>{const Mt=Bw+xe++;qt.set(vt,Mt),ht.forEach(on=>xo(on,Mt))}),t.push(()=>{te.forEach((ht,vt)=>{const Mt=de.get(vt);ht.forEach(on=>bg(on,Mt))}),xt.forEach((ht,vt)=>{const Mt=qt.get(vt);ht.forEach(on=>bg(on,Mt))}),je.forEach(ht=>{this.processLeaveNode(ht)})});const Mr=[],Wr=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(e).forEach(Mt=>{const on=Mt.player,zr=Mt.element;if(Mr.push(on),this.collectedEnterElements.length){const _i=zr[No];if(_i&&_i.setForMove){if(_i.previousTriggersValues&&_i.previousTriggersValues.has(Mt.triggerName)){const Wh=_i.previousTriggersValues.get(Mt.triggerName),ko=this.statesByElement.get(Mt.element);if(ko&&ko.has(Mt.triggerName)){const nb=ko.get(Mt.triggerName);nb.value=Wh,ko.set(Mt.triggerName,nb)}}return void on.destroy()}}const Tl=!O||!this.driver.containsElement(O,zr),Ws=qt.get(zr),Qu=de.get(zr),nr=this._buildInstruction(Mt,r,Qu,Ws,Tl);if(nr.errors&&nr.errors.length)return void Wr.push(nr);if(Tl)return on.onStart(()=>Hh(zr,nr.fromStyles)),on.onDestroy(()=>Sl(zr,nr.toStyles)),void o.push(on);if(Mt.isFallbackTransition)return on.onStart(()=>Hh(zr,nr.fromStyles)),on.onDestroy(()=>Sl(zr,nr.toStyles)),void o.push(on);const XR=[];nr.timelines.forEach(_i=>{_i.stretchStartingKeyframe=!0,this.disabledNodes.has(_i.element)||XR.push(_i)}),nr.timelines=XR,r.append(zr,nr.timelines),h.push({instruction:nr,player:on,element:zr}),nr.queriedElements.forEach(_i=>js(g,_i,[]).push(on)),nr.preStyleProps.forEach((_i,Wh)=>{if(_i.size){let ko=y.get(Wh);ko||y.set(Wh,ko=new Set),_i.forEach((nb,DS)=>ko.add(DS))}}),nr.postStyleProps.forEach((_i,Wh)=>{let ko=D.get(Wh);ko||D.set(Wh,ko=new Set),_i.forEach((nb,DS)=>ko.add(DS))})});if(Wr.length){const ht=[];Wr.forEach(vt=>{ht.push(function ax(n,t){return new u.vHH(3505,!1)}())}),Mr.forEach(vt=>vt.destroy()),this.reportError(ht)}const Ni=new Map,Lc=new Map;h.forEach(ht=>{const vt=ht.element;r.has(vt)&&(Lc.set(vt,vt),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,Ni))}),o.forEach(ht=>{const vt=ht.element;this._getPreviousPlayers(vt,!1,ht.namespaceId,ht.triggerName,null).forEach(on=>{js(Ni,vt,[]).push(on),on.destroy()})});const Fc=je.filter(ht=>$R(ht,y,D)),Vc=new Map;BR(Vc,this.driver,Tt,D,xc).forEach(ht=>{$R(ht,y,D)&&Fc.push(ht)});const Hy=new Map;te.forEach((ht,vt)=>{BR(Hy,this.driver,new Set(ht),y,"!")}),Fc.forEach(ht=>{const vt=Vc.get(ht),Mt=Hy.get(ht);Vc.set(ht,new Map([...Array.from(vt?.entries()??[]),...Array.from(Mt?.entries()??[])]))});const $h=[],QR=[],JR={};h.forEach(ht=>{const{element:vt,player:Mt,instruction:on}=ht;if(r.has(vt)){if(N.has(vt))return Mt.onDestroy(()=>Sl(vt,on.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(on.totalTime),void o.push(Mt);let zr=JR;if(Lc.size>1){let Ws=vt;const Qu=[];for(;Ws=Ws.parentNode;){const nr=Lc.get(Ws);if(nr){zr=nr;break}Qu.push(Ws)}Qu.forEach(nr=>Lc.set(nr,zr))}const Tl=this._buildAnimation(Mt.namespaceId,on,Ni,l,Hy,Vc);if(Mt.setRealPlayer(Tl),zr===JR)$h.push(Mt);else{const Ws=this.playersByElement.get(zr);Ws&&Ws.length&&(Mt.parentPlayer=qu(Ws)),o.push(Mt)}}else Hh(vt,on.fromStyles),Mt.onDestroy(()=>Sl(vt,on.toStyles)),QR.push(Mt),N.has(vt)&&o.push(Mt)}),QR.forEach(ht=>{const vt=l.get(ht.element);if(vt&&vt.length){const Mt=qu(vt);ht.setRealPlayer(Mt)}}),o.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<je.length;ht++){const vt=je[ht],Mt=vt[No];if(bg(vt,Bw),Mt&&Mt.hasAnimation)continue;let on=[];if(g.size){let Tl=g.get(vt);Tl&&Tl.length&&on.push(...Tl);let Ws=this.driver.query(vt,aS,!0);for(let Qu=0;Qu<Ws.length;Qu++){let nr=g.get(Ws[Qu]);nr&&nr.length&&on.push(...nr)}}const zr=on.filter(Tl=>!Tl.destroyed);zr.length?uk(this,vt,zr):this.processLeaveNode(vt)}return je.length=0,$h.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const vt=this.players.indexOf(ht);this.players.splice(vt,1)}),ht.play()}),$h}elementContainsData(t,e){let r=!1;const o=e[No];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,l){let h=[];if(e){const g=this.playersByQueriedElement.get(t);g&&(h=g)}else{const g=this.playersByElement.get(t);if(g){const y=!l||l==By;g.forEach(D=>{D.queued||!y&&D.triggerName!=o||h.push(D)})}}return(r||o)&&(h=h.filter(g=>!(r&&r!=g.namespaceId||o&&o!=g.triggerName))),h}_beforeAnimationBuild(t,e,r){const l=e.element,h=e.isRemovalTransition?void 0:t,g=e.isRemovalTransition?void 0:e.triggerName;for(const y of e.timelines){const D=y.element,N=D!==l,O=js(r,D,[]);this._getPreviousPlayers(D,N,h,g,e.toState).forEach(te=>{const de=te.getRealPlayer();de.beforeDestroy&&de.beforeDestroy(),te.destroy(),O.push(te)})}Hh(l,e.fromStyles)}_buildAnimation(t,e,r,o,l,h){const g=e.triggerName,y=e.element,D=[],N=new Set,O=new Set,W=e.timelines.map(de=>{const xe=de.element;N.add(xe);const je=xe[No];if(je&&je.removedBeforeQueried)return new Py(de.duration,de.delay);const yt=xe!==y,Tt=function dk(n){const t=[];return jR(n,t),t}((r.get(xe)||rk).map(Ni=>Ni.getRealPlayer())).filter(Ni=>!!Ni.element&&Ni.element===xe),qt=l.get(xe),xt=h.get(xe),Mr=pR(0,this._normalizer,0,de.keyframes,qt,xt),Wr=this._buildPlayer(de,Mr,Tt);if(de.subTimeline&&o&&O.add(xe),yt){const Ni=new CS(t,g,xe);Ni.setRealPlayer(Wr),D.push(Ni)}return Wr});D.forEach(de=>{js(this.playersByQueriedElement,de.element,[]).push(de),de.onDone(()=>function ak(n,t,e){let r=n.get(t);if(r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,de.element,de))}),N.forEach(de=>xo(de,bR));const te=qu(W);return te.onDestroy(()=>{N.forEach(de=>bg(de,bR)),Sl(y,e.toStyles)}),O.forEach(de=>{js(o,de,[]).push(te)}),te}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Py(t.duration,t.delay)}}class CS{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Py,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(o=>eS(t,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){js(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Xw(n){return n&&1===n.nodeType}function UR(n,t){const e=n.style.display;return n.style.display=t??"none",e}function BR(n,t,e,r,o){const l=[];e.forEach(y=>l.push(UR(y)));const h=[];r.forEach((y,D)=>{const N=new Map;y.forEach(O=>{const W=t.computeStyle(D,O,o);N.set(O,W),(!W||0==W.length)&&(D[No]=ik,h.push(D))}),n.set(D,N)});let g=0;return e.forEach(y=>UR(y,l[g++])),h}function HR(n,t){const e=new Map;if(n.forEach(g=>e.set(g,[])),0==t.length)return e;const o=new Set(t),l=new Map;function h(g){if(!g)return 1;let y=l.get(g);if(y)return y;const D=g.parentNode;return y=e.has(D)?D:o.has(D)?1:h(D),l.set(g,y),y}return t.forEach(g=>{const y=h(g);1!==y&&e.get(y).push(g)}),e}function xo(n,t){n.classList?.add(t)}function bg(n,t){n.classList?.remove(t)}function uk(n,t,e){qu(e).onDone(()=>n.processLeaveNode(t))}function jR(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof MA?jR(r.players,t):t.push(r)}}function $R(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(l=>o.add(l)):t.set(n,r),e.delete(n),!0}class eb{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new ok(t,e,r),this._timelineEngine=new Jx(t,e,r),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(t,e,r,o,l){const h=t+"-"+o;let g=this._triggerCache[h];if(!g){const y=[],N=dS(this._driver,l,y,[]);if(y.length)throw function YN(n,t){return new u.vHH(3404,!1)}();g=function Zx(n,t,e){return new qx(n,t,e)}(o,N,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(e,o,g)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[l,h]=gR(r);this._timelineEngine.command(l,e,h,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,l){if("@"==r.charAt(0)){const[h,g]=gR(r);return this._timelineEngine.listen(h,e,g,l)}return this._transitionEngine.listen(t,e,r,o,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let pk=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Sl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sl(this._element,this._initialStyles),this._endStyles&&(Sl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hh(this._element,this._endStyles),this._endStyles=null),Sl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function wS(n){let t=null;return n.forEach((e,r)=>{(function gk(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class WR{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&t.set(o,this._finished?r:RR(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class mk{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return vR(t,e)}getParentElement(t){return iS(t)}query(t,e,r){return ER(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,o,l,h=[]){const y={duration:r,delay:o,fill:0==o?"both":"forwards"};l&&(y.easing=l);const D=new Map,N=h.filter(te=>te instanceof WR);(function Ex(n,t){return 0===n||0===t})(r,o)&&N.forEach(te=>{te.currentSnapshot.forEach((de,xe)=>D.set(xe,de))});let O=function mx(n){return n.length?n[0]instanceof Map?n:n.map(t=>DR(t)):[]}(e).map(te=>Yu(te));O=function Cx(n,t,e){if(e.size&&t.length){let r=t[0],o=[];if(e.forEach((l,h)=>{r.has(h)||o.push(h),r.set(h,l)}),o.length)for(let l=1;l<t.length;l++){let h=t[l];o.forEach(g=>h.set(g,RR(n,g)))}}return t}(t,O,D);const W=function fk(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=wS(t[0]),t.length>1&&(r=wS(t[t.length-1]))):t instanceof Map&&(e=wS(t)),e||r?new pk(n,e,r):null}(t,O);return new WR(t,O,y,W)}}let _k=(()=>{class n extends SA{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?AA(e):e;return zR(this._renderer,null,r,"register",[o]),new yk(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class yk extends class sM{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new vk(this._id,t,e||{},this._renderer)}}class vk{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return zR(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function zR(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const GR="@.disabled";let Ek=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{const g=h?.parentNode(l);g&&h.removeChild(g,l)}}createRenderer(e,r){const l=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let N=this._rendererCache.get(l);return N||(N=new KR("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,N)),N}const h=r.id,g=r.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const y=N=>{Array.isArray(N)?N.forEach(y):this.engine.registerTrigger(h,g,e,N.name,N)};return r.data.animation.forEach(y),new Ck(this,g,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,g]=l;h(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(eb),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class KR{constructor(t,e,r,o){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?l=>e.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==GR?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ck extends KR{constructor(t,e,r,o,l){super(e,r,o,l),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==GR?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const o=function wk(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.slice(1),h="";return"@"!=l.charAt(0)&&([l,h]=function bk(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,r,g)})}return this.delegate.listen(t,e,r)}}const ZR=[{provide:SA,useClass:_k},{provide:mS,useFactory:function Ik(){return new Wx}},{provide:eb,useClass:(()=>{class n extends eb{constructor(e,r,o,l){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(fe),u.LFG(sS),u.LFG(mS),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:u.FYo,useFactory:function Sk(n,t,e){return new Ek(n,t,e)},deps:[Xo,eb,u.R0b]}],bS=[{provide:sS,useFactory:()=>new mk},{provide:u.QbO,useValue:"BrowserAnimations"},...ZR],qR=[{provide:sS,useClass:CR},{provide:u.QbO,useValue:"NoopAnimations"},...ZR];let Tk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?qR:bS}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:bS,imports:[bs]}),n})(),Ak=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[hN]}),n.\u0275inj=u.cJS({imports:[bs,Hr.hO.initializeApp(rp_firebase),XP,dN,xD,_E,iM,Tk,IA,TM,NO,S(()=>ie(rp_firebase)),vN(()=>EN()),TN(()=>AN())]}),n})();(0,u.G48)(),ra().bootstrapModule(Ak).catch(n=>console.error(n))},5867:(rt,Ie,L)=>{L.d(Ie,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=L(9681);(0,u.registerVersion)("firebase","9.14.0","app")},127:(rt,Ie,L)=>{L.d(Ie,{Z:()=>u.Z});var u=L(3942);u.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(rt,Ie,L)=>{L.r(Ie);var u=L(5861),j=L(3942),x=L(8247),oe=L(2090),fe=(L(9681),L(1877),L(4859));function he(){return window}function z(){return(z=(0,u.Z)(function*(H,P,V){var re;const{BuildInfo:Oe}=he();(0,x.ap)(P.sessionId,"AuthEvent did not contain a session ID");const Xe=yield ge(P.sessionId),et={};return(0,x.aq)()?et.ibi=Oe.packageName:(0,x.ar)()?et.apn=Oe.packageName:(0,x.as)(H,"operation-not-supported-in-this-environment"),Oe.displayName&&(et.appDisplayName=Oe.displayName),et.sessionId=Xe,(0,x.at)(H,V,P.type,void 0,null!==(re=P.eventId)&&void 0!==re?re:void 0,et)})).apply(this,arguments)}function Ve(){return(Ve=(0,u.Z)(function*(H){const{BuildInfo:P}=he(),V={};(0,x.aq)()?V.iosBundleId=P.packageName:(0,x.ar)()?V.androidPackageName=P.packageName:(0,x.as)(H,"operation-not-supported-in-this-environment"),yield(0,x.au)(H,V)})).apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(H,P,V){const{cordova:re}=he();let Oe=()=>{};try{yield new Promise((Xe,et)=>{let Se=null;function ke(){var It;Xe();const Xt=null===(It=re.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof Xt&&Xt(),"function"==typeof V?.close&&V.close()}function Ct(){Se||(Se=window.setTimeout(()=>{et((0,x.aw)(H,"redirect-cancelled-by-user"))},2e3))}function Jt(){"visible"===document?.visibilityState&&Ct()}P.addPassiveListener(ke),document.addEventListener("resume",Ct,!1),(0,x.ar)()&&document.addEventListener("visibilitychange",Jt,!1),Oe=()=>{P.removePassiveListener(ke),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",Jt,!1),Se&&window.clearTimeout(Se)}})}finally{Oe()}})).apply(this,arguments)}function ge(H){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(H){const P=Ge(H),V=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(V)).map(Oe=>Oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ge(H){if((0,x.ap)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const P=new ArrayBuffer(H.length),V=new Uint8Array(P);for(let re=0;re<H.length;re++)V[re]=H.charCodeAt(re);return V}class Re extends x.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(P)),super.onEvent(P)}initialized(){var P=this;return(0,u.Z)(function*(){yield P.initPromise})()}}function se(H){return ue.apply(this,arguments)}function ue(){return(ue=(0,u.Z)(function*(H){const P=yield ee()._get(pe(H));return P&&(yield ee()._remove(pe(H))),P})).apply(this,arguments)}function J(){const H=[],P="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<20;V++){const re=Math.floor(Math.random()*P.length);H.push(P.charAt(re))}return H.join("")}function ee(){return(0,x.az)(x.b)}function pe(H){return(0,x.aA)("authEvent",H.config.apiKey,H.name)}function Fe(H){if(!H?.includes("?"))return{};const[P,...V]=H.split("?");return(0,oe.zd)(V.join("?"))}function We(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.aw)("no-auth-event")}}function kt(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function rr(H=(0,oe.z$)()){return!("file:"!==kt()&&"ionic:"!==kt()&&"capacitor:"!==kt()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function ti(){try{const H=self.localStorage,P=x.aI();if(H)return H.setItem(P,"1"),H.removeItem(P),!function ei(H=(0,oe.z$)()){return function mr(){return(0,oe.w1)()&&11===document?.documentMode}()||function Dn(H=(0,oe.z$)()){return/Edge\/\d+/.test(H)}(H)}()||(0,oe.hl)()}catch{return _r()&&(0,oe.hl)()}return!1}function _r(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function An(){return(function At(){return"http:"===kt()||"https:"===kt()}()||(0,oe.ru)()||rr())&&!function Xr(){return(0,oe.b$)()||(0,oe.UG)()}()&&ti()&&!_r()}function Gr(){return rr()&&typeof document<"u"}function Ke(){return(Ke=(0,u.Z)(function*(){return!!Gr()&&new Promise(H=>{const P=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),H(!0)})})})).apply(this,arguments)}const kn={LOCAL:"local",NONE:"none",SESSION:"session"},an=x.ax,Qn="persistence";function ln(H){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(H){yield H._initializationPromise;const P=ot(),V=x.aA(Qn,H.config.apiKey,H.name);P&&P.setItem(V,H._getPersistence())})).apply(this,arguments)}function ot(){var H;try{return(null===(H=function jn(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const at=x.ax;class Et{constructor(){this.browserResolver=x.az(x.k),this.cordovaResolver=x.az(class zt{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize(P){var V=this;return(0,u.Z)(function*(){const re=P._key();let Oe=V.eventManagers.get(re);return Oe||(Oe=new Re(P),V.eventManagers.set(re,Oe),V.attachCallbackListeners(P,Oe)),Oe})()}_openPopup(P){(0,x.as)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,V,re,Oe){var Xe=this;return(0,u.Z)(function*(){!function Ee(H){var P,V,re,Oe,Xe,et,Se,ke,Ct,Jt;const It=he();(0,x.ax)("function"==typeof(null===(P=It?.universalLinks)||void 0===P?void 0:P.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.ax)(typeof(null===(V=It?.BuildInfo)||void 0===V?void 0:V.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.ax)("function"==typeof(null===(Xe=null===(Oe=null===(re=It?.cordova)||void 0===re?void 0:re.plugins)||void 0===Oe?void 0:Oe.browsertab)||void 0===Xe?void 0:Xe.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(ke=null===(Se=null===(et=It?.cordova)||void 0===et?void 0:et.plugins)||void 0===Se?void 0:Se.browsertab)||void 0===ke?void 0:ke.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(Jt=null===(Ct=It?.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===Jt?void 0:Jt.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const et=yield Xe._initialize(P);yield et.initialized(),et.resetRedirect(),(0,x.aD)(),yield Xe._originValidation(P);const Se=function we(H,P,V=null){return{type:P,eventId:V,urlResponse:null,sessionId:J(),postBody:null,tenantId:H.tenantId,error:(0,x.aw)(H,"no-auth-event")}}(P,re,Oe);yield function $e(H,P){return ee()._set(pe(H),P)}(P,Se);const ke=yield function K(H,P,V){return z.apply(this,arguments)}(P,Se,V),Ct=yield function Pe(H){const{cordova:P}=he();return new Promise(V=>{P.plugins.browsertab.isAvailable(re=>{let Oe=null;re?P.plugins.browsertab.openUrl(H):Oe=P.InAppBrowser.open(H,(0,x.av)()?"_blank":"_system","location=yes"),V(Oe)})})}(ke);return function Ce(H,P,V){return Je.apply(this,arguments)}(P,et,Ct)})()}_isIframeWebStorageSupported(P,V){throw new Error("Method not implemented.")}_originValidation(P){const V=P._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function X(H){return Ve.apply(this,arguments)}(P)),this.originValidationPromises[V]}attachCallbackListeners(P,V){const{universalLinks:re,handleOpenURL:Oe,BuildInfo:Xe}=he(),et=setTimeout((0,u.Z)(function*(){yield se(P),V.onEvent(We())}),500),Se=function(){var Jt=(0,u.Z)(function*(It){clearTimeout(et);const Xt=yield se(P);let yi=null;Xt&&It?.url&&(yi=function ye(H,P){var V,re;const Oe=function Le(H){const P=Fe(H),V=P.link?decodeURIComponent(P.link):void 0,re=Fe(V).link,Oe=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return Fe(Oe).link||Oe||re||V||H}(P);if(Oe.includes("/__/auth/callback")){const Xe=Fe(Oe),et=Xe.firebaseError?function ae(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(Xe.firebaseError)):null,Se=null===(re=null===(V=et?.code)||void 0===V?void 0:V.split("auth/"))||void 0===re?void 0:re[1],ke=Se?(0,x.aw)(Se):null;return ke?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:Oe,postBody:null}}return null}(Xt,It.url)),V.onEvent(yi||We())});return function(Xt){return Jt.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,Se);const ke=Oe,Ct=`${Xe.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var Jt=(0,u.Z)(function*(It){if(It.toLowerCase().startsWith(Ct)&&Se({url:It}),"function"==typeof ke)try{ke(It)}catch(Xt){console.error(Xt)}});return function(It){return Jt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize(P){var V=this;return(0,u.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,V,re,Oe){var Xe=this;return(0,u.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._openPopup(P,V,re,Oe)})()}_openRedirect(P,V,re,Oe){var Xe=this;return(0,u.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._openRedirect(P,V,re,Oe)})()}_isIframeWebStorageSupported(P,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,V)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return Gr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return at(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,u.Z)(function*(){if(P.underlyingResolver)return;const V=yield function ni(){return Ke.apply(this,arguments)}();P.underlyingResolver=V?P.cordovaResolver:P.browserResolver})()}}function yr(H){return H.unwrap()}function lr(H){return cr(H)}function cr(H){const{_tokenResponse:P}=H instanceof oe.ZR?H.customData:H;if(!P)return null;if(!(H instanceof oe.ZR)&&"temporaryProof"in P&&"phoneNumber"in P)return x.P.credentialFromResult(H);const V=P.providerId;if(!V||V===x.o.PASSWORD)return null;let re;switch(V){case x.o.GOOGLE:re=x.Q;break;case x.o.FACEBOOK:re=x.N;break;case x.o.GITHUB:re=x.T;break;case x.o.TWITTER:re=x.W;break;default:const{oauthIdToken:Oe,oauthAccessToken:Xe,oauthTokenSecret:et,pendingToken:Se,nonce:ke}=P;return Xe||et||Oe||Se?Se?V.startsWith("saml.")?x.aL._create(V,Se):x.J._fromParams({providerId:V,signInMethod:V,pendingToken:Se,idToken:Oe,accessToken:Xe}):new x.U(V).credential({idToken:Oe,accessToken:Xe,rawNonce:ke}):null}return H instanceof oe.ZR?re.credentialFromError(H):re.credentialFromResult(H)}function Dt(H,P){return P.catch(V=>{throw V instanceof oe.ZR&&function _t(H,P){var V,re;const Oe=null===(V=P.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===(null===(re=P)||void 0===re?void 0:re.code))P.resolver=new Kn(H,x.an(H,P));else if(Oe){const Xe=cr(P),et=P;Xe&&(et.credential=Xe,et.tenantId=Oe.tenantId||void 0,et.email=Oe.email||void 0,et.phoneNumber=Oe.phoneNumber||void 0)}}(H,V),V}).then(V=>{const Oe=V.user;return{operationType:V.operationType,credential:lr(V),additionalUserInfo:x.al(V),user:yn.getOrCreate(Oe)}})}function br(H,P){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,u.Z)(function*(H,P){const V=yield P;return{verificationId:V.verificationId,confirm:re=>Dt(H,V.confirm(re))}})).apply(this,arguments)}class Kn{constructor(P,V){this.resolver=V,this.auth=function Ln(H){return H.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return Dt(yr(this.auth),this.resolver.resolveSignIn(P))}}class yn{constructor(P){this._delegate=P,this.multiFactor=x.ao(P)}static getOrCreate(P){return yn.USER_MAP.has(P)||yn.USER_MAP.set(P,new yn(P)),yn.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var V=this;return(0,u.Z)(function*(){return Dt(V.auth,x.Z(V._delegate,P))})()}linkWithPhoneNumber(P,V){var re=this;return(0,u.Z)(function*(){return br(re.auth,x.l(re._delegate,P,V))})()}linkWithPopup(P){var V=this;return(0,u.Z)(function*(){return Dt(V.auth,x.d(V._delegate,P,Et))})()}linkWithRedirect(P){var V=this;return(0,u.Z)(function*(){return yield ln(x.aE(V.auth)),x.g(V._delegate,P,Et)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var V=this;return(0,u.Z)(function*(){return Dt(V.auth,x._(V._delegate,P))})()}reauthenticateWithPhoneNumber(P,V){return br(this.auth,x.r(this._delegate,P,V))}reauthenticateWithPopup(P){return Dt(this.auth,x.e(this._delegate,P,Et))}reauthenticateWithRedirect(P){var V=this;return(0,u.Z)(function*(){return yield ln(x.aE(V.auth)),x.h(V._delegate,P,Et)})()}sendEmailVerification(P){return x.ab(this._delegate,P)}unlink(P){var V=this;return(0,u.Z)(function*(){return yield x.ak(V._delegate,P),V})()}updateEmail(P){return x.ag(this._delegate,P)}updatePassword(P){return x.ah(this._delegate,P)}updatePhoneNumber(P){return x.u(this._delegate,P)}updateProfile(P){return x.af(this._delegate,P)}verifyBeforeUpdateEmail(P,V){return x.ac(this._delegate,P,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yn.USER_MAP=new WeakMap;const qe=x.ax;let De=(()=>{class H{constructor(V,re){if(this.app=V,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Oe}=V.options;qe(Oe,"invalid-api-key",{appName:V.name}),qe(Oe,"invalid-api-key",{appName:V.name});const Xe=typeof window<"u"?Et:void 0;this._delegate=re.initialize({options:{persistence:pt(Oe,V.name),popupRedirectResolver:Xe}}),this._delegate._updateErrorMap(x.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,re){x.G(this._delegate,V,re)}applyActionCode(V){return x.a2(this._delegate,V)}checkActionCode(V){return x.a3(this._delegate,V)}confirmPasswordReset(V,re){return x.a1(this._delegate,V,re)}createUserWithEmailAndPassword(V,re){var Oe=this;return(0,u.Z)(function*(){return Dt(Oe._delegate,x.a5(Oe._delegate,V,re))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return x.aa(this._delegate,V)}isSignInWithEmailLink(V){return x.a8(this._delegate,V)}getRedirectResult(){var V=this;return(0,u.Z)(function*(){qe(An(),V._delegate,"operation-not-supported-in-this-environment");const re=yield x.j(V._delegate,Et);return re?Dt(V._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function Qt(H,P){(0,x.aE)(H)._logFramework(P)}(this._delegate,V)}onAuthStateChanged(V,re,Oe){const{next:Xe,error:et,complete:Se}=Ye(V,re,Oe);return this._delegate.onAuthStateChanged(Xe,et,Se)}onIdTokenChanged(V,re,Oe){const{next:Xe,error:et,complete:Se}=Ye(V,re,Oe);return this._delegate.onIdTokenChanged(Xe,et,Se)}sendSignInLinkToEmail(V,re){return x.a7(this._delegate,V,re)}sendPasswordResetEmail(V,re){return x.a0(this._delegate,V,re||void 0)}setPersistence(V){var re=this;return(0,u.Z)(function*(){let Oe;switch(function ds(H,P){an(Object.values(kn).includes(P),H,"invalid-persistence-type"),(0,oe.b$)()?an(P!==kn.SESSION,H,"unsupported-persistence-type"):(0,oe.UG)()?an(P===kn.NONE,H,"unsupported-persistence-type"):_r()?an(P===kn.NONE||P===kn.LOCAL&&(0,oe.hl)(),H,"unsupported-persistence-type"):an(P===kn.NONE||ti(),H,"unsupported-persistence-type")}(re._delegate,V),V){case kn.SESSION:Oe=x.a;break;case kn.LOCAL:Oe=(yield x.az(x.i)._isAvailable())?x.i:x.b;break;case kn.NONE:Oe=x.L;break;default:return x.as("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(Oe)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return Dt(this._delegate,x.X(this._delegate))}signInWithCredential(V){return Dt(this._delegate,x.Y(this._delegate,V))}signInWithCustomToken(V){return Dt(this._delegate,x.$(this._delegate,V))}signInWithEmailAndPassword(V,re){return Dt(this._delegate,x.a6(this._delegate,V,re))}signInWithEmailLink(V,re){return Dt(this._delegate,x.a9(this._delegate,V,re))}signInWithPhoneNumber(V,re){return br(this._delegate,x.s(this._delegate,V,re))}signInWithPopup(V){var re=this;return(0,u.Z)(function*(){return qe(An(),re._delegate,"operation-not-supported-in-this-environment"),Dt(re._delegate,x.c(re._delegate,V,Et))})()}signInWithRedirect(V){var re=this;return(0,u.Z)(function*(){return qe(An(),re._delegate,"operation-not-supported-in-this-environment"),yield ln(re._delegate),x.f(re._delegate,V,Et)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return x.a4(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=kn,H})();function Ye(H,P,V){let re=H;"function"!=typeof H&&({next:re,error:P,complete:V}=H);const Oe=re;return{next:et=>Oe(et&&yn.getOrCreate(et)),error:P,complete:V}}function pt(H,P){const V=function tn(H,P){const V=ot();if(!V)return[];const re=x.aA(Qn,H,P);switch(V.getItem(re)){case kn.NONE:return[x.L];case kn.LOCAL:return[x.i,x.a];case kn.SESSION:return[x.a];default:return[]}}(H,P);if(typeof self<"u"&&!V.includes(x.i)&&V.push(x.i),typeof window<"u")for(const re of[x.b,x.a])V.includes(re)||V.push(re);return V.includes(x.L)||V.push(x.L),V}class gt{constructor(){this.providerId="phone",this._delegate=new x.P(yr(j.Z.auth()))}static credential(P,V){return x.P.credential(P,V)}verifyPhoneNumber(P,V){return this._delegate.verifyPhoneNumber(P,V)}unwrap(){return this._delegate}}gt.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,gt.PROVIDER_ID=x.P.PROVIDER_ID;const Bt=x.ax;class G{constructor(P,V,re=j.Z.app()){var Oe;Bt(null===(Oe=re.options)||void 0===Oe?void 0:Oe.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new x.R(P,V,re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y(H){H.INTERNAL.registerComponent(new fe.wA("auth-compat",P=>{const V=P.getProvider("app-compat").getImmediate(),re=P.getProvider("auth");return new De(V,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.M,FacebookAuthProvider:x.N,GithubAuthProvider:x.T,GoogleAuthProvider:x.Q,OAuthProvider:x.U,SAMLAuthProvider:x.V,PhoneAuthProvider:gt,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:G,TwitterAuthProvider:x.W,Auth:De,AuthCredential:x.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.2.24")}(j.Z)},9751:(rt,Ie,L)=>{L.d(Ie,{y:()=>he});var u=L(930),j=L(727),x=L(8822),oe=L(9635),ce=L(2416),me=L(576),fe=L(2806);let he=(()=>{class X{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const Ce=new X;return Ce.source=this,Ce.operator=Pe,Ce}subscribe(Pe,Ce,Je){const Ee=function z(X){return X&&X instanceof u.Lv||function K(X){return X&&(0,me.m)(X.next)&&(0,me.m)(X.error)&&(0,me.m)(X.complete)}(X)&&(0,j.Nn)(X)}(Pe)?Pe:new u.Hp(Pe,Ce,Je);return(0,fe.x)(()=>{const{operator:ge,source:Ze}=this;Ee.add(ge?ge.call(Ee,Ze):Ze?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Ce){Pe.error(Ce)}}forEach(Pe,Ce){return new(Ce=_e(Ce))((Je,Ee)=>{const ge=new u.Hp({next:Ze=>{try{Pe(Ze)}catch(Ge){Ee(Ge),ge.unsubscribe()}},error:Ee,complete:Je});this.subscribe(ge)})}_subscribe(Pe){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Pe)}[x.L](){return this}pipe(...Pe){return(0,oe.U)(Pe)(this)}toPromise(Pe){return new(Pe=_e(Pe))((Ce,Je)=>{let Ee;this.subscribe(ge=>Ee=ge,ge=>Je(ge),()=>Ce(Ee))})}}return X.create=Ve=>new X(Ve),X})();function _e(X){var Ve;return null!==(Ve=X??ce.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(rt,Ie,L)=>{L.d(Ie,{x:()=>fe});var u=L(9751),j=L(727);const oe=(0,L(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=L(8737),me=L(2806);let fe=(()=>{class _e extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const X=new he(this,this);return X.operator=z,X}_throwIfClosed(){if(this.closed)throw new oe}next(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(z)}})}error(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:X}=this;for(;X.length;)X.shift().error(z)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:X,isStopped:Ve,observers:Pe}=this;return X||Ve?j.Lc:(this.currentObservers=null,Pe.push(z),new j.w0(()=>{this.currentObservers=null,(0,ce.P)(Pe,z)}))}_checkFinalizedStatuses(z){const{hasError:X,thrownError:Ve,isStopped:Pe}=this;X?z.error(Ve):Pe&&z.complete()}asObservable(){const z=new u.y;return z.source=this,z}}return _e.create=(K,z)=>new he(K,z),_e})();class he extends fe{constructor(K,z){super(),this.destination=K,this.source=z}next(K){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===X||X.call(z,K)}error(K){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===X||X.call(z,K)}complete(){var K,z;null===(z=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===z||z.call(K)}_subscribe(K){var z,X;return null!==(X=null===(z=this.source)||void 0===z?void 0:z.subscribe(K))&&void 0!==X?X:j.Lc}}},930:(rt,Ie,L)=>{L.d(Ie,{Hp:()=>Je,Lv:()=>X});var u=L(576),j=L(727),x=L(2416),oe=L(7849),ce=L(5032);const me=_e("C",void 0,void 0);function _e(Ne,Re,we){return{kind:Ne,value:Re,error:we}}var K=L(3410),z=L(2806);class X extends j.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,j.Nn)(Re)&&Re.add(this)):this.destination=Ge}static create(Re,we,$e){return new Je(Re,we,$e)}next(Re){this.isStopped?Ze(function he(Ne){return _e("N",Ne,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Ze(function fe(Ne){return _e("E",void 0,Ne)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Ze(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Pe(Ne,Re){return Ve.call(Ne,Re)}class Ce{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:we}=this;if(we.next)try{we.next(Re)}catch($e){Ee($e)}}error(Re){const{partialObserver:we}=this;if(we.error)try{we.error(Re)}catch($e){Ee($e)}else Ee(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(we){Ee(we)}}}class Je extends X{constructor(Re,we,$e){let se;if(super(),(0,u.m)(Re)||!Re)se={next:Re??void 0,error:we??void 0,complete:$e??void 0};else{let ue;this&&x.v.useDeprecatedNextContext?(ue=Object.create(Re),ue.unsubscribe=()=>this.unsubscribe(),se={next:Re.next&&Pe(Re.next,ue),error:Re.error&&Pe(Re.error,ue),complete:Re.complete&&Pe(Re.complete,ue)}):se=Re}this.destination=new Ce(se)}}function Ee(Ne){x.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ne):(0,oe.h)(Ne)}function Ze(Ne,Re){const{onStoppedNotification:we}=x.v;we&&K.z.setTimeout(()=>we(Ne,Re))}const Ge={closed:!0,next:ce.Z,error:function ge(Ne){throw Ne},complete:ce.Z}},727:(rt,Ie,L)=>{L.d(Ie,{Lc:()=>me,w0:()=>ce,Nn:()=>fe});var u=L(576);const x=(0,L(3888).d)(_e=>function(z){_e(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((X,Ve)=>`${Ve+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var oe=L(8737);class ce{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Pe of z)Pe.remove(this);else z.remove(this);const{initialTeardown:X}=this;if((0,u.m)(X))try{X()}catch(Pe){K=Pe instanceof x?Pe.errors:[Pe]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Pe of Ve)try{he(Pe)}catch(Ce){K=K??[],Ce instanceof x?K=[...K,...Ce.errors]:K.push(Ce)}}if(K)throw new x(K)}}add(K){var z;if(K&&K!==this)if(this.closed)he(K);else{if(K instanceof ce){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(K)}}_hasParent(K){const{_parentage:z}=this;return z===K||Array.isArray(z)&&z.includes(K)}_addParent(K){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(K),z):z?[z,K]:K}_removeParent(K){const{_parentage:z}=this;z===K?this._parentage=null:Array.isArray(z)&&(0,oe.P)(z,K)}remove(K){const{_finalizers:z}=this;z&&(0,oe.P)(z,K),K instanceof ce&&K._removeParent(this)}}ce.EMPTY=(()=>{const _e=new ce;return _e.closed=!0,_e})();const me=ce.EMPTY;function fe(_e){return _e instanceof ce||_e&&"closed"in _e&&(0,u.m)(_e.remove)&&(0,u.m)(_e.add)&&(0,u.m)(_e.unsubscribe)}function he(_e){(0,u.m)(_e)?_e():_e.unsubscribe()}},2416:(rt,Ie,L)=>{L.d(Ie,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,Ie,L)=>{L.d(Ie,{E:()=>j});const j=new(L(9751).y)(ce=>ce.complete())},8996:(rt,Ie,L)=>{L.d(Ie,{D:()=>Re});var u=L(8421),j=L(5363),x=L(9468),me=L(9751),he=L(2202),_e=L(576),K=L(9672);function X(we,$e){if(!we)throw new Error("Iterable cannot be null");return new me.y(se=>{(0,K.f)(se,$e,()=>{const ue=we[Symbol.asyncIterator]();(0,K.f)(se,$e,()=>{ue.next().then(ye=>{ye.done?se.complete():se.next(ye.value)})},0,!0)})})}var Ve=L(3670),Pe=L(8239),Ce=L(1144),Je=L(6495),Ee=L(2206),ge=L(4532),Ze=L(3260);function Re(we,$e){return $e?function Ne(we,$e){if(null!=we){if((0,Ve.c)(we))return function oe(we,$e){return(0,u.Xf)(we).pipe((0,x.R)($e),(0,j.Q)($e))}(we,$e);if((0,Ce.z)(we))return function fe(we,$e){return new me.y(se=>{let ue=0;return $e.schedule(function(){ue===we.length?se.complete():(se.next(we[ue++]),se.closed||this.schedule())})})}(we,$e);if((0,Pe.t)(we))return function ce(we,$e){return(0,u.Xf)(we).pipe((0,x.R)($e),(0,j.Q)($e))}(we,$e);if((0,Ee.D)(we))return X(we,$e);if((0,Je.T)(we))return function z(we,$e){return new me.y(se=>{let ue;return(0,K.f)(se,$e,()=>{ue=we[he.h](),(0,K.f)(se,$e,()=>{let ye,J;try{({value:ye,done:J}=ue.next())}catch(ee){return void se.error(ee)}J?se.complete():se.next(ye)},0,!0)}),()=>(0,_e.m)(ue?.return)&&ue.return()})}(we,$e);if((0,Ze.L)(we))return function Ge(we,$e){return X((0,Ze.Q)(we),$e)}(we,$e)}throw(0,ge.z)(we)}(we,$e):(0,u.Xf)(we)}},8421:(rt,Ie,L)=>{L.d(Ie,{Xf:()=>Ve});var u=L(655),j=L(1144),x=L(8239),oe=L(9751),ce=L(3670),me=L(2206),fe=L(4532),he=L(6495),_e=L(3260),K=L(576),z=L(7849),X=L(8822);function Ve(Ne){if(Ne instanceof oe.y)return Ne;if(null!=Ne){if((0,ce.c)(Ne))return function Pe(Ne){return new oe.y(Re=>{const we=Ne[X.L]();if((0,K.m)(we.subscribe))return we.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,j.z)(Ne))return function Ce(Ne){return new oe.y(Re=>{for(let we=0;we<Ne.length&&!Re.closed;we++)Re.next(Ne[we]);Re.complete()})}(Ne);if((0,x.t)(Ne))return function Je(Ne){return new oe.y(Re=>{Ne.then(we=>{Re.closed||(Re.next(we),Re.complete())},we=>Re.error(we)).then(null,z.h)})}(Ne);if((0,me.D)(Ne))return ge(Ne);if((0,he.T)(Ne))return function Ee(Ne){return new oe.y(Re=>{for(const we of Ne)if(Re.next(we),Re.closed)return;Re.complete()})}(Ne);if((0,_e.L)(Ne))return function Ze(Ne){return ge((0,_e.Q)(Ne))}(Ne)}throw(0,fe.z)(Ne)}function ge(Ne){return new oe.y(Re=>{(function Ge(Ne,Re){var we,$e,se,ue;return(0,u.mG)(this,void 0,void 0,function*(){try{for(we=(0,u.KL)(Ne);!($e=yield we.next()).done;)if(Re.next($e.value),Re.closed)return}catch(ye){se={error:ye}}finally{try{$e&&!$e.done&&(ue=we.return)&&(yield ue.call(we))}finally{if(se)throw se.error}}Re.complete()})})(Ne,Re).catch(we=>Re.error(we))})}},6451:(rt,Ie,L)=>{L.d(Ie,{T:()=>me});var u=L(8189),j=L(8421),x=L(515),oe=L(3269),ce=L(8996);function me(...fe){const he=(0,oe.yG)(fe),_e=(0,oe._6)(fe,1/0),K=fe;return K.length?1===K.length?(0,j.Xf)(K[0]):(0,u.J)(_e)((0,ce.D)(K,he)):x.E}},5403:(rt,Ie,L)=>{L.d(Ie,{x:()=>j});var u=L(930);function j(oe,ce,me,fe,he){return new x(oe,ce,me,fe,he)}class x extends u.Lv{constructor(ce,me,fe,he,_e,K){super(ce),this.onFinalize=_e,this.shouldUnsubscribe=K,this._next=me?function(z){try{me(z)}catch(X){ce.error(X)}}:super._next,this._error=he?function(z){try{he(z)}catch(X){ce.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(z){ce.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(rt,Ie,L)=>{L.d(Ie,{U:()=>x});var u=L(4482),j=L(5403);function x(oe,ce){return(0,u.e)((me,fe)=>{let he=0;me.subscribe((0,j.x)(fe,_e=>{fe.next(oe.call(ce,_e,he++))}))})}},8189:(rt,Ie,L)=>{L.d(Ie,{J:()=>x});var u=L(5577),j=L(4671);function x(oe=1/0){return(0,u.z)(j.y,oe)}},5577:(rt,Ie,L)=>{L.d(Ie,{z:()=>he});var u=L(4004),j=L(8421),x=L(4482),oe=L(9672),ce=L(5403),fe=L(576);function he(_e,K,z=1/0){return(0,fe.m)(K)?he((X,Ve)=>(0,u.U)((Pe,Ce)=>K(X,Pe,Ve,Ce))((0,j.Xf)(_e(X,Ve))),z):("number"==typeof K&&(z=K),(0,x.e)((X,Ve)=>function me(_e,K,z,X,Ve,Pe,Ce,Je){const Ee=[];let ge=0,Ze=0,Ge=!1;const Ne=()=>{Ge&&!Ee.length&&!ge&&K.complete()},Re=$e=>ge<X?we($e):Ee.push($e),we=$e=>{Pe&&K.next($e),ge++;let se=!1;(0,j.Xf)(z($e,Ze++)).subscribe((0,ce.x)(K,ue=>{Ve?.(ue),Pe?Re(ue):K.next(ue)},()=>{se=!0},void 0,()=>{if(se)try{for(ge--;Ee.length&&ge<X;){const ue=Ee.shift();Ce?(0,oe.f)(K,Ce,()=>we(ue)):we(ue)}Ne()}catch(ue){K.error(ue)}}))};return _e.subscribe((0,ce.x)(K,Re,()=>{Ge=!0,Ne()})),()=>{Je?.()}}(X,Ve,_e,z)))}},5363:(rt,Ie,L)=>{L.d(Ie,{Q:()=>oe});var u=L(9672),j=L(4482),x=L(5403);function oe(ce,me=0){return(0,j.e)((fe,he)=>{fe.subscribe((0,x.x)(he,_e=>(0,u.f)(he,ce,()=>he.next(_e),me),()=>(0,u.f)(he,ce,()=>he.complete(),me),_e=>(0,u.f)(he,ce,()=>he.error(_e),me)))})}},3099:(rt,Ie,L)=>{L.d(Ie,{B:()=>ce});var u=L(8421),j=L(7579),x=L(930),oe=L(4482);function ce(fe={}){const{connector:he=(()=>new j.x),resetOnError:_e=!0,resetOnComplete:K=!0,resetOnRefCountZero:z=!0}=fe;return X=>{let Ve,Pe,Ce,Je=0,Ee=!1,ge=!1;const Ze=()=>{Pe?.unsubscribe(),Pe=void 0},Ge=()=>{Ze(),Ve=Ce=void 0,Ee=ge=!1},Ne=()=>{const Re=Ve;Ge(),Re?.unsubscribe()};return(0,oe.e)((Re,we)=>{Je++,!ge&&!Ee&&Ze();const $e=Ce=Ce??he();we.add(()=>{Je--,0===Je&&!ge&&!Ee&&(Pe=me(Ne,z))}),$e.subscribe(we),!Ve&&Je>0&&(Ve=new x.Hp({next:se=>$e.next(se),error:se=>{ge=!0,Ze(),Pe=me(Ge,_e,se),$e.error(se)},complete:()=>{Ee=!0,Ze(),Pe=me(Ge,K),$e.complete()}}),(0,u.Xf)(Re).subscribe(Ve))})(X)}}function me(fe,he,..._e){if(!0===he)return void fe();if(!1===he)return;const K=new x.Hp({next:()=>{K.unsubscribe(),fe()}});return he(..._e).subscribe(K)}},9468:(rt,Ie,L)=>{L.d(Ie,{R:()=>j});var u=L(4482);function j(x,oe=0){return(0,u.e)((ce,me)=>{me.add(x.schedule(()=>ce.subscribe(me),oe))})}},8505:(rt,Ie,L)=>{L.d(Ie,{b:()=>ce});var u=L(576),j=L(4482),x=L(5403),oe=L(4671);function ce(me,fe,he){const _e=(0,u.m)(me)||fe||he?{next:me,error:fe,complete:he}:me;return _e?(0,j.e)((K,z)=>{var X;null===(X=_e.subscribe)||void 0===X||X.call(_e);let Ve=!0;K.subscribe((0,x.x)(z,Pe=>{var Ce;null===(Ce=_e.next)||void 0===Ce||Ce.call(_e,Pe),z.next(Pe)},()=>{var Pe;Ve=!1,null===(Pe=_e.complete)||void 0===Pe||Pe.call(_e),z.complete()},Pe=>{var Ce;Ve=!1,null===(Ce=_e.error)||void 0===Ce||Ce.call(_e,Pe),z.error(Pe)},()=>{var Pe,Ce;Ve&&(null===(Pe=_e.unsubscribe)||void 0===Pe||Pe.call(_e)),null===(Ce=_e.finalize)||void 0===Ce||Ce.call(_e)}))}):oe.y}},4408:(rt,Ie,L)=>{L.d(Ie,{o:()=>ce});var u=L(727);class j extends u.w0{constructor(fe,he){super()}schedule(fe,he=0){return this}}const x={setInterval(me,fe,...he){const{delegate:_e}=x;return _e?.setInterval?_e.setInterval(me,fe,...he):setInterval(me,fe,...he)},clearInterval(me){const{delegate:fe}=x;return(fe?.clearInterval||clearInterval)(me)},delegate:void 0};var oe=L(8737);class ce extends j{constructor(fe,he){super(fe,he),this.scheduler=fe,this.work=he,this.pending=!1}schedule(fe,he=0){var _e;if(this.closed)return this;this.state=fe;const K=this.id,z=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(z,K,he)),this.pending=!0,this.delay=he,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(z,this.id,he),this}requestAsyncId(fe,he,_e=0){return x.setInterval(fe.flush.bind(fe,this),_e)}recycleAsyncId(fe,he,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return he;null!=he&&x.clearInterval(he)}execute(fe,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(fe,he);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,he){let K,_e=!1;try{this.work(fe)}catch(z){_e=!0,K=z||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:fe,scheduler:he}=this,{actions:_e}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(_e,this),null!=fe&&(this.id=this.recycleAsyncId(he,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,Ie,L)=>{L.d(Ie,{v:()=>x});var u=L(6063);class j{constructor(ce,me=j.now){this.schedulerActionCtor=ce,this.now=me}schedule(ce,me=0,fe){return new this.schedulerActionCtor(this,ce).schedule(fe,me)}}j.now=u.l.now;class x extends j{constructor(ce,me=j.now){super(ce,me),this.actions=[],this._active=!1}flush(ce){const{actions:me}=this;if(this._active)return void me.push(ce);let fe;this._active=!0;do{if(fe=ce.execute(ce.state,ce.delay))break}while(ce=me.shift());if(this._active=!1,fe){for(;ce=me.shift();)ce.unsubscribe();throw fe}}}},4986:(rt,Ie,L)=>{L.d(Ie,{P:()=>oe,z:()=>x});var u=L(4408);const x=new(L(7565).v)(u.o),oe=x},6063:(rt,Ie,L)=>{L.d(Ie,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(rt,Ie,L)=>{L.d(Ie,{z:()=>u});const u={setTimeout(j,x,...oe){const{delegate:ce}=u;return ce?.setTimeout?ce.setTimeout(j,x,...oe):setTimeout(j,x,...oe)},clearTimeout(j){const{delegate:x}=u;return(x?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(rt,Ie,L)=>{L.d(Ie,{h:()=>j});const j=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,Ie,L)=>{L.d(Ie,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(rt,Ie,L)=>{L.d(Ie,{_6:()=>me,jO:()=>oe,yG:()=>ce});var u=L(576),j=L(3532);function x(fe){return fe[fe.length-1]}function oe(fe){return(0,u.m)(x(fe))?fe.pop():void 0}function ce(fe){return(0,j.K)(x(fe))?fe.pop():void 0}function me(fe,he){return"number"==typeof x(fe)?fe.pop():he}},8737:(rt,Ie,L)=>{function u(j,x){if(j){const oe=j.indexOf(x);0<=oe&&j.splice(oe,1)}}L.d(Ie,{P:()=>u})},3888:(rt,Ie,L)=>{function u(j){const oe=j(ce=>{Error.call(ce),ce.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}L.d(Ie,{d:()=>u})},2806:(rt,Ie,L)=>{L.d(Ie,{O:()=>oe,x:()=>x});var u=L(2416);let j=null;function x(ce){if(u.v.useDeprecatedSynchronousErrorHandling){const me=!j;if(me&&(j={errorThrown:!1,error:null}),ce(),me){const{errorThrown:fe,error:he}=j;if(j=null,fe)throw he}}else ce()}function oe(ce){u.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=ce)}},9672:(rt,Ie,L)=>{function u(j,x,oe,ce=0,me=!1){const fe=x.schedule(function(){oe(),me?j.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(j.add(fe),!me)return fe}L.d(Ie,{f:()=>u})},4671:(rt,Ie,L)=>{function u(j){return j}L.d(Ie,{y:()=>u})},1144:(rt,Ie,L)=>{L.d(Ie,{z:()=>u});const u=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(rt,Ie,L)=>{L.d(Ie,{D:()=>j});var u=L(576);function j(x){return Symbol.asyncIterator&&(0,u.m)(x?.[Symbol.asyncIterator])}},576:(rt,Ie,L)=>{function u(j){return"function"==typeof j}L.d(Ie,{m:()=>u})},3670:(rt,Ie,L)=>{L.d(Ie,{c:()=>x});var u=L(8822),j=L(576);function x(oe){return(0,j.m)(oe[u.L])}},6495:(rt,Ie,L)=>{L.d(Ie,{T:()=>x});var u=L(2202),j=L(576);function x(oe){return(0,j.m)(oe?.[u.h])}},8239:(rt,Ie,L)=>{L.d(Ie,{t:()=>j});var u=L(576);function j(x){return(0,u.m)(x?.then)}},3260:(rt,Ie,L)=>{L.d(Ie,{L:()=>oe,Q:()=>x});var u=L(655),j=L(576);function x(ce){return(0,u.FC)(this,arguments,function*(){const fe=ce.getReader();try{for(;;){const{value:he,done:_e}=yield(0,u.qq)(fe.read());if(_e)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(he)}}finally{fe.releaseLock()}})}function oe(ce){return(0,j.m)(ce?.getReader)}},3532:(rt,Ie,L)=>{L.d(Ie,{K:()=>j});var u=L(576);function j(x){return x&&(0,u.m)(x.schedule)}},4482:(rt,Ie,L)=>{L.d(Ie,{A:()=>j,e:()=>x});var u=L(576);function j(oe){return(0,u.m)(oe?.lift)}function x(oe){return ce=>{if(j(ce))return ce.lift(function(me){try{return oe(me,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,Ie,L)=>{function u(){}L.d(Ie,{Z:()=>u})},9635:(rt,Ie,L)=>{L.d(Ie,{U:()=>x,z:()=>j});var u=L(4671);function j(...oe){return x(oe)}function x(oe){return 0===oe.length?u.y:1===oe.length?oe[0]:function(me){return oe.reduce((fe,he)=>he(fe),me)}}},7849:(rt,Ie,L)=>{L.d(Ie,{h:()=>x});var u=L(2416),j=L(3410);function x(oe){j.z.setTimeout(()=>{const{onUnhandledError:ce}=u.v;if(!ce)throw oe;ce(oe)})}},4532:(rt,Ie,L)=>{function u(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ie,{z:()=>u})},655:(rt,Ie,L)=>{function oe(J,ee){var pe={};for(var ae in J)Object.prototype.hasOwnProperty.call(J,ae)&&ee.indexOf(ae)<0&&(pe[ae]=J[ae]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ae=Object.getOwnPropertySymbols(J);Le<ae.length;Le++)ee.indexOf(ae[Le])<0&&Object.prototype.propertyIsEnumerable.call(J,ae[Le])&&(pe[ae[Le]]=J[ae[Le]])}return pe}function he(J,ee,pe,ae){return new(pe||(pe=Promise))(function(Fe,st){function zt(Qt){try{We(ae.next(Qt))}catch(hn){st(hn)}}function Ot(Qt){try{We(ae.throw(Qt))}catch(hn){st(hn)}}function We(Qt){Qt.done?Fe(Qt.value):function Le(Fe){return Fe instanceof pe?Fe:new pe(function(st){st(Fe)})}(Qt.value).then(zt,Ot)}We((ae=ae.apply(J,ee||[])).next())})}function Ee(J){return this instanceof Ee?(this.v=J,this):new Ee(J)}function ge(J,ee,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ae=pe.apply(J,ee||[]),Fe=[];return Le={},st("next"),st("throw"),st("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function st($t){ae[$t]&&(Le[$t]=function(Wt){return new Promise(function(kt,At){Fe.push([$t,Wt,kt,At])>1||zt($t,Wt)})})}function zt($t,Wt){try{!function Ot($t){$t.value instanceof Ee?Promise.resolve($t.value.v).then(We,Qt):hn(Fe[0][2],$t)}(ae[$t](Wt))}catch(kt){hn(Fe[0][3],kt)}}function We($t){zt("next",$t)}function Qt($t){zt("throw",$t)}function hn($t,Wt){$t(Wt),Fe.shift(),Fe.length&&zt(Fe[0][0],Fe[0][1])}}function Ge(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ee=J[Symbol.asyncIterator];return ee?ee.call(J):(J=function X(J){var ee="function"==typeof Symbol&&Symbol.iterator,pe=ee&&J[ee],ae=0;if(pe)return pe.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ae>=J.length&&(J=void 0),{value:J&&J[ae++],done:!J}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),pe={},ae("next"),ae("throw"),ae("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ae(Fe){pe[Fe]=J[Fe]&&function(st){return new Promise(function(zt,Ot){!function Le(Fe,st,zt,Ot){Promise.resolve(Ot).then(function(We){Fe({value:We,done:zt})},st)}(zt,Ot,(st=J[Fe](st)).done,st.value)})}}}L.d(Ie,{FC:()=>ge,KL:()=>Ge,_T:()=>oe,mG:()=>he,qq:()=>Ee})},4650:(rt,Ie,L)=>{L.d(Ie,{$8M:()=>Wa,$Z:()=>_m,AFp:()=>ow,AaK:()=>he,BQk:()=>Ai,CHM:()=>td,CRH:()=>K_,CZH:()=>Oh,CqO:()=>Po,D6c:()=>Oi,EJc:()=>ny,EpF:()=>wE,F4k:()=>bE,FYo:()=>Vd,FiY:()=>ve,G48:()=>r0,Gf:()=>GC,GfV:()=>Cv,GkF:()=>wr,Gpc:()=>z,JOm:()=>di,KtG:()=>to,LFG:()=>un,LSH:()=>vu,Lbi:()=>jI,Lck:()=>EC,MAs:()=>Ym,MMx:()=>Uu,NdJ:()=>rs,OlP:()=>gn,Oqu:()=>s_,PXZ:()=>JI,Q6J:()=>op,QGY:()=>Mu,QP$:()=>Oe,QbO:()=>lw,Qsj:()=>zb,R0b:()=>gi,RDi:()=>hb,Rgc:()=>Bu,SBq:()=>sc,Sil:()=>GI,Suo:()=>Ch,TTD:()=>ki,TgZ:()=>th,Tol:()=>LE,VKq:()=>x_,W1O:()=>Z_,WLB:()=>k_,X6Q:()=>n0,XFs:()=>Ke,Xpm:()=>De,Xts:()=>If,Y36:()=>cc,YKP:()=>yl,YNc:()=>sp,Yjl:()=>H,Yz7:()=>Wt,Z0I:()=>Xr,ZZ4:()=>yy,_Bn:()=>M_,_UZ:()=>or,_Vd:()=>al,_c5:()=>Il,_uU:()=>i_,aQg:()=>gg,c2e:()=>$I,cJS:()=>At,cg1:()=>p_,dDg:()=>wl,dqk:()=>Et,eFA:()=>Lh,ekj:()=>gp,eoX:()=>kh,f3M:()=>ui,g9A:()=>rg,h0i:()=>_l,hGG:()=>Rr,iGM:()=>zC,ifc:()=>at,ip1:()=>X_,jDz:()=>wC,kL8:()=>iC,lG2:()=>Y,lqb:()=>ol,lri:()=>Jr,n5z:()=>Bi,oAB:()=>Bt,oxw:()=>pr,q4F:()=>wv,qLn:()=>cl,qOj:()=>tp,qZA:()=>nh,rWj:()=>xh,sBO:()=>s0,sIi:()=>np,s_b:()=>zp,soG:()=>ig,tb:()=>aw,tp0:()=>lt,uIk:()=>Gm,vHH:()=>Ce,vpe:()=>Us,wAp:()=>He,xp6:()=>Tv,ynx:()=>Pu,z2F:()=>ug,zSh:()=>tm,zs3:()=>Yi});var u=L(7579),j=L(727),x=L(9751),oe=L(6451),ce=L(3099);function me(i){for(let s in i)if(i[s]===me)return s;throw Error("Could not find renamed property on target object.")}function fe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function he(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(he).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function _e(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const K=me({__forward_ref__:me});function z(i){return i.__forward_ref__=z,i.toString=function(){return he(this())},i}function X(i){return Ve(i)?i():i}function Ve(i){return"function"==typeof i&&i.hasOwnProperty(K)&&i.__forward_ref__===z}class Ce extends Error{constructor(s,a){super(function Je(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function Ee(i){return"string"==typeof i?i:null==i?"":String(i)}function Re(i,s){throw new Ce(-201,!1)}function Ot(i,s){null==i&&function We(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Wt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function At(i){return{providers:i.providers||[],imports:i.imports||[]}}function rr(i){return mr(i,_r)||mr(i,Gr)}function Xr(i){return null!==rr(i)}function mr(i,s){return i.hasOwnProperty(s)?i[s]:null}function ti(i){return i&&(i.hasOwnProperty(An)||i.hasOwnProperty(ni))?i[An]:null}const _r=me({\u0275prov:me}),An=me({\u0275inj:me}),Gr=me({ngInjectableDef:me}),ni=me({ngInjectorDef:me});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let jn;function an(i){const s=jn;return jn=i,s}function Qn(i,s,a){const c=rr(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Ke.Optional?null:void 0!==s?s:void Re(he(i))}function ln(i){return{toString:i}.toString()}var fn=(()=>((fn=fn||{})[fn.OnPush=0]="OnPush",fn[fn.Default=1]="Default",fn))(),at=(()=>{return(i=at||(at={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",at;var i})();const Et=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lr={},_t=[],cr=me({\u0275cmp:me}),Dt=me({\u0275dir:me}),br=me({\u0275pipe:me}),Vt=me({\u0275mod:me}),Kn=me({\u0275fac:me}),yn=me({__NG_ELEMENT_ID__:me});let qe=0;function De(i){return ln(()=>{const a=!0===i.standalone,c={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===fn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||_t,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||at.Emulated,id:"c"+qe++,styles:i.styles||_t,_:null,setInput:null,schemas:i.schemas||null,tView:null},f=i.dependencies,_=i.features;return d.inputs=$(i.inputs,c),d.outputs=$(i.outputs),_&&_.forEach(E=>E(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(pt).filter(gt):null,d.pipeDefs=f?()=>("function"==typeof f?f():f).map(re).filter(gt):null,d})}function pt(i){return P(i)||V(i)}function gt(i){return null!==i}function Bt(i){return ln(()=>({type:i.type,bootstrap:i.bootstrap||_t,declarations:i.declarations||_t,imports:i.imports||_t,exports:i.exports||_t,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function $(i,s){if(null==i)return lr;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}const Y=De;function H(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function P(i){return i[cr]||null}function V(i){return i[Dt]||null}function re(i){return i[br]||null}function Oe(i){const s=P(i)||V(i)||re(i);return null!==s&&s.standalone}function Xe(i,s){const a=i[Vt]||null;if(!a&&!0===s)throw new Error(`Type ${he(i)} does not have '\u0275mod' property.`);return a}function $n(i){return Array.isArray(i)&&"object"==typeof i[1]}function Nr(i){return Array.isArray(i)&&!0===i[1]}function Gs(i){return 0!=(8&i.flags)}function Rl(i){return 2==(2&i.flags)}function Vo(i){return 1==(1&i.flags)}function Ir(i){return null!==i.template}function Pl(i){return 0!=(256&i[2])}function ir(i,s){return i.hasOwnProperty(Kn)?i[Kn]:null}class Qs{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ki(){return Wc}function Wc(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ml),Na}function Na(){const i=Js(this),s=i?.current;if(s){const a=i.previous;if(a===lr)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Ml(i,s,a,c){const d=Js(i)||function Bo(i,s){return i[zc]=s}(i,{previous:lr,current:null}),f=d.current||(d.current={}),_=d.previous,E=this.declaredInputs[a],w=_[E];f[E]=new Qs(w&&w.currentValue,s,_===lr),i[c]=s}ki.ngInherit=!0;const zc="__ngSimpleChanges__";function Js(i){return i[zc]||null}function In(i){for(;Array.isArray(i);)i=i[0];return i}function Kr(i,s){return In(s[i])}function Jn(i,s){return In(s[i.index])}function Xs(i,s){return i.data[s]}function Gt(i,s){const a=s[i];return $n(a)?a:a[0]}function Li(i){return 64==(64&i[2])}function Fr(i,s){return null==s?null:i[s]}function jo(i){i[18]=0}function Rn(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const bt={lFrame:Jo(null),bindingsEnabled:!0};function Es(){return bt.bindingsEnabled}function Ae(){return bt.lFrame.lView}function Ft(){return bt.lFrame.tView}function td(i){return bt.lFrame.contextLView=i,i[8]}function to(i){return bt.lFrame.contextLView=null,i}function Wn(){let i=no();for(;null!==i&&64===i.type;)i=i.parent;return i}function no(){return bt.lFrame.currentTNode}function vr(i,s){const a=bt.lFrame;a.currentTNode=i,a.isParent=s}function La(){return bt.lFrame.isParent}function ro(){bt.lFrame.isParent=!1}function zn(){const i=bt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function qo(){return bt.lFrame.bindingIndex++}function bi(i){const s=bt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function qc(i,s){const a=bt.lFrame;a.bindingIndex=a.bindingRootIndex=i,io(s)}function io(i){bt.lFrame.currentDirectiveIndex=i}function Yo(){return bt.lFrame.currentQueryIndex}function Fl(i){bt.lFrame.currentQueryIndex=i}function Qo(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Yc(i,s,a){if(a&Ke.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&Ke.Host||(d=Qo(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const c=bt.lFrame=id();return c.currentTNode=s,c.lView=i,!0}function so(i){const s=id(),a=i[1];bt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function id(){const i=bt.lFrame,s=null===i?null:i.child;return null===s?Jo(i):s}function Jo(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function sd(){const i=bt.lFrame;return bt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Qc=sd;function Fi(){const i=sd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function En(){return bt.lFrame.selectedIndex}function Di(i){bt.lFrame.selectedIndex=i}function vn(){const i=bt.lFrame;return Xs(i.tView,i.selectedIndex)}function Fa(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:w,ngAfterViewChecked:S,ngOnDestroy:M}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),E&&((i.contentHooks||(i.contentHooks=[])).push(a,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,E)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function oo(i,s,a){lo(i,s,3,a)}function ao(i,s,a,c){(3&i[2])===a&&lo(i,s,a,c)}function eu(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function lo(i,s,a,c){const f=c??-1,_=s.length-1;let E=0;for(let w=void 0!==c?65535&i[18]:0;w<_;w++)if("number"==typeof s[w+1]){if(E=s[w],null!=c&&E>=c)break}else s[w]<0&&(i[18]+=65536),(E<f||-1==f)&&(tu(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function tu(i,s,a,c){const d=a[c]<0,f=a[c+1],E=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(E)}finally{}}}else try{f.call(E)}finally{}}class Vr{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ii(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],_=a[c++],E=a[c++];i.setAttribute(s,_,E,f)}else{const f=d,_=a[++c];$l(f)?i.setProperty(s,f,_):i.setAttribute(s,f,_),c++}}return c}function ea(i){return 3===i||4===i||6===i}function $l(i){return 64===i.charCodeAt(0)}function ta(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||ru(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function ru(i,s,a,c,d){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const E=i[f++];if("number"==typeof E){if(E===s){_=-1;break}if(E>s){_=f-1;break}}}for(;f<i.length;){const E=i[f];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}function ld(i){return-1!==i}function Gn(i){return 32767&i}function Ui(i,s){let a=function cd(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let Wl=!0;function na(i){const s=Wl;return Wl=i,s}let iu=0;const Tr={};function Si(i,s){const a=Ha(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,zl(c.data,i),zl(s,null),zl(c.blueprint,null));const d=ra(i,s),f=i.injectorIndex;if(ld(d)){const _=Gn(d),E=Ui(d,s),w=E[1].data;for(let S=0;S<8;S++)s[f+S]=E[_+S]|w[_+S]}return s[f+8]=d,f}function zl(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ha(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ra(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=mo(d),null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function ws(i,s,a){!function su(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(yn)&&(c=a[yn]),null==c&&(c=a[yn]=iu++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function uo(i,s,a){if(a&Ke.Optional||void 0!==i)return i;Re()}function bs(i,s,a,c){if(a&Ke.Optional&&void 0===c&&(c=null),0==(a&(Ke.Self|Ke.Host))){const d=i[9],f=an(void 0);try{return d?d.get(s,c,a&Ke.Optional):Qn(s,c,a&Ke.Optional)}finally{an(f)}}return uo(c,0,a)}function ho(i,s,a,c=Ke.Default,d){if(null!==i){if(1024&s[2]){const _=function hd(i,s,a,c,d){let f=i,_=s;for(;null!==f&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=ou(f,_,a,c|Ke.Self,Tr);if(E!==Tr)return E;let w=f.parent;if(!w){const S=_[21];if(S){const M=S.get(a,Tr,c);if(M!==Tr)return M}w=mo(_),_=_[15]}f=w}return d}(i,s,a,c,Tr);if(_!==Tr)return _}const f=ou(i,s,a,c,Tr);if(f!==Tr)return f}return bs(s,a,c,d)}function ou(i,s,a,c,d){const f=function dd(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(yn)?i[yn]:void 0;return"number"==typeof s?s>=0?255&s:Gl:s}(a);if("function"==typeof f){if(!Yc(s,i,c))return c&Ke.Host?uo(d,0,c):bs(s,a,c,d);try{const _=f(c);if(null!=_||c&Ke.Optional)return _;Re()}finally{Qc()}}else if("number"==typeof f){let _=null,E=Ha(i,s),w=-1,S=c&Ke.Host?s[16][6]:null;for((-1===E||c&Ke.SkipSelf)&&(w=-1===E?ra(i,s):s[E+8],-1!==w&&$a(c,!1)?(_=s[1],E=Gn(w),s=Ui(w,s)):E=-1);-1!==E;){const M=s[1];if(fo(f,E,M.data)){const F=ja(E,s,a,_,c,S);if(F!==Tr)return F}w=s[E+8],-1!==w&&$a(c,s[1].data[E+8]===S)&&fo(f,E,s)?(_=M,E=Gn(w),s=Ui(w,s)):E=-1}}return d}function ja(i,s,a,c,d,f){const _=s[1],E=_.data[i+8],M=sa(E,_,a,null==c?Rl(E)&&Wl:c!=_&&0!=(3&E.type),d&Ke.Host&&f===E);return null!==M?si(s,_,M,E):Tr}function sa(i,s,a,c,d){const f=i.providerIndexes,_=s.data,E=1048575&f,w=i.directiveStart,M=f>>20,q=d?E+M:i.directiveEnd;for(let ie=c?E:E+M;ie<q;ie++){const be=_[ie];if(ie<w&&a===be||ie>=w&&be.type===a)return ie}if(d){const ie=_[w];if(ie&&Ir(ie)&&ie.type===a)return w}return null}function si(i,s,a,c){let d=i[a];const f=s.data;if(function jl(i){return i instanceof Vr}(d)){const _=d;_.resolving&&function Ze(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${i}${a}`)}(function ge(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ee(i)}(f[a]));const E=na(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?an(_.injectImpl):null;Yc(i,c,Ke.Default);try{d=i[a]=_.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function Hl(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const _=Wc(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&an(w),na(E),_.resolving=!1,Qc()}}return d}function fo(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function $a(i,s){return!(i&Ke.Self||i&Ke.Host&&s)}class po{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return ho(this._tNode,this._lView,s,c,a)}}function Gl(){return new po(Wn(),Ae())}function Bi(i){return ln(()=>{const s=i.prototype.constructor,a=s[Kn]||go(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Kn]||go(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function go(i){return Ve(i)?()=>{const s=go(X(i));return s&&s()}:ir(i)}function mo(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function Wa(i){return function ia(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(ea(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(Wn(),i)}const _o="__parameters__";function vo(i,s,a){return ln(()=>{const c=function Kl(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const _=new d(...f);return E.annotation=_,E;function E(w,S,M){const F=w.hasOwnProperty(_o)?w[_o]:Object.defineProperty(w,_o,{value:[]})[_o];for(;F.length<=M;)F.push(null);return(F[M]=F[M]||[]).push(_),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class gn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Wt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _n(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),_n(c,s)):s!==i&&s.push(c)}return s}function Ti(i,s){i.forEach(a=>Array.isArray(a)?Ti(a,s):s(a))}function Is(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Zn(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ut(i,s,a){let c=li(i,s);return c>=0?i[1|c]=a:(c=~c,function gd(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Zl(i,s){const a=li(i,s);if(a>=0)return i[1|a]}function li(i,s){return function oa(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),_=i[f<<a];if(s===_)return f<<a;_>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const qr={},qa="__NG_DI_FLAG__",$i="ngTempTokenPath",dr=/\n/gm,cn="__source";let As;function Rs(i){const s=As;return As=i,s}function On(i,s=Ke.Default){if(void 0===As)throw new Ce(-203,!1);return null===As?Qn(i,void 0,s):As.get(i,s&Ke.Optional?null:void 0,s)}function un(i,s=Ke.Default){return(function kn(){return jn}()||On)(X(i),s)}function ui(i,s=Ke.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),un(i,s)}function b(i){const s=[];for(let a=0;a<i.length;a++){const c=X(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Ce(900,!1);let d,f=Ke.Default;for(let _=0;_<c.length;_++){const E=c[_],w=R(E);"number"==typeof w?-1===w?d=E.token:f|=w:d=E}s.push(un(d,f))}else s.push(un(c))}return s}function I(i,s){return i[qa]=s,i.prototype[qa]=s,i}function R(i){return i[qa]}const ve=I(vo("Optional"),8),lt=I(vo("SkipSelf"),4);var di=(()=>((di=di||{})[di.Important=1]="Important",di[di.DashCase=2]="DashCase",di))();const Ql=new Map;let af=0;const p="__ngContext__";function m(i,s){$n(s)?(i[p]=s[20],function xg(i){Ql.set(i[20],i)}(s)):i[p]=s}function Jl(i,s){return undefined(i,s)}function ha(i){const s=i[3];return Nr(s)?s[3]:s}function fa(i){return hf(i[13])}function Do(i){return hf(i[4])}function hf(i){for(;null!==i&&!Nr(i);)i=i[4];return i}function nl(i,s,a,c,d){if(null!=c){let f,_=!1;Nr(c)?f=c:$n(c)&&(_=!0,c=c[0]);const E=In(c);0===i&&null!==a?null==d?Xy(s,a,E):rl(s,a,E,d||null,!0):1===i&&null!==a?rl(s,a,E,d||null,!0):2===i?function mf(i,s,a){const c=Ki(i,s);c&&function Ug(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,E,_):3===i&&s.destroyNode(E),null!=f&&function cb(i,s,a,c,d){const f=a[7];f!==In(a)&&nl(s,i,c,f,d);for(let E=10;E<a.length;E++){const w=a[E];tc(w[1],w,i,s,c,f)}}(s,i,f,a,d)}}function Id(i,s,a){return i.createElement(s,a)}function qy(i,s){const a=i[9],c=a.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,Rn(d,-1)),a.splice(c,1)}function Lg(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&qy(d,c),s>0&&(i[a-1][4]=c[4]);const f=Zn(i,10+s);!function Xl(i,s){tc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Yy(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&tc(i,s,a,3,null,null),function rb(i){let s=i[13];if(!s)return Fg(i[1],i);for(;s;){let a=null;if($n(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)$n(s)&&Fg(s[1],s),s=s[3];null===s&&(s=i),$n(s)&&Fg(s[1],s),a=s&&s[4]}s=a}}(s)}}function Fg(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function ab(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Vr)){const f=a[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const E=d[f[_]],w=f[_+1];try{w.call(E)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function ob(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],E="function"==typeof _?_(s):In(s[_]),w=c[d=a[f+2]],S=a[f+3];"boolean"==typeof S?E.removeEventListener(a[f],w,S):S>=0?c[d=S]():c[d=-S].unsubscribe(),f+=2}else{const _=c[d=a[f+1]];a[f].call(_)}if(null!==c){for(let f=d+1;f<c.length;f++)(0,c[f])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Nr(s[3])){a!==s[3]&&qy(a,s);const c=s[19];null!==c&&c.detachView(i)}!function fu(i){Ql.delete(i[20])}(s)}}function Qy(i,s,a){return function Jy(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===at.None||d===at.Emulated)return null}return Jn(c,a)}(i,s.parent,a)}function rl(i,s,a,c,d){i.insertBefore(s,a,c,d)}function Xy(i,s,a){i.appendChild(s,a)}function Vg(i,s,a,c,d){null!==c?rl(i,s,a,c,d):Xy(i,s,a)}function Ki(i,s){return i.parentNode(s)}let Gg,tv=function Hg(i,s,a){return 40&i.type?Jn(i,a):null};function gf(i,s,a,c){const d=Qy(i,c,s),f=s[11],E=function Bg(i,s,a){return tv(i,s,a)}(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)Vg(f,d,a[w],E,!1);else Vg(f,d,a,E,!1)}function ec(i,s){if(null!==s){const a=s.type;if(3&a)return Jn(s,i);if(4&a)return Sd(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return ec(i,c);{const d=i[s.index];return Nr(d)?Sd(-1,d):In(d)}}if(32&a)return Jl(s,i)()||In(i[s.index]);{const c=$g(i,s);return null!==c?Array.isArray(c)?c[0]:ec(ha(i[16]),c):ec(i,s.next)}}return null}function $g(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Sd(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return ec(c,d)}return s[7]}function Td(i,s,a,c,d,f,_){for(;null!=a;){const E=c[a.index],w=a.type;if(_&&0===s&&(E&&m(In(E),c),a.flags|=4),64!=(64&a.flags))if(8&w)Td(i,s,a.child,c,d,f,!1),nl(s,i,d,E,f);else if(32&w){const S=Jl(a,c);let M;for(;M=S();)nl(s,i,d,M,f);nl(s,i,d,E,f)}else 16&w?_u(i,s,c,a,d,f):nl(s,i,d,E,f);a=_?a.projectionNext:a.next}}function tc(i,s,a,c,d,f){Td(a,c,i.firstChild,s,d,f,!1)}function _u(i,s,a,c,d,f){const _=a[16],w=_[6].projection[c.projection];if(Array.isArray(w))for(let S=0;S<w.length;S++)nl(s,i,d,w[S],f);else Td(i,s,w,_[3],d,f,!0)}function _f(i,s,a){i.setAttribute(s,"style",a)}function yf(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function hb(i){Gg=i}class Cf{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ma(i){return i instanceof Cf?i.changingThisBreaksApplicationSecurity:i}const Od=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var qn=(()=>((qn=qn||{})[qn.NONE=0]="NONE",qn[qn.HTML=1]="HTML",qn[qn.STYLE=2]="STYLE",qn[qn.SCRIPT=3]="SCRIPT",qn[qn.URL=4]="URL",qn[qn.RESOURCE_URL=5]="RESOURCE_URL",qn))();function vu(i){const s=function sl(){const i=Ae();return i&&i[12]}();return s?s.sanitize(qn.URL,i)||"":function _a(i,s){const a=function vb(i){return i instanceof Cf&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?ma(i):function rc(i){return(i=String(i)).match(Od)?i:"unsafe:"+i}(Ee(i))}const If=new gn("ENVIRONMENT_INITIALIZER"),Eu=new gn("INJECTOR",-1),Qg=new gn("INJECTOR_DEF_TYPES");class dv{get(s,a=qr){if(a===qr){const c=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw c.name="NullInjectorError",c}return a}}function Nb(...i){return{\u0275providers:hv(0,i)}}function hv(i,...s){const a=[],c=new Set;let d;return Ti(s,f=>{const _=f;Jg(_,a,[],c)&&(d||(d=[]),d.push(_))}),void 0!==d&&fv(d,a),a}function fv(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];Ti(d,f=>{s.push(f)})}}function Jg(i,s,a,c){if(!(i=X(i)))return!1;let d=null,f=ti(i);const _=!f&&P(i);if(f||_){if(_&&!_.standalone)return!1;d=i}else{const w=i.ngModule;if(f=ti(w),!f)return!1;d=w}const E=c.has(d);if(_){if(E)return!1;if(c.add(d),_.dependencies){const w="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const S of w)Jg(S,s,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!E){let S;c.add(d);try{Ti(f.imports,M=>{Jg(M,s,a,c)&&(S||(S=[]),S.push(M))})}finally{}void 0!==S&&fv(S,s)}if(!E){const S=ir(d)||(()=>new d);s.push({provide:d,useFactory:S,deps:_t},{provide:Qg,useValue:d,multi:!0},{provide:If,useValue:()=>un(d),multi:!0})}const w=f.providers;null==w||E||Ti(w,M=>{s.push(M)})}}return d!==i&&void 0!==i.providers}const xb=me({provide:String,useValue:me});function em(i){return null!==i&&"object"==typeof i&&xb in i}function ic(i){return"function"==typeof i}const tm=new gn("Set Injector scope."),Ld={},Lb={};let Sf;function Fd(){return void 0===Sf&&(Sf=new dv),Sf}class ol{}class nm extends ol{constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Af(s,_=>this.processProvider(_)),this.records.set(Eu,Cu(void 0,this)),d.has("environment")&&this.records.set(ol,Cu(void 0,this));const f=this.records.get(tm);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Qg.multi,_t,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Rs(this),c=an(void 0);try{return s()}finally{Rs(a),an(c)}}get(s,a=qr,c=Ke.Default){this.assertNotDestroyed();const d=Rs(this),f=an(void 0);try{if(!(c&Ke.SkipSelf)){let E=this.records.get(s);if(void 0===E){const w=function _v(i){return"function"==typeof i||"object"==typeof i&&i instanceof gn}(s)&&rr(s);E=w&&this.injectableDefInScope(w)?Cu(Tf(s),Ld):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(c&Ke.Self?Fd():this.parent).get(s,a=c&Ke.Optional&&a===qr?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[$i]=_[$i]||[]).unshift(he(s)),d)throw _;return function B(i,s,a,c){const d=i[$i];throw s[cn]&&d.unshift(s[cn]),i.message=function Q(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=he(s);if(Array.isArray(s))d=s.map(he).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let E=s[_];f.push(_+":"+("string"==typeof E?JSON.stringify(E):he(E)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(dr,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[$i]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{an(f),Rs(d)}}resolveInjectorInitializers(){const s=Rs(this),a=an(void 0);try{const c=this.get(If.multi,_t,Ke.Self);for(const d of c)d()}finally{Rs(s),an(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(he(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(s){let a=ic(s=X(s))?s:X(s&&s.provide);const c=function Vb(i){return em(i)?Cu(void 0,i.useValue):Cu(mv(i),Ld)}(s);if(ic(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Cu(void 0,Ld,!0),d.factory=()=>b(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===Ld&&(a.value=Lb,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Bb(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=X(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Tf(i){const s=rr(i),a=null!==s?s.factory:ir(i);if(null!==a)return a;if(i instanceof gn)throw new Ce(204,!1);if(i instanceof Function)return function Fb(i){const s=i.length;if(s>0)throw function Ss(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new Ce(204,!1);const a=function Dn(i){const s=i&&(i[_r]||i[Gr]);if(s){const a=function ei(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ce(204,!1)}function mv(i,s,a){let c;if(ic(i)){const d=X(i);return ir(d)||Tf(d)}if(em(i))c=()=>X(i.useValue);else if(function gv(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...b(i.deps||[]));else if(function pv(i){return!(!i||!i.useExisting)}(i))c=()=>un(X(i.useExisting));else{const d=X(i&&(i.useClass||i.provide));if(!function Ub(i){return!!i.deps}(i))return ir(d)||Tf(d);c=()=>new d(...b(i.deps))}return c}function Cu(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function rm(i){return!!i.\u0275providers}function Af(i,s){for(const a of i)Array.isArray(a)?Af(a,s):rm(a)?Af(a.\u0275providers,s):s(a)}class Hb{}class $b{resolveComponentFactory(s){throw function jb(i){const s=Error(`No component factory found for ${he(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let al=(()=>{class i{}return i.NULL=new $b,i})();function Ev(){return ll(Wn(),Ae())}function ll(i,s){return new sc(Jn(i,s))}let sc=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Ev,i})();function Wb(i){return i instanceof sc?i.nativeElement:i}class Vd{}let zb=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Gb(){const i=Ae(),a=Gt(Wn().index,i);return($n(a)?a:i)[11]}(),i})(),Kb=(()=>{class i{}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:()=>null}),i})();class Cv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const wv=new Cv("14.2.12"),Rf={};function Pf(i){return i.ngOriginalError}class cl{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Pf(s);for(;a&&Pf(a);)a=Pf(a);return a||null}}function Io(i){return i instanceof Function?i():i}function sm(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}const Nf="ng-template";function eD(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==sm(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Dv(i){return 4===i.type&&i.value!==Nf}function tD(i,s,a){return s===(4!==i.type||a?i.value:Nf)}function Iv(i,s,a){let c=4;const d=i.attrs||[],f=function Sv(i){for(let s=0;s<i.length;s++)if(ea(i[s]))return s;return i.length}(d);let _=!1;for(let E=0;E<s.length;E++){const w=s[E];if("number"!=typeof w){if(!_)if(4&c){if(c=2|1&c,""!==w&&!tD(i,w,a)||""===w&&1===s.length){if(Ns(c))return!1;_=!0}}else{const S=8&c?w:s[++E];if(8&c&&null!==i.attrs){if(!eD(i.attrs,S,a)){if(Ns(c))return!1;_=!0}continue}const F=LS(8&c?"class":w,d,Dv(i),a);if(-1===F){if(Ns(c))return!1;_=!0;continue}if(""!==S){let q;q=F>f?"":d[F+1].toLowerCase();const ie=8&c?q:null;if(ie&&-1!==sm(ie,S,0)||2&c&&S!==q){if(Ns(c))return!1;_=!0}}}}else{if(!_&&!Ns(c)&&!Ns(w))return!1;if(_&&Ns(w))continue;_=!1,c=w|1&c}}return Ns(c)||_}function Ns(i){return 0==(1&i)}function LS(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let E=s[++d];for(;"string"==typeof E;)E=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function nD(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function Bd(i,s,a=!1){for(let c=0;c<s.length;c++)if(Iv(i,s[c],a))return!0;return!1}function om(i,s){return i?":not("+s.trim()+")":s}function iD(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const E=i[++a];d+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Ns(_)&&(s+=om(f,d),d=""),c=_,f=f||!Ns(c);a++}return""!==d&&(s+=om(f,d)),s}const Nt={};function Tv(i){am(Ft(),Ae(),En()+i,!1)}function am(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&oo(s,f,a)}else{const f=i.preOrderHooks;null!==f&&ao(s,f,0,a)}Di(a)}function Pv(i,s=null,a=null,c){const d=Mv(i,s,a,c);return d.resolveInjectorInitializers(),d}function Mv(i,s=null,a=null,c,d=new Set){const f=[a||_t,Nb(i)];return c=c||("object"==typeof i?void 0:he(i)),new nm(f,s||Fd(),c||null,d)}let Yi=(()=>{class i{static create(a,c){if(Array.isArray(a))return Pv({name:""},c,a,"");{const d=a.name??"";return Pv({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=qr,i.NULL=new dv,i.\u0275prov=Wt({token:i,providedIn:"any",factory:()=>un(Eu)}),i.__NG_ELEMENT_ID__=-1,i})();function cc(i,s=Ke.Default){const a=Ae();return null===a?un(i,s):ho(Wn(),a,X(i),s)}function _m(){throw new Error("invalid")}function Er(i,s){return i<<17|s<<2}function Cr(i){return i>>17&32767}function Uv(i){return 2|i}function Qi(i){return(131068&i)>>2}function jd(i,s){return-131069&i|s<<2}function wu(i){return 1|i}function qv(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],f=a[c+1];if(-1!==f){const _=i.data[f];Fl(d),_.contentQueries(2,s[f],f)}}}function Tm(i,s,a,c,d,f,_,E,w,S,M){const F=s.blueprint.slice();return F[0]=d,F[2]=76|c,(null!==M||i&&1024&i[2])&&(F[2]|=1024),jo(F),F[3]=F[15]=i,F[8]=a,F[10]=_||i&&i[10],F[11]=E||i&&i[11],F[12]=w||i&&i[12]||null,F[9]=S||i&&i[9]||null,F[6]=f,F[20]=function Ng(){return af++}(),F[21]=M,F[16]=2==s.type?i[16]:F,F}function Iu(i,s,a,c,d){let f=i.data[s];if(null===f)f=function Wf(i,s,a,c,d){const f=no(),_=La(),w=i.data[s]=function GS(i,s,a,c,d,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=w),null!==f&&(_?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}(i,s,a,c,d),function Zc(){return bt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const _=function ka(){const i=bt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return vr(f,!0),f}function Kd(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Zd(i,s,a){so(s);try{const c=i.viewQuery;null!==c&&Bm(1,c,a);const d=i.template;null!==d&&Am(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&qv(i,s),i.staticViewQueries&&Bm(2,i.viewQuery,a);const f=i.components;null!==f&&function ED(i,s){for(let a=0;a<s.length;a++)RD(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Fi()}}function zf(i,s,a,c){const d=s[2];if(128!=(128&d)){so(s);try{jo(s),function Zo(i){return bt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Am(i,s,a,2,c);const _=3==(3&d);if(_){const S=i.preOrderCheckHooks;null!==S&&oo(s,S,null)}else{const S=i.preOrderHooks;null!==S&&ao(s,S,0,null),eu(s,0)}if(function AD(i){for(let s=fa(i);null!==s;s=Do(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],f=d[3];0==(512&d[2])&&Rn(f,1),d[2]|=512}}}(s),function Vm(i){for(let s=fa(i);null!==s;s=Do(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];Li(c)&&zf(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&qv(i,s),_){const S=i.contentCheckHooks;null!==S&&oo(s,S)}else{const S=i.contentHooks;null!==S&&ao(s,S,1),eu(s,1)}!function Zv(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Di(~d);else{const f=d,_=a[++c],E=a[++c];qc(_,f),E(2,s[f])}}}finally{Di(-1)}}(i,s);const E=i.components;null!==E&&function Yv(i,s){for(let a=0;a<s.length;a++)Um(i,s[a])}(s,E);const w=i.viewQuery;if(null!==w&&Bm(2,w,c),_){const S=i.viewCheckHooks;null!==S&&oo(s,S)}else{const S=i.viewHooks;null!==S&&ao(s,S,2),eu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Rn(s[3],-1))}finally{Fi()}}}function Am(i,s,a,c,d){const f=En(),_=2&c;try{Di(-1),_&&s.length>22&&am(i,s,22,!1),a(c,d)}finally{Di(f)}}function Gf(i,s,a){if(Gs(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}function Rm(i,s,a){!Es()||(function xm(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Si(a,s),m(c,s);const _=a.initialInputs;for(let E=d;E<f;E++){const w=i.data[E],S=Ir(w);S&&iE(s,a,w);const M=si(s,i,E,a);m(M,s),null!==_&&sE(0,E-d,M,w,0,_),S&&(Gt(a.index,s)[8]=M)}}(i,s,a,Jn(a,s)),128==(128&a.flags)&&function bD(i,s,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,_=function rd(){return bt.lFrame.currentDirectiveIndex}();try{Di(f);for(let E=c;E<d;E++){const w=i.data[E],S=s[E];io(E),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&km(w,S)}}finally{Di(-1),io(_)}}(i,s,a))}function Qv(i,s,a=Jn){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],E=-1===_?a(s,i):i[_];i[d++]=E}}}function Jv(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=dc(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function dc(i,s,a,c,d,f,_,E,w,S){const M=22+c,F=M+d,q=function Pm(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Nt);return a}(M,F),ie="function"==typeof S?S():S;return q[1]={type:i,blueprint:q,template:a,queries:null,viewQuery:E,declTNode:s,data:q.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:ie,incompleteFirstPass:!1}}function hi(i,s,a,c){const d=Hm(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&lE(i).push(c,d.length-1))}function eE(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function Mm(i,s){const c=s.directiveEnd,d=i.data,f=s.attrs,_=[];let E=null,w=null;for(let S=s.directiveStart;S<c;S++){const M=d[S],F=M.inputs,q=null===f||Dv(s)?null:TD(F,f);_.push(q),E=eE(F,S,E),w=eE(M.outputs,S,w)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=E,s.outputs=w}function wD(i,s){const a=Gt(s,i);16&a[2]||(a[2]|=32)}function Om(i,s,a,c){let d=!1;if(Es()){const f=function DD(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];Bd(a,_.selectors,!1)&&(d||(d=[]),ws(Si(a,s),i,_.type),Ir(_)?(ID(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===c?null:{"":-1};if(null!==f){d=!0,Lm(a,i.data.length,f.length);for(let M=0;M<f.length;M++){const F=f[M];F.providersResolver&&F.providersResolver(F)}let E=!1,w=!1,S=Kd(i,s,f.length,null);for(let M=0;M<f.length;M++){const F=f[M];a.mergedAttrs=ta(a.mergedAttrs,F.hostAttrs),rE(i,a,s,S,F),SD(S,F,_),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const q=F.type.prototype;!E&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),E=!0),!w&&(q.ngOnChanges||q.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),S++}Mm(i,a)}_&&function nE(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new Ce(-301,!1);c.push(s[d],f)}}}(a,c,_)}return a.mergedAttrs=ta(a.mergedAttrs,a.attrs),d}function Nm(i,s,a,c,d,f){const _=f.hostBindings;if(_){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const w=~s.index;(function Kf(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=w&&E.push(w),E.push(c,d,_)}}function km(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function ID(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function SD(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;Ir(s)&&(a[""]=i)}}function Lm(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function rE(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=ir(d.type)),_=new Vr(f,Ir(d),cc);i.blueprint[c]=_,a[c]=_,Nm(i,s,0,c,Kd(i,a,d.hostVars,Nt),d)}function iE(i,s,a){const c=Jn(s,i),d=Jv(a),f=i[10],_=Qf(i,Tm(i,d,null,a.onPush?32:16,c,s,f,f.createRenderer(c,a),null,null,null));i[s.index]=_}function Xi(i,s,a,c,d,f){const _=Jn(i,s);!function Fm(i,s,a,c,d,f,_){if(null==f)i.removeAttribute(s,d,a);else{const E=null==_?Ee(f):_(f,c||"",d);i.setAttribute(s,d,E,a)}}(s[11],_,f,i.value,a,c,d)}function sE(i,s,a,c,d,f){const _=f[s];if(null!==_){const E=c.setInput;for(let w=0;w<_.length;){const S=_[w++],M=_[w++],F=_[w++];null!==E?c.setInput(a,F,S,M):a[M]=F}}}function TD(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function oE(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function Um(i,s){const a=Gt(s,i);if(Li(a)){const c=a[1];48&a[2]?zf(c,a,c.template,a[8]):a[5]>0&&qf(a)}}function qf(i){for(let c=fa(i);null!==c;c=Do(c))for(let d=10;d<c.length;d++){const f=c[d];if(Li(f))if(512&f[2]){const _=f[1];zf(_,f,_.template,f[8])}else f[5]>0&&qf(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=Gt(a[c],i);Li(d)&&d[5]>0&&qf(d)}}function RD(i,s){const a=Gt(s,i),c=a[1];(function Yf(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Zd(c,a,a[8])}function Qf(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Jf(i){for(;i;){i[2]|=32;const s=ha(i);if(Pl(i)&&!s)return i;i=s}return null}function Xf(i,s,a,c=!0){const d=s[10];d.begin&&d.begin();try{zf(i,s,i.template,a)}catch(_){throw c&&ep(s,_),_}finally{d.end&&d.end()}}function Bm(i,s,a){Fl(0),s(i,a)}function Hm(i){return i[7]||(i[7]=[])}function lE(i){return i.cleanup||(i.cleanup=[])}function ep(i,s){const a=i[9],c=a?a.get(cl,null):null;c&&c.handleError(s)}function jm(i,s,a,c,d){for(let f=0;f<a.length;){const _=a[f++],E=a[f++],w=s[_],S=i.data[_];null!==S.setInput?S.setInput(w,d,c,E):w[E]=d}}function qd(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const E=s[_];"number"==typeof E?f=E:1==f?d=_e(d,E):2==f&&(c=_e(c,E+": "+s[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function Ao(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(In(f)),Nr(f))for(let E=10;E<f.length;E++){const w=f[E],S=w[1].firstChild;null!==S&&Ao(w[1],w,S,c)}const _=a.type;if(8&_)Ao(i,s,a.child,c);else if(32&_){const E=Jl(a,s);let w;for(;w=E();)c.push(w)}else if(16&_){const E=$g(s,a);if(Array.isArray(E))c.push(...E);else{const w=ha(s[16]);Ao(w[1],w,E,c,!0)}}a=d?a.projectionNext:a.next}return c}class Yd{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Ao(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Nr(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Lg(s,c),Zn(a,c))}this._attachedToViewContainer=!1}Yy(this._lView[1],this._lView)}onDestroy(s){hi(this._lView[1],this._lView,null,s)}markForCheck(){Jf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Xf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zy(i,s){tc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=s}}class cE extends Yd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Xf(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class $m extends al{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=P(s);return new hc(a,this.ngModule)}}function Wm(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class OD{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){const d=this.injector.get(s,Rf,c);return d!==Rf||a===Rf?d:this.parentInjector.get(s,a,c)}}class hc extends Hb{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function sD(i){return i.map(iD).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Wm(this.componentDef.inputs)}get outputs(){return Wm(this.componentDef.outputs)}create(s,a,c,d){let f=(d=d||this.ngModule)instanceof ol?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new OD(s,f):s,E=_.get(Vd,null);if(null===E)throw new Ce(407,!1);const w=_.get(Kb,null),S=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",F=c?function Xv(i,s,a){return i.selectRootElement(s,a===at.ShadowDom)}(S,c,this.componentDef.encapsulation):Id(S,M,function MD(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(M)),q=this.componentDef.onPush?288:272,ie=dc(0,null,null,1,0,null,null,null,null,null),be=Tm(null,ie,null,q,null,null,E,S,w,_,null);let Ue,ze;so(be);try{const tt=function hE(i,s,a,c,d,f){const _=a[1];a[22]=i;const w=Iu(_,22,2,"#host",null),S=w.mergedAttrs=s.hostAttrs;null!==S&&(qd(w,S,!0),null!==i&&(Ii(d,i,S),null!==w.classes&&yf(d,i,w.classes),null!==w.styles&&_f(d,i,w.styles)));const M=c.createRenderer(i,s),F=Tm(a,Jv(s),null,s.onPush?32:16,a[22],w,c,M,f||null,null,null);return _.firstCreatePass&&(ws(Si(w,a),_,s.type),ID(_,w),Lm(w,a.length,1)),Qf(a,F),a[22]=F}(F,this.componentDef,be,E,S);if(F)if(c)Ii(S,F,["ng-version",wv.full]);else{const{attrs:mt,classes:Me}=function oD(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!Ns(d))break;d=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);mt&&Ii(S,F,mt),Me&&Me.length>0&&yf(S,F,Me.join(" "))}if(ze=Xs(ie,22),void 0!==a){const mt=ze.projection=[];for(let Me=0;Me<this.ngContentSelectors.length;Me++){const nt=a[Me];mt.push(null!=nt?Array.from(nt):null)}}Ue=function ND(i,s,a,c){const d=a[1],f=function tE(i,s,a){const c=Wn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),rE(i,c,s,Kd(i,s,1,null),a),Mm(i,c));const d=si(s,i,c.directiveStart,c);m(d,s);const f=Jn(c,s);return f&&m(f,s),d}(d,a,s);if(i[8]=a[8]=f,null!==c)for(const E of c)E(f,s);if(s.contentQueries){const E=Wn();s.contentQueries(1,f,E.directiveStart)}const _=Wn();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Di(_.index),Nm(a[1],_,0,_.directiveStart,_.directiveEnd,s),km(s,f)),f}(tt,this.componentDef,be,[fE]),Zd(ie,be,null)}finally{Fi()}return new dE(this.componentType,Ue,ll(ze,be),be,ze)}}class dE extends class yv{}{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new cE(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){const f=this._rootLView;jm(f[1],f,d,s,a),wD(f,this._tNode.index)}}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function fE(){const i=Wn();Fa(Ae()[1],i)}function tp(i){let s=function pE(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(Ir(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ce(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const _=i;_.inputs=gE(i.inputs),_.declaredInputs=gE(i.declaredInputs),_.outputs=gE(i.outputs);const E=d.hostBindings;E&&xD(i,E);const w=d.viewQuery,S=d.contentQueries;if(w&&eT(i,w),S&&mE(i,S),fe(i.inputs,d.inputs),fe(i.declaredInputs,d.declaredInputs),fe(i.outputs,d.outputs),Ir(d)&&d.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const E=f[_];E&&E.ngInherit&&E(i),E===tp&&(a=!1)}}s=Object.getPrototypeOf(s)}!function XS(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=ta(d.hostAttrs,a=ta(a,d.hostAttrs))}}(c)}function gE(i){return i===lr?{}:i===_t?[]:i}function eT(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function mE(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function xD(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let zm=null;function dl(){if(!zm){const i=Et.Symbol;if(i&&i.iterator)zm=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(zm=c)}}}return zm}function np(i){return!!ks(i)&&(Array.isArray(i)||!(i instanceof Map)&&dl()in i)}function ks(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function es(i,s,a){return i[s]=a}function fr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Gm(i,s,a,c){const d=Ae();return fr(d,qo(),s)&&(Ft(),Xi(vn(),d,i,s,a,c)),Gm}function sp(i,s,a,c,d,f,_,E){const w=Ae(),S=Ft(),M=i+22,F=S.firstCreatePass?function pc(i,s,a,c,d,f,_,E,w){const S=s.consts,M=Iu(s,i,4,_||null,Fr(S,E));Om(s,a,M,Fr(S,w)),Fa(s,M);const F=M.tViews=dc(2,M,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,M),F.queries=s.queries.embeddedTView(M)),M}(M,S,w,s,a,c,d,f,_):S.data[M];vr(F,!1);const q=w[11].createComment("");gf(S,w,q,F),m(q,w),Qf(w,w[M]=oE(q,w,q,F)),Vo(F)&&Rm(S,w,F),null!=_&&Qv(w,F,E)}function Ym(i){return function ri(i,s){return i[s]}(function Ko(){return bt.lFrame.contextLView}(),22+i)}function op(i,s,a){const c=Ae();return fr(c,qo(),s)&&function Ji(i,s,a,c,d,f,_,E){const w=Jn(s,a);let M,S=s.inputs;!E&&null!=S&&(M=S[c])?(jm(i,a,M,c,d),Rl(s)&&wD(a,s.index)):3&s.type&&(c=function KS(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=_?_(d,s.value||"",c):d,f.setProperty(w,c,d))}(Ft(),vn(),c,i,s,c[11],a,!1),op}function gc(i,s,a,c,d){const _=d?"class":"style";jm(i,a,s.inputs[_],_,c)}function th(i,s,a,c){const d=Ae(),f=Ft(),_=22+i,E=d[11],w=d[_]=Id(E,s,function Bl(){return bt.lFrame.currentNamespace}()),S=f.firstCreatePass?function mc(i,s,a,c,d,f,_){const E=s.consts,S=Iu(s,i,2,d,Fr(E,f));return Om(s,a,S,Fr(E,_)),null!==S.attrs&&qd(S,S.attrs,!1),null!==S.mergedAttrs&&qd(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(_,f,d,0,s,a,c):f.data[_];vr(S,!0);const M=S.mergedAttrs;null!==M&&Ii(E,w,M);const F=S.classes;null!==F&&yf(E,w,F);const q=S.styles;return null!==q&&_f(E,w,q),64!=(64&S.flags)&&gf(f,d,w,S),0===function Wo(){return bt.lFrame.elementDepthCount}()&&m(w,d),function Kc(){bt.lFrame.elementDepthCount++}(),Vo(S)&&(Rm(f,d,S),Gf(f,S,d)),null!==c&&Qv(d,S),th}function nh(){let i=Wn();La()?ro():(i=i.parent,vr(i,!1));const s=i;!function zo(){bt.lFrame.elementDepthCount--}();const a=Ft();return a.firstCreatePass&&(Fa(a,i),Gs(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ua(i){return 0!=(16&i.flags)}(s)&&gc(a,s,Ae(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ba(i){return 0!=(32&i.flags)}(s)&&gc(a,s,Ae(),s.stylesWithoutHost,!1),nh}function or(i,s,a,c){return th(i,s,a,c),nh(),or}function Pu(i,s,a){const c=Ae(),d=Ft(),f=i+22,_=d.firstCreatePass?function rh(i,s,a,c,d){const f=s.consts,_=Fr(f,c),E=Iu(s,i,8,"ng-container",_);return null!==_&&qd(E,_,!0),Om(s,a,E,Fr(f,d)),null!==s.queries&&s.queries.elementStart(s,E),E}(f,d,c,s,a):d.data[f];vr(_,!0);const E=c[f]=c[11].createComment("");return gf(d,c,E,_),m(E,c),Vo(_)&&(Rm(d,c,_),Gf(d,_,c)),null!=a&&Qv(c,_),Pu}function Ai(){let i=Wn();const s=Ft();return La()?ro():(i=i.parent,vr(i,!1)),s.firstCreatePass&&(Fa(s,i),Gs(i)&&s.queries.elementEnd(i)),Ai}function wr(i,s,a){return Pu(i,s,a),Ai(),wr}function wE(){return Ae()}function Mu(i){return!!i&&"function"==typeof i.then}function bE(i){return!!i&&"function"==typeof i.subscribe}const Po=bE;function rs(i,s,a,c){const d=Ae(),f=Ft(),_=Wn();return function Ou(i,s,a,c,d,f,_,E){const w=Vo(c),M=i.firstCreatePass&&lE(i),F=s[8],q=Hm(s);let ie=!0;if(3&c.type||E){const ze=Jn(c,s),tt=E?E(ze):ze,mt=q.length,Me=E?sn=>E(In(sn[c.index])):c.index;let nt=null;if(!E&&w&&(nt=function LD(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===a&&d[f+1]===c){const E=s[7],w=d[f+2];return E.length>w?E[w]:null}"string"==typeof _&&(f+=2)}return null}(i,s,d,c.index)),null!==nt)(nt.__ngLastListenerFn__||nt).__ngNextListenerFn__=f,nt.__ngLastListenerFn__=f,ie=!1;else{f=Qm(c,s,F,f,!1);const sn=a.listen(tt,d,f);q.push(f,sn),M&&M.push(d,Me,mt,mt+1)}}else f=Qm(c,s,F,f,!1);const be=c.outputs;let Ue;if(ie&&null!==be&&(Ue=be[d])){const ze=Ue.length;if(ze)for(let tt=0;tt<ze;tt+=2){const bn=s[Ue[tt]][Ue[tt+1]].subscribe(f),Ra=q.length;q.push(f,bn),M&&M.push(d,c.index,Ra,-(Ra+1))}}}(f,d,d[11],_,i,s,0,c),rs}function ap(i,s,a,c){try{return!1!==a(c)}catch(d){return ep(i,d),!1}}function Qm(i,s,a,c,d){return function f(_){if(_===Function)return c;Jf(2&i.flags?Gt(i.index,s):s);let w=ap(s,0,c,_),S=f.__ngNextListenerFn__;for(;S;)w=ap(s,0,S,_)&&w,S=S.__ngNextListenerFn__;return d&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function pr(i=1){return function Vi(i){return(bt.lFrame.contextLView=function Jc(i,s){for(;i>0;)s=s[15],i--;return s}(i,bt.lFrame.contextLView))[8]}(i)}function e_(i,s,a,c,d){const f=i[a+1],_=null===s;let E=c?Cr(f):Qi(f),w=!1;for(;0!==E&&(!1===w||_);){const M=i[E+1];PE(i[E],s)&&(w=!0,i[E+1]=c?wu(M):Uv(M)),E=c?Cr(M):Qi(M)}w&&(i[a+1]=c?Uv(f):wu(f))}function PE(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&li(i,s)>=0}const ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function t_(i){return i.substring(ar.key,ar.keyEnd)}function dp(i,s){const a=ar.textEnd;return a===s?-1:(s=ar.keyEnd=function xE(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,ar.key=s,a),xu(i,s,a))}function xu(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function gp(i,s){return function is(i,s,a,c){const d=Ae(),f=Ft(),_=bi(2);f.firstUpdatePass&&VE(f,i,_,c),s!==Nt&&fr(d,_,s)&&_p(f,f.data[En()],d,d[11],i,d[_+1]=function vp(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=he(ma(i)))),i}(s,a),c,_)}(i,s,null,!0),gp}function LE(i){!function ss(i,s,a,c){const d=Ft(),f=bi(2);d.firstUpdatePass&&VE(d,null,f,c);const _=Ae();if(a!==Nt&&fr(_,f,a)){const E=d.data[En()];if(yc(E,c)&&!FE(d,f)){let w=c?E.classesWithoutHost:E.stylesWithoutHost;null!==w&&(a=_e(w,a||"")),gc(d,E,_,a,c)}else!function fl(i,s,a,c,d,f,_,E){d===Nt&&(d=_t);let w=0,S=0,M=0<d.length?d[0]:null,F=0<f.length?f[0]:null;for(;null!==M||null!==F;){const q=w<d.length?d[w+1]:void 0,ie=S<f.length?f[S+1]:void 0;let Ue,be=null;M===F?(w+=2,S+=2,q!==ie&&(be=F,Ue=ie)):null===F||null!==M&&M<F?(w+=2,be=M):(S+=2,be=F,Ue=ie),null!==be&&_p(i,s,a,c,be,Ue,_,E),M=w<d.length?d[w]:null,F=S<f.length?f[S]:null}}(d,E,_,_[11],_[f+1],_[f+1]=function WD(i,s,a){if(null==a||""===a)return _t;const c=[],d=ma(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(c,f,d[f]);else"string"==typeof d&&s(c,d);return c}(i,s,a),c,f)}}(ut,Fs,i,!0)}function Fs(i,s){for(let a=function OE(i){return function hp(i){ar.key=0,ar.keyEnd=0,ar.value=0,ar.valueEnd=0,ar.textEnd=i.length}(i),dp(i,xu(i,0,ar.textEnd))}(s);a>=0;a=dp(s,a))ut(i,t_(s),!0)}function FE(i,s){return s>=i.expandoStartIndex}function VE(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[En()],_=FE(i,a);yc(f,c)&&null===s&&!_&&(s=!1),s=function HD(i,s,a,c){const d=function Ll(i){const s=bt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=sh(a=mp(null,i,s,a,c),s.attrs,c),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=mp(d,i,s,a,c),null===f){let w=function jD(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Qi(c))return i[Cr(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=mp(null,i,s,w[1],c),w=sh(w,s.attrs,c),function $D(i,s,a,c){i[Cr(a?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else f=function UE(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=sh(c,i[f].hostAttrs,a);return sh(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function up(i,s,a,c,d,f){let _=f?s.classBindings:s.styleBindings,E=Cr(_),w=Qi(_);i[c]=a;let M,S=!1;if(Array.isArray(a)){const F=a;M=F[1],(null===M||li(F,M)>0)&&(S=!0)}else M=a;if(d)if(0!==w){const q=Cr(i[E+1]);i[c+1]=Er(q,E),0!==q&&(i[q+1]=jd(i[q+1],c)),i[E+1]=function HS(i,s){return 131071&i|s<<17}(i[E+1],c)}else i[c+1]=Er(E,0),0!==E&&(i[E+1]=jd(i[E+1],c)),E=c;else i[c+1]=Er(w,0),0===E?E=c:i[w+1]=jd(i[w+1],c),w=c;S&&(i[c+1]=Uv(i[c+1])),e_(i,M,c,!0),e_(i,M,c,!1),function RE(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&li(f,s)>=0&&(a[c+1]=wu(a[c+1]))}(s,M,i,c,f),_=Er(E,w),f?s.classBindings=_:s.styleBindings=_}(d,f,s,a,_,c)}}function mp(i,s,a,c,d){let f=null;const _=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<_&&(f=s[E],c=sh(c,f.hostAttrs,d),f!==i);)E++;return null!==i&&(a.directiveStylingLast=E),c}function sh(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?d=_:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ut(i,_,!!a||s[++f]))}return void 0===i?null:i}function _p(i,s,a,c,d,f,_,E){if(!(3&s.type))return;const w=i.data,S=w[E+1];yp(function Uf(i){return 1==(1&i)}(S)?HE(w,s,a,d,Qi(S),_):void 0)||(yp(f)||function vm(i){return 2==(2&i)}(S)&&(f=HE(w,null,a,d,E,_)),function ub(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:di.DashCase;null==d?i.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=di.Important),i.setStyle(a,c,d,f))}}(c,_,Kr(En(),a),d,f))}function HE(i,s,a,c,d,f){const _=null===s;let E;for(;d>0;){const w=i[d],S=Array.isArray(w),M=S?w[1]:w,F=null===M;let q=a[d+1];q===Nt&&(q=F?_t:void 0);let ie=F?Zl(q,c):M===c?q:void 0;if(S&&!yp(ie)&&(ie=Zl(w,c)),yp(ie)&&(E=ie,_))return E;const be=i[d+1];d=_?Cr(be):Qi(be)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(E=Zl(w,c))}return E}function yp(i){return void 0!==i}function yc(i,s){return 0!=(i.flags&(s?16:32))}function i_(i,s=""){const a=Ae(),c=Ft(),d=i+22,f=c.firstCreatePass?Iu(c,d,1,s,null):c.data[d],_=a[d]=function ff(i,s){return i.createText(s)}(a[11],s);gf(c,a,_,f),vr(f,!1)}function s_(i){return o_("",i,""),s_}function o_(i,s,a){const c=Ae(),d=function Su(i,s,a,c){return fr(i,qo(),a)?s+Ee(a)+c:Nt}(c,i,s,a);return d!==Nt&&function To(i,s,a){const c=Kr(s,i);!function kg(i,s,a){i.setValue(s,a)}(i[11],c,a)}(c,En(),d),o_}const Pi=void 0;var ah=["en",[["a","p"],["AM","PM"],Pi],[["AM","PM"],Pi,Pi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pi,"{1} 'at' {0}",Pi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function f_(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let ku={};function p_(i){const s=function bp(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=g_(s);if(a)return a;const c=s.split("-")[0];if(a=g_(c),a)return a;if("en"===c)return ah;throw new Ce(701,!1)}function iC(i){return p_(i)[He.PluralCase]}function g_(i){return i in ku||(ku[i]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[i]),ku[i]}var He=(()=>((He=He||{})[He.LocaleId=0]="LocaleId",He[He.DayPeriodsFormat=1]="DayPeriodsFormat",He[He.DayPeriodsStandalone=2]="DayPeriodsStandalone",He[He.DaysFormat=3]="DaysFormat",He[He.DaysStandalone=4]="DaysStandalone",He[He.MonthsFormat=5]="MonthsFormat",He[He.MonthsStandalone=6]="MonthsStandalone",He[He.Eras=7]="Eras",He[He.FirstDayOfWeek=8]="FirstDayOfWeek",He[He.WeekendRange=9]="WeekendRange",He[He.DateFormat=10]="DateFormat",He[He.TimeFormat=11]="TimeFormat",He[He.DateTimeFormat=12]="DateTimeFormat",He[He.NumberSymbols=13]="NumberSymbols",He[He.NumberFormats=14]="NumberFormats",He[He.CurrencyCode=15]="CurrencyCode",He[He.CurrencySymbol=16]="CurrencySymbol",He[He.CurrencyName=17]="CurrencyName",He[He.Currencies=18]="Currencies",He[He.Directionality=19]="Directionality",He[He.PluralCase=20]="PluralCase",He[He.ExtraData=21]="ExtraData",He))();const Qr="en-US";let Tp=Qr;function Vu(i,s,a,c,d){if(i=X(i),Array.isArray(i))for(let f=0;f<i.length;f++)Vu(i[f],s,a,c,d);else{const f=Ft(),_=Ae();let E=ic(i)?i:X(i.provide),w=mv(i);const S=Wn(),M=1048575&S.providerIndexes,F=S.directiveStart,q=S.providerIndexes>>20;if(ic(i)||!i.multi){const ie=new Vr(w,d,cc),be=R_(E,s,d?M:M+q,F);-1===be?(ws(Si(S,_),f,E),ba(f,i,s.length),s.push(E),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(ie),_.push(ie)):(a[be]=ie,_[be]=ie)}else{const ie=R_(E,s,M+q,F),be=R_(E,s,M,M+q),Ue=ie>=0&&a[ie],ze=be>=0&&a[be];if(d&&!ze||!d&&!Ue){ws(Si(S,_),f,E);const tt=function P_(i,s,a,c,d){const f=new Vr(i,a,cc);return f.multi=[],f.index=s,f.componentProviders=0,Vp(f,d,c&&!a),f}(d?Vs:Tn,a.length,d,c,w);!d&&ze&&(a[be].providerFactory=tt),ba(f,i,s.length,0),s.push(E),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(tt),_.push(tt)}else ba(f,i,ie>-1?ie:be,Vp(a[d?be:ie],w,!d&&c));!d&&c&&ze&&a[be].componentProviders++}}}function ba(i,s,a,c){const d=ic(s),f=function kb(i){return!!i.useClass}(s);if(d||f){const w=(f?X(s.useClass):s).prototype.ngOnDestroy;if(w){const S=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const M=S.indexOf(a);-1===M?S.push(a,[c,w]):S[M+1].push(c,w)}else S.push(a,w)}}}function Vp(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function R_(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function Tn(i,s,a,c){return Ic(this.multi,[])}function Vs(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=si(a,a[1],this.providerFactory.index,c);f=E.slice(0,_),Ic(d,f);for(let w=_;w<E.length;w++)f.push(E[w])}else f=[],Ic(d,f);return f}function Ic(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function M_(i,s=[]){return a=>{a.providersResolver=(c,d)=>function vC(i,s,a){const c=Ft();if(c.firstCreatePass){const d=Ir(i);Vu(a,c.data,c.blueprint,d,!0),Vu(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class _l{}class yl{}function EC(i,s){return new Up(i,s??null)}class Up extends _l{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $m(this);const c=Xe(s);this._bootstrapComponents=Io(c.bootstrap),this._r3Injector=Mv(s,a,[{provide:_l,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],he(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class vl extends yl{constructor(s){super(),this.moduleType=s}create(s){return new Up(this.moduleType,s)}}class CC extends _l{constructor(s,a,c){super(),this.componentFactoryResolver=new $m(this),this.instance=null;const d=new nm([...s,{provide:_l,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],a||Fd(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Uu(i,s,a=null){return new CC(i,s,a).injector}let hI=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=hv(0,a.type),d=c.length>0?Uu([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Wt({token:i,providedIn:"environment",factory:()=>new i(un(ol))}),i})();function wC(i){i.getStandaloneInjector=s=>s.get(hI).getOrCreateStandaloneInjector(i)}function x_(i,s,a,c){return function F_(i,s,a,c,d,f){const _=s+a;return fr(i,_,d)?es(i,_+1,f?c.call(f,d):c(d)):yh(i,_+1)}(Ae(),zn(),i,s,a,c)}function k_(i,s,a,c,d){return function vh(i,s,a,c,d,f,_){const E=s+a;return function Ls(i,s,a,c){const d=fr(i,s,a);return fr(i,s+1,c)||d}(i,E,d,f)?es(i,E+2,_?c.call(_,d,f):c(d,f)):yh(i,E+2)}(Ae(),zn(),i,s,a,c,d)}function yh(i,s){const a=i[s];return a===Nt?void 0:a}function B_(i){return s=>{setTimeout(i,void 0,s)}}const Us=class kC extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,f=a||(()=>null),_=c;if(s&&"object"==typeof s){const w=s;d=w.next?.bind(w),f=w.error?.bind(w),_=w.complete?.bind(w)}this.__isAsync&&(f=B_(f),d&&(d=B_(d)),_&&(_=B_(_)));const E=super.subscribe({next:d,error:f,complete:_});return s instanceof j.w0&&s.add(E),E}};function LC(){return this._results[dl()]()}class H_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=dl(),c=H_.prototype;c[a]||(c[a]=LC)}get changes(){return this._changes||(this._changes=new Us)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=_n(s);(this._changesDetected=!function Kt(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bu=(()=>{class i{}return i.__NG_ELEMENT_ID__=AI,i})();const $p=Bu,FC=class extends $p{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s,a){const c=this._declarationTContainer.tViews,d=Tm(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),Zd(c,d,s),new Yd(d)}};function AI(){return Wp(Wn(),Ae())}function Wp(i,s){return 4&i.type?new FC(s,i,ll(i,s)):null}let zp=(()=>{class i{}return i.__NG_ELEMENT_ID__=j_,i})();function j_(){return Da(Wn(),Ae())}const VC=zp,UC=class extends VC{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return ll(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const s=ra(this._hostTNode,this._hostLView);if(ld(s)){const a=Ui(s,this._hostLView),c=Gn(s);return new po(a[1].data[c+8],a)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=BC(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const _=s.createEmbeddedView(a||{},f);return this.insert(_,d),_}createComponent(s,a,c,d,f){const _=s&&!function ai(i){return"function"==typeof i}(s);let E;if(_)E=a;else{const F=a||{};E=F.index,c=F.injector,d=F.projectableNodes,f=F.environmentInjector||F.ngModuleRef}const w=_?s:new hc(P(s)),S=c||this.parentInjector;if(!f&&null==w.ngModule){const q=(_?S:this.parentInjector).get(ol,null);q&&(f=q)}const M=w.create(S,d,void 0,f);return this.insert(M.hostView,E),M}insert(s,a){const c=s._lView,d=c[1];if(function xl(i){return Nr(i[3])}(c)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const F=c[3],q=new UC(F,F[6],F[3]);q.detach(q.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function ib(i,s,a,c){const d=10+c,f=a.length;c>0&&(a[d-1][4]=s),c<f-10?(s[4]=a[d],Is(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function sb(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const E=s[19];null!==E&&E.insertView(i),s[2]|=64}(d,c,_,f);const E=Sd(f,_),w=c[11],S=Ki(w,_[7]);return null!==S&&function pf(i,s,a,c,d,f){c[0]=d,c[6]=s,tc(i,c,a,1,d,f)}(d,_[6],w,c,S,E),s.attachToViewContainerRef(),Is(Gp(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=BC(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Lg(this._lContainer,a);c&&(Zn(Gp(this._lContainer),a),Yy(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Lg(this._lContainer,a);return c&&null!=Zn(Gp(this._lContainer),a)?new Yd(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function BC(i){return i[8]}function Gp(i){return i[8]||(i[8]=[])}function Da(i,s){let a;const c=s[i.index];if(Nr(c))a=c;else{let d;if(8&i.type)d=In(c);else{const f=s[11];d=f.createComment("");const _=Jn(i,s);rl(f,Ki(f,_),d,function mu(i,s){return i.nextSibling(s)}(f,_),!1)}s[i.index]=a=oE(c,s,d,i),Qf(s,a)}return new UC(a,i,s)}class Hu{constructor(s){this.queryList=s,this.matches=null}clone(){return new Hu(this.queryList)}setDirty(){this.queryList.setDirty()}}class ju{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const _=a.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new ju(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Ac(s,a).matches&&this.queries[a].setDirty()}}class $C{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class $_{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new $_(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class W_{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new W_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,WC(a,f)),this.matchTNodeWithReadOption(s,a,sa(a,s,f,!1,!1))}else c===Bu?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,sa(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===sc||d===zp||d===Bu&&4&a.type)this.addMatch(a.index,-2);else{const f=sa(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function WC(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function RI(i,s,a,c){return-1===a?function z_(i,s){return 11&i.type?ll(i,s):4&i.type?Wp(i,s):null}(s,i):-2===a?function El(i,s,a){return a===sc?ll(s,i):a===Bu?Wp(s,i):a===zp?Da(s,i):void 0}(i,s,c):si(i,i[1],a,s)}function $u(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const f=i.data,_=a.matches,E=[];for(let w=0;w<_.length;w+=2){const S=_[w];E.push(S<0?null:RI(s,f[S],_[w+1],a.metadata.read))}d.matches=E}return d.matches}function G_(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const _=$u(i,s,d,a);for(let E=0;E<f.length;E+=2){const w=f[E];if(w>0)c.push(_[E/2]);else{const S=f[E+1],M=s[-w];for(let F=10;F<M.length;F++){const q=M[F];q[17]===q[3]&&G_(q[1],q,S,c)}if(null!==M[9]){const F=M[9];for(let q=0;q<F.length;q++){const ie=F[q];G_(ie[1],ie,S,c)}}}}}return c}function zC(i){const s=Ae(),a=Ft(),c=Yo();Fl(c+1);const d=Ac(a,c);if(i.dirty&&function Nl(i){return 4==(4&i[2])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?G_(a,s,c,[]):$u(a,s,d,c);i.reset(f,Wb),i.notifyOnChanges()}return!0}return!1}function GC(i,s,a){const c=Ft();c.firstCreatePass&&(wh(c,new $C(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),Kp(c,Ae(),s)}function Ch(i,s,a,c){const d=Ft();if(d.firstCreatePass){const f=Wn();wh(d,new $C(s,a,c),f.index),function MI(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}Kp(d,Ae(),a)}function K_(){return function PI(i,s){return i[19].queries[s].queryList}(Ae(),Yo())}function Kp(i,s,a){const c=new H_(4==(4&a));hi(i,s,c,c.destroy),null===s[19]&&(s[19]=new ju),s[19].queries.push(new Hu(c))}function wh(i,s,a){null===i.queries&&(i.queries=new $_),i.queries.track(new W_(s,a))}function Ac(i,s){return i.queries.getByIndex(s)}function Z_(i,s){return Wp(i,s)}function Mh(...i){}const X_=new gn("Application Initializer");let Oh=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Mh,this.reject=Mh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Mu(f))a.push(f);else if(Po(f)){const _=new Promise((E,w)=>{f.subscribe({complete:E,error:w})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(un(X_,8))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ow=new gn("AppId",{providedIn:"root",factory:function ng(){return`${ty()}${ty()}${ty()}`}});function ty(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rg=new gn("Platform Initializer"),jI=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aw=new gn("appBootstrapListener"),lw=new gn("AnimationModuleType");let $I=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const ig=new gn("LocaleId",{providedIn:"root",factory:()=>ui(ig,Ke.Optional|Ke.SkipSelf)||function WI(){return typeof $localize<"u"&&$localize.locale||Qr}()}),ny=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cl{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let GI=(()=>{class i{compileModuleSync(a){return new vl(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=Io(Xe(a).declarations).reduce((_,E)=>{const w=P(E);return w&&_.push(new hc(w)),_},[]);return new Cl(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uw=(()=>Promise.resolve(0))();function Zu(i){typeof Zone>"u"?uw.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class gi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Us(!1),this.onMicrotaskEmpty=new Us(!1),this.onStable=new Us(!1),this.onError=new Us(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function sy(){let i=Et.requestAnimationFrame,s=Et.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function YI(i){const s=()=>{!function ay(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Et,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,sg(i),i.isCheckStableRunning=!0,oy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),sg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,_,E)=>{try{return ly(i),a.invokeTask(d,f,_,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),og(i)}},onInvoke:(a,c,d,f,_,E,w)=>{try{return ly(i),a.invoke(d,f,_,E,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),og(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,sg(i),oy(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gi.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(gi.isInAngularZone())throw new Ce(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,s,qI,Mh,Mh);try{return f.runTask(_,a,c)}finally{f.cancelTask(_)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const qI={};function oy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function sg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ly(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function og(i){i._nesting--,oy(i)}class dw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Us,this.onMicrotaskEmpty=new Us,this.onStable=new Us,this.onError=new Us}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const Jr=new gn(""),xh=new gn("");let Sa,wl=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sa||(function cs(i){Sa=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gi.assertNotInAngularZone(),Zu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zu(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(un(gi),un(kh),un(xh))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac}),i})(),kh=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Sa?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Ta=null;const cy=new gn("AllowMultipleToken"),Aa=new gn("PlatformDestroyListeners");class JI{constructor(s,a){this.name=s,this.token=a}}function Lh(i,s,a=[]){const c=`Platform: ${s}`,d=new gn(c);return(f=[])=>{let _=cg();if(!_||_.injector.get(cy,!1)){const E=[...a,...f,{provide:d,useValue:!0}];i?i(E):function XI(i){if(Ta&&!Ta.get(cy,!1))throw new Ce(400,!1);Ta=i;const s=i.get(dy);(function hw(i){const s=i.get(rg,null);s&&s.forEach(a=>a())})(i)}(function lg(i=[],s){return Yi.create({name:s,providers:[{provide:tm,useValue:"platform"},{provide:Aa,useValue:new Set([()=>Ta=null])},...i]})}(E,c))}return function Fh(i){const s=cg();if(!s)throw new Ce(401,!1);return s}()}}function cg(){return Ta?.get(dy)??null}let dy=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function fy(i,s){let a;return a="noop"===i?new dw:("zone.js"===i?void 0:i)||new gi(s),a}(c?.ngZone,function hy(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:gi,useValue:d}];return d.run(()=>{const _=Yi.create({providers:f,parent:this.injector,name:a.moduleType.name}),E=a.create(_),w=E.injector.get(cl,null);if(!w)throw new Ce(402,!1);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:M=>{w.handleError(M)}});E.onDestroy(()=>{dg(this._modules,E),S.unsubscribe()})}),function us(i,s,a){try{const c=a();return Mu(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(w,d,()=>{const S=E.injector.get(Oh);return S.runInitializers(),S.donePromise.then(()=>(function Ap(i){Ot(i,"Expected localeId to be defined"),"string"==typeof i&&(Tp=i.toLowerCase().replace(/_/g,"-"))}(E.injector.get(ig,Qr)||Qr),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,c=[]){const d=py({},c);return function QI(i,s,a){const c=new vl(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(ug);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ce(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Aa,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(un(Yi))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function py(i,s){return Array.isArray(s)?s.reduce(py,i):{...i,...s}}let ug=(()=>{class i{constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new x.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new x.y(E=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{gi.assertNotInAngularZone(),Zu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{gi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{w.unsubscribe(),S.unsubscribe()}});this.isStable=(0,oe.T)(f,_.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof Hb;if(!this._injector.get(Oh).done)throw!d&&Oe(a),new Ce(405,false);let _;_=d?a:this._injector.get(al).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function uy(i){return i.isBoundToModule}(_)?void 0:this._injector.get(_l),S=_.create(Yi.NULL,[],c||_.selector,E),M=S.location.nativeElement,F=S.injector.get(Jr,null);return F?.registerApplication(M),S.onDestroy(()=>{this.detachView(S.hostView),dg(this.components,S),F?.unregisterApplication(M)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;dg(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(aw,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>dg(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ce(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(un(gi),un(ol),un(cl))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function dg(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let gw=!0,mw=!1;function n0(){return mw=!0,gw}function r0(){if(mw)throw new Error("Cannot enable prod mode after platform setup.");gw=!1}let s0=(()=>{class i{}return i.__NG_ELEMENT_ID__=o0,i})();function o0(i){return function a0(i,s,a){if(Rl(i)&&!a){const c=Gt(i.index,s);return new Yd(c,c)}return 47&i.type?new Yd(s[16],s):null}(Wn(),Ae(),16==(16&i))}class vw{constructor(){}supports(s){return np(s)}create(s){return new f0(s)}}const h0=(i,s)=>s;class f0{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||h0}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const _=!c||a&&a.currentIndex<Cw(c,d,f)?a:c,E=Cw(_,d,f),w=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{f||(f=[]);const S=E-d,M=w-d;if(S!=M){for(let q=0;q<S;q++){const ie=q<f.length?f[q]:f[q]=0,be=ie+q;M<=be&&be<S&&(f[q]=ie+1)}f[_.previousIndex]=M-S}}E!==w&&s(_,E,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!np(s))throw new Ce(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,_,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)f=s[E],_=this._trackByFn(E,f),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,f,_,E)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,E),c=!0),a=a._next}else d=0,function rT(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[dl()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,E=>{_=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,E,_,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,_,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new p0(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ew),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ew),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class p0{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class g0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Ew{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new g0,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cw(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class ww{constructor(){}supports(s){return s instanceof Map||ks(s)}create(){return new m0}}class m0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||ks(s)))throw new Ce(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const c=new RT(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class RT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _0(){return new yy([new vw])}let yy=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||_0()),deps:[[i,new lt,new ve]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Ce(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:_0}),i})();function bw(){return new gg([new ww])}let gg=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||bw()),deps:[[i,new lt,new ve]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Ce(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:bw}),i})();const Il=Lh(null,"core",[]);let Rr=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(un(ug))},i.\u0275mod=Bt({type:i}),i.\u0275inj=At({}),i})();function Oi(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(rt,Ie,L)=>{L.d(Ie,{Z:()=>Ce});var u=L(2090),j=L(4859),x=L(9681),oe=L(1877);class ce{constructor(Ee,ge){this._delegate=Ee,this.firebase=ge,(0,x._addComponent)(Ee,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(Ee,ge=x._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(Ee);return!Ge.isInitialized()&&"EXPLICIT"===(null===(Ze=Ge.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:ge})}_removeServiceInstance(Ee,ge=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(ge)}_addComponent(Ee){(0,x._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,x._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function _e(){const Je=function he(Je){const Ee={},ge={__esModule:!0,initializeApp:function Ne(se,ue={}){const ye=x.initializeApp(se,ue);if((0,u.r3)(Ee,ye.name))return Ee[ye.name];const J=new Je(ye,ge);return Ee[ye.name]=J,J},app:Ge,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function we(se){const ue=se.name,ye=ue.replace("-compat","");if(x._registerComponent(se)&&"PUBLIC"===se.type){const J=(ee=Ge())=>{if("function"!=typeof ee[ye])throw fe.create("invalid-app-argument",{appName:ue});return ee[ye]()};void 0!==se.serviceProps&&(0,u.ZB)(J,se.serviceProps),ge[ye]=J,Je.prototype[ye]=function(...ee){return this._getService.bind(this,ue).apply(this,se.multipleInstances?ee:[])}}return"PUBLIC"===se.type?ge[ye]:null},removeApp:function Ze(se){delete Ee[se]},useAsService:function $e(se,ue){return"serverAuth"===ue?null:ue},modularAPIs:x}};function Ge(se){if(!(0,u.r3)(Ee,se=se||x._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:se});return Ee[se]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Re(){return Object.keys(Ee).map(se=>Ee[se])}}),Ge.App=Je,ge}(ce);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function Ee(ge){(0,u.ZB)(Je,ge)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Je}(),z=new oe.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=K;!function Pe(Je){(0,x.registerVersion)("@firebase/app-compat","0.1.39",Je)}()},9681:(rt,Ie,L)=>{L.r(Ie),L.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>Ot,_addComponent:()=>$t,_addOrOverwriteComponent:()=>Wt,_apps:()=>Qt,_clearComponents:()=>Xr,_components:()=>hn,_getProvider:()=>At,_registerComponent:()=>kt,_removeServiceInstance:()=>rr,deleteApp:()=>ni,getApp:()=>An,getApps:()=>Gr,initializeApp:()=>_r,onLog:()=>kn,registerVersion:()=>jn,setLogLevel:()=>an});var u=L(5861),j=L(4859),x=L(1877),oe=L(2090),ce=L(8766);class me{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function fe(qe){return"VERSION"===qe.getComponent()?.type}(Ye)){const pt=Ye.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(Ye=>Ye).join(" ")}}const he="@firebase/app",K=new x.Yd("@firebase/app"),Ot="[DEFAULT]",We={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,hn=new Map;function $t(qe,De){try{qe.container.addComponent(De)}catch(Ye){K.debug(`Component ${De.name} failed to register with FirebaseApp ${qe.name}`,Ye)}}function Wt(qe,De){qe.container.addOrOverwriteComponent(De)}function kt(qe){const De=qe.name;if(hn.has(De))return K.debug(`There were multiple attempts to register component ${De}.`),!1;hn.set(De,qe);for(const Ye of Qt.values())$t(Ye,qe);return!0}function At(qe,De){const Ye=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),qe.container.getProvider(De)}function rr(qe,De,Ye=Ot){At(qe,De).clearInstance(Ye)}function Xr(){hn.clear()}const Dn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ei{constructor(De,Ye,pt){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}const ti="9.14.0";function _r(qe,De={}){let Ye=qe;"object"!=typeof De&&(De={name:De});const pt=Object.assign({name:Ot,automaticDataCollectionEnabled:!1},De),gt=pt.name;if("string"!=typeof gt||!gt)throw Dn.create("bad-app-name",{appName:String(gt)});if(Ye||(Ye=(0,oe.aH)()),!Ye)throw Dn.create("no-options");const Bt=Qt.get(gt);if(Bt){if((0,oe.vZ)(Ye,Bt.options)&&(0,oe.vZ)(pt,Bt.config))return Bt;throw Dn.create("duplicate-app",{appName:gt})}const G=new j.H0(gt);for(const Y of hn.values())G.addComponent(Y);const $=new ei(Ye,pt,G);return Qt.set(gt,$),$}function An(qe=Ot){const De=Qt.get(qe);if(!De&&qe===Ot)return _r();if(!De)throw Dn.create("no-app",{appName:qe});return De}function Gr(){return Array.from(Qt.values())}function ni(qe){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(qe){const De=qe.name;Qt.has(De)&&(Qt.delete(De),yield Promise.all(qe.container.getProviders().map(Ye=>Ye.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function jn(qe,De,Ye){var pt;let gt=null!==(pt=We[qe])&&void 0!==pt?pt:qe;Ye&&(gt+=`-${Ye}`);const Bt=gt.match(/\s|\//),G=De.match(/\s|\//);if(Bt||G){const $=[`Unable to register library "${gt}" with version "${De}":`];return Bt&&$.push(`library name "${gt}" contains illegal characters (whitespace or "/")`),Bt&&G&&$.push("and"),G&&$.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void K.warn($.join(" "))}kt(new j.wA(`${gt}-version`,()=>({library:gt,version:De}),"VERSION"))}function kn(qe,De){if(null!==qe&&"function"!=typeof qe)throw Dn.create("invalid-log-argument");(0,x.Am)(qe,De)}function an(qe){(0,x.Ub)(qe)}const ln="firebase-heartbeat-store";let fn=null;function tn(){return fn||(fn=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(qe,De)=>{0===De&&qe.createObjectStore(ln)}}).catch(qe=>{throw Dn.create("idb-open",{originalErrorMessage:qe.message})})),fn}function at(){return(at=(0,u.Z)(function*(qe){var De;try{return(yield tn()).transaction(ln).objectStore(ln).get(Ln(qe))}catch(Ye){if(Ye instanceof oe.ZR)K.warn(Ye.message);else{const pt=Dn.create("idb-get",{originalErrorMessage:null===(De=Ye)||void 0===De?void 0:De.message});K.warn(pt.message)}}})).apply(this,arguments)}function Et(qe,De){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(qe,De){var Ye;try{const gt=(yield tn()).transaction(ln,"readwrite");return yield gt.objectStore(ln).put(De,Ln(qe)),gt.done}catch(pt){if(pt instanceof oe.ZR)K.warn(pt.message);else{const gt=Dn.create("idb-set",{originalErrorMessage:null===(Ye=pt)||void 0===Ye?void 0:Ye.message});K.warn(gt.message)}}})).apply(this,arguments)}function Ln(qe){return`${qe.name}!${qe.options.appId}`}class cr{constructor(De){this.container=De,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new Vt(Ye),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var De=this;return(0,u.Z)(function*(){const pt=De.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gt=Dt();if(null===De._heartbeatsCache&&(De._heartbeatsCache=yield De._heartbeatsCachePromise),De._heartbeatsCache.lastSentHeartbeatDate!==gt&&!De._heartbeatsCache.heartbeats.some(Bt=>Bt.date===gt))return De._heartbeatsCache.heartbeats.push({date:gt,agent:pt}),De._heartbeatsCache.heartbeats=De._heartbeatsCache.heartbeats.filter(Bt=>{const G=new Date(Bt.date).valueOf();return Date.now()-G<=2592e6}),De._storage.overwrite(De._heartbeatsCache)})()}getHeartbeatsHeader(){var De=this;return(0,u.Z)(function*(){if(null===De._heartbeatsCache&&(yield De._heartbeatsCachePromise),null===De._heartbeatsCache||0===De._heartbeatsCache.heartbeats.length)return"";const Ye=Dt(),{heartbeatsToSend:pt,unsentEntries:gt}=function br(qe,De=1024){const Ye=[];let pt=qe.slice();for(const gt of qe){const Bt=Ye.find(G=>G.agent===gt.agent);if(Bt){if(Bt.dates.push(gt.date),Kn(Ye)>De){Bt.dates.pop();break}}else if(Ye.push({agent:gt.agent,dates:[gt.date]}),Kn(Ye)>De){Ye.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:pt}}(De._heartbeatsCache.heartbeats),Bt=(0,oe.L)(JSON.stringify({version:2,heartbeats:pt}));return De._heartbeatsCache.lastSentHeartbeatDate=Ye,gt.length>0?(De._heartbeatsCache.heartbeats=gt,yield De._storage.overwrite(De._heartbeatsCache)):(De._heartbeatsCache.heartbeats=[],De._storage.overwrite(De._heartbeatsCache)),Bt})()}}function Dt(){return(new Date).toISOString().substring(0,10)}class Vt{constructor(De){this.app=De,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var De=this;return(0,u.Z)(function*(){return(yield De._canUseIndexedDBPromise)&&(yield function ot(qe){return at.apply(this,arguments)}(De.app))||{heartbeats:[]}})()}overwrite(De){var Ye=this;return(0,u.Z)(function*(){var pt;if(yield Ye._canUseIndexedDBPromise){const Bt=yield Ye.read();return Et(Ye.app,{lastSentHeartbeatDate:null!==(pt=De.lastSentHeartbeatDate)&&void 0!==pt?pt:Bt.lastSentHeartbeatDate,heartbeats:De.heartbeats})}})()}add(De){var Ye=this;return(0,u.Z)(function*(){var pt;if(yield Ye._canUseIndexedDBPromise){const Bt=yield Ye.read();return Et(Ye.app,{lastSentHeartbeatDate:null!==(pt=De.lastSentHeartbeatDate)&&void 0!==pt?pt:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...De.heartbeats]})}})()}}function Kn(qe){return(0,oe.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function yn(qe){kt(new j.wA("platform-logger",De=>new me(De),"PRIVATE")),kt(new j.wA("heartbeat",De=>new cr(De),"PRIVATE")),jn(he,"0.8.4",qe),jn(he,"0.8.4","esm2017"),jn("fire-js","")}("")},4859:(rt,Ie,L)=>{L.d(Ie,{H0:()=>he,wA:()=>x,zt:()=>ce});var u=L(5861),j=L(2090);class x{constructor(K,z,X){this.name=K,this.instanceFactory=z,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const oe="[DEFAULT]";class ce{constructor(K,z){this.name=K,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const z=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(z)){const X=new j.BH;if(this.instancesDeferred.set(z,X),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:z});Ve&&X.resolve(Ve)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(K){var z;const X=this.normalizeInstanceIdentifier(K?.identifier),Ve=null!==(z=K?.optional)&&void 0!==z&&z;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Pe){if(Ve)return null;throw Pe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function fe(_e){return"EAGER"===_e.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[z,X]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(z);try{const Pe=this.getOrInitializeService({instanceIdentifier:Ve});X.resolve(Pe)}catch{}}}}clearInstance(K=oe){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,u.Z)(function*(){const z=Array.from(K.instances.values());yield Promise.all([...z.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...z.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=oe){return this.instances.has(K)}getOptions(K=oe){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:z={}}=K,X=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:X,options:z});for(const[Pe,Ce]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Pe)&&Ce.resolve(Ve);return Ve}onInit(K,z){var X;const Ve=this.normalizeInstanceIdentifier(z),Pe=null!==(X=this.onInitCallbacks.get(Ve))&&void 0!==X?X:new Set;Pe.add(K),this.onInitCallbacks.set(Ve,Pe);const Ce=this.instances.get(Ve);return Ce&&K(Ce,Ve),()=>{Pe.delete(K)}}invokeOnInitCallbacks(K,z){const X=this.onInitCallbacks.get(z);if(X)for(const Ve of X)try{Ve(K,z)}catch{}}getOrInitializeService({instanceIdentifier:K,options:z={}}){let X=this.instances.get(K);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=K,_e===oe?void 0:_e),options:z}),this.instances.set(K,X),this.instancesOptions.set(K,z),this.invokeOnInitCallbacks(X,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,X)}catch{}var _e;return X||null}normalizeInstanceIdentifier(K=oe){return this.component?this.component.multipleInstances?K:oe:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const z=this.getProvider(K.name);if(z.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);z.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const z=new ce(K,this);return this.providers.set(K,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,Ie,L)=>{L.d(Ie,{Am:()=>_e,Ub:()=>he,Yd:()=>fe,in:()=>j});const u=[];var j=(()=>{return(K=j||(j={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",j;var K})();const x={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},oe=j.INFO,ce={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},me=(K,z,...X)=>{if(z<K.logLevel)return;const Ve=(new Date).toISOString(),Pe=ce[z];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Pe](`[${Ve}]  ${K.name}:`,...X)};class fe{constructor(z){this.name=z,this._logLevel=oe,this._logHandler=me,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in j))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?x[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...z),this._logHandler(this,j.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...z),this._logHandler(this,j.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,j.INFO,...z),this._logHandler(this,j.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,j.WARN,...z),this._logHandler(this,j.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...z),this._logHandler(this,j.ERROR,...z)}}function he(K){u.forEach(z=>{z.setLogLevel(K)})}function _e(K,z){for(const X of u){let Ve=null;z&&z.level&&(Ve=x[z.level]),X.userLogHandler=null===K?null:(Pe,Ce,...Je)=>{const Ee=Je.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ce>=(Ve??Pe.logLevel)&&K({level:j[Ce].toLowerCase(),message:Ee,args:Je,type:Pe.name})}}}},8766:(rt,Ie,L)=>{L.d(Ie,{Lj:()=>Ne,X3:()=>Ge});var u=L(5861);let x,oe;const fe=new WeakMap,he=new WeakMap,_e=new WeakMap,K=new WeakMap,z=new WeakMap;let Pe={get(ue,ye,J){if(ue instanceof IDBTransaction){if("done"===ye)return he.get(ue);if("objectStoreNames"===ye)return ue.objectStoreNames||_e.get(ue);if("store"===ye)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return ge(ue[ye])},set:(ue,ye,J)=>(ue[ye]=J,!0),has:(ue,ye)=>ue instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in ue};function Ee(ue){return"function"==typeof ue?function Je(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...ye){return ue.apply(Ze(this),ye),ge(fe.get(this))}:function(...ye){return ge(ue.apply(Ze(this),ye))}:function(ye,...J){const ee=ue.call(Ze(this),ye,...J);return _e.set(ee,ye.sort?ye.sort():[ye]),ge(ee)}}(ue):(ue instanceof IDBTransaction&&function Ve(ue){if(he.has(ue))return;const ye=new Promise((J,ee)=>{const pe=()=>{ue.removeEventListener("complete",ae),ue.removeEventListener("error",Le),ue.removeEventListener("abort",Le)},ae=()=>{J(),pe()},Le=()=>{ee(ue.error||new DOMException("AbortError","AbortError")),pe()};ue.addEventListener("complete",ae),ue.addEventListener("error",Le),ue.addEventListener("abort",Le)});he.set(ue,ye)}(ue),((ue,ye)=>ye.some(J=>ue instanceof J))(ue,function ce(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Pe):ue)}function ge(ue){if(ue instanceof IDBRequest)return function X(ue){const ye=new Promise((J,ee)=>{const pe=()=>{ue.removeEventListener("success",ae),ue.removeEventListener("error",Le)},ae=()=>{J(ge(ue.result)),pe()},Le=()=>{ee(ue.error),pe()};ue.addEventListener("success",ae),ue.addEventListener("error",Le)});return ye.then(J=>{J instanceof IDBCursor&&fe.set(J,ue)}).catch(()=>{}),z.set(ye,ue),ye}(ue);if(K.has(ue))return K.get(ue);const ye=Ee(ue);return ye!==ue&&(K.set(ue,ye),z.set(ye,ue)),ye}const Ze=ue=>z.get(ue);function Ge(ue,ye,{blocked:J,upgrade:ee,blocking:pe,terminated:ae}={}){const Le=indexedDB.open(ue,ye),Fe=ge(Le);return ee&&Le.addEventListener("upgradeneeded",st=>{ee(ge(Le.result),st.oldVersion,st.newVersion,ge(Le.transaction))}),J&&Le.addEventListener("blocked",()=>J()),Fe.then(st=>{ae&&st.addEventListener("close",()=>ae()),pe&&st.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Fe}function Ne(ue,{blocked:ye}={}){const J=indexedDB.deleteDatabase(ue);return ye&&J.addEventListener("blocked",()=>ye()),ge(J).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],$e=new Map;function se(ue,ye){if(!(ue instanceof IDBDatabase)||ye in ue||"string"!=typeof ye)return;if($e.get(ye))return $e.get(ye);const J=ye.replace(/FromIndex$/,""),ee=ye!==J,pe=we.includes(J);if(!(J in(ee?IDBIndex:IDBObjectStore).prototype)||!pe&&!Re.includes(J))return;const ae=function(){var Le=(0,u.Z)(function*(Fe,...st){const zt=this.transaction(Fe,pe?"readwrite":"readonly");let Ot=zt.store;return ee&&(Ot=Ot.index(st.shift())),(yield Promise.all([Ot[J](...st),pe&&zt.done]))[0]});return function(st){return Le.apply(this,arguments)}}();return $e.set(ye,ae),ae}!function Ce(ue){Pe=ue(Pe)}(ue=>({...ue,get:(ye,J,ee)=>se(ye,J)||ue.get(ye,J,ee),has:(ye,J)=>!!se(ye,J)||ue.has(ye,J)}))},5861:(rt,Ie,L)=>{function u(x,oe,ce,me,fe,he,_e){try{var K=x[he](_e),z=K.value}catch(X){return void ce(X)}K.done?oe(z):Promise.resolve(z).then(me,fe)}function j(x){return function(){var oe=this,ce=arguments;return new Promise(function(me,fe){var he=x.apply(oe,ce);function _e(z){u(he,me,fe,_e,K,"next",z)}function K(z){u(he,me,fe,_e,K,"throw",z)}_e(void 0)})}}L.d(Ie,{Z:()=>j})}},rt=>{rt(rt.s=4847)}]);