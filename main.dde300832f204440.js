"use strict";(self.webpackChunkthe_project=self.webpackChunkthe_project||[]).push([[179],{2011:(Je,De,x)=>{x.d(De,{Dh:()=>le,GT:()=>he,cc:()=>Ae,hO:()=>Oe,on:()=>G,pX:()=>oe,xv:()=>fe});var c=x(4650),B=x(127),P=x(5813);Je=x.hmd(Je);const re=["ngOnDestroy"],oe=(de,je,$e,Re={})=>new Proxy(de,{get:(Te,ye)=>$e.runOutsideAngular(()=>{var Le;if(de[ye])return!(null===(Le=Re?.spy)||void 0===Le)&&Le.get&&Re.spy.get(ye,de[ye]),de[ye];if(re.indexOf(ye)>-1)return()=>{};const ne=je.toPromise().then(ae=>{const pe=ae&&ae[ye];return"function"==typeof pe?pe.bind(ae):pe&&pe.then?pe.then(K=>$e.run(()=>K)):$e.run(()=>pe)});return new Proxy(()=>{},{get:(ae,pe)=>ne[pe],apply:(ae,pe,K)=>ne.then(Q=>{var ue;const ie=Q&&Q(...K);return!(null===(ue=Re?.spy)||void 0===ue)&&ue.apply&&Re.spy.apply(ye,K,ie),ie})})})}),he=(de,je)=>{je.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Re=>{Object.defineProperty(de.prototype,Re,Object.getOwnPropertyDescriptor($e.prototype||$e,Re))})})};class ce{constructor(je){return je}}const le=new c.OlP("angularfire2.app.options"),fe=new c.OlP("angularfire2.app.name");function G(de,je,$e){const Te="object"==typeof $e&&$e||{};Te.name=Te.name||"string"==typeof $e&&$e||"[DEFAULT]";const Le=B.Z.apps.filter(ne=>ne&&ne.name===Te.name)[0]||je.runOutsideAngular(()=>B.Z.initializeApp(de,Te));try{JSON.stringify(de)!==JSON.stringify(Le.options)&&j("error",`${Le.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(Le)}const j=(de,...je)=>{(0,c.X6Q)()&&typeof console<"u"&&console[de](...je)},Y={provide:ce,useFactory:G,deps:[le,c.R0b,[new c.FiY,fe]]};let Oe=(()=>{class de{constructor($e){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,$e.toString())}static initializeApp($e,Re){return{ngModule:de,providers:[{provide:le,useValue:$e},{provide:fe,useValue:Re}]}}}return de.\u0275fac=function($e){return new($e||de)(c.LFG(c.Lbi))},de.\u0275mod=c.oAB({type:de}),de.\u0275inj=c.cJS({providers:[Y]}),de})();function Ae(de,je,$e,Re,Te){const[,ye,Le]=globalThis.\u0275AngularfireInstanceCache.find(ne=>ne[0]===de)||[];if(ye)return function _e(de,je){try{return de.toString()===je.toString()}catch{return de===je}}(Te,Le)||(ge("error",`${je} was already initialized on the ${$e} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Te,was:Le})),ye;{const ne=Re();return globalThis.\u0275AngularfireInstanceCache.push([de,ne,Te]),ne}}const Ze=!!Je.hot,ge=(de,...je)=>{(0,c.X6Q)()&&typeof console<"u"&&console[de](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Je,De,x)=>{x.d(De,{q4:()=>El,iC:()=>Rn,HU:()=>ts,vb:()=>bi,JM:()=>Zs,u3:()=>ei});var c=x(4650),B=x(5867),P=x(5861),re=x(9681),oe=x(2090),he=x(4859),ce=x(1877),le=x(8766);const fe="@firebase/installations",G="0.5.16",Y=`w:${G}`,Oe="FIS_v2",je=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $e(w){return w instanceof oe.ZR&&w.code.includes("request-failed")}function Re({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function Te(w){return{token:w.token,requestStatus:2,expiresIn:Q(w.expiresIn),creationTime:Date.now()}}function ye(w,I){return Le.apply(this,arguments)}function Le(){return(Le=(0,P.Z)(function*(w,I){const L=(yield I.json()).error;return je.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ne({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function ae(w,{refreshToken:I}){const A=ne(w);return A.append("Authorization",function ue(w){return`${Oe} ${w}`}(I)),A}function pe(w){return K.apply(this,arguments)}function K(){return(K=(0,P.Z)(function*(w){const I=yield w();return I.status>=500&&I.status<600?w():I})).apply(this,arguments)}function Q(w){return Number(w.replace("s","000"))}function ie(w,I){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:I},{fid:A}){const L=Re(w),q=ne(w),se=I.getImmediate({optional:!0});if(se){const gt=yield se.getHeartbeatsHeader();gt&&q.append("x-firebase-client",gt)}const Fe={method:"POST",headers:q,body:JSON.stringify({fid:A,authVersion:Oe,appId:w.appId,sdkVersion:Y})},nt=yield pe(()=>fetch(L,Fe));if(nt.ok){const gt=yield nt.json();return{fid:gt.fid||A,registrationStatus:2,refreshToken:gt.refreshToken,authToken:Te(gt.authToken)}}throw yield ye("Create Installation",nt)})).apply(this,arguments)}function xe(w){return new Promise(I=>{setTimeout(I,w)})}const Vt=/^[cdef][\w-]{21}$/;function Ue(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const A=function $t(w){return function Xe(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Vt.test(A)?A:""}catch{return""}}function Jt(w){return`${w.appName}!${w.appId}`}const Ft=new Map;function Lt(w,I){const A=Jt(w);Kn(A,I),function jr(w,I){const A=function hn(){return!lr&&"BroadcastChannel"in self&&(lr=new BroadcastChannel("[Firebase] FID Change"),lr.onmessage=w=>{Kn(w.data.key,w.data.fid)}),lr}();A&&A.postMessage({key:w,fid:I}),function Wr(){0===Ft.size&&lr&&(lr.close(),lr=null)}()}(A,I)}function Kn(w,I){const A=Ft.get(w);if(A)for(const L of A)L(I)}let lr=null;const mn="firebase-installations-store";let xr=null;function zr(){return xr||(xr=(0,le.X3)("firebase-installations-database",1,{upgrade:(w,I)=>{0===I&&w.createObjectStore(mn)}})),xr}function He(w,I){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(w,I){const A=Jt(w),q=(yield zr()).transaction(mn,"readwrite"),se=q.objectStore(mn),me=yield se.get(A);return yield se.put(I,A),yield q.done,(!me||me.fid!==I.fid)&&Lt(w,I.fid),I})).apply(this,arguments)}function Dn(w){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,P.Z)(function*(w){const I=Jt(w),L=(yield zr()).transaction(mn,"readwrite");yield L.objectStore(mn).delete(I),yield L.done})).apply(this,arguments)}function Gn(w,I){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,P.Z)(function*(w,I){const A=Jt(w),q=(yield zr()).transaction(mn,"readwrite"),se=q.objectStore(mn),me=yield se.get(A),Fe=I(me);return void 0===Fe?yield se.delete(A):yield se.put(Fe,A),yield q.done,Fe&&(!me||me.fid!==Fe.fid)&&Lt(w,Fe.fid),Fe})).apply(this,arguments)}function qt(w){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(w){let I;const A=yield Gn(w.appConfig,L=>{const q=Gt(L),se=et(w,q);return I=se.registrationPromise,se.installationEntry});return""===A.fid?{installationEntry:yield I}:{installationEntry:A,registrationPromise:I}})).apply(this,arguments)}function Gt(w){return ut(w||{fid:Ue(),registrationStatus:0})}function et(w,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(je.create("app-offline"))};const A={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function tt(w,I){return ft.apply(this,arguments)}(w,A);return{installationEntry:A,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:cr(w)}:{installationEntry:I}}function ft(){return(ft=(0,P.Z)(function*(w,I){try{const A=yield ie(w,I);return He(w.appConfig,A)}catch(A){throw $e(A)&&409===A.customData.serverCode?yield Dn(w.appConfig):yield He(w.appConfig,{fid:I.fid,registrationStatus:0}),A}})).apply(this,arguments)}function cr(w){return bn.apply(this,arguments)}function bn(){return(bn=(0,P.Z)(function*(w){let I=yield Jn(w.appConfig);for(;1===I.registrationStatus;)yield xe(100),I=yield Jn(w.appConfig);if(0===I.registrationStatus){const{installationEntry:A,registrationPromise:L}=yield qt(w);return L||A}return I})).apply(this,arguments)}function Jn(w){return Gn(w,I=>{if(!I)throw je.create("installation-not-found");return ut(I)})}function ut(w){return function Xn(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function yt(w,I){return hr.apply(this,arguments)}function hr(){return(hr=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:I},A){const L=Pt(w,A),q=ae(w,A),se=I.getImmediate({optional:!0});if(se){const gt=yield se.getHeartbeatsHeader();gt&&q.append("x-firebase-client",gt)}const Fe={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Y,appId:w.appId}})},nt=yield pe(()=>fetch(L,Fe));if(nt.ok)return Te(yield nt.json());throw yield ye("Generate Auth Token",nt)})).apply(this,arguments)}function Pt(w,{fid:I}){return`${Re(w)}/${I}/authTokens:generate`}function Un(w){return sn.apply(this,arguments)}function sn(){return(sn=(0,P.Z)(function*(w,I=!1){let A;const L=yield Gn(w.appConfig,se=>{if(!Ot(se))throw je.create("not-registered");const me=se.authToken;if(!I&&W(me))return se;if(1===me.requestStatus)return A=We(w,I),se;{if(!navigator.onLine)throw je.create("app-offline");const Fe=Z(se);return A=at(w,Fe),Fe}});return A?yield A:L.authToken})).apply(this,arguments)}function We(w,I){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,P.Z)(function*(w,I){let A=yield Ge(w.appConfig);for(;1===A.authToken.requestStatus;)yield xe(100),A=yield Ge(w.appConfig);const L=A.authToken;return 0===L.requestStatus?Un(w,I):L})).apply(this,arguments)}function Ge(w){return Gn(w,I=>{if(!Ot(I))throw je.create("not-registered");return function V(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function at(w,I){return lt.apply(this,arguments)}function lt(){return(lt=(0,P.Z)(function*(w,I){try{const A=yield yt(w,I),L=Object.assign(Object.assign({},I),{authToken:A});return yield He(w.appConfig,L),A}catch(A){if(!$e(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield He(w.appConfig,L)}else yield Dn(w.appConfig);throw A}})).apply(this,arguments)}function Ot(w){return void 0!==w&&2===w.registrationStatus}function W(w){return 2===w.requestStatus&&!function $(w){const I=Date.now();return I<w.creationTime||w.creationTime+w.expiresIn<I+36e5}(w)}function Z(w){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:I})}function k(){return(k=(0,P.Z)(function*(w){const I=w,{installationEntry:A,registrationPromise:L}=yield qt(I);return L?L.catch(console.error):Un(I).catch(console.error),A.fid})).apply(this,arguments)}function Se(){return(Se=(0,P.Z)(function*(w,I=!1){const A=w;return yield qe(A),(yield Un(A,I)).token})).apply(this,arguments)}function qe(w){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,P.Z)(function*(w){const{registrationPromise:I}=yield qt(w);I&&(yield I)})).apply(this,arguments)}function $i(w){return je.create("missing-app-config-values",{valueName:w})}const vs="installations",Hi=w=>{const I=w.getProvider("app").getImmediate(),A=function en(w){if(!w||!w.options)throw $i("App Configuration");if(!w.name)throw $i("App Name");const I=["projectId","apiKey","appId"];for(const A of I)if(!w.options[A])throw $i(A);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(I);return{app:I,appConfig:A,heartbeatServiceProvider:(0,re._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},ji=w=>{const I=w.getProvider("app").getImmediate(),A=(0,re._getProvider)(I,vs).getImmediate();return{getId:()=>function M(w){return k.apply(this,arguments)}(A),getToken:q=>function ee(w){return Se.apply(this,arguments)}(A,q)}};(function na(){(0,re._registerComponent)(new he.wA(vs,Hi,"PUBLIC")),(0,re._registerComponent)(new he.wA("installations-internal",ji,"PRIVATE"))})(),(0,re.registerVersion)(fe,G),(0,re.registerVersion)(fe,G,"esm2017");const ii="@firebase/remote-config",An=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class nl{constructor(I,A,L,q){this.client=I,this.storage=A,this.storageCache=L,this.logger=q}isCachedDataFresh(I,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-A,q=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${q}.`),q}fetch(I){var A=this;return(0,P.Z)(function*(){const[L,q]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(q&&A.isCachedDataFresh(I.cacheMaxAgeMillis,L))return q;I.eTag=q&&q.eTag;const se=yield A.client.fetch(I),me=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&me.push(A.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(me),se})()}}function _o(w=navigator){return w.languages&&w.languages[0]||w.language}class Zi{constructor(I,A,L,q,se,me){this.firebaseInstallations=I,this.sdkVersion=A,this.namespace=L,this.projectId=q,this.apiKey=se,this.appId=me}fetch(I){var A=this;return(0,P.Z)(function*(){var L,q,se;const[me,Fe]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},it={sdk_version:A.sdkVersion,app_instance_id:me,app_instance_id_token:Fe,app_id:A.appId,language_code:_o()},Pn={method:"POST",headers:Et,body:JSON.stringify(it)},rr=fetch(gt,Pn),is=new Promise((Si,qn)=>{I.signal.addEventListener(()=>{const ku=new Error("The operation was aborted.");ku.name="AbortError",qn(ku)})});let wt;try{yield Promise.race([rr,is]),wt=yield rr}catch(Si){let qn="fetch-client-network";throw"AbortError"===(null===(L=Si)||void 0===L?void 0:L.name)&&(qn="fetch-timeout"),An.create(qn,{originalErrorMessage:null===(q=Si)||void 0===q?void 0:q.message})}let Qn=wt.status;const ss=wt.headers.get("ETag")||void 0;let Ai,Ia;if(200===wt.status){let Si;try{Si=yield wt.json()}catch(qn){throw An.create("fetch-client-parse",{originalErrorMessage:null===(se=qn)||void 0===se?void 0:se.message})}Ai=Si.entries,Ia=Si.state}if("INSTANCE_STATE_UNSPECIFIED"===Ia?Qn=500:"NO_CHANGE"===Ia?Qn=304:("NO_TEMPLATE"===Ia||"EMPTY_CONFIG"===Ia)&&(Ai={}),304!==Qn&&200!==Qn)throw An.create("fetch-status",{httpStatus:Qn});return{status:Qn,eTag:ss,config:Ai}})()}}class oi{constructor(I,A){this.client=I,this.storage=A}fetch(I){var A=this;return(0,P.Z)(function*(){const L=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:A,backoffCount:L}){var q=this;return(0,P.Z)(function*(){yield function wr(w,I){return new Promise((A,L)=>{const q=Math.max(I-Date.now(),0),se=setTimeout(A,q);w.addEventListener(()=>{clearTimeout(se),L(An.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,A);try{const se=yield q.client.fetch(I);return yield q.storage.deleteThrottleMetadata(),se}catch(se){if(!function kh(w){if(!(w instanceof oe.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}(se))throw se;const me={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(me),q.attemptFetch(I,me)}})()}}class Lh{constructor(I,A,L,q,se){this.app=I,this._client=A,this._storageCache=L,this._storage=q,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yo(w,I){var A;const L=w.target.error||void 0;return An.create(I,{originalErrorMessage:L&&(null===(A=L)||void 0===A?void 0:A.message)})}const Cs="app_namespace_store";class cu{constructor(I,A,L,q=function Uh(){return new Promise((w,I)=>{var A;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=q=>{I(yo(q,"storage-open"))},L.onsuccess=q=>{w(q.target.result)},L.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(Cs,{keyPath:"compositeKey"})}}catch(L){I(An.create("storage-open",{originalErrorMessage:null===(A=L)||void 0===A?void 0:A.message}))}})}()){this.appId=I,this.appName=A,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var A=this;return(0,P.Z)(function*(){const L=yield A.openDbPromise;return new Promise((q,se)=>{var me;const nt=L.transaction([Cs],"readonly").objectStore(Cs),gt=A.createCompositeKey(I);try{const Et=nt.get(gt);Et.onerror=it=>{se(yo(it,"storage-get"))},Et.onsuccess=it=>{const Pn=it.target.result;q(Pn?Pn.value:void 0)}}catch(Et){se(An.create("storage-get",{originalErrorMessage:null===(me=Et)||void 0===me?void 0:me.message}))}})})()}set(I,A){var L=this;return(0,P.Z)(function*(){const q=yield L.openDbPromise;return new Promise((se,me)=>{var Fe;const gt=q.transaction([Cs],"readwrite").objectStore(Cs),Et=L.createCompositeKey(I);try{const it=gt.put({compositeKey:Et,value:A});it.onerror=Pn=>{me(yo(Pn,"storage-set"))},it.onsuccess=()=>{se()}}catch(it){me(An.create("storage-set",{originalErrorMessage:null===(Fe=it)||void 0===Fe?void 0:Fe.message}))}})})()}delete(I){var A=this;return(0,P.Z)(function*(){const L=yield A.openDbPromise;return new Promise((q,se)=>{var me;const nt=L.transaction([Cs],"readwrite").objectStore(Cs),gt=A.createCompositeKey(I);try{const Et=nt.delete(gt);Et.onerror=it=>{se(yo(it,"storage-delete"))},Et.onsuccess=()=>{q()}}catch(Et){se(An.create("storage-delete",{originalErrorMessage:null===(me=Et)||void 0===me?void 0:me.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ws{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const A=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),q=I.storage.getActiveConfig(),se=yield A;se&&(I.lastFetchStatus=se);const me=yield L;me&&(I.lastSuccessfulFetchTimestampMillis=me);const Fe=yield q;Fe&&(I.activeConfig=Fe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Up(){return ra.apply(this,arguments)}function ra(){return(ra=(0,P.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function du(){(0,re._registerComponent)(new he.wA("remote-config",function w(I,{instanceIdentifier:A}){const L=I.getProvider("app").getImmediate(),q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw An.create("registration-window");if(!(0,oe.hl)())throw An.create("indexed-db-unavailable");const{projectId:se,apiKey:me,appId:Fe}=L.options;if(!se)throw An.create("registration-project-id");if(!me)throw An.create("registration-api-key");if(!Fe)throw An.create("registration-app-id");const nt=new cu(Fe,L.name,A=A||"firebase"),gt=new ws(nt),Et=new ce.Yd(ii);Et.logLevel=ce.in.ERROR;const it=new Zi(q,re.SDK_VERSION,A,se,me,Fe),Pn=new oi(it,nt),rr=new nl(Pn,nt,gt,Et),is=new Lh(L,rr,gt,nt,Et);return function Sn(w){const I=(0,oe.m9)(w);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(is),is},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(ii,"0.3.15"),(0,re.registerVersion)(ii,"0.3.15","esm2017")}();const Yn="/firebase-messaging-sw.js",Ds="/firebase-cloud-messaging-push-scope",_i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ia="google.c.a.c_id",rl="google.c.a.c_l",pu="google.c.a.ts",bs="google.c.a.e";var Ir=(()=>{return(w=Ir||(Ir={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Ir;var w})();function ai(w){const I=new Uint8Array(w);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gr(w){const A=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(A),q=new Uint8Array(L.length);for(let se=0;se<L.length;++se)q[se]=L.charCodeAt(se);return q}const qi="fcm_token_details_db",vo="fcm_token_object_Store";function $h(w){return il.apply(this,arguments)}function il(){return il=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(qi))return null;let I=null;return(yield(0,le.X3)(qi,5,{upgrade:(L=(0,P.Z)(function*(q,se,me,Fe){var nt;if(se<2||!q.objectStoreNames.contains(vo))return;const gt=Fe.objectStore(vo),Et=yield gt.index("fcmSenderId").get(w);if(yield gt.clear(),Et)if(2===se){const it=Et;if(!it.auth||!it.p256dh||!it.endpoint)return;I={token:it.fcmToken,createTime:null!==(nt=it.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:it.auth,p256dh:it.p256dh,endpoint:it.endpoint,swScope:it.swScope,vapidKey:"string"==typeof it.vapidKey?it.vapidKey:ai(it.vapidKey)}}}else if(3===se){const it=Et;I={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:ai(it.auth),p256dh:ai(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:ai(it.vapidKey)}}}else if(4===se){const it=Et;I={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:ai(it.auth),p256dh:ai(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:ai(it.vapidKey)}}}}),function(se,me,Fe,nt){return L.apply(this,arguments)})})).close(),yield(0,le.Lj)(qi),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),fn(I)?I:null;var L}),il.apply(this,arguments)}function fn(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:I}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const kr="firebase-messaging-store";let zn=null;function sa(){return zn||(zn=(0,le.X3)("firebase-messaging-database",1,{upgrade:(w,I)=>{0===I&&w.createObjectStore(kr)}})),zn}function Ts(w){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,P.Z)(function*(w){const I=Dr(w),L=yield(yield sa()).transaction(kr).objectStore(kr).get(I);if(L)return L;{const q=yield $h(w.appConfig.senderId);if(q)return yield Ut(w,q),q}})).apply(this,arguments)}function Ut(w,I){return sl.apply(this,arguments)}function sl(){return(sl=(0,P.Z)(function*(w,I){const A=Dr(w),q=(yield sa()).transaction(kr,"readwrite");return yield q.objectStore(kr).put(I,A),yield q.done,I})).apply(this,arguments)}function yi(w){return ol.apply(this,arguments)}function ol(){return(ol=(0,P.Z)(function*(w){const I=Dr(w),L=(yield sa()).transaction(kr,"readwrite");yield L.objectStore(kr).delete(I),yield L.done})).apply(this,arguments)}function Dr({appConfig:w}){return w.appId}const _n=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _t(w,I){return Co.apply(this,arguments)}function Co(){return(Co=(0,P.Z)(function*(w,I){var A;const L=yield Do(w),q=be(I),se={method:"POST",headers:L,body:JSON.stringify(q)};let me;try{me=yield(yield fetch(Ki(w.appConfig),se)).json()}catch(Fe){throw _n.create("token-subscribe-failed",{errorInfo:null===(A=Fe)||void 0===A?void 0:A.toString()})}if(me.error)throw _n.create("token-subscribe-failed",{errorInfo:me.error.message});if(!me.token)throw _n.create("token-subscribe-no-token");return me.token})).apply(this,arguments)}function Hh(w,I){return wo.apply(this,arguments)}function wo(){return(wo=(0,P.Z)(function*(w,I){var A;const L=yield Do(w),q=be(I.subscriptionOptions),se={method:"PATCH",headers:L,body:JSON.stringify(q)};let me;try{me=yield(yield fetch(`${Ki(w.appConfig)}/${I.token}`,se)).json()}catch(Fe){throw _n.create("token-update-failed",{errorInfo:null===(A=Fe)||void 0===A?void 0:A.toString()})}if(me.error)throw _n.create("token-update-failed",{errorInfo:me.error.message});if(!me.token)throw _n.create("token-update-no-token");return me.token})).apply(this,arguments)}function mu(w,I){return Io.apply(this,arguments)}function Io(){return(Io=(0,P.Z)(function*(w,I){var A;const q={method:"DELETE",headers:yield Do(w)};try{const me=yield(yield fetch(`${Ki(w.appConfig)}/${I}`,q)).json();if(me.error)throw _n.create("token-unsubscribe-failed",{errorInfo:me.error.message})}catch(se){throw _n.create("token-unsubscribe-failed",{errorInfo:null===(A=se)||void 0===A?void 0:A.toString()})}})).apply(this,arguments)}function Ki({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Do(w){return As.apply(this,arguments)}function As(){return(As=(0,P.Z)(function*({appConfig:w,installations:I}){const A=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function be({p256dh:w,auth:I,endpoint:A,vapidKey:L}){const q={web:{endpoint:A,auth:I,p256dh:w}};return L!==_i&&(q.web.applicationPubKey=L),q}const Mt=6048e5;function jh(w){return bo.apply(this,arguments)}function bo(){return(bo=(0,P.Z)(function*(w){const I=yield Bc(w.swRegistration,w.vapidKey),A={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:I.endpoint,auth:ai(I.getKey("auth")),p256dh:ai(I.getKey("p256dh"))},L=yield Ts(w.firebaseDependencies);if(L){if(Wh(L.subscriptionOptions,A))return Date.now()>=L.createTime+Mt?oa(w,{token:L.token,createTime:Date.now(),subscriptionOptions:A}):L.token;try{yield mu(w.firebaseDependencies,L.token)}catch(q){console.warn(q)}return aa(w.firebaseDependencies,A)}return aa(w.firebaseDependencies,A)})).apply(this,arguments)}function kn(w){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,P.Z)(function*(w){const I=yield Ts(w.firebaseDependencies);I&&(yield mu(w.firebaseDependencies,I.token),yield yi(w.firebaseDependencies));const A=yield w.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function oa(w,I){return dr.apply(this,arguments)}function dr(){return(dr=(0,P.Z)(function*(w,I){try{const A=yield Hh(w.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:A,createTime:Date.now()});return yield Ut(w.firebaseDependencies,L),A}catch(A){throw yield kn(w),A}})).apply(this,arguments)}function aa(w,I){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,P.Z)(function*(w,I){const L={token:yield _t(w,I),createTime:Date.now(),subscriptionOptions:I};return yield Ut(w,L),L.token})).apply(this,arguments)}function Bc(w,I){return To.apply(this,arguments)}function To(){return(To=(0,P.Z)(function*(w,I){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gr(I)})})).apply(this,arguments)}function Wh(w,I){return I.vapidKey===w.vapidKey&&I.endpoint===w.endpoint&&I.auth===w.auth&&I.p256dh===w.p256dh}function Yi(w){const I={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Fn(w,I){if(!I.notification)return;w.notification={};const A=I.notification.title;A&&(w.notification.title=A);const L=I.notification.body;L&&(w.notification.body=L);const q=I.notification.image;q&&(w.notification.image=q);const se=I.notification.icon;se&&(w.notification.icon=se)}(I,w),function qr(w,I){!I.data||(w.data=I.data)}(I,w),function Ao(w,I){var A,L,q,se,me;if(!(I.fcmOptions||null!==(A=I.notification)&&void 0!==A&&A.click_action))return;w.fcmOptions={};const Fe=null!==(q=null===(L=I.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==q?q:null===(se=I.notification)||void 0===se?void 0:se.click_action;Fe&&(w.fcmOptions.link=Fe);const nt=null===(me=I.fcmOptions)||void 0===me?void 0:me.analytics_label;nt&&(w.fcmOptions.analyticsLabel=nt)}(I,w),I}function So(w){return"object"==typeof w&&!!w&&ia in w}function li(w,I){const A=[];for(let L=0;L<w.length;L++)A.push(w.charAt(L)),L<I.length&&A.push(I.charAt(L));return A.join("")}function al(w){return _n.create("missing-app-config-values",{valueName:w})}li("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),li("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yu{constructor(I,A,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function _u(w){if(!w||!w.options)throw al("App Configuration Object");if(!w.name)throw al("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:A}=w;for(const L of I)if(!A[L])throw al(L);return{appName:w.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:q,installations:A,analyticsProvider:L}}_delete(){return Promise.resolve()}}function $c(w){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,P.Z)(function*(w){var I;try{w.swRegistration=yield navigator.serviceWorker.register(Yn,{scope:Ds}),w.swRegistration.update().catch(()=>{})}catch(A){throw _n.create("failed-service-worker-registration",{browserErrorMessage:null===(I=A)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function ll(w,I){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,P.Z)(function*(w,I){if(!I&&!w.swRegistration&&(yield $c(w)),I||!w.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw _n.create("invalid-sw-registration");w.swRegistration=I}})).apply(this,arguments)}function ul(w,I){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,P.Z)(function*(w,I){I?w.vapidKey=I:w.vapidKey||(w.vapidKey=_i)})).apply(this,arguments)}function Ps(){return(Ps=(0,P.Z)(function*(w,I){if(!navigator)throw _n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _n.create("permission-blocked");return yield ul(w,I?.vapidKey),yield ll(w,I?.serviceWorkerRegistration),jh(w)})).apply(this,arguments)}function Hc(w,I,A){return Po.apply(this,arguments)}function Po(){return(Po=(0,P.Z)(function*(w,I,A){const L=jc(I);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:A[ia],message_name:A[rl],message_time:A[pu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jc(w){switch(w){case Ir.NOTIFICATION_CLICKED:return"notification_open";case Ir.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function vi(){return(vi=(0,P.Z)(function*(w,I){const A=I.data;if(!A.isFirebaseMessaging)return;w.onMessageHandler&&A.messageType===Ir.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Yi(A)):w.onMessageHandler.next(Yi(A)));const L=A.data;So(L)&&"1"===L[bs]&&(yield Hc(w,A.messageType,L))})).apply(this,arguments)}const Ei="@firebase/messaging",cn=w=>{const I=new yu(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Eu(w,I){return vi.apply(this,arguments)}(I,A)),I},ui=w=>{const I=w.getProvider("messaging").getImmediate();return{getToken:L=>function vu(w,I){return Ps.apply(this,arguments)}(I,L)}};function wu(){return cl.apply(this,arguments)}function cl(){return(cl=(0,P.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function on(){(0,re._registerComponent)(new he.wA("messaging",cn,"PUBLIC")),(0,re._registerComponent)(new he.wA("messaging-internal",ui,"PRIVATE")),(0,re.registerVersion)(Ei,"0.11.0"),(0,re.registerVersion)(Ei,"0.11.0","esm2017")}();const Os="analytics",Du="firebase_id",pl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bu="https://www.googletagmanager.com/gtag/js",yn=new ce.Yd("@firebase/analytics");function ua(w){return Promise.all(w.map(I=>I.catch(A=>A)))}function ca(w,I){const A=document.createElement("script");A.src=`${bu}?l=${w}&id=${I}`,A.async=!0,document.head.appendChild(A)}function Gc(w,I,A,L,q,se){return ha.apply(this,arguments)}function ha(){return(ha=(0,P.Z)(function*(w,I,A,L,q,se){const me=L[q];try{if(me)yield I[me];else{const nt=(yield ua(A)).find(gt=>gt.measurementId===q);nt&&(yield I[nt.appId])}}catch(Fe){yn.error(Fe)}w("config",q,se)})).apply(this,arguments)}function ci(w,I,A,L,q){return No.apply(this,arguments)}function No(){return(No=(0,P.Z)(function*(w,I,A,L,q){try{let se=[];if(q&&q.send_to){let me=q.send_to;Array.isArray(me)||(me=[me]);const Fe=yield ua(A);for(const nt of me){const gt=Fe.find(it=>it.measurementId===nt),Et=gt&&I[gt.appId];if(!Et){se=[];break}se.push(Et)}}0===se.length&&(se=Object.values(I)),yield Promise.all(se),w("event",L,q||{})}catch(se){yn.error(se)}})).apply(this,arguments)}function Tu(w){const I=window.document.getElementsByTagName("script");for(const A of Object.values(I))if(A.src&&A.src.includes(bu)&&A.src.includes(w))return A;return null}const Ln=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oo=new class ml{constructor(I={},A=1e3){this.throttleMetadata=I,this.intervalMillis=A}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,A){this.throttleMetadata[I]=A}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function ks(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function qc(w){return vn.apply(this,arguments)}function vn(){return(vn=(0,P.Z)(function*(w){var I;const{appId:A,apiKey:L}=w,q={method:"GET",headers:ks(L)},se=pl.replace("{app-id}",A),me=yield fetch(se,q);if(200!==me.status&&304!==me.status){let Fe="";try{const nt=yield me.json();null!==(I=nt.error)&&void 0!==I&&I.message&&(Fe=nt.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Fe})}return me.json()})).apply(this,arguments)}function Au(w){return mr.apply(this,arguments)}function mr(){return(mr=(0,P.Z)(function*(w,I=Oo,A){const{appId:L,apiKey:q,measurementId:se}=w.options;if(!L)throw Ln.create("no-app-id");if(!q){if(se)return{measurementId:se,appId:L};throw Ln.create("no-api-key")}const me=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fe=new ko;return setTimeout((0,P.Z)(function*(){Fe.abort()}),void 0!==A?A:6e4),Su({appId:L,apiKey:q,measurementId:se},me,Fe,I)})).apply(this,arguments)}function Su(w,I,A){return di.apply(this,arguments)}function di(){return(di=(0,P.Z)(function*(w,{throttleEndTimeMillis:I,backoffCount:A},L,q=Oo){var se,me;const{appId:Fe,measurementId:nt}=w;try{yield _l(L,I)}catch(gt){if(nt)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${null===(se=gt)||void 0===se?void 0:se.message}]`),{appId:Fe,measurementId:nt};throw gt}try{const gt=yield qc(w);return q.deleteThrottleMetadata(Fe),gt}catch(gt){const Et=gt;if(!fa(Et)){if(q.deleteThrottleMetadata(Fe),nt)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${Et?.message}]`),{appId:Fe,measurementId:nt};throw gt}const it=503===Number(null===(me=Et?.customData)||void 0===me?void 0:me.httpStatus)?(0,oe.$s)(A,q.intervalMillis,30):(0,oe.$s)(A,q.intervalMillis),Pn={throttleEndTimeMillis:Date.now()+it,backoffCount:A+1};return q.setThrottleMetadata(Fe,Pn),yn.debug(`Calling attemptFetch again in ${it} millis`),Su(w,Pn,L,q)}})).apply(this,arguments)}function _l(w,I){return new Promise((A,L)=>{const q=Math.max(I-Date.now(),0),se=setTimeout(A,q);w.addEventListener(()=>{clearTimeout(se),L(Ln.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function fa(w){if(!(w instanceof oe.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ko{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Qi,ga;function Fs(){return(Fs=(0,P.Z)(function*(w,I,A,L,q){if(q&&q.global)w("event",A,L);else{const se=yield I;w("event",A,Object.assign(Object.assign({},L),{send_to:se}))}})).apply(this,arguments)}function Bs(w){ga=w}function yl(w){Qi=w}function wi(){return $s.apply(this,arguments)}function $s(){return($s=(0,P.Z)(function*(){var w;if(!(0,oe.hl)())return yn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(I){return yn.warn(Ln.create("indexeddb-unavailable",{errorInfo:null===(w=I)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function Hs(){return(Hs=(0,P.Z)(function*(w,I,A,L,q,se,me){var Fe;const nt=Au(w);nt.then(rr=>{A[rr.measurementId]=rr.appId,w.options.measurementId&&rr.measurementId!==w.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rr=>yn.error(rr)),I.push(nt);const gt=wi().then(rr=>{if(rr)return L.getId()}),[Et,it]=yield Promise.all([nt,gt]);Tu(se)||ca(se,Et.measurementId),ga&&(q("consent","default",ga),Bs(void 0)),q("js",new Date);const Pn=null!==(Fe=me?.config)&&void 0!==Fe?Fe:{};return Pn.origin="firebase",Pn.update=!0,null!=it&&(Pn[Du]=it),q("config",Et.measurementId,Pn),Qi&&(q("set",Qi),yl(void 0)),Et.measurementId})).apply(this,arguments)}class ma{constructor(I){this.app=I}_delete(){return delete er[this.app.options.appId],Promise.resolve()}}let er={},js=[];const Ji={};let Gs,Yr,Ws="dataLayer",Ru=!1;function Qc(w,I,A){!function Gh(){const w=[];if((0,oe.ru)()&&w.push("This is a browser extension environment."),(0,oe.zI)()||w.push("Cookies are not available."),w.length>0){const I=w.map((L,q)=>`(${q+1}) ${L}`).join(" "),A=Ln.create("invalid-analytics-context",{errorInfo:I});yn.warn(A.message)}}();const L=w.options.appId;if(!L)throw Ln.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Ln.create("no-api-key");yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=er[L])throw Ln.create("already-exists",{id:L});if(!Ru){!function da(w){let I=[];Array.isArray(window[w])?I=window[w]:window[w]=I}(Ws);const{wrappedGtag:se,gtagCore:me}=function xo(w,I,A,L,q){let se=function(...me){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(se=window[q]),window[q]=function gl(w,I,A,L){function se(){return(se=(0,P.Z)(function*(me,Fe,nt){try{"event"===me?yield ci(w,I,A,Fe,nt):"config"===me?yield Gc(w,I,A,L,Fe,nt):"consent"===me?w("consent","update",nt):w("set",Fe)}catch(gt){yn.error(gt)}})).apply(this,arguments)}return function q(me,Fe,nt){return se.apply(this,arguments)}}(se,w,I,A),{gtagCore:se,wrappedGtag:window[q]}}(er,js,Ji,Ws,"gtag");Yr=se,Gs=me,Ru=!0}return er[L]=function Yc(w,I,A,L,q,se,me){return Hs.apply(this,arguments)}(w,js,Ji,I,Gs,Ws,A),new ma(w)}function $p(){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,P.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Ye="@firebase/analytics";!function rn(){(0,re._registerComponent)(new he.wA(Os,(I,{options:A})=>Qc(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,re._registerComponent)(new he.wA("analytics-internal",function w(I){try{const A=I.getProvider(Os).getImmediate();return{logEvent:(L,q,se)=>function nn(w,I,A,L){w=(0,oe.m9)(w),function Fo(w,I,A,L,q){return Fs.apply(this,arguments)}(Yr,er[w.app.options.appId],I,A,L).catch(q=>yn.error(q))}(A,L,q,se)}}catch(A){throw Ln.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,re.registerVersion)(Ye,"0.8.4"),(0,re.registerVersion)(Ye,"0.8.4","esm2017")}();var hi=x(4408),tr=x(7565);const Pu=new class es extends tr.v{}(class Xi extends hi.o{constructor(I,A){super(I,A),this.scheduler=I,this.work=A}schedule(I,A=0){return A>0?super.schedule(I,A):(this.delay=A,this.state=I,this.scheduler.flush(this),this)}execute(I,A){return A>0||this.closed?super.execute(I,A):this._execute(I,A)}requestAsyncId(I,A,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,A,L):(I.flush(this),0)}});var Xc=x(4986),Ii=x(9751),xu=x(8505),Di=x(9468),st=x(5363);const El=new c.GfV("7.5.0"),Xr="__angularfire_symbol__analyticsIsSupportedValue",ya="__angularfire_symbol__analyticsIsSupported",Vo="__angularfire_symbol__remoteConfigIsSupportedValue",Mn="__angularfire_symbol__remoteConfigIsSupported",Uo="__angularfire_symbol__messagingIsSupportedValue",va="__angularfire_symbol__messagingIsSupported";function Zs(w,I,A){if(I){if(1===I.length)return I[0];const se=I.filter(me=>me.app===A);if(1===se.length)return se[0]}return A.container.getProvider(w).getImmediate({optional:!0})}globalThis[ya]||(globalThis[ya]=$p().then(w=>globalThis[Xr]=w).catch(()=>globalThis[Xr]=!1)),globalThis[va]||(globalThis[va]=wu().then(w=>globalThis[Uo]=w).catch(()=>globalThis[Uo]=!1)),globalThis[Mn]||(globalThis[Mn]=Up().then(w=>globalThis[Vo]=w).catch(()=>globalThis[Vo]=!1));const bi=(w,I)=>{const A=I?[I]:(0,B.C6)(),L=[];return A.forEach(q=>{q.container.getProvider(w).instances.forEach(me=>{L.includes(me)||L.push(me)})}),L};function Lr(){}class Ca{constructor(I,A=Pu){this.zone=I,this.delegate=A}now(){return this.delegate.now()}schedule(I,A,L){const q=this.zone;return this.delegate.schedule(function(me){q.runGuarded(()=>{I.apply(this,[me])})},A,L)}}class Ti{constructor(I){this.zone=I,this.task=null}call(I,A){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lr,{},Lr,Lr)),A.pipe((0,xu.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ts=(()=>{class w{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Ca(Zone.current)),this.insideAngular=A.run(()=>new Ca(Zone.current,Xc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(A){return new(A||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function nr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Ou(w){return nr().ngZone.runOutsideAngular(()=>w())}function an(w){return nr().ngZone.run(()=>w())}function Rn(w){return nr(),function ln(w){return function(A){return(A=A.lift(new Ti(w.ngZone))).pipe((0,Di.R)(w.outsideAngular),(0,st.Q)(w.insideAngular))}}(nr())(w)}const wa=(w,I)=>function(){const L=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),an(()=>w.apply(void 0,L))},ei=(w,I)=>function(){let A;const L=arguments;for(let se=0;se<arguments.length;se++)"function"==typeof L[se]&&(I&&(A||(A=an(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lr,{},Lr,Lr)))),L[se]=wa(L[se],A));const q=Ou(()=>w.apply(this,L));if(!I){if(q instanceof Ii.y){const se=nr();return q.pipe((0,Di.R)(se.outsideAngular),(0,st.Q)(se.insideAngular))}return an(()=>q)}return q instanceof Ii.y?q.pipe(Rn):q instanceof Promise?an(()=>new Promise((se,me)=>q.then(Fe=>an(()=>se(Fe)),Fe=>an(()=>me(Fe))))):"function"==typeof q&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),q.apply(this,arguments)}:an(()=>q)}},8247:(Je,De,x)=>{x.d(De,{$:()=>Ki,A:()=>j,B:()=>Ae,G:()=>ji,H:()=>fr,J:()=>oi,L:()=>W,M:()=>ra,N:()=>fu,P:()=>Xc,Q:()=>ia,R:()=>Hp,T:()=>rl,U:()=>_i,V:()=>Ir,W:()=>ai,X:()=>$h,Y:()=>Eo,Z:()=>_t,_:()=>Hh,a:()=>Ci,a0:()=>jh,a1:()=>kn,a2:()=>oa,a3:()=>aa,a4:()=>Bc,a5:()=>Wh,a6:()=>Fn,a7:()=>qr,a8:()=>So,a9:()=>li,aA:()=>$,aB:()=>Fe,aC:()=>an,aD:()=>Ou,aE:()=>rt,aI:()=>ks,aL:()=>bs,aa:()=>$c,ab:()=>ll,ac:()=>ul,af:()=>Hc,ag:()=>jc,ah:()=>Eu,ak:()=>kr,al:()=>dl,an:()=>bu,ao:()=>ha,ap:()=>pe,aq:()=>Pe,ar:()=>qe,as:()=>$e,at:()=>$o,au:()=>Qn,av:()=>pt,aw:()=>Re,ax:()=>ne,ay:()=>Pn,az:()=>Q,b:()=>Ln,c:()=>Mn,d:()=>ed,e:()=>va,f:()=>Rn,g:()=>A,h:()=>ei,i:()=>$s,j:()=>se,k:()=>ti,l:()=>Jr,m:()=>od,n:()=>ad,o:()=>le,r:()=>hi,s:()=>Qr,u:()=>Pu});var c=x(5861),B=x(2090),P=x(9681),re=x(1877),oe=x(655),he=x(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_e=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new re.Yd("@firebase/auth");function je(_,...f){de.logLevel<=re.in.ERROR&&de.error(`Auth (${P.SDK_VERSION}): ${_}`,...f)}function $e(_,...f){throw Le(_,...f)}function Re(_,...f){return Le(_,...f)}function Te(_,f,p){const E=Object.assign(Object.assign({},_e()),{[f]:p});return new B.LL("auth","Firebase",E).create(f,{appName:_.name})}function ye(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&$e(_,"argument-error"),Te(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(_,...f){if("string"!=typeof _){const p=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(p,...E)}return Ze.create(_,...f)}function ne(_,f,...p){if(!_)throw Le(f,...p)}function ae(_){const f="INTERNAL ASSERTION FAILED: "+_;throw je(f),new Error(f)}function pe(_,f){_||ae(f)}const K=new Map;function Q(_){pe(_ instanceof Function,"Expected a class definition");let f=K.get(_);return f?(pe(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,K.set(_,f),f)}function Ne(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function xe(){return"http:"===Xe()||"https:"===Xe()}function Xe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ue{constructor(f,p){this.shortDelay=f,this.longDelay=p,pe(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xe()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $t(_,f){pe(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Jt{static initialize(f,p,E){this.fetchImpl=f,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Lt=new Ue(3e4,6e4);function At(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ct(_,f,p,E){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(_,f,p,E,T={}){return jr(_,T,(0,c.Z)(function*(){let N={},X={};E&&("GET"===f?X=E:N={body:JSON.stringify(E)});const Ie=(0,B.xO)(Object.assign({key:_.config.apiKey},X)).slice(1),ze=yield _._getAdditionalHeaders();return ze["Content-Type"]="application/json",_.languageCode&&(ze["X-Firebase-Locale"]=_.languageCode),Jt.fetch()(Gr(_,_.config.apiHost,p,Ie),Object.assign({method:f,headers:ze,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function jr(_,f,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(_,f,p){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ft),f);try{const T=new ur(_),N=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const X=yield N.json();if("needConfirmation"in X)throw mn(_,"account-exists-with-different-credential",X);if(N.ok&&!("errorMessage"in X))return X;{const Ie=N.ok?X.errorMessage:X.error.message,[ze,ot]=Ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw mn(_,"credential-already-in-use",X);if("EMAIL_EXISTS"===ze)throw mn(_,"email-already-in-use",X);if("USER_DISABLED"===ze)throw mn(_,"user-disabled",X);const St=E[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Te(_,St,ot);$e(_,St)}}catch(T){if(T instanceof B.ZR)throw T;$e(_,"network-request-failed")}})).apply(this,arguments)}function hn(_,f,p,E){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(_,f,p,E,T={}){const N=yield Ct(_,f,p,E,T);return"mfaPendingCredential"in N&&$e(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Gr(_,f,p,E){const T=`${f}${p}?${E}`;return _.config.emulator?$t(_.config,T):`${_.config.apiScheme}://${T}`}class ur{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(Re(this.auth,"network-request-failed")),Lt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mn(_,f,p){const E={appName:_.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const T=Re(_,f,E);return T.customData._tokenResponse=p,T}function zr(){return(zr=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function He(_,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Dn(_,f){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Gn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Xt(){return(Xt=(0,c.Z)(function*(_,f=!1){const p=(0,B.m9)(_),E=yield p.getIdToken(f),T=et(E);ne(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,X=N?.sign_in_provider;return{claims:T,token:E,authTime:Gn(Gt(T.auth_time)),issuedAtTime:Gn(Gt(T.iat)),expirationTime:Gn(Gt(T.exp)),signInProvider:X||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Gt(_){return 1e3*Number(_)}function et(_){var f;const[p,E,T]=_.split(".");if(void 0===p||void 0===E||void 0===T)return je("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,B.tV)(E);return N?JSON.parse(N):(je("Failed to decode base64 JWT payload"),null)}catch(N){return je("Caught error parsing JWT payload as JSON",null===(f=N)||void 0===f?void 0:f.toString()),null}}function ft(_,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(E){throw E instanceof B.ZR&&bn(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function bn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Jn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),E)}iteration(){var f=this;return(0,c.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(p=E)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class ut{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gn(this.lastLoginAt),this.creationTime=Gn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xn(_){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(_){var f;const p=_.auth,E=yield _.getIdToken(),T=yield ft(_,Dn(p,{idToken:E}));ne(T?.users.length,p,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const X=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?sn(N.providerUserInfo):[],Ie=Un(_.providerData,X),St=!!_.isAnonymous&&!(_.email&&N.passwordHash||Ie?.length),zt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Ie,metadata:new ut(N.createdAt,N.lastLoginAt),isAnonymous:St};Object.assign(_,zt)})).apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(_){const f=(0,B.m9)(_);yield Xn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Un(_,f){return[..._.filter(E=>!f.some(T=>T.providerId===E.providerId)),...f]}function sn(_){return _.map(f=>{var{providerId:p}=f,E=(0,oe._T)(f,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ce(){return(Ce=(0,c.Z)(function*(_,f){const p=yield jr(_,{},(0,c.Z)(function*(){const E=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,X=Gr(_,T,"/v1/token",`key=${N}`),Ie=yield _._getAdditionalHeaders();return Ie["Content-Type"]="application/x-www-form-urlencoded",Jt.fetch()(X,{method:"POST",headers:Ie,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ne(f.idToken,"internal-error"),ne(typeof f.idToken<"u","internal-error"),ne(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function tt(_){const f=et(_);return ne(f,"internal-error"),ne(typeof f.exp<"u","internal-error"),ne(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var E=this;return(0,c.Z)(function*(){return ne(!E.accessToken||E.refreshToken,f,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var E=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:X}=yield function We(_,f){return Ce.apply(this,arguments)}(f,p);E.updateTokensAndExpiration(T,N,Number(X))})()}updateTokensAndExpiration(f,p,E){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,p){const{refreshToken:E,accessToken:T,expirationTime:N}=p,X=new Ge;return E&&(ne("string"==typeof E,"internal-error",{appName:f}),X.refreshToken=E),T&&(ne("string"==typeof T,"internal-error",{appName:f}),X.accessToken=T),N&&(ne("number"==typeof N,"internal-error",{appName:f}),X.expirationTime=N),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ge,this.toJSON())}_performRefresh(){return ae("not implemented")}}function at(_,f){ne("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class lt{constructor(f){var{uid:p,auth:E,stsTokenManager:T}=f,N=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new ut(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const E=yield ft(p,p.stsTokenManager.getToken(p.auth,f));return ne(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(f){return function qt(_){return Xt.apply(this,arguments)}(this,f)}reload(){return function hr(_){return Pt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ne(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new lt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var E=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),T=!0),p&&(yield Xn(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield ft(f,function xr(_,f){return zr.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var E,T,N,X,Ie,ze,ot,St;const zt=null!==(E=p.displayName)&&void 0!==E?E:void 0,Tr=null!==(T=p.email)&&void 0!==T?T:void 0,Vr=null!==(N=p.phoneNumber)&&void 0!==N?N:void 0,jo=null!==(X=p.photoURL)&&void 0!==X?X:void 0,Dl=null!==(Ie=p.tenantId)&&void 0!==Ie?Ie:void 0,Vu=null!==(ze=p._redirectEventId)&&void 0!==ze?ze:void 0,qs=null!==(ot=p.createdAt)&&void 0!==ot?ot:void 0,Xh=null!==(St=p.lastLoginAt)&&void 0!==St?St:void 0,{uid:Wo,emailVerified:ld,isAnonymous:ef,providerData:Go,stsTokenManager:Ks}=p;ne(Wo&&Ks,f,"internal-error");const tf=Ge.fromJSON(this.name,Ks);ne("string"==typeof Wo,f,"internal-error"),at(zt,f.name),at(Tr,f.name),ne("boolean"==typeof ld,f,"internal-error"),ne("boolean"==typeof ef,f,"internal-error"),at(Vr,f.name),at(jo,f.name),at(Dl,f.name),at(Vu,f.name),at(qs,f.name),at(Xh,f.name);const Uu=new lt({uid:Wo,auth:f,email:Tr,emailVerified:ld,displayName:zt,isAnonymous:ef,photoURL:jo,phoneNumber:Vr,tenantId:Dl,stsTokenManager:tf,createdAt:qs,lastLoginAt:Xh});return Go&&Array.isArray(Go)&&(Uu.providerData=Go.map(Ma=>Object.assign({},Ma))),Vu&&(Uu._redirectEventId=Vu),Uu}static _fromIdTokenResponse(f,p,E=!1){return(0,c.Z)(function*(){const T=new Ge;T.updateFromServerResponse(p);const N=new lt({uid:p.localId,auth:f,stsTokenManager:T,isAnonymous:E});return yield Xn(N),N})()}}const W=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,E){var T=this;return(0,c.Z)(function*(){T.storage[p]=E})()}_get(p){var E=this;return(0,c.Z)(function*(){const T=E.storage[p];return void 0===T?null:T})()}_remove(p){var E=this;return(0,c.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return _.type="NONE",_})();function $(_,f,p){return`firebase:${_}:${f}:${p}`}class Z{constructor(f,p,E){this.persistence=f,this.auth=p,this.userKey=E;const{config:T,name:N}=this.auth;this.fullUserKey=$(this.userKey,T.apiKey,N),this.fullPersistenceKey=$("persistence",T.apiKey,N),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?lt._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,E="authUser"){return(0,c.Z)(function*(){if(!p.length)return new Z(Q(W),f,E);const T=(yield Promise.all(p.map(function(){var ot=(0,c.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let N=T[0]||Q(W);const X=$(E,f.config.apiKey,f.name);let Ie=null;for(const ot of p)try{const St=yield ot._get(X);if(St){const zt=lt._fromJSON(f,St);ot!==N&&(Ie=zt),N=ot;break}}catch{}const ze=T.filter(ot=>ot._shouldAllowMigration);return N._shouldAllowMigration&&ze.length?(N=ze[0],Ie&&(yield N._set(X,Ie.toJSON())),yield Promise.all(p.map(function(){var ot=(0,c.Z)(function*(St){if(St!==N)try{yield St._remove(X)}catch{}});return function(St){return ot.apply(this,arguments)}}())),new Z(N,f,E)):new Z(N,f,E)})()}}function V(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Se(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(M(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ke(f))return"Blackberry";if(we(f))return"Webos";if(k(f))return"Safari";if((f.includes("chrome/")||ee(f))&&!f.includes("edge/"))return"Chrome";if(qe(f))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function M(_=(0,B.z$)()){return/firefox\//i.test(_)}function k(_=(0,B.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ee(_=(0,B.z$)()){return/crios\//i.test(_)}function Se(_=(0,B.z$)()){return/iemobile/i.test(_)}function qe(_=(0,B.z$)()){return/android/i.test(_)}function Ke(_=(0,B.z$)()){return/blackberry/i.test(_)}function we(_=(0,B.z$)()){return/webos/i.test(_)}function Pe(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function pt(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function jt(_=(0,B.z$)()){return Pe(_)||qe(_)||we(_)||Ke(_)||/windows phone/i.test(_)||Se(_)}function en(_,f=[]){let p;switch(_){case"Browser":p=V((0,B.z$)());break;case"Worker":p=`${V((0,B.z$)())}-${_}`;break;default:p=_}const E=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${P.SDK_VERSION}/${E}`}class $i{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const E=N=>new Promise((X,Ie)=>{try{X(f(N))}catch(ze){Ie(ze)}});E.onAbort=p,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){var E;if(p.auth.currentUser===f)return;const T=[];try{for(const N of p.queue)yield N(f),N.onAbort&&T.push(N.onAbort)}catch(N){T.reverse();for(const X of T)try{X()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=N)||void 0===E?void 0:E.message})}})()}}class vs{constructor(f,p,E){this.app=f,this.heartbeatServiceProvider=p,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hi(this),this.idTokenSubscription=new Hi(this),this.beforeStateQueue=new $i(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,p){var E=this;return p&&(this._popupRedirectResolver=Q(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,N;if(!E._deleted&&(E.persistenceManager=yield Z.create(E,f),!E._deleted)){if(null!==(T=E._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var E;const T=yield p.assertedPersistence.getCurrentUser();let N=T,X=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ie=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,ze=N?._redirectEventId,ot=yield p.tryRedirectSignIn(f);(!Ie||Ie===ze)&&ot?.user&&(N=ot.user,X=!0)}if(!N)return p.directlySetCurrentUser(null);if(!N._redirectEventId){if(X)try{yield p.beforeStateQueue.runMiddleware(N)}catch(Ie){N=T,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ie))}return N?p.reloadAndSetCurrentUserOrClear(N):p.directlySetCurrentUser(null)}return ne(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===N._redirectEventId?p.directlySetCurrentUser(N):p.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){var E;try{yield Xn(f)}catch(T){if("auth/network-request-failed"!==(null===(E=T)||void 0===E?void 0:E.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Dt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const E=f?(0,B.m9)(f):null;return E&&ne(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(f,p=!1){var E=this;return(0,c.Z)(function*(){if(!E._deleted)return f&&ne(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,c.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(Q(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,p,E){return this.registerStateListener(this.authStateSubscription,f,p,E)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,E){return this.registerStateListener(this.idTokenSubscription,f,p,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var E=this;return(0,c.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(p);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const E=f&&Q(f)||p._popupRedirectResolver;ne(E,p,"argument-error"),p.redirectPersistenceManager=yield Z.create(p,[Q(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var E,T;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===f?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,E,T){if(this._deleted)return()=>{};const N="function"==typeof p?p:p.next.bind(p),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(X,this,"internal-error"),X.then(()=>N(this.currentUser)),"function"==typeof p?f.addObserver(p,E,T):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=en(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return T&&(E["X-Firebase-Client"]=T),E})()}}function rt(_){return(0,B.m9)(_)}class Hi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(p=>this.observer=p)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ji(_,f,p){const E=rt(_);ne(E._canInitEmulator,E,"emulator-config-failed"),ne(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const T=!!p?.disableWarnings,N=na(f),{host:X,port:Ie}=function ii(_){const f=na(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const N=T[1];return{host:N,port:Tn(E.substr(N.length+1))}}{const[N,X]=E.split(":");return{host:N,port:Tn(X)}}}(f);E.config.emulator={url:`${N}//${X}${null===Ie?"":`:${Ie}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:Ie,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Wi(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function na(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Tn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class fr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return ae("not implemented")}_getIdTokenResponse(f){return ae("not implemented")}_linkToIdToken(f,p){return ae("not implemented")}_getReauthenticationResolver(f){return ae("not implemented")}}function Er(_,f){return An.apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:resetPassword",At(_,f))})).apply(this,arguments)}function Xa(_,f){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Lc(_,f){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",At(_,f))})).apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithPassword",At(_,f))})).apply(this,arguments)}function mi(_,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:sendOobCode",At(_,f))})).apply(this,arguments)}function si(_,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(_,f){return mi(_,f)})).apply(this,arguments)}function Vc(_,f){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(_,f){return mi(_,f)})).apply(this,arguments)}function Cr(_,f){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(_,f){return mi(_,f)})).apply(this,arguments)}function el(_,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(_,f){return mi(_,f)})).apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithEmailLink",At(_,f))})).apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithEmailLink",At(_,f))})).apply(this,arguments)}class _o extends fr{constructor(f,p,E,T=null){super("password",E),this._email=f,this._password=p,this._tenantId=T}static _fromEmailAndPassword(f,p){return new _o(f,p,"password")}static _fromEmailAndCode(f,p,E=null){return new _o(f,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function go(_,f){return Gi.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function pr(_,f){return tl.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:$e(f,"internal-error")}})()}_linkToIdToken(f,p){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return Xa(f,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Oh(_,f){return nl.apply(this,arguments)}(f,{idToken:p,email:E._email,oobCode:E._password});default:$e(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Zi(_,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithIdp",At(_,f))})).apply(this,arguments)}class oi extends fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new oi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):$e("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:T}=p,N=(0,oe._T)(p,["providerId","signInMethod"]);if(!E||!T)return null;const X=new oi(E,T);return X.idToken=N.idToken||void 0,X.accessToken=N.accessToken||void 0,X.secret=N.secret,X.nonce=N.nonce,X.pendingToken=N.pendingToken||null,X}_getIdTokenResponse(f){return Zi(f,this.buildRequest())}_linkToIdToken(f,p){const E=this.buildRequest();return E.idToken=p,Zi(f,E)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Zi(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,B.xO)(p)}return f}}function Fh(_,f){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:sendVerificationCode",At(_,f))})).apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",At(_,f))})).apply(this,arguments)}function uu(){return(uu=(0,c.Z)(function*(_,f){const p=yield hn(_,"POST","/v1/accounts:signInWithPhoneNumber",At(_,f));if(p.temporaryProof)throw mn(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Vh={USER_NOT_FOUND:"user-not-found"};function cu(){return(cu=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",At(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Vh)})).apply(this,arguments)}class ws extends fr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new ws({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new ws({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Lh(_,f){return yo.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Cs(_,f){return uu.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Uh(_,f){return cu.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:E,verificationCode:T}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:E,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:E,phoneNumber:T,temporaryProof:N}=f;return E||p||T||N?new ws({verificationId:p,verificationCode:E,phoneNumber:T,temporaryProof:N}):null}}class Is{constructor(f){var p,E,T,N,X,Ie;const ze=(0,B.zd)((0,B.pd)(f)),ot=null!==(p=ze.apiKey)&&void 0!==p?p:null,St=null!==(E=ze.oobCode)&&void 0!==E?E:null,zt=function du(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=ze.mode)&&void 0!==T?T:null);ne(ot&&St&&zt,"argument-error"),this.apiKey=ot,this.operation=zt,this.code=St,this.continueUrl=null!==(N=ze.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(X=ze.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(Ie=ze.tenantId)&&void 0!==Ie?Ie:null}static parseLink(f){const p=function hu(_){const f=(0,B.zd)((0,B.pd)(_)).link,p=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,E=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(E?(0,B.zd)((0,B.pd)(E)).link:null)||E||p||f||_}(f);try{return new Is(p)}catch{return null}}}let ra=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,E){return _o._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const T=Is.parseLink(E);return ne(T,"argument-error"),_o._fromEmailAndCode(p,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Yn{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ds extends Yn{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class _i extends Ds{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return ne("providerId"in p&&"signInMethod"in p,"argument-error"),oi._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ne(f.idToken||f.accessToken,"argument-error"),oi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return _i.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return _i.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:N,nonce:X,providerId:Ie}=f;if(!E&&!T&&!p&&!N||!Ie)return null;try{return new _i(Ie)._credential({idToken:p,accessToken:E,nonce:X,pendingToken:N})}catch{return null}}}let fu=(()=>{class _ extends Ds{constructor(){super("facebook.com")}static credential(p){return oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ia=(()=>{class _ extends Ds{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:T}=p;if(!E&&!T)return null;try{return _.credential(E,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),rl=(()=>{class _ extends Ds{constructor(){super("github.com")}static credential(p){return oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class bs extends fr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Zi(f,this.buildRequest())}_linkToIdToken(f,p){const E=this.buildRequest();return E.idToken=p,Zi(f,E)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Zi(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:T,pendingToken:N}=p;return E&&T&&N&&E===T?new bs(E,N):null}static _create(f,p){return new bs(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ir extends Yn{constructor(f){ne(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ir.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ir.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=bs.fromJSON(f);return ne(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:E}=f;if(!p||!E)return null;try{return bs._create(E,p)}catch{return null}}}let ai=(()=>{class _ extends Ds{constructor(){super("twitter.com")}static credential(p,E){return oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=p;if(!E||!T)return null;try{return _.credential(E,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function gr(_,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signUp",At(_,f))})).apply(this,arguments)}class Or{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,E,T=!1){return(0,c.Z)(function*(){const N=yield lt._fromIdTokenResponse(f,E,T),X=vo(E);return new Or({user:N,providerId:X,_tokenResponse:E,operationType:p})})()}static _forOperation(f,p,E){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const T=vo(E);return new Or({user:f,providerId:T,_tokenResponse:E,operationType:p})})()}}function vo(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function $h(_){return il.apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(_){var f;const p=rt(_);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new Or({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield gr(p,{returnSecureToken:!0}),T=yield Or._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class fn extends B.ZR{constructor(f,p,E,T){var N;super(p.code,p.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,fn.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,p,E,T){return new fn(f,p,E,T)}}function gu(_,f,p,E){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?fn._fromErrorAndOperation(_,N,f,E):N})}function Uc(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function kr(_,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_);yield Zr(!0,p,f);const{providerUserInfo:E}=yield He(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),T=Uc(E||[]);return p.providerData=p.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function sa(_,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(_,f,p=!1){const E=yield ft(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return Or._forOperation(_,"link",E)})).apply(this,arguments)}function Zr(_,f,p){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(_,f,p){yield Xn(f);const T=!1===_?"provider-already-linked":"no-such-provider";ne(Uc(f.providerData).has(p)===_,f.auth,T)})).apply(this,arguments)}function sl(_,f){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(_,f,p=!1){var E;const{auth:T}=_,N="reauthenticate";try{const X=yield ft(_,gu(T,N,f,_),p);ne(X.idToken,T,"internal-error");const Ie=et(X.idToken);ne(Ie,T,"internal-error");const{sub:ze}=Ie;return ne(_.uid===ze,T,"user-mismatch"),Or._forOperation(_,N,X)}catch(X){throw"auth/user-not-found"===(null===(E=X)||void 0===E?void 0:E.code)&&$e(T,"user-mismatch"),X}})).apply(this,arguments)}function ol(_,f){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(_,f,p=!1){const E="signIn",T=yield gu(_,E,f),N=yield Or._fromIdTokenResponse(_,E,T);return p||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Eo(_,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(_,f){return ol(rt(_),f)})).apply(this,arguments)}function _t(_,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_);return yield Zr(!1,p,f.providerId),sa(p,f)})).apply(this,arguments)}function Hh(_,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(_,f){return sl((0,B.m9)(_),f)})).apply(this,arguments)}function mu(_,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithCustomToken",At(_,f))})).apply(this,arguments)}function Ki(_,f){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(_,f){const p=rt(_),E=yield mu(p,{token:f,returnSecureToken:!0}),T=yield Or._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class As{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?be._fromServerResponse(f,p):$e(f,"internal-error")}}class be extends As{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new be(p)}}function Mt(_,f,p){var E;ne((null===(E=p.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),ne(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ne(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(ne(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function jh(_,f,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_),T={requestType:"PASSWORD_RESET",email:f};p&&Mt(E,T,p),yield Vc(E,T)})).apply(this,arguments)}function kn(_,f,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(_,f,p){yield Er((0,B.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function oa(_,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(_,f){yield Lc((0,B.m9)(_),{oobCode:f})})).apply(this,arguments)}function aa(_,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_),E=yield Er(p,{oobCode:f}),T=E.requestType;switch(ne(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(E.mfaInfo,p,"internal-error");default:ne(E.email,p,"internal-error")}let N=null;return E.mfaInfo&&(N=As._fromServerResponse(rt(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function Bc(_,f){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(_,f){const{data:p}=yield aa((0,B.m9)(_),f);return p.email})).apply(this,arguments)}function Wh(_,f,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(_,f,p){const E=rt(_),T=yield gr(E,{returnSecureToken:!0,email:f,password:p}),N=yield Or._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function Fn(_,f,p){return Eo((0,B.m9)(_),ra.credential(f,p))}function qr(_,f,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};ne(p.handleCodeInApp,E,"argument-error"),p&&Mt(E,T,p),yield Cr(E,T)})).apply(this,arguments)}function So(_,f){return"EMAIL_SIGNIN"===Is.parseLink(f)?.operation}function li(_,f,p){return _u.apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_),T=ra.credentialWithLink(f,p||Ne());return ne(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Eo(E,T)})).apply(this,arguments)}function al(_,f){return yu.apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:createAuthUri",At(_,f))})).apply(this,arguments)}function $c(_,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(_,f){const E={identifier:f,continueUri:xe()?Ne():"http://localhost"},{signinMethods:T}=yield al((0,B.m9)(_),E);return T||[]})).apply(this,arguments)}function ll(_,f){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Mt(p.auth,T,f);const{email:N}=yield si(p.auth,T);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function ul(_,f,p){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&Mt(E.auth,N,p);const{email:X}=yield el(E.auth,N);X!==_.email&&(yield _.reload())})).apply(this,arguments)}function vu(_,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Hc(_,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const E=(0,B.m9)(_),N={idToken:yield E.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},X=yield ft(E,vu(E.auth,N));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const Ie=E.providerData.find(({providerId:ze})=>"password"===ze);Ie&&(Ie.displayName=E.displayName,Ie.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)})).apply(this,arguments)}function jc(_,f){return vi((0,B.m9)(_),f,null)}function Eu(_,f){return vi((0,B.m9)(_),null,f)}function vi(_,f,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(_,f,p){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),p&&(N.password=p);const X=yield ft(_,Xa(E,N));yield _._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class cn{constructor(f,p,E={}){this.isNewUser=f,this.providerId=p,this.profile=E}}class ui extends cn{constructor(f,p,E,T){super(f,p,E),this.username=T}}class on extends cn{constructor(f,p){super(f,"facebook.com",p)}}class wu extends ui{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class cl extends cn{constructor(f,p){super(f,"google.com",p)}}class Wc extends ui{constructor(f,p,E){super(f,"twitter.com",p,E)}}function dl(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Cu(_){var f,p;if(!_)return null;const{providerId:E}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&_?.idToken){const X=null===(p=null===(f=et(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(X)return new cn(N,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new on(N,T);case"github.com":return new wu(N,T);case"google.com":return new cl(N,T);case"twitter.com":return new Wc(N,T,_.screenName||null);case"custom":case"anonymous":return new cn(N,null);default:return new cn(N,E,T)}}(p)}class br{constructor(f,p,E){this.type=f,this.credential=p,this.auth=E}static _fromIdtoken(f,p){return new br("enroll",f,p)}static _fromMfaPendingCredential(f){return new br("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,E;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return br._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(E=f.multiFactorSession)&&void 0!==E&&E.idToken)return br._fromIdtoken(f.multiFactorSession.idToken)}return null}}class pl{constructor(f,p,E){this.session=f,this.hints=p,this.signInResolver=E}static _fromError(f,p){const E=rt(f),T=p.customData._serverResponse,N=(T.mfaInfo||[]).map(Ie=>As._fromServerResponse(E,Ie));ne(T.mfaPendingCredential,E,"internal-error");const X=br._fromMfaPendingCredential(T.mfaPendingCredential);return new pl(X,N,function(){var Ie=(0,c.Z)(function*(ze){const ot=yield ze._process(E,X);delete T.mfaInfo,delete T.mfaPendingCredential;const St=Object.assign(Object.assign({},T),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(p.operationType){case"signIn":const zt=yield Or._fromIdTokenResponse(E,p.operationType,St);return yield E._updateCurrentUser(zt.user),zt;case"reauthenticate":return ne(p.user,E,"internal-error"),Or._forOperation(p.user,p.operationType,St);default:$e(E,"internal-error")}});return function(ze){return Ie.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}function bu(_,f){var p;const E=(0,B.m9)(_),T=f;return ne(f.customData.operationType,E,"argument-error"),ne(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),pl._fromError(E,T)}function yn(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:start",At(_,f))}class da{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>As._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new da(f)}getSession(){var f=this;return(0,c.Z)(function*(){return br._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var E=this;return(0,c.Z)(function*(){const T=f,N=yield E.getSession(),X=yield ft(E.user,T._process(E.user.auth,N,p));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){var E;const T="string"==typeof f?f:f.uid,N=yield p.user.getIdToken(),X=yield ft(p.user,function ca(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:withdraw",At(_,f))}(p.user.auth,{idToken:N,mfaEnrollmentId:T}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ie})=>Ie!==T),yield p.user._updateTokensIfNecessary(X);try{yield p.user.reload()}catch(Ie){if("auth/user-token-expired"!==(null===(E=Ie)||void 0===E?void 0:E.code))throw Ie}})()}}const Gc=new WeakMap;function ha(_){const f=(0,B.m9)(_);return Gc.has(f)||Gc.set(f,da._fromUser(f)),Gc.get(f)}const ci="__sak";class No{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ci,"1"),this.storage.removeItem(ci),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ln=(()=>{class _ extends No{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gl(){const _=(0,B.z$)();return k(_)||Pe(_)}()&&function ri(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),N=this.localCache[E];T!==N&&p(E,N,T)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((Ie,ze,ot)=>{this.notifyListeners(Ie,ot)});const T=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(T);if(p.newValue!==Ie)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!E)return}const N=()=>{const Ie=this.storage.getItem(T);!E&&this.localCache[T]===Ie||this.notifyListeners(T,Ie)},X=this.storage.getItem(T);!function vt(){return(0,B.w1)()&&10===document.documentMode}()||X===p.newValue||p.newValue===p.oldValue?N():setTimeout(N,10)}notifyListeners(p,E){this.localCache[p]=E;const T=this.listeners[p];if(T)for(const N of Array.from(T))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var T=()=>super._set,N=this;return(0,c.Z)(function*(){yield T().call(N,p,E),N.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,T=this;return(0,c.Z)(function*(){const N=yield E().call(T,p);return T.localCache[p]=JSON.stringify(N),N})()}_remove(p){var E=()=>super._remove,T=this;return(0,c.Z)(function*(){yield E().call(T,p),delete T.localCache[p]})()}}return _.type="LOCAL",_})(),Ci=(()=>{class _ extends No{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return _.type="SESSION",_})();let Oo=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(N=>N.isListeningto(p));if(E)return E;const T=new _(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,c.Z)(function*(){const T=p,{eventId:N,eventType:X,data:Ie}=T.data,ze=E.handlersMap[X];if(!ze?.size)return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:X});const ot=Array.from(ze).map(function(){var zt=(0,c.Z)(function*(Tr){return Tr(T.origin,Ie)});return function(Tr){return zt.apply(this,arguments)}}()),St=yield function ml(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return f.apply(this,arguments)}}()))}(ot);T.ports[0].postMessage({status:"done",eventId:N,eventType:X,response:St})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function ks(_="",f=10){let p="";for(let E=0;E<f;E++)p+=Math.floor(10*Math.random());return _+p}class qc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,E=50){var T=this;return(0,c.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let X,Ie;return new Promise((ze,ot)=>{const St=ks("",20);N.port1.start();const zt=setTimeout(()=>{ot(new Error("unsupported_event"))},E);Ie={messageChannel:N,onMessage(Tr){const Vr=Tr;if(Vr.data.eventId===St)switch(Vr.data.status){case"ack":clearTimeout(zt),X=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),ze(Vr.data.response);break;default:clearTimeout(zt),clearTimeout(X),ot(new Error("invalid_response"))}}},T.handlers.add(Ie),N.port1.addEventListener("message",Ie.onMessage),T.target.postMessage({eventType:f,eventId:St,data:p},[N.port2])}).finally(()=>{Ie&&T.removeMessageHandler(Ie)})})()}}function vn(){return window}function mr(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function di(){return(di=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ko="firebaseLocalStorageDb",Fo="firebaseLocalStorage",Fs="fbase_key";class Ls{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Vs(_,f){return _.transaction([Fo],f?"readwrite":"readonly").objectStore(Fo)}function pa(){const _=indexedDB.open(ko,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Fo,{keyPath:Fs})}catch(T){p(T)}}),_.addEventListener("success",(0,c.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Fo)?f(E):(E.close(),yield function Mu(){const _=indexedDB.deleteDatabase(ko);return new Ls(_).toPromise()}(),f(yield pa()))}))})}function Lo(_,f,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(_,f,p){const E=Vs(_,!0).put({[Fs]:f,value:p});return new Ls(E).toPromise()})).apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(_,f){const p=Vs(_,!1).get(f),E=yield new Ls(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ga(_,f){const p=Vs(_,!0).delete(f);return new Ls(p).toPromise()}const $s=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield pa()),p.db})()}_withRetries(p){var E=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const N=yield E._openDb();return yield p(N)}catch(N){if(T++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return mr()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=Oo._getInstance(function fa(){return mr()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(T,N){return{keyProcessed:(yield p._poll()).includes(N.key)}});return function(T,N){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var E,T;if(p.activeServiceWorker=yield function Su(){return di.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new qc(p.activeServiceWorker);const N=yield p.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function _l(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield pa();return yield Lo(p,ci,"1"),yield ga(p,ci),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(N=>Lo(N,p,E)),T.localCache[p]=E,T.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,c.Z)(function*(){const T=yield E._withRetries(N=>function Kc(_,f){return Us.apply(this,arguments)}(N,p));return E.localCache[p]=T,T})()}_remove(p){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(T=>ga(T,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const E=yield p._withRetries(X=>{const Ie=Vs(X,!1).getAll();return new Ls(Ie).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:X,value:Ie}of E)N.add(X),JSON.stringify(p.localCache[X])!==JSON.stringify(Ie)&&(p.notifyListeners(X,Ie),T.push(X));for(const X of Object.keys(p.localCache))p.localCache[X]&&!N.has(X)&&(p.notifyListeners(X,null),T.push(X));return T})()}notifyListeners(p,E){this.localCache[p]=E;const T=this.listeners[p];if(T)for(const N of Array.from(T))N(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Yc(_,f){return Ct(_,"POST","/v2/accounts/mfaSignIn:start",At(_,f))}function er(){return(er=(0,c.Z)(function*(_){return(yield Ct(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ji(_){return new Promise((f,p)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=f,E.onerror=T=>{const N=Re("internal-error");N.customData=T,p(N)},E.type="text/javascript",E.charset="UTF-8",function js(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(E)})}function Ws(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Yr=1e12;class Ru{constructor(f){this.auth=f,this.counter=Yr,this._widgets=new Map}render(f,p){const E=this.counter;return this._widgets.set(E,new tn(f,this.auth.name,p||{})),this.counter++,E}reset(f){var p;const E=f||Yr;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Yr))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var E;return null===(E=p._widgets.get(f||Yr))||void 0===E||E.execute(),""})()}}class tn{constructor(f,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;ne(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gh(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qc=Ws("rcb"),S_=new Ue(3e4,6e4);class $p{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=vn().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return ne(function Jc(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(vn().grecaptcha):new Promise((E,T)=>{const N=vn().setTimeout(()=>{T(Re(f,"network-request-failed"))},S_.get());vn()[Qc]=()=>{vn().clearTimeout(N),delete vn()[Qc];const Ie=vn().grecaptcha;if(!Ie)return void T(Re(f,"internal-error"));const ze=Ie.render;Ie.render=(ot,St)=>{const zt=ze(ot,St);return this.counter++,zt},this.hostLanguage=p,E(Ie)},Ji(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Qc,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(N),T(Re(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=vn().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class M_{load(f){return(0,c.Z)(function*(){return new Ru(f)})()}clearedOneInstance(){}}const _a="recaptcha",R_={theme:"light",type:"image"};class Hp{constructor(f,p=Object.assign({},R_),E){this.parameters=p,this.type=_a,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rt(E),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;ne(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new M_:new $p,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(p)||new Promise(N=>{const X=Ie=>{!Ie||(f.tokenChangeListeners.delete(X),N(Ie))};f.tokenChangeListeners.add(X),f.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof f)f(p);else if("string"==typeof f){const E=vn()[f];"function"==typeof E&&E(p)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){ne(xe()&&!mr(),f.auth,"internal-error"),yield function Zn(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function ma(_){return er.apply(this,arguments)}(f.auth);ne(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class nn{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=ws._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Qr(_,f,p){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(_,f,p){const E=rt(_),T=yield tr(E,f,(0,B.m9)(p));return new nn(T,N=>Eo(E,N))})).apply(this,arguments)}function Jr(_,f,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_);yield Zr(!1,E,"phone");const T=yield tr(E.auth,f,(0,B.m9)(p));return new nn(T,N=>_t(E,N))})).apply(this,arguments)}function hi(_,f,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_),T=yield tr(E.auth,f,(0,B.m9)(p));return new nn(T,N=>Hh(E,N))})).apply(this,arguments)}function tr(_,f,p){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(_,f,p){var E;const T=yield p.verify();try{let N;if(ne("string"==typeof T,_,"argument-error"),ne(p.type===_a,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const X=N.session;if("phoneNumber"in N)return ne("enroll"===X.type,_,"internal-error"),(yield yn(_,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ne("signin"===X.type,_,"internal-error");const Ie=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return ne(Ie,_,"missing-multi-factor-info"),(yield Yc(_,{mfaPendingCredential:X.credential,mfaEnrollmentId:Ie,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield Fh(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return X}}finally{p._reset()}})).apply(this,arguments)}function Pu(_,f){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,c.Z)(function*(_,f){yield sa((0,B.m9)(_),f)})).apply(this,arguments)}let Xc=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=rt(p)}verifyPhoneNumber(p,E){return tr(this.auth,p,(0,B.m9)(E))}static credential(p,E){return ws._fromVerification(p,E)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:T}=p;return E&&T?ws._fromTokenResponse(E,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ii(_,f){return f?Q(f):(ne(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class xu extends fr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Zi(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Zi(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Zi(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Di(_){return ol(_.auth,new xu(_),_.bypassAuthState)}function st(_){const{auth:f,user:p}=_;return ne(p,f,"internal-error"),sl(p,new xu(_),_.bypassAuthState)}function El(_){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(_){const{auth:f,user:p}=_;return ne(p,f,"internal-error"),sa(p,new xu(_),_.bypassAuthState)})).apply(this,arguments)}class ya{constructor(f,p,E,T,N=!1){this.auth=f,this.resolver=E,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(E,T){f.pendingPromise={resolve:E,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(E,T){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:N,tenantId:X,error:Ie,type:ze}=f;if(Ie)return void p.reject(Ie);const ot={auth:p.auth,requestUri:E,sessionId:T,tenantId:X||void 0,postBody:N||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ze)(ot))}catch(St){p.reject(St)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Di;case"linkViaPopup":case"linkViaRedirect":return El;case"reauthViaPopup":case"reauthViaRedirect":return st;default:$e(this.auth,"internal-error")}}resolve(f){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vo=new Ue(2e3,1e4);function Mn(_,f,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(_,f,p){const E=rt(_);ye(_,f,Yn);const T=Ii(E,p);return new Ea(E,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function va(_,f,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_);ye(E.auth,f,Yn);const T=Ii(E.auth,p);return new Ea(E.auth,"reauthViaPopup",f,T,E).executeNotNull()})).apply(this,arguments)}function ed(_,f,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_);ye(E.auth,f,Yn);const T=Ii(E.auth,p);return new Ea(E.auth,"linkViaPopup",f,T,E).executeNotNull()})).apply(this,arguments)}let Ea=(()=>{class _ extends ya{constructor(p,E,T,N,X){super(p,E,N,X),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const E=yield p.execute();return ne(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,c.Z)(function*(){pe(1===p.filter.length,"Popup operations only handle one event");const E=ks();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(Re(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,T;this.pollId=null!==(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Vo.get())};p()}}return _.currentPopupAction=null,_})();const bi=new Map;class Lr extends ya{constructor(f,p,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let E=bi.get(p.auth._key());if(!E){try{const N=(yield function Ca(_,f){return Ti.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;E=()=>Promise.resolve(N)}catch(T){E=()=>Promise.reject(T)}bi.set(p.auth._key(),E)}return p.bypassAuthState||bi.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(E,f);if("unknown"!==f.type){if(f.eventId){const T=yield E.auth._redirectUserForId(f.eventId);if(T)return E.user=T,p().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Ti(){return(Ti=(0,c.Z)(function*(_,f){const p=rs(f),E=ns(_);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(p));return yield E._remove(p),T})).apply(this,arguments)}function ts(_,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(_,f){return ns(_)._set(rs(f),"true")})).apply(this,arguments)}function Ou(){bi.clear()}function an(_,f){bi.set(_._key(),f)}function ns(_){return Q(_._redirectPersistence)}function rs(_){return $("pendingRedirect",_.config.apiKey,_.name)}function Rn(_,f,p){return function ln(_,f,p){return wa.apply(this,arguments)}(_,f,p)}function wa(){return(wa=(0,c.Z)(function*(_,f,p){const E=rt(_);ye(_,f,Yn);const T=Ii(E,p);return yield ts(T,E),T._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function ei(_,f,p){return function w(_,f,p){return I.apply(this,arguments)}(_,f,p)}function I(){return(I=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_);ye(E.auth,f,Yn);const T=Ii(E.auth,p);yield ts(T,E.auth);const N=yield gt(E);return T._openRedirect(E.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function A(_,f,p){return function L(_,f,p){return q.apply(this,arguments)}(_,f,p)}function q(){return(q=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_);ye(E.auth,f,Yn);const T=Ii(E.auth,p);yield Zr(!1,E,f.providerId),yield ts(T,E.auth);const N=yield gt(E);return T._openRedirect(E.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function se(_,f){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)(function*(_,f){return yield rt(_)._initializationPromise,Fe(_,f,!1)})).apply(this,arguments)}function Fe(_,f){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(_,f,p=!1){const E=rt(_),T=Ii(E,f),X=yield new Lr(E,T,p).execute();return X&&!p&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,f)),X})).apply(this,arguments)}function gt(_){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(_){const f=ks(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Pn{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(p=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function wt(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return is(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var E;if(f.error&&!is(f)){const T=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(Re(this.auth,T))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const E=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rr(f))}saveEventToCache(f){this.cachedEventUids.add(rr(f)),this.lastProcessedEventTime=Date.now()}}function rr(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function is({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Qn(_){return ss.apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(_,f={}){return Ct(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Ai=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ia=/^https?/;function qn(){return(qn=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Qn(_);for(const p of f)try{if(ku(p))return}catch{}$e(_,"unauthorized-domain")})).apply(this,arguments)}function ku(_){const f=Ne(),{protocol:p,hostname:E}=new URL(f);if(_.startsWith("chrome-extension://")){const X=new URL(_);return""===X.hostname&&""===E?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&X.hostname===E}if(!Ia.test(p))return!1;if(Ai.test(_))return E===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const zh=new Ue(3e4,6e4);function td(){const _=vn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let En=null;function os(_){return En=En||function P_(_){return new Promise((f,p)=>{var E,T,N;function X(){td(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{td(),p(Re(_,"network-request-failed"))},timeout:zh.get()})}if(null!==(T=null===(E=vn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(N=vn().gapi)||void 0===N||!N.load){const Ie=Ws("iframefcb");return vn()[Ie]=()=>{gapi.load?X():p(Re(_,"network-request-failed"))},Ji(`https://apis.google.com/js/api.js?onload=${Ie}`).catch(ze=>p(ze))}X()}}).catch(f=>{throw En=null,f})}(_),En}const nd=new Ue(5e3,15e3),rd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wp(_){const f=_.config;ne(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?$t(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:_.name,v:P.SDK_VERSION},T=jp.get(_.config.apiHost);T&&(E.eid=T);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${p}?${(0,B.xO)(E).slice(1)}`}function Cl(){return Cl=(0,c.Z)(function*(_){const f=yield os(_),p=vn().gapi;return ne(p,_,"internal-error"),f.open({where:document.body,url:Wp(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rd,dontclear:!0},E=>new Promise(function(){var T=(0,c.Z)(function*(N,X){yield E.restyle({setHideOnLeave:!1});const Ie=Re(_,"network-request-failed"),ze=vn().setTimeout(()=>{X(Ie)},nd.get());function ot(){vn().clearTimeout(ze),N(E)}E.ping(ot).then(ot,()=>{X(Ie)})});return function(N,X){return T.apply(this,arguments)}}()))}),Cl.apply(this,arguments)}const Gp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $o(_,f,p,E,T,N){ne(_.config.authDomain,_,"auth-domain-config-required"),ne(_.config.apiKey,_,"invalid-api-key");const X={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:E,v:P.SDK_VERSION,eventId:T};if(f instanceof Yn){f.setDefaultLanguage(_.languageCode),X.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(X.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ze,ot]of Object.entries(N||{}))X[ze]=ot}if(f instanceof Ds){const ze=f.getScopes().filter(ot=>""!==ot);ze.length>0&&(X.scopes=ze.join(","))}_.tenantId&&(X.tid=_.tenantId);const Ie=X;for(const ze of Object.keys(Ie))void 0===Ie[ze]&&delete Ie[ze];return`${function Kh({config:_}){return _.emulator?$t(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,B.xO)(Ie).slice(1)}`}const Ho="webStorageSupport",ti=class Aa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ci,this._completeRedirectFn=Fe,this._overrideRedirectResult=an}_openPopup(f,p,E,T){var N=this;return(0,c.Z)(function*(){var X;pe(null===(X=N.eventManagers[f._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const Ie=$o(f,p,E,Ne(),T);return function x_(_,f,p,E=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let Ie="";const ze=Object.assign(Object.assign({},Gp),{width:E.toString(),height:T.toString(),top:N,left:X}),ot=(0,B.z$)().toLowerCase();p&&(Ie=ee(ot)?"_blank":p),M(ot)&&(f=f||"http://localhost",ze.scrollbars="yes");const St=Object.entries(ze).reduce((Tr,[Vr,jo])=>`${Tr}${Vr}=${jo},`,"");if(function Ht(_=(0,B.z$)()){var f;return Pe(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ot)&&"_self"!==Ie)return function Ta(_,f){const p=document.createElement("a");p.href=_,p.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(f||"",Ie),new wl(null);const zt=window.open(f||"",Ie,St);ne(zt,_,"popup-blocked");try{zt.focus()}catch{}return new wl(zt)}(f,Ie,ks())})()}_openRedirect(f,p,E,T){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(f),function Au(_){vn().location.href=_}($o(f,p,E,Ne(),T)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:T,promise:N}=this.eventManagers[p];return T?Promise.resolve(T):(pe(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(f);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const E=yield function qh(_){return Cl.apply(this,arguments)}(f),T=new Pn(f);return E.register("authEvent",N=>(ne(N?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:T},p.iframes[f._key()]=E,T})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Ho,{type:Ho},T=>{var N;const X=null===(N=T?.[0])||void 0===N?void 0:N[Ho];void 0!==X&&p(!!X),$e(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Si(_){return qn.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return jt()||k()||Pe()}};class sd extends class Fu{constructor(f){this.factorId=f}_process(f,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,E);case"signin":return this._finalizeSignIn(f,p.credential);default:return ae("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new sd(f)}_finalizeEnroll(f,p,E){return function ua(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:finalize",At(_,f))}(f,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function Hs(_,f){return Ct(_,"POST","/v2/accounts/mfaSignIn:finalize",At(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let od=(()=>{class _{constructor(){}static assertion(p){return sd._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Sa="@firebase/auth",Il="0.20.11";class Yh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(E=>{var T;f((null===(T=E)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Lu=(0,B.Pz)("authIdTokenMaxAge")||300;let Jh=null;const _r=_=>function(){var f=(0,c.Z)(function*(p){const E=p&&(yield p.getIdTokenResult()),T=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(T&&T>Lu)return;const N=E?.token;Jh!==N&&(Jh=N,yield fetch(_,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(p){return f.apply(this,arguments)}}();function ad(_=(0,P.getApp)()){const f=(0,P._getProvider)(_,"auth");if(f.isInitialized())return f.getImmediate();const p=function ue(_,f){const p=(0,P._getProvider)(_,"auth");if(p.isInitialized()){const T=p.getImmediate(),N=p.getOptions();if((0,B.vZ)(N,f??{}))return T;$e(T,"already-initialized")}return p.initialize({options:f})}(_,{popupRedirectResolver:ti,persistence:[$s,Ln,Ci]}),E=(0,B.Pz)("authTokenSyncURL");if(E){const N=_r(E);(function la(_,f,p){(0,B.m9)(_).beforeAuthStateChanged(f,p)})(p,N,()=>N(p.currentUser)),function fl(_,f,p,E){(0,B.m9)(_).onIdTokenChanged(f,p,E)}(p,X=>N(X))}const T=(0,B.q4)("auth");return T&&ji(p,`http://${T}`),p}!function Kp(_){(0,P._registerComponent)(new he.wA("auth",(f,{options:p})=>{const E=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:N,authDomain:X}=E.options;return((Ie,ze)=>{ne(N&&!N.includes(":"),"invalid-api-key",{appName:Ie.name}),ne(!X?.includes(":"),"argument-error",{appName:Ie.name});const ot={apiKey:N,authDomain:X,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:en(_)},St=new vs(Ie,ze,ot);return function ie(_,f){const p=f?.persistence||[],E=(Array.isArray(p)?p:[p]).map(Q);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(E,f?.popupRedirectResolver)}(St,p),St})(E,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,E)=>{f.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new he.wA("auth-internal",f=>{const p=rt(f.getProvider("auth").getImmediate());return new Yh(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Sa,Il,function qp(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,P.registerVersion)(Sa,Il,"esm2017")}("Browser")},2090:(Je,De,x)=>{x.d(De,{$s:()=>Ge,BH:()=>Dt,DV:()=>mn,Dv:()=>cr,GJ:()=>Gr,L:()=>le,LL:()=>Ft,P0:()=>xe,Pz:()=>Vt,Sg:()=>Ue,UG:()=>_e,UI:()=>zr,US:()=>he,Wj:()=>ut,Wl:()=>Kn,Yr:()=>Te,ZB:()=>j,ZR:()=>Jt,aH:()=>Xe,b$:()=>de,cI:()=>Ct,dS:()=>yt,eu:()=>ne,g5:()=>P,gK:()=>bn,gQ:()=>qt,h$:()=>ce,hl:()=>Le,hu:()=>B,jU:()=>Ze,lb:()=>Xn,m9:()=>Ot,ne:()=>Xt,p$:()=>G,pd:()=>Bi,q4:()=>Ne,r3:()=>ur,ru:()=>ge,tV:()=>fe,uI:()=>Ae,ug:()=>hr,vZ:()=>He,w1:()=>$e,w9:()=>Wr,xO:()=>Zt,xb:()=>xr,z$:()=>Oe,zI:()=>ae,zd:()=>Gn});const B=function(W,$){if(!W)throw P($)},P=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},re=function(W){const $=[];let Z=0;for(let V=0;V<W.length;V++){let M=W.charCodeAt(V);M<128?$[Z++]=M:M<2048?($[Z++]=M>>6|192,$[Z++]=63&M|128):55296==(64512&M)&&V+1<W.length&&56320==(64512&W.charCodeAt(V+1))?(M=65536+((1023&M)<<10)+(1023&W.charCodeAt(++V)),$[Z++]=M>>18|240,$[Z++]=M>>12&63|128,$[Z++]=M>>6&63|128,$[Z++]=63&M|128):($[Z++]=M>>12|224,$[Z++]=M>>6&63|128,$[Z++]=63&M|128)}return $},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let M=0;M<W.length;M+=3){const k=W[M],ee=M+1<W.length,Se=ee?W[M+1]:0,qe=M+2<W.length,Ke=qe?W[M+2]:0;let pt=(15&Se)<<2|Ke>>6,Ht=63&Ke;qe||(Ht=64,ee||(pt=64)),V.push(Z[k>>2],Z[(3&k)<<4|Se>>4],Z[pt],Z[Ht])}return V.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(re(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let Z=0,V=0;for(;Z<W.length;){const M=W[Z++];if(M<128)$[V++]=String.fromCharCode(M);else if(M>191&&M<224){const k=W[Z++];$[V++]=String.fromCharCode((31&M)<<6|63&k)}else if(M>239&&M<365){const qe=((7&M)<<18|(63&W[Z++])<<12|(63&W[Z++])<<6|63&W[Z++])-65536;$[V++]=String.fromCharCode(55296+(qe>>10)),$[V++]=String.fromCharCode(56320+(1023&qe))}else{const k=W[Z++],ee=W[Z++];$[V++]=String.fromCharCode((15&M)<<12|(63&k)<<6|63&ee)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const Z=$?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let M=0;M<W.length;){const k=Z[W.charAt(M++)],Se=M<W.length?Z[W.charAt(M)]:0;++M;const Ke=M<W.length?Z[W.charAt(M)]:64;++M;const Pe=M<W.length?Z[W.charAt(M)]:64;if(++M,null==k||null==Se||null==Ke||null==Pe)throw Error();V.push(k<<2|Se>>4),64!==Ke&&(V.push(Se<<4&240|Ke>>2),64!==Pe&&V.push(Ke<<6&192|Pe))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ce=function(W){const $=re(W);return he.encodeByteArray($,!0)},le=function(W){return ce(W).replace(/\./g,"")},fe=function(W){try{return he.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function G(W){return j(void 0,W)}function j(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const Z in $)!$.hasOwnProperty(Z)||!Y(Z)||(W[Z]=j(W[Z],$[Z]));return W}function Y(W){return"__proto__"!==W}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return"object"==typeof self&&self.self===self}function ge(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){const W=Oe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Te(){return!1}function Le(){return"object"==typeof indexedDB}function ne(){return new Promise((W,$)=>{try{let Z=!0;const V="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(V);M.onsuccess=()=>{M.result.close(),Z||self.indexedDB.deleteDatabase(V),W(!0)},M.onupgradeneeded=()=>{Z=!1},M.onerror=()=>{var k;$((null===(k=M.error)||void 0===k?void 0:k.message)||"")}}catch(Z){$(Z)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ie=()=>{try{return function pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=W&&fe(W[1]);return $&&JSON.parse($)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},Ne=W=>{var $,Z;return null===(Z=null===($=ie())||void 0===$?void 0:$.emulatorHosts)||void 0===Z?void 0:Z[W]},xe=W=>{const $=Ne(W);if(!$)return;const Z=$.lastIndexOf(":");if(Z<=0||Z+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const V=parseInt($.substring(Z+1),10);return"["===$[0]?[$.substring(1,Z-1),V]:[$.substring(0,Z),V]},Xe=()=>{var W;return null===(W=ie())||void 0===W?void 0:W.config},Vt=W=>{var $;return null===($=ie())||void 0===$?void 0:$[`_${W}`]};class Dt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Z)=>{this.resolve=$,this.reject=Z})}wrapCallback($){return(Z,V)=>{Z?this.reject(Z):this.resolve(V),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Z):$(Z,V))}}}function Ue(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=$||"demo-project",M=W.iat||0,k=W.sub||W.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:M,exp:M+3600,auth_time:M,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},W);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(ee)),""].join(".")}class Jt extends Error{constructor($,Z,V){super(Z),this.code=$,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ft.prototype.create)}}class Ft{constructor($,Z,V){this.service=$,this.serviceName=Z,this.errors=V}create($,...Z){const V=Z[0]||{},M=`${this.service}/${$}`,k=this.errors[$],ee=k?function Lt(W,$){return W.replace(At,(Z,V)=>{const M=$[V];return null!=M?String(M):`<${V}?>`})}(k,V):"Error";return new Jt(M,`${this.serviceName}: ${ee} (${M}).`,V)}}const At=/\{\$([^}]+)}/g;function Ct(W){return JSON.parse(W)}function Kn(W){return JSON.stringify(W)}const jr=function(W){let $={},Z={},V={},M="";try{const k=W.split(".");$=Ct(fe(k[0])||""),Z=Ct(fe(k[1])||""),M=k[2],V=Z.d||{},delete Z.d}catch{}return{header:$,claims:Z,data:V,signature:M}},Wr=function(W){const Z=jr(W).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},Gr=function(W){const $=jr(W).claims;return"object"==typeof $&&!0===$.admin};function ur(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function mn(W,$){if(Object.prototype.hasOwnProperty.call(W,$))return W[$]}function xr(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function zr(W,$,Z){const V={};for(const M in W)Object.prototype.hasOwnProperty.call(W,M)&&(V[M]=$.call(Z,W[M],M,W));return V}function He(W,$){if(W===$)return!0;const Z=Object.keys(W),V=Object.keys($);for(const M of Z){if(!V.includes(M))return!1;const k=W[M],ee=$[M];if(xn(k)&&xn(ee)){if(!He(k,ee))return!1}else if(k!==ee)return!1}for(const M of V)if(!Z.includes(M))return!1;return!0}function xn(W){return null!==W&&"object"==typeof W}function Zt(W){const $=[];for(const[Z,V]of Object.entries(W))Array.isArray(V)?V.forEach(M=>{$.push(encodeURIComponent(Z)+"="+encodeURIComponent(M))}):$.push(encodeURIComponent(Z)+"="+encodeURIComponent(V));return $.length?"&"+$.join("&"):""}function Gn(W){const $={};return W.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[M,k]=V.split("=");$[decodeURIComponent(M)]=decodeURIComponent(k)}}),$}function Bi(W){const $=W.indexOf("?");if(!$)return"";const Z=W.indexOf("#",$);return W.substring($,Z>0?Z:void 0)}class qt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,Z){Z||(Z=0);const V=this.W_;if("string"==typeof $)for(let Pe=0;Pe<16;Pe++)V[Pe]=$.charCodeAt(Z)<<24|$.charCodeAt(Z+1)<<16|$.charCodeAt(Z+2)<<8|$.charCodeAt(Z+3),Z+=4;else for(let Pe=0;Pe<16;Pe++)V[Pe]=$[Z]<<24|$[Z+1]<<16|$[Z+2]<<8|$[Z+3],Z+=4;for(let Pe=16;Pe<80;Pe++){const pt=V[Pe-3]^V[Pe-8]^V[Pe-14]^V[Pe-16];V[Pe]=4294967295&(pt<<1|pt>>>31)}let Ke,we,M=this.chain_[0],k=this.chain_[1],ee=this.chain_[2],Se=this.chain_[3],qe=this.chain_[4];for(let Pe=0;Pe<80;Pe++){Pe<40?Pe<20?(Ke=Se^k&(ee^Se),we=1518500249):(Ke=k^ee^Se,we=1859775393):Pe<60?(Ke=k&ee|Se&(k|ee),we=2400959708):(Ke=k^ee^Se,we=3395469782);const pt=(M<<5|M>>>27)+Ke+qe+we+V[Pe]&4294967295;qe=Se,Se=ee,ee=4294967295&(k<<30|k>>>2),k=M,M=pt}this.chain_[0]=this.chain_[0]+M&4294967295,this.chain_[1]=this.chain_[1]+k&4294967295,this.chain_[2]=this.chain_[2]+ee&4294967295,this.chain_[3]=this.chain_[3]+Se&4294967295,this.chain_[4]=this.chain_[4]+qe&4294967295}update($,Z){if(null==$)return;void 0===Z&&(Z=$.length);const V=Z-this.blockSize;let M=0;const k=this.buf_;let ee=this.inbuf_;for(;M<Z;){if(0===ee)for(;M<=V;)this.compress_($,M),M+=this.blockSize;if("string"==typeof $){for(;M<Z;)if(k[ee]=$.charCodeAt(M),++ee,++M,ee===this.blockSize){this.compress_(k),ee=0;break}}else for(;M<Z;)if(k[ee]=$[M],++ee,++M,ee===this.blockSize){this.compress_(k),ee=0;break}}this.inbuf_=ee,this.total_+=Z}digest(){const $=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let M=this.blockSize-1;M>=56;M--)this.buf_[M]=255&Z,Z/=256;this.compress_(this.buf_);let V=0;for(let M=0;M<5;M++)for(let k=24;k>=0;k-=8)$[V]=this.chain_[M]>>k&255,++V;return $}}function Xt(W,$){const Z=new Gt(W,$);return Z.subscribe.bind(Z)}class Gt{constructor($,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{$(this)}).catch(V=>{this.error(V)})}next($){this.forEachObserver(Z=>{Z.next($)})}error($){this.forEachObserver(Z=>{Z.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Z,V){let M;if(void 0===$&&void 0===Z&&void 0===V)throw new Error("Missing Observer.");M=function tt(W,$){if("object"!=typeof W||null===W)return!1;for(const Z of $)if(Z in W&&"function"==typeof W[Z])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Z,complete:V},void 0===M.next&&(M.next=ft),void 0===M.error&&(M.error=ft),void 0===M.complete&&(M.complete=ft);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch{}}),this.observers.push(M),k}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,$)}sendOne($,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Z(this.observers[$])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ft(){}const cr=function(W,$,Z,V){let M;if(V<$?M="at least "+$:V>Z&&(M=0===Z?"none":"no more than "+Z),M)throw new Error(W+" failed: Was called with "+V+(1===V?" argument.":" arguments.")+" Expects "+M+".")};function bn(W,$){return`${W} failed: ${$} argument `}function ut(W,$,Z,V){if((!V||Z)&&"function"!=typeof Z)throw new Error(bn(W,$)+"must be a valid function.")}function Xn(W,$,Z,V){if((!V||Z)&&("object"!=typeof Z||null===Z))throw new Error(bn(W,$)+"must be a valid context object.")}const yt=function(W){const $=[];let Z=0;for(let V=0;V<W.length;V++){let M=W.charCodeAt(V);if(M>=55296&&M<=56319){const k=M-55296;V++,B(V<W.length,"Surrogate pair missing trail surrogate."),M=65536+(k<<10)+(W.charCodeAt(V)-56320)}M<128?$[Z++]=M:M<2048?($[Z++]=M>>6|192,$[Z++]=63&M|128):M<65536?($[Z++]=M>>12|224,$[Z++]=M>>6&63|128,$[Z++]=63&M|128):($[Z++]=M>>18|240,$[Z++]=M>>12&63|128,$[Z++]=M>>6&63|128,$[Z++]=63&M|128)}return $},hr=function(W){let $=0;for(let Z=0;Z<W.length;Z++){const V=W.charCodeAt(Z);V<128?$++:V<2048?$+=2:V>=55296&&V<=56319?($+=4,Z++):$+=3}return $};function Ge(W,$=1e3,Z=2){const V=$*Math.pow(Z,W),M=Math.round(.5*V*(Math.random()-.5)*2);return Math.min(144e5,V+M)}function Ot(W){return W&&W._delegate?W._delegate:W}},7411:(Je,De,x)=>{var c=x(4650);let B=null;function P(){return B}const ce=new c.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function fe(){return(0,c.LFG)(j)}()},providedIn:"platform"}),n})();const G=new c.OlP("Location Initialized");let j=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){Y()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){Y()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Oe(){return new j((0,c.LFG)(ce))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function _e(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(je)},providedIn:"root"}),n})();const de=new c.OlP("appBaseHref");let je=(()=>{class n extends ge{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ae(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Ze(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,d){const g=this.prepareExternalUrl(a+Ze(d));this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){const g=this.prepareExternalUrl(a+Ze(d));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$e=(()=>{class n extends ge{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Ae(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,d){let g=this.prepareExternalUrl(a+Ze(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){let g=this.prepareExternalUrl(a+Ze(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._baseHref=_e(Le(s)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Ze(s))}normalize(e){return n.stripTrailingSlash(function ye(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Le(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._locationStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(s)),a)}replaceState(e,s="",a=null){this._locationStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=Ae,n.stripTrailingSlash=_e,n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Te(){return new Re((0,c.LFG)(ge))}()},providedIn:"root"}),n})();function Le(n){return n.replace(/\/index.html$/,"")}class Gi{constructor(t,e,s,a){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mi=(()=>{class n{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((a,d,g)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new Gi(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)s.remove(null===d?void 0:d);else if(null!==d){const v=s.get(d);s.move(v,g),zi(v,a)}});for(let a=0,d=s.length;a<d;a++){const v=s.get(a).context;v.index=a,v.count=d,v.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{zi(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function zi(n,t){n.context.$implicit=t.item}let Sn=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new Vc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){On("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){On("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Vc{constructor(){this.$implicit=null,this.ngIf=null}}function On(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let Bh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();let gu=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Uc((0,c.LFG)(ce),window)}),n})();class Uc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function zn(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const d=a.shadowRoot;if(d){const g=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(g)return g}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=kr(this.window.history)||kr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function kr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vi extends class Eu extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){B||(B=n)}(new vi)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Cu(){return Ei=Ei||document.querySelector("base"),Ei?Ei.getAttribute("href"):null}();return null==e?null:function ui(n){cn=cn||document.createElement("a"),cn.setAttribute("href",n);const t=cn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ei=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Xa(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,d]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let cn,Ei=null;const on=new c.OlP("TRANSITION_ID"),cl=[{provide:c.ip1,useFactory:function wu(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const s=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)s.remove(a[d])})}},deps:[on,ce,c.zs3],multi:!0}];let dl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const hl=new c.OlP("EventManagerPlugins");let fl=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let d=0;d<a.length;d++){const g=a[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hl),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class la{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let Ns=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xs=(()=>{class n extends Ns{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,a.push(s.appendChild(g))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Iu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Iu))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Iu(n){P().remove(n)}const Os={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Du=/%COMP%/g;function ca(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?ca(n,a,e):(a=a.replace(Du,n),e.push(a))}return e}function da(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ha=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new ci(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case c.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Tu(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case c.ifc.ShadowDom:return new zc(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=ca(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(fl),c.LFG(xs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ci{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Os[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(xo(t)?t.content:t).appendChild(e)}insertBefore(t,e,s){t&&(xo(t)?t.content:t).insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const d=Os[a];d?t.setAttributeNS(d,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=Os[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,s,a&c.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,da(s)):this.eventManager.addEventListener(t,e,da(s))}}function xo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Tu extends ci{constructor(t,e,s,a){super(t),this.component=s;const d=ca(a+"-"+s.id,s.styles,[]);e.addStyles(d),this.contentAttr=function yn(n){return"_ngcontent-%COMP%".replace(Du,n)}(a+"-"+s.id),this.hostAttr=function ua(n){return"_nghost-%COMP%".replace(Du,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class zc extends ci{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=ca(a.id,a.styles,[]);for(let g=0;g<d.length;g++){const v=document.createElement("style");v.textContent=d[g],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ln=(()=>{class n extends la{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Zc=["alt","control","meta","shift"],Ci={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ml={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Oo=(()=>{class n extends la{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const d=n.parseEventName(s),g=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(s.pop());let g="",v=s.indexOf("code");if(v>-1&&(s.splice(v,1),g="code."),Zc.forEach(S=>{const H=s.indexOf(S);H>-1&&(s.splice(H,1),g+=S+".")}),g+=d,0!=s.length||0===d.length)return null;const D={};return D.domEventName=a,D.fullKey=g,D}static matchEventFullKeyCode(e,s){let a=Ci[e.key]||e.key,d="";return s.indexOf("code.")>-1&&(a=e.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Zc.forEach(g=>{g!==a&&(0,ml[g])(e)&&(d+=g+".")}),d+=a,d===s)}static eventCallback(e,s,a){return d=>{n.matchEventFullKeyCode(d,e)&&a.runGuarded(()=>s(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ko=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Su(){vi.makeCurrent()},multi:!0},{provide:ce,useFactory:function _l(){return(0,c.RDi)(document),document},deps:[]}]),Qi=new c.OlP(""),Fo=[{provide:c.rWj,useClass:class Wc{addToWindow(t){c.dqk.getAngularTestability=(s,a=!0)=>{const d=t.findTestabilityInTree(s,a);if(null==d)throw new Error("Could not find testability for element.");return d},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(s=>{const a=c.dqk.getAllAngularTestabilities();let d=a.length,g=!1;const v=function(D){g=g||D,d--,0==d&&s(g)};a.forEach(function(D){D.whenStable(v)})})}findTestabilityInTree(t,e,s){return null==e?null:t.getTestability(e)??(s?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Fs=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function di(){return new c.qLn},deps:[]},{provide:hl,useClass:Ln,multi:!0,deps:[ce,c.R0b,c.Lbi]},{provide:hl,useClass:Oo,multi:!0,deps:[ce]},{provide:ha,useClass:ha,deps:[fl,xs,c.AFp]},{provide:c.FYo,useExisting:ha},{provide:Ns,useExisting:xs},{provide:xs,useClass:xs,deps:[ce]},{provide:fl,useClass:fl,deps:[hl,c.R0b]},{provide:class Ts{},useClass:dl,deps:[]},[]];let Ls=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:on,useExisting:c.AFp},cl]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Qi,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Fs,...Fo],imports:[Bh,c.hGG]}),n})(),Kr=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function Lo(){return new Kr((0,c.LFG)(ce))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var nn=x(8996),Qr=x(7669);function Ye(...n){const t=(0,Qr.yG)(n);return(0,nn.D)(n,t)}var Jr=x(7579);class rn extends Jr.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}const Xi=(0,x(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var tr=x(9751);const{isArray:es}=Array,{getPrototypeOf:Pu,prototype:Nu,keys:Xc}=Object;function Ii(n){if(1===n.length){const t=n[0];if(es(t))return{args:t,keys:null};if(function xu(n){return n&&"object"==typeof n&&Pu(n)===Nu}(t)){const e=Xc(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}var Di=x(4671),st=x(4004);const{isArray:El}=Array;function ya(n){return(0,st.U)(t=>function Xr(n,t){return El(t)?n(...t):n(t)}(n,t))}function Vo(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}var Mn=x(5403),Uo=x(9672);function va(...n){const t=(0,Qr.yG)(n),e=(0,Qr.jO)(n),{args:s,keys:a}=Ii(n);if(0===s.length)return(0,nn.D)([],t);const d=new tr.y(function Bo(n,t,e=Di.y){return s=>{ed(t,()=>{const{length:a}=n,d=new Array(a);let g=a,v=a;for(let D=0;D<a;D++)ed(t,()=>{const S=(0,nn.D)(n[D],t);let H=!1;S.subscribe((0,Mn.x)(s,U=>{d[D]=U,H||(H=!0,v--),v||s.next(e(d.slice()))},()=>{--g||s.complete()}))},s)},s)}}(s,t,a?g=>Vo(a,g):Di.y));return e?d.pipe(ya(e)):d}function ed(n,t,e){n?(0,Uo.f)(e,n,t):t()}var zs=x(8189);function Zs(...n){return function Ea(){return(0,zs.J)(1)}()((0,nn.D)(n,(0,Qr.yG)(n)))}var bi=x(8421);function Lr(n){return new tr.y(t=>{(0,bi.Xf)(n()).subscribe(t)})}var Ca=x(9635),Ti=x(576);function ts(n,t){const e=(0,Ti.m)(n)?n:()=>n,s=a=>a.error(e());return new tr.y(t?a=>t.schedule(s,0,a):s)}var nr=x(515),Ou=x(727),an=x(4482);function ns(){return(0,an.e)((n,t)=>{let e=null;n._refCount++;const s=(0,Mn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class rs extends tr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,an.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ou.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Mn.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ou.w0.EMPTY)}return t}refCount(){return ns()(this)}}function Rn(n,t){return(0,an.e)((e,s)=>{let a=null,d=0,g=!1;const v=()=>g&&!a&&s.complete();e.subscribe((0,Mn.x)(s,D=>{a?.unsubscribe();let S=0;const H=d++;(0,bi.Xf)(n(D,H)).subscribe(a=(0,Mn.x)(s,U=>s.next(t?t(D,U,H,S++):U),()=>{a=null,v()}))},()=>{g=!0,v()}))})}function ln(n){return n<=0?()=>nr.E:(0,an.e)((t,e)=>{let s=0;t.subscribe((0,Mn.x)(e,a=>{++s<=n&&(e.next(a),n<=s&&e.complete())}))})}function ei(n,t){return(0,an.e)((e,s)=>{let a=0;e.subscribe((0,Mn.x)(s,d=>n.call(t,d,a++)&&s.next(d)))})}var w=x(5577);function I(n){return(0,an.e)((t,e)=>{let s=!1;t.subscribe((0,Mn.x)(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function A(n=L){return(0,an.e)((t,e)=>{let s=!1;t.subscribe((0,Mn.x)(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function L(){return new Xi}function q(n,t){const e=arguments.length>=2;return s=>s.pipe(n?ei((a,d)=>n(a,d,s)):Di.y,ln(1),e?I(t):A(()=>new Xi))}function se(n,t){return(0,Ti.m)(t)?(0,w.z)(n,t,1):(0,w.z)(n,1)}var me=x(8505);function Fe(n){return(0,an.e)((t,e)=>{let d,s=null,a=!1;s=t.subscribe((0,Mn.x)(e,void 0,void 0,g=>{d=(0,bi.Xf)(n(g,Fe(n)(t))),s?(s.unsubscribe(),s=null,d.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,d.subscribe(e))})}function nt(n,t,e,s,a){return(d,g)=>{let v=e,D=t,S=0;d.subscribe((0,Mn.x)(g,H=>{const U=S++;D=v?n(D,H,U):(v=!0,H),s&&g.next(D)},a&&(()=>{v&&g.next(D),g.complete()})))}}function gt(n,t){return(0,an.e)(nt(n,t,arguments.length>=2,!0))}function Et(n){return n<=0?()=>nr.E:(0,an.e)((t,e)=>{let s=[];t.subscribe((0,Mn.x)(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}function it(n,t){const e=arguments.length>=2;return s=>s.pipe(n?ei((a,d)=>n(a,d,s)):Di.y,Et(1),e?I(t):A(()=>new Xi))}function is(n){return(0,an.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const wt="primary",Qn=Symbol("RouteTitle");class ss{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ai(n){return new ss(n)}function Ia(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let d=0;d<s.length;d++){const g=s[d],v=n[d];if(g.startsWith(":"))a[g.substring(1)]=v;else if(g!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function qn(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!ku(n[a],t[a]))return!1;return!0}function ku(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,d)=>s[d]===a)}return n===t}function zh(n){return Array.prototype.concat.apply([],n)}function td(n){return n.length>0?n[n.length-1]:null}function En(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function os(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,nn.D)(Promise.resolve(n)):Ye(n)}const N_={exact:function qh(n,t,e){if(!Ta(n.segments,t.segments)||!Da(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!qh(n.children[s],t.children[s],e))return!1;return!0},subset:Gp},rd={exact:function Wp(n,t){return qn(n,t)},subset:function Cl(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ku(n[e],t[e]))},ignored:()=>!0};function jp(n,t,e){return N_[e.paths](n.root,t.root,e.matrixParams)&&rd[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Gp(n,t,e){return zp(n,t,t.segments,e)}function zp(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Ta(a,e)||t.hasChildren()||!Da(a,e,s))}if(n.segments.length===e.length){if(!Ta(n.segments,e)||!Da(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!Gp(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(Ta(n.segments,a)&&Da(n.segments,a,s)&&n.children[wt])&&zp(n.children[wt],t,d,s)}}function Da(n,t,e){return t.every((s,a)=>rd[e](n[a].parameters,s.parameters))}class ba{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ai(this.queryParams)),this._queryParamMap}toString(){return Kh.serialize(this)}}class kt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,En(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ho(this)}}class wl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ai(this.parameters)),this._parameterMap}toString(){return Yh(this)}}function Ta(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}let id=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new $o},providedIn:"root"}),n})();class $o{parse(t){const e=new f(t);return new ba(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Aa(t.root,!0)}`,s=function Kp(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${Fu(e)}=${Fu(a)}`).join("&"):`${Fu(e)}=${Fu(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function sd(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Kh=new $o;function Ho(n){return n.segments.map(t=>Yh(t)).join("/")}function Aa(n,t){if(!n.hasChildren())return Ho(n);if(t){const e=n.children[wt]?Aa(n.children[wt],!1):"",s=[];return En(n.children,(a,d)=>{d!==wt&&s.push(`${d}:${Aa(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function Zp(n,t){let e=[];return En(n.children,(s,a)=>{a===wt&&(e=e.concat(t(s,a)))}),En(n.children,(s,a)=>{a!==wt&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===wt?[Aa(n.children[wt],!1)]:[`${a}:${Aa(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wt]?`${Ho(n)}/${e[0]}`:`${Ho(n)}/(${e.join("//")})`}}function ti(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fu(n){return ti(n).replace(/%3B/gi,";")}function od(n){return ti(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sa(n){return decodeURIComponent(n)}function Il(n){return Sa(n.replace(/\+/g,"%20"))}function Yh(n){return`${od(n.path)}${function qp(n){return Object.keys(n).map(t=>`;${od(t)}=${od(n[t])}`).join("")}(n.parameters)}`}const Qh=/^[^\/()?;=#]+/;function Lu(n){const t=n.match(Qh);return t?t[0]:""}const Jh=/^[^=?&#]+/,ad=/^[^&#]+/;class f{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[wt]=new kt(t,e)),s}parseSegment(){const t=Lu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new wl(Sa(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Lu(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=Lu(this.remaining);a&&(s=a,this.capture(s))}t[Sa(e)]=Sa(s)}parseQueryParam(t){const e=function _r(n){const t=n.match(Jh);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function _(n){const t=n.match(ad);return t?t[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const a=Il(e),d=Il(s);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Lu(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new c.vHH(4010,!1);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=wt);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[wt]:new kt([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function p(n){return n.segments.length>0?new kt([],{[wt]:n}):n}function E(n){const t={};for(const s of Object.keys(n.children)){const d=E(n.children[s]);(d.segments.length>0||d.hasChildren())&&(t[s]=d)}return function T(n){if(1===n.numberOfChildren&&n.children[wt]){const t=n.children[wt];return new kt(n.segments.concat(t.segments),t.children)}return n}(new kt(n.segments,t))}function N(n){return n instanceof ba}const X=!1;function St(n,t,e,s,a){if(0===e.length)return Vr(t.root,t.root,t.root,s,a);const d=function Vu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Dl(!0,0,n);let t=0,e=!1;const s=n.reduce((a,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const v={};return En(d.outlets,(D,S)=>{v[S]="string"==typeof D?D.split("/"):D}),[...a,{outlets:v}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===g?(d.split("/").forEach((v,D)=>{0==D&&"."===v||(0==D&&""===v?e=!0:".."===v?t++:""!=v&&a.push(v))}),a):[...a,d]},[]);return new Dl(e,t,s)}(e);return d.toRoot()?Vr(t.root,t.root,new kt([],{}),s,a):function g(D){const S=function Wo(n,t,e,s){if(n.isAbsolute)return new qs(t.root,!0,0);if(-1===s)return new qs(e,e===t.root,0);return function ld(n,t,e){let s=n,a=t,d=e;for(;d>a;){if(d-=a,s=s.parent,!s)throw new c.vHH(4005,X);a=s.segments.length}return new qs(s,!1,a-d)}(e,s+(zt(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,D),H=S.processChildren?Ks(S.segmentGroup,S.index,d.commands):Go(S.segmentGroup,S.index,d.commands);return Vr(t.root,S.segmentGroup,H,s,a)}(n.snapshot?._lastPathIndex)}function zt(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tr(n){return"object"==typeof n&&null!=n&&n.outlets}function Vr(n,t,e,s,a){let g,d={};s&&En(s,(D,S)=>{d[S]=Array.isArray(D)?D.map(H=>`${H}`):`${D}`}),g=n===t?e:jo(n,t,e);const v=p(E(g));return new ba(v,d,a)}function jo(n,t,e){const s={};return En(n.children,(a,d)=>{s[d]=a===t?e:jo(a,t,e)}),new kt(n.segments,s)}class Dl{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&zt(s[0]))throw new c.vHH(4003,X);const a=s.find(Tr);if(a&&a!==td(s))throw new c.vHH(4004,X)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qs{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function Go(n,t,e){if(n||(n=new kt([],{})),0===n.segments.length&&n.hasChildren())return Ks(n,t,e);const s=function tf(n,t,e){let s=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return d;const g=n.segments[a],v=e[s];if(Tr(v))break;const D=`${v}`,S=s<e.length-1?e[s+1]:null;if(a>0&&void 0===D)break;if(D&&S&&"object"==typeof S&&void 0===S.outlets){if(!Yp(D,S,g))return d;s+=2}else{if(!Yp(D,{},g))return d;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const d=new kt(n.segments.slice(0,s.pathIndex),{});return d.children[wt]=new kt(n.segments.slice(s.pathIndex),n.children),Ks(d,0,a)}return s.match&&0===a.length?new kt(n.segments,{}):s.match&&!n.hasChildren()?Uu(n,t,e):s.match?Ks(n,0,a):Uu(n,t,e)}function Ks(n,t,e){if(0===e.length)return new kt(n.segments,{});{const s=function ef(n){return Tr(n[0])?n[0].outlets:{[wt]:n}}(e),a={};return En(s,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[g]=Go(n.children[g],t,d))}),En(n.children,(d,g)=>{void 0===s[g]&&(a[g]=d)}),new kt(n.segments,a)}}function Uu(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(Tr(d)){const D=Ma(d.outlets);return new kt(s,D)}if(0===a&&zt(e[0])){s.push(new wl(n.segments[t].path,nf(e[0]))),a++;continue}const g=Tr(d)?d.outlets[wt]:`${d}`,v=a<e.length-1?e[a+1]:null;g&&v&&zt(v)?(s.push(new wl(g,nf(v))),a+=2):(s.push(new wl(g,{})),a++)}return new kt(s,{})}function Ma(n){const t={};return En(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=Uu(new kt([],{}),0,e))}),t}function nf(n){const t={};return En(n,(e,s)=>t[s]=`${e}`),t}function Yp(n,t,e){return n==e.path&&qn(t,e.parameters)}class zo{constructor(t,e){this.id=t,this.url=e}}class ud extends zo{constructor(t,e,s="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bl extends zo{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rf extends zo{constructor(t,e,s,a){super(t,e),this.reason=s,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class O_ extends zo{constructor(t,e,s,a){super(t,e),this.error=s,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $C extends zo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HC extends zo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jC extends zo{constructor(t,e,s,a,d){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class k_ extends zo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qp extends zo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F_{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jp{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WC{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GC{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ra{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=eg(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=eg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=B_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return B_(t,this._root).map(e=>e.value)}}function eg(n,t){if(n===t.value)return t;for(const e of t.children){const s=eg(n,e);if(s)return s}return null}function B_(n,t){if(n===t.value)return[t];for(const e of t.children){const s=B_(n,e);if(s.length)return s.unshift(t),s}return[]}class Mi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class tg extends Xp{constructor(t,e){super(t),this.snapshot=e,cd(this,t)}toString(){return this.snapshot.toString()}}function ng(n,t){const e=function $_(n,t){const g=new Tl([],{},{},"",{},wt,t,null,n.root,-1,{});return new ig("",new Mi(g,[]))}(n,t),s=new rn([new wl("",{})]),a=new rn({}),d=new rn({}),g=new rn({}),v=new rn(""),D=new Zo(s,a,g,v,d,wt,t,e.root);return D.snapshot=e.root,new tg(new Mi(D,[]),e)}class Zo{constructor(t,e,s,a,d,g,v,D){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=v,this.title=this.data?.pipe((0,st.U)(S=>S[Qn]))??Ye(void 0),this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(t=>Ai(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(t=>Ai(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rg(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],d=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(d.component)break;s--}}return function sf(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Tl{constructor(t,e,s,a,d,g,v,D,S,H,U,J){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=v,this.title=this.data?.[Qn],this.routeConfig=D,this._urlSegment=S,this._lastPathIndex=H,this._correctedLastPathIndex=J??H,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ai(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ai(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ig extends Xp{constructor(t,e){super(e),this.url=t,cd(this,e)}toString(){return af(this._root)}}function cd(n,t){t.value._routerState=n,t.children.forEach(e=>cd(n,e))}function af(n){const t=n.children.length>0?` { ${n.children.map(af).join(", ")} } `:"";return`${n.value}${t}`}function dd(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,qn(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),qn(t.params,e.params)||n.params.next(e.params),function Si(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!qn(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),qn(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Al(n,t){const e=qn(n.params,t.params)&&function x_(n,t){return Ta(n,t)&&n.every((e,s)=>qn(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Al(n.parent,t.parent))}function $u(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function ZC(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return $u(n,s,a);return $u(n,s)})}(n,t,e);return new Mi(s,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const g=d.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(v=>$u(n,v)),g}}const s=function qC(n){return new Zo(new rn(n.url),new rn(n.params),new rn(n.queryParams),new rn(n.fragment),new rn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>$u(n,d));return new Mi(s,a)}}const lf="ngNavigationCancelingError";function uf(n,t){const{redirectTo:e,navigationBehaviorOptions:s}=N(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=hd(!1,0,t);return a.url=e,a.navigationBehaviorOptions=s,a}function hd(n,t,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[lf]=!0,s.cancellationCode=t,e&&(s.url=e),s}function cf(n){return Pa(n)&&N(n.url)}function Pa(n){return n&&n[lf]}class KC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new fd,this.attachRef=null}}let fd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const a=this.getOrCreateContext(e);a.outlet=s,this.contexts.set(e,a)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new KC,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sg=!1;let og=(()=>{class n{constructor(e,s,a,d,g){this.parentContexts=e,this.location=s,this.changeDetector=d,this.environmentInjector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||wt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,sg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,sg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,sg);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new c.vHH(4013,sg);this._activatedRoute=e;const a=this.location,g=e._futureSnapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,D=new ag(e,v,a.injector);if(s&&function YC(n){return!!n.resolveComponentFactory}(s)){const S=s.resolveComponentFactory(g);this.activated=a.createComponent(S,a.length,D)}else this.activated=a.createComponent(g,{index:a.length,injector:D,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fd),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class ag{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===Zo?this.route:t===fd?this.childContexts:this.parent.get(t,e)}}let df=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,s){1&e&&c._UZ(0,"router-outlet")},dependencies:[og],encapsulation:2}),n})();function pd(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function lg(n){const t=n.children&&n.children.map(lg),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==wt&&(e.component=df),e}function Ri(n){return n.outlet||wt}function qo(n,t){const e=n.filter(s=>Ri(s)===t);return e.push(...n.filter(s=>Ri(s)!==t)),e}function Ko(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class ID{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),dd(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=Bu(e);t.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,a[g],s),delete a[g]}),En(a,(d,g)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const g=s.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,s);else d&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=Bu(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);if(s&&s.outlet){const g=s.outlet.detach(),v=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:v})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=Bu(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=Bu(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],s),this.forwardEvent(new V_(d.value.snapshot))}),t.children.length&&this.forwardEvent(new GC(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(dd(a),a===d)if(a.component){const g=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const g=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),dd(v.route.value),this.activateChildRoutes(t,null,g.children)}else{const v=Ko(a.snapshot),D=v?.get(c._Vd)??null;g.attachRef=null,g.route=a,g.resolver=D,g.injector=v,g.outlet&&g.outlet.activateWith(a,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,s)}}class s0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ug{constructor(t,e){this.component=t,this.route=e}}function DD(n,t,e){const s=n._root;return gd(s,t?t._root:null,e,[s.value])}function Sl(n,t){const e=Symbol(),s=t.get(n,e);return s===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:s}function gd(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=Bu(t);return n.children.forEach(g=>{(function o0(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,g=t?t.value:null,v=e?e.getContext(n.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const D=function a0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ta(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ta(n.url,t.url)||!qn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Al(n,t)||!qn(n.queryParams,t.queryParams);default:return!Al(n,t)}}(g,d,d.routeConfig.runGuardsAndResolvers);D?a.canActivateChecks.push(new s0(s)):(d.data=g.data,d._resolvedData=g._resolvedData),gd(n,t,d.component?v?v.children:null:e,s,a),D&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new ug(v.outlet.component,g))}else g&&md(t,v,a),a.canActivateChecks.push(new s0(s)),gd(n,null,d.component?v?v.children:null:e,s,a)})(g,d[g.value.outlet],e,s.concat([g.value]),a),delete d[g.value.outlet]}),En(d,(g,v)=>md(g,e.getContext(v),a)),a}function md(n,t,e){const s=Bu(n),a=n.value;En(s,(d,g)=>{md(d,a.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new ug(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function Ml(n){return"function"==typeof n}function yd(n){return n instanceof Xi||"EmptyError"===n?.name}const Hu=Symbol("INITIAL_VALUE");function vd(){return Rn(n=>va(n.map(t=>t.pipe(ln(1),function wa(...n){const t=(0,Qr.yG)(n);return(0,an.e)((e,s)=>{(t?Zs(n,e,t):Zs(n,e)).subscribe(s)})}(Hu)))).pipe((0,st.U)(t=>{for(const e of t)if(!0!==e){if(e===Hu)return Hu;if(!1===e||e instanceof ba)return e}return!0}),ei(t=>t!==Hu),ln(1)))}function pf(n){return(0,Ca.z)((0,me.b)(t=>{if(N(t))throw uf(0,t)}),(0,st.U)(t=>!0===t))}const Bn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function q_(n,t,e,s,a){const d=cg(n,t,e);return d.matched?function f0(n,t,e,s){const a=t.canMatch;return a&&0!==a.length?Ye(a.map(g=>{const v=Sl(g,n);return os(function TD(n){return n&&Ml(n.canMatch)}(v)?v.canMatch(t,e):n.runInContext(()=>v(t,e)))})).pipe(vd(),pf()):Ye(!0)}(s=pd(t,s),t,e).pipe((0,st.U)(g=>!0===g?d:{...Bn})):Ye(d)}function cg(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Bn}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||Ia)(e,n,t);if(!a)return{...Bn};const d={};En(a.posParams,(v,D)=>{d[D]=v.path});const g=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:g,positionalParamSegments:a.posParams??{}}}function ju(n,t,e,s,a="corrected"){if(e.length>0&&function g0(n,t,e){return e.some(s=>gf(n,t,s)&&Ri(s)!==wt)}(n,e,s)){const g=new kt(t,function p0(n,t,e,s){const a={};a[wt]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&Ri(d)!==wt){const g=new kt([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,a[Ri(d)]=g}return a}(n,t,s,new kt(e,n.children)));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function m0(n,t,e){return e.some(s=>gf(n,t,s))}(n,e,s)){const g=new kt(n.segments,function K_(n,t,e,s,a,d){const g={};for(const v of s)if(gf(n,e,v)&&!a[Ri(v)]){const D=new kt([],{});D._sourceSegment=n,D._segmentIndexShift="legacy"===d?n.segments.length:t.length,g[Ri(v)]=D}return{...a,...g}}(n,t,e,s,n.children,a));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const d=new kt(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function gf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Y_(n,t,e,s){return!!(Ri(n)===s||s!==wt&&gf(t,e,n))&&("**"===n.path||cg(t,n,e).matched)}function _0(n,t,e){return 0===t.length&&!n.children[e]}const dg=!1;class Na{constructor(t){this.segmentGroup=t||null}}class mf{constructor(t){this.urlTree=t}}function Wu(n){return ts(new Na(n))}function hg(n){return ts(new mf(n))}class X_{constructor(t,e,s,a,d){this.injector=t,this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=d,this.allowRedirects=!0}apply(){const t=ju(this.urlTree.root,[],[],this.config).segmentGroup,e=new kt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,wt).pipe((0,st.U)(d=>this.createUrlTree(E(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fe(d=>{if(d instanceof mf)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Na?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,wt).pipe((0,st.U)(a=>this.createUrlTree(E(a),t.queryParams,t.fragment))).pipe(Fe(a=>{throw a instanceof Na?this.noMatchError(a):a}))}noMatchError(t){return new c.vHH(4002,dg)}createUrlTree(t,e,s){const a=p(t);return new ba(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,st.U)(d=>new kt([],d))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const d of Object.keys(s.children))"primary"===d?a.unshift(d):a.push(d);return(0,nn.D)(a).pipe(se(d=>{const g=s.children[d],v=qo(e,d);return this.expandSegmentGroup(t,v,g,d).pipe((0,st.U)(D=>({segment:D,outlet:d})))}),gt((d,g)=>(d[g.outlet]=g.segment,d),{}),it())}expandSegment(t,e,s,a,d,g){return(0,nn.D)(s).pipe(se(v=>this.expandSegmentAgainstRoute(t,e,s,v,a,d,g).pipe(Fe(S=>{if(S instanceof Na)return Ye(null);throw S}))),q(v=>!!v),Fe((v,D)=>{if(yd(v))return _0(e,a,d)?Ye(new kt([],{})):Wu(e);throw v}))}expandSegmentAgainstRoute(t,e,s,a,d,g,v){return Y_(a,e,d,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,d,g):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g):Wu(e):Wu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?hg(d):this.lineralizeSegments(s,d).pipe((0,w.z)(g=>{const v=new kt(g,{});return this.expandSegment(t,v,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g){const{matched:v,consumedSegments:D,remainingSegments:S,positionalParamSegments:H}=cg(e,a,d);if(!v)return Wu(e);const U=this.applyRedirectCommands(D,a.redirectTo,H);return a.redirectTo.startsWith("/")?hg(U):this.lineralizeSegments(a,U).pipe((0,w.z)(J=>this.expandSegment(t,e,s,J.concat(S),g,!1)))}matchSegmentAgainstRoute(t,e,s,a,d){return"**"===s.path?(t=pd(s,t),s.loadChildren?(s._loadedRoutes?Ye({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(t,s)).pipe((0,st.U)(v=>(s._loadedRoutes=v.routes,s._loadedInjector=v.injector,new kt(a,{})))):Ye(new kt(a,{}))):q_(e,s,a,t).pipe(Rn(({matched:g,consumedSegments:v,remainingSegments:D})=>g?this.getChildConfig(t=s._injector??t,s,a).pipe((0,w.z)(H=>{const U=H.injector??t,J=H.routes,{segmentGroup:Ee,slicedSegments:Ve}=ju(e,v,D,J),dt=new kt(Ee.segments,Ee.children);if(0===Ve.length&&dt.hasChildren())return this.expandChildren(U,J,dt).pipe((0,st.U)(Hr=>new kt(v,Hr)));if(0===J.length&&0===Ve.length)return Ye(new kt(v,{}));const It=Ri(s)===d;return this.expandSegment(U,dt,J,Ve,It?wt:d,!0).pipe((0,st.U)(gn=>new kt(v.concat(gn.segments),gn.children)))})):Wu(e)))}getChildConfig(t,e,s){return e.children?Ye({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ye({routes:e._loadedRoutes,injector:e._loadedInjector}):function h0(n,t,e,s){const a=t.canLoad;return void 0===a||0===a.length?Ye(!0):Ye(a.map(g=>{const v=Sl(g,n);return os(function _d(n){return n&&Ml(n.canLoad)}(v)?v.canLoad(t,e):n.runInContext(()=>v(t,e)))})).pipe(vd(),pf())}(t,e,s).pipe((0,w.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,me.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function y0(n){return ts(hd(dg,3))}())):Ye({routes:[],injector:t})}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Ye(s);if(a.numberOfChildren>1||!a.children[wt])return ts(new c.vHH(4e3,dg));a=a.children[wt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreateUrlTree(t,e,s,a){const d=this.createSegmentGroup(t,e.root,s,a);return new ba(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return En(t,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[d]=e[v]}else s[d]=a}),s}createSegmentGroup(t,e,s,a){const d=this.createSegments(t,e.segments,s,a);let g={};return En(e.children,(v,D)=>{g[D]=this.createSegmentGroup(t,v,s,a)}),new kt(d,g)}createSegments(t,e,s,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new c.vHH(4001,dg);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}class v0{}class ty{constructor(t,e,s,a,d,g,v,D){this.injector=t,this.rootComponentType=e,this.config=s,this.urlTree=a,this.url=d,this.paramsInheritanceStrategy=g,this.relativeLinkResolution=v,this.urlSerializer=D}recognize(){const t=ju(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,wt).pipe((0,st.U)(e=>{if(null===e)return null;const s=new Tl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Mi(s,e),d=new ig(this.url,a);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,s=rg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.processChildren(t,e,s):this.processSegment(t,e,s,s.segments,a)}processChildren(t,e,s){return(0,nn.D)(Object.keys(s.children)).pipe(se(a=>{const d=s.children[a],g=qo(e,a);return this.processSegmentGroup(t,g,d,a)}),gt((a,d)=>a&&d?(a.push(...d),a):null),function Pn(n,t=!1){return(0,an.e)((e,s)=>{let a=0;e.subscribe((0,Mn.x)(s,d=>{const g=n(d,a++);(g||t)&&s.next(d),!g&&s.complete()}))})}(a=>null!==a),I(null),it(),(0,st.U)(a=>{if(null===a)return null;const d=Ed(a);return function Rl(n){n.sort((t,e)=>t.value.outlet===wt?-1:e.value.outlet===wt?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,s,a,d){return(0,nn.D)(e).pipe(se(g=>this.processSegmentAgainstRoute(g._injector??t,g,s,a,d)),q(g=>!!g),Fe(g=>{if(yd(g))return _0(s,a,d)?Ye([]):Ye(null);throw g}))}processSegmentAgainstRoute(t,e,s,a,d){if(e.redirectTo||!Y_(e,s,a,d))return Ye(null);let g;if("**"===e.path){const v=a.length>0?td(a).parameters:{},D=Cd(s)+a.length;g=Ye({snapshot:new Tl(a,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_g(e),Ri(e),e.component??e._loadedComponent??null,e,_f(s),D,yf(e),D),consumedSegments:[],remainingSegments:[]})}else g=q_(s,e,a,t).pipe((0,st.U)(({matched:v,consumedSegments:D,remainingSegments:S,parameters:H})=>{if(!v)return null;const U=Cd(s)+D.length;return{snapshot:new Tl(D,H,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_g(e),Ri(e),e.component??e._loadedComponent??null,e,_f(s),U,yf(e),U),consumedSegments:D,remainingSegments:S}}));return g.pipe(Rn(v=>{if(null===v)return Ye(null);const{snapshot:D,consumedSegments:S,remainingSegments:H}=v;t=e._injector??t;const U=e._loadedInjector??t,J=function E0(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Ee,slicedSegments:Ve}=ju(s,S,H,J.filter(It=>void 0===It.redirectTo),this.relativeLinkResolution);if(0===Ve.length&&Ee.hasChildren())return this.processChildren(U,J,Ee).pipe((0,st.U)(It=>null===It?null:[new Mi(D,It)]));if(0===J.length&&0===Ve.length)return Ye([new Mi(D,[])]);const dt=Ri(e)===d;return this.processSegment(U,J,Ee,Ve,dt?wt:d).pipe((0,st.U)(It=>null===It?null:[new Mi(D,It)]))}))}}function mg(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ed(n){const t=[],e=new Set;for(const s of n){if(!mg(s)){t.push(s);continue}const a=t.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=Ed(s.children);t.push(new Mi(s.value,a))}return t.filter(s=>!e.has(s))}function _f(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Cd(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function _g(n){return n.data||{}}function yf(n){return n.resolve||{}}function ry(n){return"string"==typeof n.title||null===n.title}function yg(n){return Rn(t=>{const e=n(t);return e?(0,nn.D)(e).pipe((0,st.U)(()=>t)):Ye(t)})}let vf=(()=>{class n{buildTitle(e){let s,a=e.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(d=>d.outlet===wt);return s}getResolvedTitleForRoute(e){return e.data[Qn]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(iy)},providedIn:"root"}),n})(),iy=(()=>{class n extends vf{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Kr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class A0{}class MD extends class sy{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Oa=new c.OlP("",{providedIn:"root",factory:()=>({})}),ka=new c.OlP("ROUTES");let Pl=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ye(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=os(e.loadComponent()).pipe((0,me.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),is(()=>{this.componentLoaders.delete(e)})),a=new rs(s,()=>new Jr.x).pipe(ns());return this.componentLoaders.set(e,a),a}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Ye({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const d=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,st.U)(v=>{this.onLoadEndListener&&this.onLoadEndListener(s);let D,S,H=!1;Array.isArray(v)?S=v:(D=v.create(e).injector,S=zh(D.get(ka,[],c.XFs.Self|c.XFs.Optional)));return{routes:S.map(lg),injector:D}}),is(()=>{this.childrenLoaders.delete(s)})),g=new rs(d,()=>new Jr.x).pipe(ns());return this.childrenLoaders.set(s,g),g}loadModuleFactoryOrRoutes(e){return os(e()).pipe((0,w.z)(s=>s instanceof c.YKP||Array.isArray(s)?Ye(s):(0,nn.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class M0{}class RD{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function R0(n){throw n}function P0(n,t,e){return t.parse("/")}const N0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ay={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ef(){const n=(0,c.f3M)(id),t=(0,c.f3M)(fd),e=(0,c.f3M)(Re),s=(0,c.f3M)(c.zs3),a=(0,c.f3M)(c.Sil),d=(0,c.f3M)(ka,{optional:!0})??[],g=(0,c.f3M)(Oa,{optional:!0})??{},v=(0,c.f3M)(iy),D=(0,c.f3M)(vf,{optional:!0}),S=(0,c.f3M)(M0,{optional:!0}),H=(0,c.f3M)(A0,{optional:!0}),U=new $n(null,n,t,e,s,a,zh(d));return S&&(U.urlHandlingStrategy=S),H&&(U.routeReuseStrategy=H),U.titleStrategy=D??v,function ly(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(g,U),U}let $n=(()=>{class n{constructor(e,s,a,d,g,v,D){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=d,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Jr.x,this.errorHandler=R0,this.malformedUriErrorHandler=P0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ye(void 0),this.urlHandlingStrategy=new RD,this.routeReuseStrategy=new MD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=g.get(Pl),this.configLoader.onLoadEndListener=J=>this.triggerEvent(new Jp(J)),this.configLoader.onLoadStartListener=J=>this.triggerEvent(new F_(J)),this.ngModule=g.get(c.h0i),this.console=g.get(c.c2e);const U=g.get(c.R0b);this.isNgZoneEnabled=U instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=function Zh(){return new ba(new kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ng(this.currentUrlTree,this.rootComponentType),this.transitions=new rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(ei(a=>0!==a.id),(0,st.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Rn(a=>{let d=!1,g=!1;return Ye(a).pipe((0,me.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Rn(v=>{const D=this.browserUrlTree.toString(),S=!this.navigated||v.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return Cf(v.source)&&(this.browserUrlTree=v.extractedUrl),Ye(v).pipe(Rn(U=>{const J=this.transitions.getValue();return s.next(new ud(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),J!==this.transitions.getValue()?nr.E:Promise.resolve(U)}),function fg(n,t,e,s){return Rn(a=>function J_(n,t,e,s,a){return new X_(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,st.U)(d=>({...a,urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,me.b)(U=>{this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects},a.urlAfterRedirects=U.urlAfterRedirects}),function w0(n,t,e,s,a,d){return(0,w.z)(g=>function ey(n,t,e,s,a,d,g="emptyOnly",v="legacy"){return new ty(n,t,e,s,a,g,v,d).recognize().pipe(Rn(D=>null===D?function gg(n){return new tr.y(t=>t.error(n))}(new v0):Ye(D)))}(n,t,e,g.urlAfterRedirects,s.serialize(g.urlAfterRedirects),s,a,d).pipe((0,st.U)(v=>({...g,targetSnapshot:v}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,me.b)(U=>{if(a.targetSnapshot=U.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const Ee=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(Ee,U)}this.browserUrlTree=U.urlAfterRedirects}const J=new $C(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);s.next(J)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:J,extractedUrl:Ee,source:Ve,restoredState:dt,extras:It}=v,Nn=new ud(J,this.serializeUrl(Ee),Ve,dt);s.next(Nn);const gn=ng(Ee,this.rootComponentType).snapshot;return Ye(a={...v,targetSnapshot:gn,urlAfterRedirects:Ee,extras:{...It,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=v.rawUrl,v.resolve(null),nr.E}),(0,me.b)(v=>{const D=new HC(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),(0,st.U)(v=>a={...v,guards:DD(v.targetSnapshot,v.currentSnapshot,this.rootContexts)}),function SD(n,t){return(0,w.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?Ye({...e,guardsResult:!0}):function z_(n,t,e,s){return(0,nn.D)(n).pipe((0,w.z)(a=>function ff(n,t,e,s,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?Ye(d.map(v=>{const D=Ko(t)??a,S=Sl(v,D);return os(function G_(n){return n&&Ml(n.canDeactivate)}(S)?S.canDeactivate(n,t,e,s):D.runInContext(()=>S(n,t,e,s))).pipe(q())})).pipe(vd()):Ye(!0)}(a.component,a.route,e,t,s)),q(a=>!0!==a,!0))}(g,s,a,n).pipe((0,w.z)(v=>v&&function Yo(n){return"boolean"==typeof n}(v)?function l0(n,t,e,s){return(0,nn.D)(t).pipe(se(a=>Zs(function c0(n,t){return null!==n&&t&&t(new WC(n)),Ye(!0)}(a.route.parent,s),function u0(n,t){return null!==n&&t&&t(new L_(n)),Ye(!0)}(a.route,s),function Z_(n,t,e){const s=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(g=>function bD(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Lr(()=>Ye(g.guards.map(D=>{const S=Ko(g.node)??e,H=Sl(D,S);return os(function W_(n){return n&&Ml(n.canActivateChild)}(H)?H.canActivateChild(s,n):S.runInContext(()=>H(s,n))).pipe(q())})).pipe(vd())));return Ye(d).pipe(vd())}(n,a.path,e),function d0(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return Ye(!0);const a=s.map(d=>Lr(()=>{const g=Ko(t)??e,v=Sl(d,g);return os(function j_(n){return n&&Ml(n.canActivate)}(v)?v.canActivate(t,n):g.runInContext(()=>v(t,n))).pipe(q())}));return Ye(a).pipe(vd())}(n,a.route,e))),q(a=>!0!==a,!0))}(s,d,n,t):Ye(v)),(0,st.U)(v=>({...e,guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,me.b)(v=>{if(a.guardsResult=v.guardsResult,N(v.guardsResult))throw uf(0,v.guardsResult);const D=new jC(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(D)}),ei(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",3),!1)),yg(v=>{if(v.guards.canActivateChecks.length)return Ye(v).pipe((0,me.b)(D=>{const S=new k_(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}),Rn(D=>{let S=!1;return Ye(D).pipe(function I0(n,t){return(0,w.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return Ye(e);let d=0;return(0,nn.D)(a).pipe(se(g=>function ny(n,t,e,s){const a=n.routeConfig,d=n._resolve;return void 0!==a?.title&&!ry(a)&&(d[Qn]=a.title),function Gu(n,t,e,s){const a=function D0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return Ye({});const d={};return(0,nn.D)(a).pipe((0,w.z)(g=>function b0(n,t,e,s){const a=Ko(t)??s,d=Sl(n,a);return os(d.resolve?d.resolve(t,e):a.runInContext(()=>d(t,e)))}(n[g],t,e,s).pipe(q(),(0,me.b)(v=>{d[g]=v}))),Et(1),function rr(n){return(0,st.U)(()=>n)}(d),Fe(g=>yd(g)?nr.E:ts(g)))}(d,n,t,s).pipe((0,st.U)(g=>(n._resolvedData=g,n.data=rg(n,e).resolve,a&&ry(a)&&(n.data[Qn]=a.title),null)))}(g.route,s,n,t)),(0,me.b)(()=>d++),Et(1),(0,w.z)(g=>d===a.length?Ye(e):nr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,me.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(D),this.cancelNavigationTransition(D,"",2))}}))}),(0,me.b)(D=>{const S=new Qp(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}))}),yg(v=>{const D=S=>{const H=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&H.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,me.b)(U=>{S.component=U}),(0,st.U)(()=>{})));for(const U of S.children)H.push(...D(U));return H};return va(D(v.targetSnapshot.root)).pipe(I(),ln(1))}),yg(()=>this.afterPreactivation()),(0,st.U)(v=>{const D=function zC(n,t,e){const s=$u(n,t._root,e?e._root:void 0);return new tg(s,t)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return a={...v,targetRouterState:D}}),(0,me.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,t,e)=>(0,st.U)(s=>(new ID(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,me.b)({next(){d=!0},complete(){d=!0}}),is(()=>{d||g||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Fe(v=>{if(g=!0,Pa(v)){cf(v)||(this.navigated=!0,this.restoreHistory(a,!0));const D=new rf(a.id,this.serializeUrl(a.extractedUrl),v.message,v.cancellationCode);if(s.next(D),cf(v)){const S=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),H={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cf(a.source)};this.scheduleNavigation(S,"imperative",null,H,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const D=new O_(a.id,this.serializeUrl(a.extractedUrl),v,a.targetSnapshot??void 0);s.next(D);try{a.resolve(this.errorHandler(v))}catch(S){a.reject(S)}}return nr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{const a={replaceUrl:!0},d=e.state?.navigationId?e.state:null;if(d){const v={...d};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(a.state=v)}const g=this.parseUrl(e.url);this.scheduleNavigation(g,s,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(lg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:d,fragment:g,queryParamsHandling:v,preserveFragment:D}=s,S=a||this.routerState.root,H=D?this.currentUrlTree.fragment:g;let U=null;switch(v){case"merge":U={...this.currentUrlTree.queryParams,...d};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=d||null}return null!==U&&(U=this.removeEmptyProps(U)),St(S,this.currentUrlTree,e,U,H??null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=N(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function x0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new c.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?{...N0}:!1===s?{...ay}:s,N(e))return jp(this.currentUrlTree,e,a);const d=this.parseUrl(e);return jp(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const d=e[a];return null!=d&&(s[a]=d),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new bl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,d,g){if(this.disposed)return Promise.resolve(!1);let v,D,S;g?(v=g.resolve,D=g.reject,S=g.promise):S=new Promise((J,Ee)=>{v=J,D=Ee});const H=++this.navigationId;let U;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),U=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):U=0,this.setTransition({id:H,targetPageId:U,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:v,reject:D,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(J=>Promise.reject(J))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),d={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s,a){const d=new rf(e.id,this.serializeUrl(e.extractedUrl),s,a);this.triggerEvent(d),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return Ef()},providedIn:"root"}),n})();function Cf(n){return"imperative"!==n}let Fa=(()=>{class n{constructor(e,s,a,d,g){this.router=e,this.route=s,this.tabIndexAttribute=a,this.renderer=d,this.el=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Jr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const s=this.renderer,a=this.el.nativeElement;null!==e?s.setAttribute(a,"tabindex",e):s.removeAttribute(a,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($n),c.Y36(Zo),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&c.NdJ("click",function(){return s.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),wf=(()=>{class n{constructor(e,s,a){this.router=e,this.route=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Jr.x,this.subscription=e.events.subscribe(d=>{d instanceof bl&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,a,d,g){return!!(0!==e||s||a||d||g||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($n),c.Y36(Zo),c.Y36(ge))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&c.NdJ("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&c.uIk("target",s.target)("href",s.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class uy{}let F0=(()=>{class n{constructor(e,s,a,d,g){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(ei(e=>e instanceof bl),se(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const d of s){d.providers&&!d._injector&&(d._injector=(0,c.MMx)(d.providers,e,`Route: ${d.path}`));const g=d._injector??e,v=d._loadedInjector??g;d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent?a.push(this.preloadConfig(g,d)):(d.children||d._loadedRoutes)&&a.push(this.processRoutes(v,d.children??d._loadedRoutes))}return(0,nn.D)(a).pipe((0,zs.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):Ye(null);const d=a.pipe((0,w.z)(g=>null===g?Ye(void 0):(s._loadedRoutes=g.routes,s._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(s.loadComponent&&!s._loadedComponent){const g=this.loader.loadComponent(s);return(0,nn.D)([d,g]).pipe((0,zs.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($n),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(uy),c.LFG(Pl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const La=new c.OlP("");let Ys=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ud?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ra&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new Ra(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Id(n,t){return{\u0275kind:n,\u0275providers:t}}function Df(n){return[{provide:ka,multi:!0,useValue:n}]}function vg(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const s=n.get($n),a=n.get(V0);1===n.get(bf)&&s.initialNavigation(),n.get(dy,null,c.XFs.Optional)?.setUpPreloading(),n.get(La,null,c.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const V0=new c.OlP("",{factory:()=>new Jr.x}),bf=new c.OlP("",{providedIn:"root",factory:()=>1});const dy=new c.OlP("");function as(n){return Id(0,[{provide:dy,useExisting:F0},{provide:uy,useExisting:n}])}const hy=new c.OlP("ROUTER_FORROOT_GUARD"),$0=[Re,{provide:id,useClass:$o},{provide:$n,useFactory:Ef},fd,{provide:Zo,useFactory:function L0(n){return n.routerState.root},deps:[$n]},Pl];function H0(){return new c.PXZ("Router",$n)}let Eg=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[$0,[],Df(e),{provide:hy,useFactory:bt,deps:[[$n,new c.FiY,new c.tp0]]},{provide:Oa,useValue:s||{}},s?.useHash?{provide:ge,useClass:$e}:{provide:ge,useClass:je},{provide:La,useFactory:()=>{const n=(0,c.f3M)($n),t=(0,c.f3M)(gu),e=(0,c.f3M)(Oa);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Ys(n,t,e)}},s?.preloadingStrategy?as(s.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:H0},s?.initialNavigation?fy(s):[],[{provide:Cg,useFactory:vg},{provide:c.tb,multi:!0,useExisting:Cg}]]}}static forChild(e){return{ngModule:n,providers:[Df(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hy,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[df]}),n})();function bt(n){return"guarded"}function fy(n){return["disabled"===n.initialNavigation?Id(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)($n);return()=>{t.setUpLocationChangeListener()}}},{provide:bf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Id(2,[{provide:bf,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(G,Promise.resolve());let s=!1;return()=>e.then(()=>new Promise(d=>{const g=t.get($n),v=t.get(V0);(function a(d){t.get($n).events.pipe(ei(v=>v instanceof bl||v instanceof rf||v instanceof O_),(0,st.U)(v=>v instanceof bl||v instanceof rf&&(0===v.code||1===v.code)&&null),ei(v=>null!==v),ln(1)).subscribe(()=>{d()})})(()=>{d(!0),s=!0}),g.afterPreactivation=()=>(d(!0),s||v.closed?Ye(void 0):v),g.initialNavigation()}))}}]).\u0275providers:[]]}const Cg=new c.OlP("");let z0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:12,vars:0,consts:[[1,"page-header","section-dark",2,"background-image","url('./assets/img/antoine-barres.jpg')"],[1,"filter"],[1,"content-center"],[1,"container"],[1,"title-brand"],[1,"presentation-title"],[1,"fog-low"],["src","./assets/img/fog-low.png","alt",""],[1,"fog-low","right"],[1,"moving-clouds",2,"background-image","url('./assets/img/clouds.png')"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),c._uU(6,"IC TECH LAB"),c.qZA(),c.TgZ(7,"div",6),c._UZ(8,"img",7),c.qZA(),c.TgZ(9,"div",8),c._UZ(10,"img",7),c.qZA()()()(),c._UZ(11,"div",9),c.qZA())}}),n})(),my=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Va=(()=>{class n extends my{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(n)))(s||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Qs=new c.OlP("NgValueAccessor"),_y={provide:Qs,useExisting:(0,c.Gpc)(()=>zu),multi:!0},Nl=new c.OlP("CompositionEventMode");let zu=(()=>{class n extends my{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yy(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Nl,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&c.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[c._Bn([_y]),c.qOj]}),n})();function Js(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function vy(n){return null!=n&&"number"==typeof n.length}const Ur=new c.OlP("NgValidators"),xl=new c.OlP("NgAsyncValidators"),LD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hn{static min(t){return function Ig(n){return t=>{if(Js(t.value)||Js(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function K0(n){return t=>{if(Js(t.value)||Js(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function Ey(n){return Js(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Ol(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Cy(n){return Js(n.value)||LD.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Dg(n){return t=>Js(t.value)||!vy(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function bd(n){return t=>vy(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function wy(n){if(!n)return Td;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),s=>{if(Js(s.value))return null;const a=s.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(t)}static nullValidator(t){return null}static compose(t){return Ay(t)}static composeAsync(t){return Tg(t)}}function Td(n){return null}function Iy(n){return null!=n}function Dy(n){return(0,c.QGY)(n)?(0,nn.D)(n):n}function by(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Ty(n,t){return t.map(e=>e(n))}function bg(n){return n.map(t=>function Y0(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ay(n){if(!n)return null;const t=n.filter(Iy);return 0==t.length?null:function(e){return by(Ty(e,t))}}function Tf(n){return null!=n?Ay(bg(n)):null}function Tg(n){if(!n)return null;const t=n.filter(Iy);return 0==t.length?null:function(e){return function gy(...n){const t=(0,Qr.jO)(n),{args:e,keys:s}=Ii(n),a=new tr.y(d=>{const{length:g}=e;if(!g)return void d.complete();const v=new Array(g);let D=g,S=g;for(let H=0;H<g;H++){let U=!1;(0,bi.Xf)(e[H]).subscribe((0,Mn.x)(d,J=>{U||(U=!0,S--),v[H]=J},()=>D--,void 0,()=>{(!D||!U)&&(S||d.next(s?Vo(s,v):v),d.complete())}))}});return t?a.pipe(ya(t)):a}(Ty(e,t).map(Dy)).pipe((0,st.U)(by))}}function Ad(n){return null!=n?Tg(bg(n)):null}function Q0(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Af(n){return n._rawValidators}function Sy(n){return n._rawAsyncValidators}function My(n){return n?Array.isArray(n)?n:[n]:[]}function Qo(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ag(n,t){const e=My(t);return My(n).forEach(a=>{Qo(e,a)||e.push(a)}),e}function Sg(n,t){return My(t).filter(e=>!Qo(n,e))}class Sd{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Tf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ad(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cn extends Sd{get formDirective(){return null}get path(){return null}}class Jo extends Sd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ry{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zu=(()=>{class n extends Ry{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Jo,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&c.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[c.qOj]}),n})(),Sf=(()=>{class n extends Ry{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Cn,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&c.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[c.qOj]}),n})();const qu="VALID",Rd="INVALID",Ku="PENDING",kl="DISABLED";function By(n){return(Pg(n)?n.validators:n)||null}function ew(n){return Array.isArray(n)?Tf(n):n||null}function $y(n,t){return(Pg(t)?t.asyncValidators:n)||null}function tw(n){return Array.isArray(n)?Ad(n):n||null}function Pg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function nw(n,t,e){const s=n.controls;if(!(t?Object.keys(s):s).length)throw new c.vHH(1e3,"");if(!s[e])throw new c.vHH(1001,"")}function rw(n,t,e){n._forEachChild((s,a)=>{if(void 0===e[a])throw new c.vHH(1002,"")})}class Ng{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ew(this._rawValidators),this._composedAsyncValidatorFn=tw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===qu}get invalid(){return this.status===Rd}get pending(){return this.status==Ku}get disabled(){return this.status===kl}get enabled(){return this.status!==kl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ew(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=tw(t)}addValidators(t){this.setValidators(Ag(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ag(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Sg(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Sg(t,this._rawAsyncValidators))}hasValidator(t){return Qo(this._rawValidators,t)}hasAsyncValidator(t){return Qo(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ku,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kl,this.errors=null,this._forEachChild(s=>{s.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qu,this._forEachChild(s=>{s.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qu||this.status===Ku)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kl:qu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ku,this._hasOwnPendingAsyncValidator=!0;const e=Dy(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((s,a)=>s&&s._find(a),this)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?kl:this.errors?Rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ku)?Ku:this._anyControlsHaveStatus(Rd)?Rd:qu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Pg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Rf extends Ng{constructor(t,e,s){super(By(e),$y(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){rw(this,0,t),Object.keys(t).forEach(s=>{nw(this,!0,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{const a=this.controls[s];a&&a.patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,s]of Object.entries(this.controls))if(this.contains(e)&&t(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,s,a)=>((s.enabled||this.disabled)&&(e[a]=s.value),e))}_reduceChildren(t,e){let s=t;return this._forEachChild((a,d)=>{s=e(s,a,d)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Pf extends Rf{}function Pd(n,t){return[...t.path,n]}function Ll(n,t){Xs(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function sw(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xg(n,t)})}(n,t),function aw(n,t){const e=(s,a)=>{t.valueAccessor.writeValue(s),a&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function ow(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xg(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function iw(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Nd(n,t,e=!0){const s=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(s),t.valueAccessor.registerOnTouched(s)),xd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Yu(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Xs(n,t){const e=Af(n);null!==t.validator?n.setValidators(Q0(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=Sy(n);null!==t.asyncValidator?n.setAsyncValidators(Q0(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();Yu(t._rawValidators,a),Yu(t._rawAsyncValidators,a)}function xd(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=Af(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(g=>g!==t.validator);d.length!==a.length&&(e=!0,n.setValidators(d))}}if(null!==t.asyncValidator){const a=Sy(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(g=>g!==t.asyncValidator);d.length!==a.length&&(e=!0,n.setAsyncValidators(d))}}}const s=()=>{};return Yu(t._rawValidators,s),Yu(t._rawAsyncValidators,s),e}function xg(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qu(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function kd(n,t){if(!t)return null;let e,s,a;return Array.isArray(t),t.forEach(d=>{d.constructor===zu?e=d:function Wy(n){return Object.getPrototypeOf(n.constructor)===Va}(d)?s=d:a=d}),a||s||e||null}function zy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Vg(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fi=class extends Ng{constructor(t=null,e,s){super(By(e),$y(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Vg(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Vg(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Ky={provide:Jo,useExisting:(0,c.Gpc)(()=>Ug)},Yy=(()=>Promise.resolve())();let Ug=(()=>{class n extends Jo{constructor(e,s,a,d,g){super(),this._changeDetectorRef=g,this.control=new fi,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=kd(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const s=e.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Qu(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ll(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Yy.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=0!==s&&(0,c.D6c)(s);Yy.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Pd(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Cn,9),c.Y36(Ur,10),c.Y36(xl,10),c.Y36(Qs,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Ky]),c.qOj,c.TTD]}),n})(),Bg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ev=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ld=new c.OlP("NgModelWithFormControlWarning"),WD={provide:Cn,useExisting:(0,c.Gpc)(()=>Ju)};let Ju=(()=>{class n extends Cn{constructor(e,s){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return Ll(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){Nd(e.control||null,e,!1),function Fg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,function kg(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,a=this.form.get(e.path);s!==a&&(Nd(s||null,e),(n=>n instanceof fi)(a)&&(Ll(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);(function Hy(n,t){Xs(n,t)})(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function Nf(n,t){return xd(n,t)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xs(this.form,this),this._oldForm&&xd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ur,10),c.Y36(xl,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&c.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([WD]),c.qOj,c.TTD]}),n})();const mw={provide:Jo,useExisting:(0,c.Gpc)(()=>Ul)};let Ul=(()=>{class n extends Jo{constructor(e,s,a,d,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=kd(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Qu(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Pd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(Cn,13),c.Y36(Ur,10),c.Y36(xl,10),c.Y36(Qs,10),c.Y36(Ld,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([mw]),c.qOj,c.TTD]}),n})(),dv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ev]}),n})(),bw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[dv]}),n})(),hv=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ld,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[dv]}),n})();class fv extends Ng{constructor(t,e,s){super(By(e),$y(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,s={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,e={}){let s=this._adjustIndex(t);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,s={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),e&&(this.controls.splice(a,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){rw(this,0,t),t.forEach((s,a)=>{nw(this,!1,a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Tw(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let ec=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,s=null){const a=this._reduceControls(e);let d={};return Tw(s)?d=s:null!==s&&(d.validators=s.validator,d.asyncValidators=s.asyncValidator),new Rf(a,d)}record(e,s=null){const a=this._reduceControls(e);return new Pf(a,s)}control(e,s,a){let d={};return this.useNonNullable?(Tw(s)?d=s:(d.validators=s,d.asyncValidators=a),new fi(e,{...d,nonNullable:!0})):new fi(e,s,a)}array(e,s,a){const d=e.map(g=>this._createControl(g));return new fv(d,s,a)}_reduceControls(e){const s={};return Object.keys(e).forEach(a=>{s[a]=this._createControl(e[a])}),s}_createControl(e){return e instanceof fi||e instanceof Ng?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:hv}),n})();var Ba=x(127);const pi_firebase={projectId:"the-project-be0ce",appId:"1:717332156551:web:ff7cb9d83dda008fcd2822",storageBucket:"the-project-be0ce.appspot.com",apiKey:"AIzaSyDWM-gY_VAzJiNuBV1pIoR-QKxyKf3CnNc",authDomain:"the-project-be0ce.firebaseapp.com",messagingSenderId:"717332156551"};let Bl=(()=>{class n{constructor(){this.fireApp2=Ba.Z.initializeApp(pi_firebase,"tempApp")}CreateNewUser(e,s){return new Promise((a,d)=>{this.fireApp2.auth().createUserWithEmailAndPassword(e,s).then(()=>{a(!0)},g=>{d(g)})})}SignInUser(e,s){return new Promise((a,d)=>{Ba.Z.auth().signInWithEmailAndPassword(e,s).then(()=>{a(!0),console.log("resolve")},g=>{d(g),console.log("reject")})})}SignOutUser(){Ba.Z.auth().signOut()}IsConnected(){return new Promise((e,s)=>{Ba.Z.auth().onAuthStateChanged(a=>{a?e(!0):s("offline")})})}Auth(){return Ba.Z.auth()}CurrentUserEmail(){return Ba.Z.auth().currentUser?.email}ResetPassword(e){return new Promise((s,a)=>{Ba.Z.auth().sendPasswordResetEmail(e).then(()=>{s(!0)},d=>{a(d)})})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ar(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"Email is required"),c.qZA())}function $l(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"Email is invalid"),c.qZA())}function kf(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,Ar,2,0,"small",23),c.YNc(2,$l,2,0,"small",23),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.email.errors.required),c.xp6(1),c.Q6J("ngIf",e.email.errors.email)}}function Ni(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"password is required"),c.qZA())}function Kg(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"password must be 6 characters at least"),c.qZA())}function tc(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,Ni,2,0,"small",23),c.YNc(2,Kg,2,0,"small",23),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",null==e.password.errors?null:e.password.errors.required),c.xp6(1),c.Q6J("ngIf",null==e.password.errors?null:e.password.errors.minlength)}}let nc=(()=>{class n{constructor(e,s,a){this.fb=e,this.authservice=s,this.router=a}ngOnInit(){this.initForm()}initForm(){this.loginForm=this.fb.group({email:new fi("",[Hn.required,Hn.email]),password:new fi("",[Hn.required,Hn.minLength(6)])})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}login(){const e=this.loginForm.get("email").value,s=this.loginForm.get("password").value;console.log(e+s),this.authservice.SignInUser(e,s).then(()=>{this.router.navigate(["/messaging"])},a=>{this.errorMessage=a,console.log(this.errorMessage)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ec),c.Y36(Bl),c.Y36($n))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:4,consts:[[1,"section","section-image","section-login",2,"background-image","url('./assets/img/login-image.jpg')"],[1,"user",3,"formGroup","ngSubmit"],[1,"container"],[1,"row"],[1,"col-lg-4","col-md-6","mx-auto"],[1,"card","card-register"],[1,"title","mx-auto"],[1,"register-form",3,"formGroup"],[1,"input-group","form-group-no-border"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"nc-icon","nc-email-85"],[1,"form-group"],["type","email","formControlName","email","id","exampleInputEmail","placeholder","Enter Email Address...",1,"form-control"],[4,"ngIf"],[1,"nc-icon","nc-key-25"],["type","password","formControlName","password","id","exampleInputPassword","placeholder","Password",1,"form-control","form-control-user"],[1,"btn","btn-danger","btn-block","btn-round",3,"click"],["routerLink","/register",1,"btn","btn-danger","btn-block","btn-round"],[1,"forgot"],["routerLink","/forgotpass",1,"btn","btn-link","btn-danger"],[1,"col","text-center"],["target","_blank",1,"btn","btn-outline-neutral","btn-round","btn-lg"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0)(1,"form",1),c.NdJ("ngSubmit",function(){return s.login()}),c.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),c._uU(7,"Welcome"),c.qZA(),c.TgZ(8,"form",7)(9,"label"),c._uU(10,"Email"),c.qZA(),c.TgZ(11,"div",8)(12,"div",9)(13,"span",10),c._UZ(14,"i",11),c.qZA()(),c.TgZ(15,"div",12),c._UZ(16,"input",13),c.YNc(17,kf,3,2,"div",14),c.qZA()(),c.TgZ(18,"label"),c._uU(19,"Password"),c.qZA(),c.TgZ(20,"div",8)(21,"div",9)(22,"span",10),c._UZ(23,"i",15),c.qZA()(),c.TgZ(24,"div",12),c._UZ(25,"input",16),c.YNc(26,tc,3,2,"div",14),c.qZA()(),c.TgZ(27,"button",17),c.NdJ("click",function(){return s.login()}),c._uU(28,"Login"),c.qZA(),c.TgZ(29,"button",18),c._uU(30,"Register"),c.qZA()(),c.TgZ(31,"div",19)(32,"a",20),c._uU(33,"Forgot password?"),c.qZA()()(),c.TgZ(34,"div",21)(35,"a",22),c._uU(36,"View Register Page"),c.qZA()()()()()()()),2&e&&(c.xp6(1),c.Q6J("formGroup",s.loginForm),c.xp6(7),c.Q6J("formGroup",s.loginForm),c.xp6(9),c.Q6J("ngIf",s.email.touched&&s.email.invalid),c.xp6(9),c.Q6J("ngIf",s.password.touched&&s.password.invalid))},dependencies:[Sn,Fa,wf,Bg,zu,Zu,Sf,Ju,Ul],styles:[".input-group-text[_ngcontent-%COMP%]{height:38px}.input-group[_ngcontent-%COMP%]{flex-direction:row}"]}),n})();var ni=x(5861),rc=x(4986),$a=x(6451),Hl=x(3099);function sc(n,t){return n===t}var oc=x(5032),dn=x(5813),xi=x(2011),_v=(x(5881),x(3942)),Ha=x(4859),eo=x(9681),F=x(2090),Ff=x(1877);const yv="@firebase/database",Yg="0.13.10";let Qg="";function vv(n){Qg=n}class Jg{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Xg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Ev=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Jg(t)}}catch{}return new Xg},to=Ev("localStorage"),ac=Ev("sessionStorage"),ja=new Ff.Yd("@firebase/database"),Cv=function(){let n=1;return function(){return n++}}(),Lf=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const s=e.digest();return F.US.encodeByteArray(s)},jl=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=jl.apply(null,s):t+="object"==typeof s?(0,F.Wl)(s):s,t+=" "}return t};let Wa=null,wv=!0;const Vf=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ja.logLevel=Ff.in.VERBOSE,Wa=ja.log.bind(ja),t&&ac.set("logging_enabled",!0)):"function"==typeof n?Wa=n:(Wa=null,ac.remove("logging_enabled"))},ir=function(...n){if(!0===wv&&(wv=!1,null===Wa&&!0===ac.get("logging_enabled")&&Vf(!0)),Wa){const t=jl.apply(null,n);Wa(t)}},lc=function(n){return function(...t){ir(n,...t)}},Gd=function(...n){const t="FIREBASE INTERNAL ERROR: "+jl(...n);ja.error(t)},cs=function(...n){const t=`FIREBASE FATAL ERROR: ${jl(...n)}`;throw ja.error(t),new Error(t)},Sr=function(...n){const t="FIREBASE WARNING: "+jl(...n);ja.warn(t)},zd=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},no="[MIN_NAME]",ro="[MAX_NAME]",Wl=function(n,t){if(n===t)return 0;if(n===no||t===ro)return-1;if(t===no||n===ro)return 1;{const e=Uf(n),s=Uf(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},Sw=function(n,t){return n===t?0:n<t?-1:1},uc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(t))},Zd=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,F.Wl)(t[s]),e+=":",e+=Zd(n[t[s]]);return e+="}",e},em=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function sr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const tm=function(n){(0,F.hu)(!zd(n),"Invalid JSON number");const s=1023;let a,d,g,v,D;0===n?(d=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(v=Math.min(Math.floor(Math.log(n)/Math.LN2),s),d=v+s,g=Math.round(n*Math.pow(2,52-v)-Math.pow(2,52))):(d=0,g=Math.round(n/Math.pow(2,-1074))));const S=[];for(D=52;D;D-=1)S.push(g%2?1:0),g=Math.floor(g/2);for(D=11;D;D-=1)S.push(d%2?1:0),d=Math.floor(d/2);S.push(a?1:0),S.reverse();const H=S.join("");let U="";for(D=0;D<64;D+=8){let J=parseInt(H.substr(D,8),2).toString(16);1===J.length&&(J="0"+J),U+=J}return U.toLowerCase()},Sv=new RegExp("^-?(0*)\\d{1,10}$"),nm=-2147483648,Mv=2147483647,Uf=function(n){if(Sv.test(n)){const t=Number(n);if(t>=nm&&t<=Mv)return t}return null},cc=function(n){try{n()}catch(t){setTimeout(()=>{throw Sr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},qd=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class or{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Sr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Pv{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ir("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Sr(t)}}let Kd=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Gl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kv="websocket",om="long_polling";class Fv{constructor(t,e,s,a,d=!1,g="",v=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=g,this.includeNamespaceInQueryParams=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=to.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&to.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Hf(n,t,e){let s;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===kv)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==om)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Lv(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return sr(e,(d,g)=>{a.push(d+"="+g)}),s+a.join("&")}class io{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const am={},lm={};function Oi(n){const t=n.toString();return am[t]||(am[t]=new io),am[t]}class hs{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&cc(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class so{constructor(t,e,s,a,d,g,v){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=d,this.transportSessionId=g,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lc(t),this.stats_=Oi(e),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),Hf(e,om,D))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new hs(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jd((...d)=>{const[g,v,D,S,H]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=v,this.password=D;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[g,v]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(g,v)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Gl.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){so.forceAllow_=!0}static forceDisallow(){so.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!so.forceAllow_&&(so.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,F.h$)(e),a=em(s,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Jd{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Cv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Jd.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(v){ir("frame writing exception"),v.stack&&ir(v.stack),ir(v)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ir("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{ir("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let Xd=null;typeof MozWebSocket<"u"?Xd=MozWebSocket:typeof WebSocket<"u"&&(Xd=WebSocket);let zl=(()=>{class n{constructor(e,s,a,d,g,v,D){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lc(this.connId),this.stats_=Oi(s),this.connURL=n.connectionURL_(s,v,D,d,a),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,d,g){const v={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&Gl.test(location.hostname)&&(v.r="f"),s&&(v.s=s),a&&(v.ls=a),d&&(v.ac=d),g&&(v.p=g),Hf(e,kv,v)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,to.set("previous_websocket_failure",!0);try{let a;if((0,F.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Qg}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,v=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;v&&(a.proxy={origin:v})}this.mySock=new Xd(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Xd&&!n.forceDisallow_}static previouslyFailed(){return to.isInMemoryStorage||!0===to.get("previous_websocket_failure")}markConnectionHealthy(){to.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,F.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,F.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=em(s,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),dm=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[so,zl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=zl&&zl.isAvailable();let a=s&&!zl.previouslyFailed();if(e.webSocketOnly&&(s||Sr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[zl];else{const d=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&d.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class nE{constructor(t,e,s,a,d,g,v,D,S,H){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=g,this.onReady_=v,this.onDisconnect_=D,this.onKill_=S,this.lastSessionId=H,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lc("c:"+this.id+":"),this.transportManager_=new dm(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=qd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=uc("t",t),s=uc("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=uc("t",t),s=uc("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=uc("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?Gd("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gd("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Sr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),qd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(to.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class rE{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class iE{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!s||s===a[d].context))return void a.splice(d,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Wf extends iE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Wf}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Kt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Bt(){return new Kt("")}function Nt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ea(n){return n.pieces_.length-n.pieceNum_}function un(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Kt(n.pieces_,t)}function Gf(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function dc(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function fm(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Kt(t,0)}function wn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof Kt)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new Kt(e,0)}function xt(n){return n.pieceNum_>=n.pieces_.length}function Mr(n,t){const e=Nt(n),s=Nt(t);if(null===e)return t;if(e===s)return Mr(un(n),un(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Zl(n,t){const e=dc(n,0),s=dc(t,0);for(let a=0;a<e.length&&a<s.length;a++){const d=Wl(e[a],s[a]);if(0!==d)return d}return e.length===s.length?0:e.length<s.length?-1:1}function pm(n,t){if(ea(n)!==ea(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function ki(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(ea(n)>ea(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class hc{constructor(t,e){this.errorPrefix_=e,this.parts_=dc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,F.ug)(this.parts_[s]);Vw(this)}}function Vw(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ga(n))}function Ga(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class zf extends iE{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new zf}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Zf=1e3;let mm,oo=(()=>{class n extends rE{constructor(e,s,a,d,g,v,D,S){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=v,this.appCheckTokenProvider_=D,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=lc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Wf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const d=++this.requestNumber_,g={r:d,a:e,b:s};this.log_((0,F.Wl)(g)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const s=new F.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:v=>{const D=v.d;"ok"===v.s?s.resolve(D):s.reject(D)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,a,d){this.initConnection_();const g=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+g),this.listens.has(v)||this.listens.set(v,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(v).has(g),"listen() called twice for same path/queryId.");const D={onComplete:d,hashFn:s,query:e,tag:a};this.listens.get(v).set(g,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),d=s._queryIdentifier;this.log_("Listen on "+a+" for "+d);const g={p:a};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,D=>{const S=D.d,H=D.s;n.warnOnListenWarnings_(S,s),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",D),"ok"!==H&&this.removeListen_(a,d),e.onComplete&&e.onComplete(H,S))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();Sr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,d=>{const g=d.s,v=d.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,s)}sendUnlisten_(e,s,a,d){this.log_("Unlisten on "+e+" for "+s);const g={p:e};d&&(g.q=a,g.t=d),this.sendRequest("n",g)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,d){const g={p:s,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,v=>{d&&setTimeout(()=>{d(v.s,v.d)},Math.floor(0))})}put(e,s,a,d){this.putInternal("p",e,s,a,d)}merge(e,s,a,d){this.putInternal("m",e,s,a,d)}putInternal(e,s,a,d,g){this.initConnection_();const v={p:s,d:a};void 0!==g&&(v.h=g),this.outstandingPuts_.push({action:e,request:v,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):Gd("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ni.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,v=e.lastSessionId;let D=!1,S=null;const H=function(){S?S.close():(D=!0,d())};e.realtime_={close:H,sendRequest:function(Ee){(0,F.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(Ee)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Ee,Ve]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);D?ir("getToken() completed but was canceled"):(ir("getToken() completed. Creating connection."),e.authToken_=Ee&&Ee.accessToken,e.appCheckToken_=Ve&&Ve.token,S=new nE(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,d,dt=>{Sr(dt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(Ee){e.log_("Failed to get token: "+Ee),D||(e.repoInfo_.nodeAdmin&&Sr(Ee),H())}}})()}interrupt(e){ir("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ir("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Zf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(g=>Zd(g)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,s){const a=new Kt(e).toString();let d;if(this.listens.has(a)){const g=this.listens.get(a);d=g.get(s),g.delete(s),0===g.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,s){ir("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){ir("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,F.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Qg.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Wf.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Rt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Rt(t,e)}}class In{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new Rt(no,t),a=new Rt(no,e);return 0!==this.compare(s,a)}minPost(){return Rt.MIN}}class _m extends In{static get __EMPTY_NODE(){return mm}static set __EMPTY_NODE(t){mm=t}compare(t,e){return Wl(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(ro,mm)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Rt(t,mm)}toString(){return".key"}}const fs=new _m;class qf{constructor(t,e,s,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(g=e?s(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let vm,Fi=(()=>{class n{constructor(e,s,a,d,g){this.key=e,this.value=s,this.color=a??n.RED,this.left=d??Br.EMPTY_NODE,this.right=g??Br.EMPTY_NODE}copy(e,s,a,d,g){return new n(e??this.key,s??this.value,a??this.color,d??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let d=this;const g=a(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,s,a),null):0===g?d.copy(null,s,null,null,null):d.copy(null,null,null,null,d.right.insert(e,s,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return Br.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,d;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return Br.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Br{constructor(t,e=Br.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Br(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Fi.BLACK,null,null))}remove(t){return new Br(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fi.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new qf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new qf(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new qf(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new qf(this.root_,null,this.comparator_,!0,t)}}function dE(n,t){return Wl(n.name,t.name)}function ym(n,t){return Wl(n,t)}Br.EMPTY_NODE=new class cE{copy(t,e,s,a,d){return this}insert(t,e,s){return new Fi(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pc=function(n){return"number"==typeof n?"number:"+tm(n):"string:"+n},hE=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===vm||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===vm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let fE,eh,Em,gc=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),hE(this.priorityNode_)}static set __childrenNodeConstructor(e){fE=e}static get __childrenNodeConstructor(){return fE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xt(e)?this:".priority"===Nt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=Nt(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===ea(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(un(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pc(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?tm(this.value_):this.value_,this.lazyHash_=Lf(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(s),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(d>=0,"Unknown leaf type: "+s),(0,F.hu)(g>=0,"Unknown leaf type: "+a),d===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Yt=new class Hw extends In{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),d=s.compareTo(a);return 0===d?Wl(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(ro,new gc("[PRIORITY-POST]",Em))}makePost(t,e){const s=eh(t);return new Rt(e,new gc("[PRIORITY-POST]",s))}toString(){return".priority"}},th=Math.log(2);class jw{constructor(t){this.count=parseInt(Math.log(t+1)/th,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Kf=function(n,t,e,s){n.sort(t);const a=function(D,S){const H=S-D;let U,J;if(0===H)return null;if(1===H)return U=n[D],J=e?e(U):U,new Fi(J,U.node,Fi.BLACK,null,null);{const Ee=parseInt(H/2,10)+D,Ve=a(D,Ee),dt=a(Ee+1,S);return U=n[Ee],J=e?e(U):U,new Fi(J,U.node,Fi.BLACK,Ve,dt)}},v=function(D){let S=null,H=null,U=n.length;const J=function(Ve,dt){const It=U-Ve,Nn=U;U-=Ve;const gn=a(It+1,Nn),Hr=n[It],Wn=e?e(Hr):Hr;Ee(new Fi(Wn,Hr.node,dt,null,gn))},Ee=function(Ve){S?(S.left=Ve,S=Ve):(H=Ve,S=Ve)};for(let Ve=0;Ve<D.count;++Ve){const dt=D.nextBitIsOne(),It=Math.pow(2,D.count-(Ve+1));dt?J(It,Fi.BLACK):(J(It,Fi.BLACK),J(It,Fi.RED))}return H}(new jw(n.length));return new Br(s||t,v)};let Cm;const ql={};class ao{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(ql&&Yt,"ChildrenNode.ts has not been loaded"),Cm=Cm||new ao({".priority":ql},{".priority":Yt}),Cm}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Br?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==fs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const d=e.getIterator(Rt.Wrap);let v,g=d.getNext();for(;g;)a=a||t.isDefinedOn(g.node),s.push(g),g=d.getNext();v=a?Kf(s,t.getCompare()):ql;const D=t.toString(),S=Object.assign({},this.indexSet_);S[D]=t;const H=Object.assign({},this.indexes_);return H[D]=v,new ao(H,S)}addToIndexes(t,e){const s=(0,F.UI)(this.indexes_,(a,d)=>{const g=(0,F.DV)(this.indexSet_,d);if((0,F.hu)(g,"Missing index implementation for "+d),a===ql){if(g.isDefinedOn(t.node)){const v=[],D=e.getIterator(Rt.Wrap);let S=D.getNext();for(;S;)S.name!==t.name&&v.push(S),S=D.getNext();return v.push(t),Kf(v,g.getCompare())}return ql}{const v=e.get(t.name);let D=a;return v&&(D=D.remove(new Rt(t.name,v))),D.insert(t,t.node)}});return new ao(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,F.UI)(this.indexes_,a=>{if(a===ql)return a;{const d=e.get(t.name);return d?a.remove(new Rt(t.name,d)):a}});return new ao(s,this.indexSet_)}}let mc,Tt=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&hE(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mc||(mc=new n(new Br(ym),null,ao.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mc}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?mc:s}}getChild(e){const s=Nt(e);return null===s?this:this.getImmediateChild(s).getChild(un(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,F.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new Rt(e,s);let d,g;s.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(a,this.children_));const v=d.isEmpty()?mc:this.priorityNode_;return new n(d,v,g)}}updateChild(e,s){const a=Nt(e);if(null===a)return s;{(0,F.hu)(".priority"!==Nt(e)||1===ea(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(un(e),s);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,d=0,g=!0;if(this.forEachChild(Yt,(v,D)=>{s[v]=D.val(e),a++,g&&n.INTEGER_REGEXP_.test(v)?d=Math.max(d,Number(v)):g=!1}),!e&&g&&d<2*a){const v=[];for(const D in s)v[D]=s[D];return v}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+pc(this.getPriority().val())+":"),this.forEachChild(Yt,(s,a)=>{const d=a.hash();""!==d&&(e+=":"+s+":"+d)}),this.lazyHash_=""===e?"":Lf(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const d=this.resolveIndex_(a);if(d){const g=d.getPredecessorKey(new Rt(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Rt(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Rt(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>s(d.name,d.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Rt.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nh?-1:0}withIndex(e){if(e===fs||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===fs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(Yt),d=s.getIterator(Yt);let g=a.getNext(),v=d.getNext();for(;g&&v;){if(g.name!==v.name||!g.node.equals(v.node))return!1;g=a.getNext(),v=d.getNext()}return null===g&&null===v}return!1}return!1}}resolveIndex_(e){return e===fs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const nh=new class mE extends Tt{constructor(){super(new Br(ym),Tt.EMPTY_NODE,ao.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Tt.EMPTY_NODE}isEmpty(){return!1}};function jn(n,t=null){if(null===n)return Tt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new gc(n,jn(t));if(n instanceof Array){let e=Tt.EMPTY_NODE;return sr(n,(s,a)=>{if((0,F.r3)(n,s)&&"."!==s.substring(0,1)){const d=jn(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(s,d))}}),e.updatePriority(jn(t))}{const e=[];let s=!1;if(sr(n,(g,v)=>{if("."!==g.substring(0,1)){const D=jn(v);D.isEmpty()||(s=s||!D.getPriority().isEmpty(),e.push(new Rt(g,D)))}}),0===e.length)return Tt.EMPTY_NODE;const d=Kf(e,dE,g=>g.name,ym);if(s){const g=Kf(e,Yt.getCompare());return new Tt(d,jn(t),new ao({".priority":g},{".priority":Yt}))}return new Tt(d,jn(t),ao.Default)}}Object.defineProperties(Rt,{MIN:{value:new Rt(no,Tt.EMPTY_NODE)},MAX:{value:new Rt(ro,nh)}}),_m.__EMPTY_NODE=Tt.EMPTY_NODE,gc.__childrenNodeConstructor=Tt,function $w(n){vm=n}(nh),function gE(n){Em=n}(nh),function pE(n){eh=n}(jn);class _E extends In{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!xt(t)&&".priority"!==Nt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),d=s.compareTo(a);return 0===d?Wl(t.name,e.name):d}makePost(t,e){const s=jn(t),a=Tt.EMPTY_NODE.updateChild(this.indexPath_,s);return new Rt(e,a)}maxPost(){const t=Tt.EMPTY_NODE.updateChild(this.indexPath_,nh);return new Rt(ro,t)}toString(){return dc(this.indexPath_,0).join("/")}}const yE=new class JD extends In{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?Wl(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(t,e){const s=jn(t);return new Rt(e,s)}toString(){return".value"}},Kl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",CE=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=Kl.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let g=d.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=Kl.charAt(t[a]);return(0,F.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),yc=function(n){if(n===""+Mv)return"-";const t=Uf(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let g=0;g<e.length;g++)e[g]=n.charAt(g);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return ro;const d=Kl.charAt(Kl.indexOf(e[s])+1);return e[s]=d,e.slice(0,s+1).join("")},wE=function(n){if(n===""+nm)return no;const t=Uf(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+Mv:(delete e[e.length-1],e.join("")):(e[e.length-1]=Kl.charAt(Kl.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function IE(n){return{type:"value",snapshotNode:n}}function vc(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function rh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function ih(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class wm{constructor(t){this.index_=t}updateChild(t,e,s,a,d,g){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=t.getImmediateChild(e);return v.getChild(a).equals(s.getChild(a))&&v.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?t.hasChild(e)?g.trackChildChange(rh(e,v)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?g.trackChildChange(vc(e,s)):g.trackChildChange(ih(e,s,v))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(Yt,(a,d)=>{e.hasChild(a)||s.trackChildChange(rh(a,d))}),e.isLeafNode()||e.forEachChild(Yt,(a,d)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(d)||s.trackChildChange(ih(a,d,g))}else s.trackChildChange(vc(a,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Tt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sh{constructor(t){this.indexedFilter_=new wm(t.getIndex()),this.index_=t.getIndex(),this.startPost_=sh.getStartPost_(t),this.endPost_=sh.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,a,d,g){return this.matches(new Rt(e,s))||(s=Tt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,d,g)}updateFullNode(t,e,s){e.isLeafNode()&&(e=Tt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Tt.EMPTY_NODE);const d=this;return e.forEachChild(Yt,(g,v)=>{d.matches(new Rt(g,v))||(a=a.updateImmediateChild(g,Tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class oh{constructor(t){this.rangedFilter_=new sh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,a,d,g){return this.rangedFilter_.matches(new Rt(e,s))||(s=Tt.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,d,g):this.fullLimitUpdateChild_(t,e,s,d,g)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=Tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=Tt.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;d.hasNext()&&g<this.limit_;){const v=d.getNext();let D;if(D=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),v)<=0:this.index_.compare(v,this.rangedFilter_.getEndPost())<=0,!D)break;a=a.updateImmediateChild(v.name,v.node),g++}}else{let d,g,v,D;if(a=e.withIndex(this.index_),a=a.updatePriority(Tt.EMPTY_NODE),this.reverse_){D=a.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const U=this.index_.getCompare();v=(J,Ee)=>U(Ee,J)}else D=a.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();let S=0,H=!1;for(;D.hasNext();){const U=D.getNext();!H&&v(d,U)<=0&&(H=!0),H&&S<this.limit_&&v(U,g)<=0?S++:a=a.updateImmediateChild(U.name,Tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,d){let g;if(this.reverse_){const U=this.index_.getCompare();g=(J,Ee)=>U(Ee,J)}else g=this.index_.getCompare();const v=t;(0,F.hu)(v.numChildren()===this.limit_,"");const D=new Rt(e,s),S=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),H=this.rangedFilter_.matches(D);if(v.hasChild(e)){const U=v.getImmediateChild(e);let J=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=J&&(J.name===e||v.hasChild(J.name));)J=a.getChildAfterChild(this.index_,J,this.reverse_);const Ee=null==J?1:g(J,D);if(H&&!s.isEmpty()&&Ee>=0)return d?.trackChildChange(ih(e,s,U)),v.updateImmediateChild(e,s);{d?.trackChildChange(rh(e,U));const dt=v.updateImmediateChild(e,Tt.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(d?.trackChildChange(vc(J.name,J.node)),dt.updateImmediateChild(J.name,J.node)):dt}}return s.isEmpty()?t:H&&g(S,D)>=0?(null!=d&&(d.trackChildChange(rh(S.name,S.node)),d.trackChildChange(vc(e,s))),v.updateImmediateChild(e,s).updateImmediateChild(S.name,Tt.EMPTY_NODE)):t}}class Yf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Yt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:no}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ro}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Yt}copy(){const t=new Yf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Im(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Dm(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Qf(n,t){const e=n.copy();return e.index_=t,e}function Tm(n){const t={};if(n.isDefault())return t;let e;return n.index_===Yt?e="$priority":n.index_===yE?e="$value":n.index_===fs?e="$key":((0,F.hu)(n.index_ instanceof _E,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Wl)(e),n.startSet_&&(t.startAt=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Am(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Yt&&(t.i=n.index_.toString()),t}class Jf extends rE{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=lc("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const g=Jf.getListenId_(t,s),v={};this.listens_[g]=v;const D=Tm(t._queryParams);this.restRequest_(d+".json",D,(S,H)=>{let U=H;if(404===S&&(U=null,S=null),null===S&&this.onDataUpdate_(d,U,!1,s),(0,F.DV)(this.listens_,g)===v){let J;J=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(J,null)}})}unlisten(t,e){const s=Jf.getListenId_(t,e);delete this.listens_[s]}get(t){const e=Tm(t._queryParams),s=t._path.toString(),a=new F.BH;return this.restRequest_(s+".json",e,(d,g)=>{let v=g;404===d&&(v=null,d=null),null===d?(this.onDataUpdate_(s,v,!1,null),a.resolve(v)):a.reject(new Error(v))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+g);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(s&&4===v.readyState){this.log_("REST Response for "+g+" received. status:",v.status,"response:",v.responseText);let D=null;if(v.status>=200&&v.status<300){try{D=(0,F.cI)(v.responseText)}catch{Sr("Failed to parse JSON response for "+g+": "+v.responseText)}s(null,D)}else 401!==v.status&&404!==v.status&&Sr("Got unsuccessful REST response for "+g+" Status: "+v.status),s(v.status);s=null}},v.open("GET",g,!0),v.send()})}}class zw{constructor(){this.rootNode_=Tt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Xf(){return{value:null,children:new Map}}function za(n,t,e){if(xt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Nt(t);n.children.has(s)||n.children.set(s,Xf()),za(n.children.get(s),t=un(t),e)}}function Sm(n,t){if(xt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Yt,(s,a)=>{za(n,new Kt(s),a)}),Sm(n,t)}}if(n.children.size>0){const e=Nt(t);return t=un(t),n.children.has(e)&&Sm(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function ep(n,t,e){null!==n.value?e(t,n.value):function Zw(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{ep(a,new Kt(t.toString()+"/"+s),e)})}class qw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&sr(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class Qw{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new qw(t);const s=1e4+2e4*Math.random();qd(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;sr(t,(a,d)=>{d>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=d,s=!0)}),s&&this.server_.reportStats(e),qd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Li=(()=>{return(n=Li||(Li={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Li;var n})();function np(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class rp{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=Li.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(xt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Kt(t));return new rp(Bt(),e,this.revert)}}return(0,F.hu)(Nt(this.path)===t,"operationForChild called for unrelated child."),new rp(un(this.path),this.affectedTree,this.revert)}}class ah{constructor(t,e){this.source=t,this.path=e,this.type=Li.LISTEN_COMPLETE}operationForChild(t){return xt(this.path)?new ah(this.source,Bt()):new ah(this.source,un(this.path))}}class Za{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=Li.OVERWRITE}operationForChild(t){return xt(this.path)?new Za(this.source,Bt(),this.snap.getImmediateChild(t)):new Za(this.source,un(this.path),this.snap)}}class Ec{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=Li.MERGE}operationForChild(t){if(xt(this.path)){const e=this.children.subtree(new Kt(t));return e.isEmpty()?null:e.value?new Za(this.source,Bt(),e.value):new Ec(this.source,Bt(),e)}return(0,F.hu)(Nt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ec(this.source,un(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class qa{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(xt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Nt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Jw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Yl(n,t,e,s,a,d){const g=s.filter(v=>v.type===e);g.sort((v,D)=>function Pm(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const s=new Rt(t.childName,t.snapshotNode),a=new Rt(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,v,D)),g.forEach(v=>{const D=function ME(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,v,d);a.forEach(S=>{S.respondsTo(v.type)&&t.push(S.createEvent(D,n.query_))})})}function ip(n,t){return{eventCache:n,serverCache:t}}function lh(n,t,e,s){return ip(new qa(t,e,s),n.serverCache)}function sp(n,t,e,s){return ip(n.eventCache,new qa(t,e,s))}function op(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ka(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Ya;class pn{constructor(t,e=(()=>(Ya||(Ya=new Br(Sw)),Ya))()){this.value=t,this.children=e}static fromObject(t){let e=new pn(null);return sr(t,(s,a)=>{e=e.set(new Kt(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Bt(),value:this.value};if(xt(t))return null;{const s=Nt(t),a=this.children.get(s);if(null!==a){const d=a.findRootMostMatchingPathAndValue(un(t),e);return null!=d?{path:wn(new Kt(s),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(xt(t))return this;{const e=Nt(t),s=this.children.get(e);return null!==s?s.subtree(un(t)):new pn(null)}}set(t,e){if(xt(t))return new pn(e,this.children);{const s=Nt(t),d=(this.children.get(s)||new pn(null)).set(un(t),e),g=this.children.insert(s,d);return new pn(this.value,g)}}remove(t){if(xt(t))return this.children.isEmpty()?new pn(null):new pn(null,this.children);{const e=Nt(t),s=this.children.get(e);if(s){const a=s.remove(un(t));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new pn(null):new pn(this.value,d)}return this}}get(t){if(xt(t))return this.value;{const e=Nt(t),s=this.children.get(e);return s?s.get(un(t)):null}}setTree(t,e){if(xt(t))return e;{const s=Nt(t),d=(this.children.get(s)||new pn(null)).setTree(un(t),e);let g;return g=d.isEmpty()?this.children.remove(s):this.children.insert(s,d),new pn(this.value,g)}}fold(t){return this.fold_(Bt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,d)=>{s[a]=d.fold_(wn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Bt(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(xt(t))return null;{const d=Nt(t),g=this.children.get(d);return g?g.findOnPath_(un(t),wn(e,d),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Bt(),e)}foreachOnPath_(t,e,s){if(xt(t))return this;{this.value&&s(e,this.value);const a=Nt(t),d=this.children.get(a);return d?d.foreachOnPath_(un(t),wn(e,a),s):new pn(null)}}foreach(t){this.foreach_(Bt(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(wn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class lo{constructor(t){this.writeTree_=t}static empty(){return new lo(new pn(null))}}function Cc(n,t,e){if(xt(t))return new lo(new pn(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let d=s.value;const g=Mr(a,t);return d=d.updateChild(g,e),new lo(n.writeTree_.set(a,d))}{const a=new pn(e),d=n.writeTree_.setTree(t,a);return new lo(d)}}}function uh(n,t,e){let s=n;return sr(e,(a,d)=>{s=Cc(s,wn(t,a),d)}),s}function PE(n,t){if(xt(t))return lo.empty();{const e=n.writeTree_.setTree(t,new pn(null));return new lo(e)}}function ch(n,t){return null!=Ql(n,t)}function Ql(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Mr(e.path,t)):null}function Nm(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Yt,(s,a)=>{t.push(new Rt(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new Rt(s,a.value))}),t}function uo(n,t){if(xt(t))return n;{const e=Ql(n,t);return new lo(null!=e?new pn(e):n.writeTree_.subtree(t))}}function ap(n){return n.writeTree_.isEmpty()}function Jl(n,t){return xm(Bt(),n.writeTree_,t)}function xm(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,d)=>{".priority"===a?((0,F.hu)(null!==d.value,"Priority writes must always be leaf nodes"),s=d.value):e=xm(wn(n,a),d,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(wn(n,".priority"),s)),e}}function dh(n,t){return VE(t,n)}function NE(n,t){if(n.snap)return ki(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ki(wn(n.path,e),t))return!0;return!1}function xE(n){return n.visible}function OE(n,t,e){let s=lo.empty();for(let a=0;a<n.length;++a){const d=n[a];if(t(d)){const g=d.path;let v;if(d.snap)ki(e,g)?(v=Mr(e,g),s=Cc(s,v,d.snap)):ki(g,e)&&(v=Mr(g,e),s=Cc(s,Bt(),d.snap.getChild(v)));else{if(!d.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(ki(e,g))v=Mr(e,g),s=uh(s,v,d.children);else if(ki(g,e))if(v=Mr(g,e),xt(v))s=uh(s,Bt(),d.children);else{const D=(0,F.DV)(d.children,Nt(v));if(D){const S=D.getChild(un(v));s=Cc(s,Bt(),S)}}}}}return s}function kE(n,t,e,s,a){if(s||a){const d=uo(n.visibleWrites,t);return!a&&ap(d)?e:a||null!=e||ch(d,Bt())?Jl(OE(n.allWrites,function(S){return(S.visible||a)&&(!s||!~s.indexOf(S.writeId))&&(ki(S.path,t)||ki(t,S.path))},t),e||Tt.EMPTY_NODE):null}{const d=Ql(n.visibleWrites,t);if(null!=d)return d;{const g=uo(n.visibleWrites,t);return ap(g)?e:null!=e||ch(g,Bt())?Jl(g,e||Tt.EMPTY_NODE):null}}}function lp(n,t,e,s){return kE(n.writeTree,n.treePath,t,e,s)}function Om(n,t){return function eb(n,t,e){let s=Tt.EMPTY_NODE;const a=Ql(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Yt,(d,g)=>{s=s.updateImmediateChild(d,g)}),s;if(e){const d=uo(n.visibleWrites,t);return e.forEachChild(Yt,(g,v)=>{const D=Jl(uo(d,new Kt(g)),v);s=s.updateImmediateChild(g,D)}),Nm(d).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return Nm(uo(n.visibleWrites,t)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(n.writeTree,n.treePath,t)}function FE(n,t,e,s){return function tb(n,t,e,s,a){(0,F.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const d=wn(t,e);if(ch(n.visibleWrites,d))return null;{const g=uo(n.visibleWrites,d);return ap(g)?a.getChild(e):Jl(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function up(n,t){return function iI(n,t){return Ql(n.visibleWrites,t)}(n.writeTree,wn(n.treePath,t))}function km(n,t,e){return function rI(n,t,e,s){const a=wn(t,e),d=Ql(n.visibleWrites,a);return null!=d?d:s.isCompleteForChild(e)?Jl(uo(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function LE(n,t){return VE(wn(n.treePath,t),n.writeTree)}function VE(n,t){return{treePath:n,writeTree:t}}class hh{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(s,ih(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(s,rh(s,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(s,vc(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,ih(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const Fm=new class UE{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class cp{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new qa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return km(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ka(this.viewCache_),d=function aI(n,t,e,s,a,d){return function sI(n,t,e,s,a,d,g){let v;const D=uo(n.visibleWrites,t),S=Ql(D,Bt());if(null!=S)v=S;else{if(null==e)return[];v=Jl(D,e)}if(v=v.withIndex(g),v.isEmpty()||v.isLeafNode())return[];{const H=[],U=g.getCompare(),J=d?v.getReverseIteratorFrom(s,g):v.getIteratorFrom(s,g);let Ee=J.getNext();for(;Ee&&H.length<a;)0!==U(Ee,s)&&H.push(Ee),Ee=J.getNext();return H}}(n.writeTree,n.treePath,t,e,s,a,d)}(this.writes_,a,e,1,s,t);return 0===d.length?null:d[0]}}function cI(n,t,e,s,a,d){const g=t.eventCache;if(null!=up(s,e))return t;{let v,D;if(xt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=Ka(t),U=Om(s,S instanceof Tt?S:Tt.EMPTY_NODE);v=n.filter.updateFullNode(t.eventCache.getNode(),U,d)}else{const S=lp(s,Ka(t));v=n.filter.updateFullNode(t.eventCache.getNode(),S,d)}else{const S=Nt(e);if(".priority"===S){(0,F.hu)(1===ea(e),"Can't have a priority with additional path components");const H=g.getNode();D=t.serverCache.getNode();const U=FE(s,e,H,D);v=null!=U?n.filter.updatePriority(H,U):g.getNode()}else{const H=un(e);let U;if(g.isCompleteForChild(S)){D=t.serverCache.getNode();const J=FE(s,e,g.getNode(),D);U=null!=J?g.getNode().getImmediateChild(S).updateChild(H,J):g.getNode().getImmediateChild(S)}else U=km(s,S,t.serverCache);v=null!=U?n.filter.updateChild(g.getNode(),S,U,H,a,d):g.getNode()}}return lh(t,v,g.isFullyInitialized()||xt(e),n.filter.filtersNodes())}}function dp(n,t,e,s,a,d,g,v){const D=t.serverCache;let S;const H=g?n.filter:n.filter.getIndexedFilter();if(xt(e))S=H.updateFullNode(D.getNode(),s,null);else if(H.filtersNodes()&&!D.isFiltered()){const Ee=D.getNode().updateChild(e,s);S=H.updateFullNode(D.getNode(),Ee,null)}else{const Ee=Nt(e);if(!D.isCompleteForPath(e)&&ea(e)>1)return t;const Ve=un(e),It=D.getNode().getImmediateChild(Ee).updateChild(Ve,s);S=".priority"===Ee?H.updatePriority(D.getNode(),It):H.updateChild(D.getNode(),Ee,It,Ve,Fm,null)}const U=sp(t,S,D.isFullyInitialized()||xt(e),H.filtersNodes());return cI(n,U,e,a,new cp(a,U,d),v)}function Lm(n,t,e,s,a,d,g){const v=t.eventCache;let D,S;const H=new cp(a,t,d);if(xt(e))S=n.filter.updateFullNode(t.eventCache.getNode(),s,g),D=lh(t,S,!0,n.filter.filtersNodes());else{const U=Nt(e);if(".priority"===U)S=n.filter.updatePriority(t.eventCache.getNode(),s),D=lh(t,S,v.isFullyInitialized(),v.isFiltered());else{const J=un(e),Ee=v.getNode().getImmediateChild(U);let Ve;if(xt(J))Ve=s;else{const dt=H.getCompleteChild(U);Ve=null!=dt?".priority"===Gf(J)&&dt.getChild(fm(J)).isEmpty()?dt:dt.updateChild(J,s):Tt.EMPTY_NODE}D=Ee.equals(Ve)?t:lh(t,n.filter.updateChild(v.getNode(),U,Ve,J,H,g),v.isFullyInitialized(),n.filter.filtersNodes())}}return D}function HE(n,t){return n.eventCache.isCompleteForChild(t)}function jE(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function Xl(n,t,e,s,a,d,g,v){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,D=t;S=xt(e)?s:new pn(null).setTree(e,s);const H=t.serverCache.getNode();return S.children.inorderTraversal((U,J)=>{if(H.hasChild(U)){const Ve=jE(0,t.serverCache.getNode().getImmediateChild(U),J);D=dp(n,D,new Kt(U),Ve,a,d,g,v)}}),S.children.inorderTraversal((U,J)=>{const Ee=!t.serverCache.isCompleteForChild(U)&&null===J.value;if(!H.hasChild(U)&&!Ee){const dt=jE(0,t.serverCache.getNode().getImmediateChild(U),J);D=dp(n,D,new Kt(U),dt,a,d,g,v)}}),D}class fI{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new wm(s.getIndex()),d=function bE(n){return n.loadsAllData()?new wm(n.getIndex()):n.hasLimit()?new oh(n):new sh(n)}(s);this.processor_=function BE(n){return{filter:n}}(d);const g=e.serverCache,v=e.eventCache,D=a.updateFullNode(Tt.EMPTY_NODE,g.getNode(),null),S=d.updateFullNode(Tt.EMPTY_NODE,v.getNode(),null),H=new qa(D,g.isFullyInitialized(),a.filtersNodes()),U=new qa(S,v.isFullyInitialized(),d.filtersNodes());this.viewCache_=ip(U,H),this.eventGenerator_=new Jw(this.query_)}get query(){return this.query_}}function pI(n,t){const e=Ka(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!xt(t)&&!e.getImmediateChild(Nt(t)).isEmpty())?e.getChild(t):null}function WE(n){return 0===n.eventRegistrations_.length}function ph(n,t,e){const s=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(d=>{const g=d.createCancelEvent(e,a);g&&s.push(g)})}if(t){let a=[];for(let d=0;d<n.eventRegistrations_.length;++d){const g=n.eventRegistrations_[d];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(d+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function gh(n,t,e,s){t.type===Li.MERGE&&null!==t.source.queryId&&((0,F.hu)(Ka(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(op(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,d=function lI(n,t,e,s,a){const d=new hh;let g,v;if(e.type===Li.OVERWRITE){const S=e;S.source.fromUser?g=Lm(n,t,S.path,S.snap,s,a,d):((0,F.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered()&&!xt(S.path),g=dp(n,t,S.path,S.snap,s,a,v,d))}else if(e.type===Li.MERGE){const S=e;S.source.fromUser?g=function dI(n,t,e,s,a,d,g){let v=t;return s.foreach((D,S)=>{const H=wn(e,D);HE(t,Nt(H))&&(v=Lm(n,v,H,S,a,d,g))}),s.foreach((D,S)=>{const H=wn(e,D);HE(t,Nt(H))||(v=Lm(n,v,H,S,a,d,g))}),v}(n,t,S.path,S.children,s,a,d):((0,F.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered(),g=Xl(n,t,S.path,S.children,s,a,v,d))}else if(e.type===Li.ACK_USER_WRITE){const S=e;g=S.revert?function co(n,t,e,s,a,d){let g;if(null!=up(s,e))return t;{const v=new cp(s,t,a),D=t.eventCache.getNode();let S;if(xt(e)||".priority"===Nt(e)){let H;if(t.serverCache.isFullyInitialized())H=lp(s,Ka(t));else{const U=t.serverCache.getNode();(0,F.hu)(U instanceof Tt,"serverChildren would be complete if leaf node"),H=Om(s,U)}S=n.filter.updateFullNode(D,H,d)}else{const H=Nt(e);let U=km(s,H,t.serverCache);null==U&&t.serverCache.isCompleteForChild(H)&&(U=D.getImmediateChild(H)),S=null!=U?n.filter.updateChild(D,H,U,un(e),v,d):t.eventCache.getNode().hasChild(H)?n.filter.updateChild(D,H,Tt.EMPTY_NODE,un(e),v,d):D,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=lp(s,Ka(t)),g.isLeafNode()&&(S=n.filter.updateFullNode(S,g,d)))}return g=t.serverCache.isFullyInitialized()||null!=up(s,Bt()),lh(t,S,g,n.filter.filtersNodes())}}(n,t,S.path,s,a,d):function hI(n,t,e,s,a,d,g){if(null!=up(a,e))return t;const v=t.serverCache.isFiltered(),D=t.serverCache;if(null!=s.value){if(xt(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return dp(n,t,e,D.getNode().getChild(e),a,d,v,g);if(xt(e)){let S=new pn(null);return D.getNode().forEachChild(fs,(H,U)=>{S=S.set(new Kt(H),U)}),Xl(n,t,e,S,a,d,v,g)}return t}{let S=new pn(null);return s.foreach((H,U)=>{const J=wn(e,H);D.isCompleteForPath(J)&&(S=S.set(H,D.getNode().getChild(J)))}),Xl(n,t,e,S,a,d,v,g)}}(n,t,S.path,S.affectedTree,s,a,d)}else{if(e.type!==Li.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);g=function Vm(n,t,e,s,a){const d=t.serverCache;return cI(n,sp(t,d.getNode(),d.isFullyInitialized()||xt(e),d.isFiltered()),e,s,Fm,a)}(n,t,e.path,s,d)}const D=d.getChanges();return function uI(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),d=op(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(d)||!s.getNode().getPriority().equals(d.getPriority()))&&e.push(IE(op(t)))}}(t,g,D),{viewCache:g,changes:D}}(n.processor_,a,t,e,s);return function $E(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,F.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,GE(n,d.changes,d.viewCache.eventCache.getNode(),null)}function GE(n,t,e,s){return function Rm(n,t,e,s){const a=[],d=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&d.push(function DE(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),Yl(n,a,"child_removed",t,s,e),Yl(n,a,"child_added",t,s,e),Yl(n,a,"child_moved",d,s,e),Yl(n,a,"child_changed",t,s,e),Yl(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let mh,pp;class Bm{constructor(){this.views=new Map}}function Hm(n,t,e,s){const a=t.source.queryId;if(null!==a){const d=n.views.get(a);return(0,F.hu)(null!=d,"SyncTree gave us an op for an invalid query."),gh(d,t,e,s)}{let d=[];for(const g of n.views.values())d=d.concat(gh(g,t,e,s));return d}}function yI(n,t,e,s,a){const g=n.views.get(t._queryIdentifier);if(!g){let v=lp(e,a?s:null),D=!1;v?D=!0:s instanceof Tt?(v=Om(e,s),D=!1):(v=Tt.EMPTY_NODE,D=!1);const S=ip(new qa(v,D,!1),new qa(s,a,!1));return new fI(t,S)}return g}function Gm(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ho(n,t){let e=null;for(const s of n.views.values())e=e||pI(s,t);return e}function hp(n,t){return t._queryParams.loadsAllData()?fp(n):n.views.get(t._queryIdentifier)}function ZE(n,t){return null!=hp(n,t)}function Qa(n){return null!=fp(n)}function fp(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let KE=1;class YE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new pn(null),this.pendingWriteTree_=function oI(){return{visibleWrites:lo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gp(n,t,e,s,a){return function Xw(n,t,e,s,a){(0,F.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=Cc(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?_h(n,new Za({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ja(n,t,e=!1){const s=function tI(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function nI(n,t){const e=n.allWrites.findIndex(v=>v.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,d=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const v=n.allWrites[g];v.visible&&(g>=e&&NE(v,s.path)?a=!1:ki(s.path,v.path)&&(d=!0)),g--}return!!a&&(d?(function XD(n){n.visibleWrites=OE(n.allWrites,xE,Bt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=PE(n.visibleWrites,s.path):sr(s.children,D=>{n.visibleWrites=PE(n.visibleWrites,wn(s.path,D))}),!0))}(n.pendingWriteTree_,t)){let d=new pn(null);return null!=s.snap?d=d.set(Bt(),!0):sr(s.children,g=>{d=d.set(new Kt(g),!0)}),_h(n,new rp(s.path,d,e))}return[]}function wc(n,t,e){return _h(n,new Za({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function mp(n,t,e,s,a=!1){const d=t._path,g=n.syncPointTree_.get(d);let v=[];if(g&&("default"===t._queryIdentifier||ZE(g,t))){const D=function Wm(n,t,e,s){const a=t._queryIdentifier,d=[];let g=[];const v=Qa(n);if("default"===a)for(const[D,S]of n.views.entries())g=g.concat(ph(S,e,s)),WE(S)&&(n.views.delete(D),S.query._queryParams.loadsAllData()||d.push(S.query));else{const D=n.views.get(a);D&&(g=g.concat(ph(D,e,s)),WE(D)&&(n.views.delete(a),D.query._queryParams.loadsAllData()||d.push(D.query)))}return v&&!Qa(n)&&d.push(new(function zE(){return(0,F.hu)(mh,"Reference.ts has not been loaded"),mh}())(t._repo,t._path)),{removed:d,events:g}}(g,t,e,s);(function _I(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const S=D.removed;if(v=D.events,!a){const H=-1!==S.findIndex(J=>J._queryParams.loadsAllData()),U=n.syncPointTree_.findOnPath(d,(J,Ee)=>Qa(Ee));if(H&&!U){const J=n.syncPointTree_.subtree(d);if(!J.isEmpty()){const Ee=function EI(n){return n.fold((t,e,s)=>{if(e&&Qa(e))return[fp(e)];{let a=[];return e&&(a=Gm(e)),sr(s,(d,g)=>{a=a.concat(g)}),a}})}(J);for(let Ve=0;Ve<Ee.length;++Ve){const dt=Ee[Ve],It=dt.query,Nn=Dc(n,dt);n.listenProvider_.startListening(vh(It),yh(n,It),Nn.hashFn,Nn.onComplete)}}}!U&&S.length>0&&!s&&(H?n.listenProvider_.stopListening(vh(t),null):S.forEach(J=>{const Ee=n.queryToTagMap.get(bc(J));n.listenProvider_.stopListening(vh(J),Ee)}))}!function Jm(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=bc(s),d=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(d)}}}(n,S)}return v}function Rr(n,t,e,s){const a=Ym(n,s);if(null!=a){const d=yp(a),g=d.path,v=d.queryId,D=Mr(g,t);return Qm(n,g,new Za(np(v),D,e))}return[]}function Zm(n,t,e,s=!1){const a=t._path;let d=null,g=!1;n.syncPointTree_.foreachOnPath(a,(J,Ee)=>{const Ve=Mr(J,a);d=d||ho(Ee,Ve),g=g||Qa(Ee)});let D,v=n.syncPointTree_.get(a);v?(g=g||Qa(v),d=d||ho(v,Bt())):(v=new Bm,n.syncPointTree_=n.syncPointTree_.set(a,v)),null!=d?D=!0:(D=!1,d=Tt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((Ee,Ve)=>{const dt=ho(Ve,Bt());dt&&(d=d.updateImmediateChild(Ee,dt))}));const S=ZE(v,t);if(!S&&!t._queryParams.loadsAllData()){const J=bc(t);(0,F.hu)(!n.queryToTagMap.has(J),"View does not exist, but we have a tag");const Ee=function eC(){return KE++}();n.queryToTagMap.set(J,Ee),n.tagToQueryMap.set(Ee,J)}let U=function jm(n,t,e,s,a,d){const g=yI(n,t,s,a,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function gI(n,t){n.eventRegistrations_.push(t)}(g,e),function mI(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Yt,(d,g)=>{s.push(vc(d,g))}),e.isFullyInitialized()&&s.push(IE(e.getNode())),GE(n,s,e.getNode(),t)}(g,e)}(v,t,e,dh(n.pendingWriteTree_,a),d,D);if(!S&&!g&&!s){const J=hp(v,t);U=U.concat(function tC(n,t,e){const s=t._path,a=yh(n,t),d=Dc(n,e),g=n.listenProvider_.startListening(vh(t),a,d.hashFn,d.onComplete),v=n.syncPointTree_.subtree(s);if(a)(0,F.hu)(!Qa(v.value),"If we're adding a query, it shouldn't be shadowed");else{const D=v.fold((S,H,U)=>{if(!xt(S)&&H&&Qa(H))return[fp(H).query];{let J=[];return H&&(J=J.concat(Gm(H).map(Ee=>Ee.query))),sr(U,(Ee,Ve)=>{J=J.concat(Ve)}),J}});for(let S=0;S<D.length;++S){const H=D[S];n.listenProvider_.stopListening(vh(H),yh(n,H))}}return g}(n,t,J))}return U}function _p(n,t,e){const a=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(g,v)=>{const S=ho(v,Mr(g,t));if(S)return S});return kE(a,t,d,e,!0)}function _h(n,t){return qm(t,n.syncPointTree_,null,dh(n.pendingWriteTree_,Bt()))}function qm(n,t,e,s){if(xt(n.path))return Km(n,t,e,s);{const a=t.get(Bt());null==e&&null!=a&&(e=ho(a,Bt()));let d=[];const g=Nt(n.path),v=n.operationForChild(g),D=t.children.get(g);if(D&&v){const S=e?e.getImmediateChild(g):null,H=LE(s,g);d=d.concat(qm(v,D,S,H))}return a&&(d=d.concat(Hm(a,n,s,e))),d}}function Km(n,t,e,s){const a=t.get(Bt());null==e&&null!=a&&(e=ho(a,Bt()));let d=[];return t.children.inorderTraversal((g,v)=>{const D=e?e.getImmediateChild(g):null,S=LE(s,g),H=n.operationForChild(g);H&&(d=d.concat(Km(H,v,D,S)))}),a&&(d=d.concat(Hm(a,n,s,e))),d}function Dc(n,t){const e=t.query,s=yh(n,e);return{hashFn:()=>(function Um(n){return n.viewCache_.serverCache.getNode()}(t)||Tt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function XE(n,t,e){const s=Ym(n,e);if(s){const a=yp(s),d=a.path,g=a.queryId,v=Mr(d,t);return Qm(n,d,new ah(np(g),v))}return[]}(n,e._path,s):function vI(n,t){return _h(n,new ah({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function Av(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return mp(n,e,null,d)}}}}function yh(n,t){const e=bc(t);return n.queryToTagMap.get(e)}function bc(n){return n._path.toString()+"$"+n._queryIdentifier}function Ym(n,t){return n.tagToQueryMap.get(t)}function yp(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Kt(n.substr(0,t))}}function Qm(n,t,e){const s=n.syncPointTree_.get(t);return(0,F.hu)(s,"Missing sync point for query tag that we're tracking"),Hm(s,e,dh(n.pendingWriteTree_,t),null)}function vh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function zm(){return(0,F.hu)(pp,"Reference.ts has not been loaded"),pp}())(n._repo,n._path):n}class Tc{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Tc(e)}node(){return this.node_}}class Eh{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=wn(this.path_,t);return new Eh(this.syncTree_,e)}node(){return _p(this.syncTree_,this.path_)}}const Xm=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?CI(n[".sv"],t,e):"object"==typeof n[".sv"]?nC(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},CI=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},nC=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,F.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,F.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const g=a.getValue();return"number"!=typeof g?s:g+s},eu=function(n,t,e,s){return vp(t,new Eh(e,n),s)},e_=function(n,t,e){return vp(n,new Tc(t),e)};function vp(n,t,e){const s=n.getPriority().val(),a=Xm(s,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const g=n,v=Xm(g.getValue(),t,e);return v!==g.getValue()||a!==g.getPriority().val()?new gc(v,jn(a)):n}{const g=n;return d=g,a!==g.getPriority().val()&&(d=d.updatePriority(new gc(a))),g.forEachChild(Yt,(v,D)=>{const S=vp(D,t.getImmediateChild(v),e);S!==D&&(d=d.updateImmediateChild(v,S))}),d}}class Ch{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function t_(n,t){let e=t instanceof Kt?t:new Kt(t),s=n,a=Nt(e);for(;null!==a;){const d=(0,F.DV)(s.node.children,a)||{children:{},childCount:0};s=new Ch(a,s,d),e=un(e),a=Nt(e)}return s}function tu(n){return n.node.value}function rC(n,t){n.node.value=t,Cp(n)}function iC(n){return n.node.childCount>0}function Ep(n,t){sr(n.node.children,(e,s)=>{t(new Ch(e,n,s))})}function n_(n,t,e,s){e&&!s&&t(n),Ep(n,a=>{n_(a,t,!0,s)}),e&&s&&t(n)}function wh(n){return new Kt(null===n.parent?n.name:wh(n.parent)+"/"+n.name)}function Cp(n){null!==n.parent&&function oC(n,t,e){const s=function wI(n){return void 0===tu(n)&&!iC(n)}(e),a=(0,F.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,Cp(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Cp(n))}(n.parent,n.name,n)}const II=/[\[\].#$\/\u0000-\u001F\u007F]/,DI=/[\[\].#$\u0000-\u001F\u007F]/,wp=10485760,Ip=function(n){return"string"==typeof n&&0!==n.length&&!II.test(n)},r_=function(n){return"string"==typeof n&&0!==n.length&&!DI.test(n)},Ac=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!zd(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},ps=function(n,t,e,s){s&&void 0===t||Ih((0,F.gK)(n,"value"),t,e)},Ih=function(n,t,e){const s=e instanceof Kt?new hc(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Ga(s));if("function"==typeof t)throw new Error(n+"contains a function "+Ga(s)+" with contents = "+t.toString());if(zd(t))throw new Error(n+"contains "+t.toString()+" "+Ga(s));if("string"==typeof t&&t.length>wp/3&&(0,F.ug)(t)>wp)throw new Error(n+"contains a string greater than "+wp+" utf8 bytes "+Ga(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,d=!1;if(sr(t,(g,v)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(d=!0,!Ip(g)))throw new Error(n+" contains an invalid key ("+g+") "+Ga(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function QD(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),Vw(n)})(s,g),Ih(n,v,s),function gm(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&d)throw new Error(n+' contains ".value" child '+Ga(s)+" in addition to actual children.")}},TI=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const d=[];sr(t,(g,v)=>{const D=new Kt(g);if(Ih(a,v,wn(e,D)),".priority"===Gf(D)&&!Ac(v))throw new Error(a+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(D)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const d=dc(s);for(let g=0;g<d.length;g++)if((".priority"!==d[g]||g!==d.length-1)&&!Ip(d[g]))throw new Error(n+"contains an invalid key ("+d[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Zl);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&ki(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,d)},Dp=function(n,t,e){if(!e||void 0!==t){if(zd(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ac(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},bp=function(n,t,e,s){if(!(s&&void 0===e||Ip(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Tp=function(n,t,e,s){if(!(s&&void 0===e||r_(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gs=function(n,t){if(".info"===Nt(t))throw new Error(n+" failed = Can't modify data under /.info/")},AI=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ip(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),r_(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class sb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function i_(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],d=a.getPath();null!==e&&!pm(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&n.eventLists_.push(e)}function SI(n,t,e){i_(n,e),MI(n,s=>pm(s,t))}function Pr(n,t,e){i_(n,e),MI(n,s=>ki(s,t)||ki(t,s))}function MI(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(lC(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function lC(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();Wa&&ir("event: "+e.toString()),cc(s)}}}const Dh="repo_interrupt";class cC{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xf(),this.transactionQueueTree_=new Ch,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ap(n){const e=n.infoData_.getNode(new Kt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Sc(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Ap(n)})}function dC(n,t,e,s,a){n.dataUpdateCount++;const d=new Kt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(s){const D=(0,F.UI)(e,S=>jn(S));g=function Ic(n,t,e,s){const a=Ym(n,s);if(a){const d=yp(a),g=d.path,v=d.queryId,D=Mr(g,t),S=pn.fromObject(e);return Qm(n,g,new Ec(np(v),D,S))}return[]}(n.serverSyncTree_,d,D,a)}else{const D=jn(e);g=Rr(n.serverSyncTree_,d,D,a)}else if(s){const D=(0,F.UI)(e,S=>jn(S));g=function JE(n,t,e){const s=pn.fromObject(e);return _h(n,new Ec({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,d,D)}else{const D=jn(e);g=wc(n.serverSyncTree_,d,D)}let v=d;g.length>0&&(v=yr(n,d)),Pr(n.eventQueue_,v,g)}function s_(n,t){hC(n,"connected",t),!1===t&&function lb(n){nu(n,"onDisconnectEvents");const t=Sc(n),e=Xf();ep(n.onDisconnect_,Bt(),(a,d)=>{const g=eu(a,d,n.serverSyncTree_,t);za(e,a,g)});let s=[];ep(e,Bt(),(a,d)=>{s=s.concat(wc(n.serverSyncTree_,a,d));const g=Rp(n,a);yr(n,g)}),n.onDisconnect_=Xf(),Pr(n.eventQueue_,Bt(),s)}(n)}function hC(n,t,e){const s=new Kt("/.info/"+t),a=jn(e);n.infoData_.updateSnapshot(s,a);const d=wc(n.infoSyncTree_,s,a);Pr(n.eventQueue_,s,d)}function Sp(n){return n.nextWriteId_++}function Mc(n,t,e,s,a){nu(n,"set",{path:t.toString(),value:e,priority:s});const d=Sc(n),g=jn(e,s),v=_p(n.serverSyncTree_,t),D=e_(g,v,d),S=Sp(n),H=gp(n.serverSyncTree_,t,D,S,!0);i_(n.eventQueue_,H),n.server_.put(t.toString(),g.val(!0),(J,Ee)=>{const Ve="ok"===J;Ve||Sr("set at "+t+" failed: "+J);const dt=Ja(n.serverSyncTree_,S,!Ve);Pr(n.eventQueue_,t,dt),ru(0,a,J,Ee)});const U=Rp(n,t);yr(n,U),Pr(n.eventQueue_,U,[])}function ub(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&Sm(n.onDisconnect_,t),ru(0,e,s,a)})}function NI(n,t,e,s){const a=jn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,g)=>{"ok"===d&&za(n.onDisconnect_,t,a),ru(0,s,d,g)})}function fC(n,t,e){let s;s=".info"===Nt(t._path)?mp(n.infoSyncTree_,t,e):mp(n.serverSyncTree_,t,e),SI(n.eventQueue_,t._path,s)}function pC(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Dh)}function nu(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ir(e,...t)}function ru(n,t,e,s){t&&cc(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let d=a;s&&(d+=": "+s);const g=new Error(d);g.code=a,t(g)}})}function o_(n,t,e){return _p(n.serverSyncTree_,t,e)||Tt.EMPTY_NODE}function Rc(n,t=n.transactionQueueTree_){if(t||Pc(n,t),tu(t)){const e=mC(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function FI(n,t,e){const s=e.map(S=>S.currentWriteId),a=o_(n,t,s);let d=a;const g=a.hash();for(let S=0;S<e.length;S++){const H=e[S];(0,F.hu)(0===H.status,"tryToSendTransactionQueue_: items in queue should all be run."),H.status=1,H.retryCount++;const U=Mr(t,H.path);d=d.updateChild(U,H.currentOutputSnapshotRaw)}const v=d.val(!0),D=t;n.server_.put(D.toString(),v,S=>{nu(n,"transaction put response",{path:D.toString(),status:S});let H=[];if("ok"===S){const U=[];for(let J=0;J<e.length;J++)e[J].status=2,H=H.concat(Ja(n.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&U.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();Pc(n,t_(n.transactionQueueTree_,t)),Rc(n,n.transactionQueueTree_),Pr(n.eventQueue_,t,H);for(let J=0;J<U.length;J++)cc(U[J])}else{if("datastale"===S)for(let U=0;U<e.length;U++)e[U].status=3===e[U].status?4:0;else{Sr("transaction at "+D.toString()+" failed: "+S);for(let U=0;U<e.length;U++)e[U].status=4,e[U].abortReason=S}yr(n,t)}},g)}(n,wh(t),e)}else iC(t)&&Ep(t,e=>{Rc(n,e)})}function yr(n,t){const e=Mp(n,t),s=wh(e);return function LI(n,t,e){if(0===t.length)return;const s=[];let a=[];const g=t.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<t.length;v++){const D=t[v],S=Mr(e,D.path);let U,H=!1;if((0,F.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)H=!0,U=D.abortReason,a=a.concat(Ja(n.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=25)H=!0,U="maxretry",a=a.concat(Ja(n.serverSyncTree_,D.currentWriteId,!0));else{const J=o_(n,D.path,g);D.currentInputSnapshot=J;const Ee=t[v].update(J.val());if(void 0!==Ee){Ih("transaction failed: Data returned ",Ee,D.path);let Ve=jn(Ee);"object"==typeof Ee&&null!=Ee&&(0,F.r3)(Ee,".priority")||(Ve=Ve.updatePriority(J.getPriority()));const It=D.currentWriteId,Nn=Sc(n),gn=e_(Ve,J,Nn);D.currentOutputSnapshotRaw=Ve,D.currentOutputSnapshotResolved=gn,D.currentWriteId=Sp(n),g.splice(g.indexOf(It),1),a=a.concat(gp(n.serverSyncTree_,D.path,gn,D.currentWriteId,D.applyLocally)),a=a.concat(Ja(n.serverSyncTree_,It,!0))}else H=!0,U="nodata",a=a.concat(Ja(n.serverSyncTree_,D.currentWriteId,!0))}Pr(n.eventQueue_,e,a),a=[],H&&(t[v].status=2,setTimeout(t[v].unwatcher,Math.floor(0)),t[v].onComplete&&s.push("nodata"===U?()=>t[v].onComplete(null,!1,t[v].currentInputSnapshot):()=>t[v].onComplete(new Error(U),!1,null)))}Pc(n,n.transactionQueueTree_);for(let v=0;v<s.length;v++)cc(s[v]);Rc(n,n.transactionQueueTree_)}(n,mC(n,e),s),s}function Mp(n,t){let e,s=n.transactionQueueTree_;for(e=Nt(t);null!==e&&void 0===tu(s);)s=t_(s,e),e=Nt(t=un(t));return s}function mC(n,t){const e=[];return _C(n,t,e),e.sort((s,a)=>s.order-a.order),e}function _C(n,t,e){const s=tu(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);Ep(t,a=>{_C(n,a,e)})}function Pc(n,t){const e=tu(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,rC(t,e.length>0?e:void 0)}Ep(t,s=>{Pc(n,s)})}function Rp(n,t){const e=wh(Mp(n,t)),s=t_(n.transactionQueueTree_,t);return function sC(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{Pp(n,a)}),Pp(n,s),n_(s,a=>{Pp(n,a)}),e}function Pp(n,t){const e=tu(t);if(e){const s=[];let a=[],d=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,F.hu)(d===g-1,"All SENT items should be at beginning of queue."),d=g,e[g].status=3,e[g].abortReason="set"):((0,F.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(Ja(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===d?rC(t,void 0):e.length=d+1,Pr(n.eventQueue_,wh(t),a);for(let g=0;g<s.length;g++)cc(s[g])}}const Np=function(n,t){const e=UI(n),s=e.namespace;return"firebase.com"===e.domain&&cs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&cs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Sr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Fv(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new Kt(e.pathString)}},UI=function(n){let t="",e="",s="",a="",d="",g=!0,v="https",D=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(v=n.substring(0,S-1),n=n.substring(S+2));let H=n.indexOf("/");-1===H&&(H=n.length);let U=n.indexOf("?");-1===U&&(U=n.length),t=n.substring(0,Math.min(H,U)),H<U&&(a=function VI(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(H,U)));const J=function yC(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Sr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,U)));S=t.indexOf(":"),S>=0?(g="https"===v||"wss"===v,D=parseInt(t.substring(S+1),10)):S=t.length;const Ee=t.slice(0,S);if("localhost"===Ee.toLowerCase())e="localhost";else if(Ee.split(".").length<=2)e=Ee;else{const Ve=t.indexOf(".");s=t.substring(0,Ve).toLowerCase(),e=t.substring(Ve+1),d=s}"ns"in J&&(d=J.ns)}return{host:t,port:D,domain:e,subdomain:s,secure:g,scheme:v,pathString:a,namespace:d}};class a_{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class vC{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bh{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class ta{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return ub(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){gs("OnDisconnect.remove",this._path);const t=new F.BH;return NI(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){gs("OnDisconnect.set",this._path),ps("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return NI(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){gs("OnDisconnect.setWithPriority",this._path),ps("OnDisconnect.setWithPriority",t,this._path,!1),Dp("OnDisconnect.setWithPriority",e,!1);const s=new F.BH;return function xI(n,t,e,s,a){const d=jn(e,s);n.server_.onDisconnectPut(t.toString(),d.val(!0),(g,v)=>{"ok"===g&&za(n.onDisconnect_,t,d),ru(0,a,g,v)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){gs("OnDisconnect.update",this._path),TI("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function OI(n,t,e,s){if((0,F.xb)(e))return ir("onDisconnect().update() called with empty data.  Don't do anything."),void ru(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,d)=>{"ok"===a&&sr(e,(g,v)=>{const D=jn(v);za(n.onDisconnect_,wn(t,g),D)}),ru(0,s,a,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class $r{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return xt(this._path)?null:Gf(this._path)}get ref(){return new _s(this._repo,this._path)}get _queryIdentifier(){const t=Am(this._queryParams),e=Zd(t);return"{}"===e?"default":e}get _queryObject(){return Am(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof $r))return!1;const e=this._repo===t._repo,s=pm(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function aE(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Nc(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Nr(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===fs){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==no)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==ro)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===Yt){if(null!=t&&!Ac(t)||null!=e&&!Ac(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof _E||n.getIndex()===yE,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class _s extends $r{constructor(t,e){super(t,e,new Yf,!1)}get parent(){const t=fm(this._path);return null===t?null:new _s(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class iu{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Kt(t),s=su(this.ref,t);return new iu(this._node.getChild(e),s,Yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new iu(a,su(this.ref,s),Yt)))}hasChild(t){const e=new Kt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function EC(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?su(n._root,t):n._root}function CC(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=Np(t,n._repo.repoInfo_.nodeAdmin);AI("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&cs("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),EC(n,e.path.toString())}function su(n,t){return null===Nt((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Tp("child","path",e,!1)):Tp("child","path",t,!1),new _s(n._repo,wn(n._path,t));var e}function l_(n,t){n=(0,F.m9)(n),gs("set",n._path),ps("set",t,n._path,!1);const e=new F.BH;return Mc(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function u_(n,t){TI("update",t,n._path,!1);const e=new F.BH;return function PI(n,t,e,s){nu(n,"update",{path:t.toString(),value:e});let a=!0;const d=Sc(n),g={};if(sr(e,(v,D)=>{a=!1,g[v]=eu(wn(t,v),jn(D),n.serverSyncTree_,d)}),a)ir("update() called with empty data.  Don't do anything."),ru(0,s,"ok",void 0);else{const v=Sp(n),D=function QE(n,t,e,s){!function eI(n,t,e,s){(0,F.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=uh(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=pn.fromObject(e);return _h(n,new Ec({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,v);i_(n.eventQueue_,D),n.server_.merge(t.toString(),e,(S,H)=>{const U="ok"===S;U||Sr("update at "+t+" failed: "+S);const J=Ja(n.serverSyncTree_,v,!U),Ee=J.length>0?yr(n,t):t;Pr(n.eventQueue_,Ee,J),ru(0,s,S,H)}),sr(e,S=>{const H=Rp(n,wn(t,S));yr(n,H)}),Pr(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function DC(n){n=(0,F.m9)(n);const t=new bh(()=>{}),e=new xc(t);return function RI(n,t,e){const s=function nb(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(S,H)=>{const U=Mr(S,e);s=s||ho(H,U)});let a=n.syncPointTree_.get(e);a?s=s||ho(a,Bt()):(a=new Bm,n.syncPointTree_=n.syncPointTree_.set(e,a));const d=null!=s,g=d?new qa(s,!0,!1):null;return function fh(n){return op(n.viewCache_)}(yI(a,t,dh(n.pendingWriteTree_,t._path),d?g.getNode():Tt.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=s?Promise.resolve(s):n.server_.get(t).then(a=>{const d=jn(a).withIndex(t._queryParams.getIndex());let g;if(Zm(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())g=wc(n.serverSyncTree_,t._path,d);else{const v=yh(n.serverSyncTree_,t);g=Rr(n.serverSyncTree_,t._path,d,v)}return Pr(n.eventQueue_,t._path,g),mp(n.serverSyncTree_,t,e,null,!0),d},a=>(nu(n,"get for query "+(0,F.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(s=>new iu(s,new _s(n._repo,n._path),n._queryParams.getIndex()))}class xc{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new a_("value",this,new iu(t.snapshotNode,new _s(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new vC(this,t,e):null}matches(t){return t instanceof xc&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Th{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new vC(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const s=su(new _s(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new a_(t.type,this,new iu(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Th&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Oc(n,t,e,s,a){let d;if("object"==typeof s&&(d=void 0,a=s),"function"==typeof s&&(d=s),a&&a.onlyOnce){const D=e,S=(H,U)=>{fC(n._repo,n,v),D(H,U)};S.userCallback=e.userCallback,S.context=e.context,e=S}const g=new bh(e,d||void 0),v="value"===t?new xc(g):new Th(t,g);return function kI(n,t,e){let s;s=".info"===Nt(t._path)?Zm(n.infoSyncTree_,t,e):Zm(n.serverSyncTree_,t,e),SI(n.eventQueue_,t._path,s)}(n._repo,n,v),()=>fC(n._repo,n,v)}function Op(n,t,e,s){return Oc(n,"value",t,e,s)}function Ah(n,t,e,s){return Oc(n,"child_added",t,e,s)}function Sh(n,t,e,s){return Oc(n,"child_changed",t,e,s)}function c_(n,t,e,s){return Oc(n,"child_moved",t,e,s)}function bC(n,t,e,s){return Oc(n,"child_removed",t,e,s)}function d_(n,t,e){let s=null;const a=e?new bh(e):null;"value"===t?s=new xc(a):t&&(s=new Th(t,a)),fC(n._repo,n,s)}class Vi{}class TC extends Vi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ps("endAt",this._value,t._path,!0);const e=Dm(t._queryParams,this._value,this._key);if(xp(e),Nr(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class hb extends Vi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ps("endBefore",this._value,t._path,!1);const e=function bm(n,t,e){let s,a;return n.index_===fs?("string"==typeof t&&(t=wE(t)),a=Dm(n,t,e)):(s=null==e?no:wE(e),a=Dm(n,t,s)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(xp(e),Nr(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class h_ extends Vi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ps("startAt",this._value,t._path,!0);const e=Im(t._queryParams,this._value,this._key);if(xp(e),Nr(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class jI extends Vi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ps("startAfter",this._value,t._path,!1);const e=function AE(n,t,e){let s;if(n.index_===fs)"string"==typeof t&&(t=yc(t)),s=Im(n,t,e);else{let a;a=null==e?ro:yc(e),s=Im(n,t,a)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(xp(e),Nr(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $r(t._repo,t._path,e,t._orderByCalled)}}class pb extends Vi{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $r(t._repo,t._path,function Gw(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class mb extends Vi{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $r(t._repo,t._path,function TE(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class yb extends Vi{constructor(t){super(),this._path=t}_apply(t){Nc(t,"orderByChild");const e=new Kt(this._path);if(xt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new _E(e),a=Qf(t._queryParams,s);return Nr(a),new $r(t._repo,t._path,a,!0)}}class kp extends Vi{_apply(t){Nc(t,"orderByKey");const e=Qf(t._queryParams,fs);return Nr(e),new $r(t._repo,t._path,e,!0)}}class ZI extends Vi{_apply(t){Nc(t,"orderByPriority");const e=Qf(t._queryParams,Yt);return Nr(e),new $r(t._repo,t._path,e,!0)}}class ou extends Vi{_apply(t){Nc(t,"orderByValue");const e=Qf(t._queryParams,yE);return Nr(e),new $r(t._repo,t._path,e,!0)}}class f_ extends Vi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ps("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new TC(this._value,this._key)._apply(new h_(this._value,this._key)._apply(t))}}function ys(n,...t){let e=(0,F.m9)(n);for(const s of t)e=s._apply(e);return e}(function $m(n){(0,F.hu)(!mh,"__referenceConstructor has already been defined"),mh=n})(_s),function qE(n){(0,F.hu)(!pp,"__referenceConstructor has already been defined"),pp=n}(_s);const Mh={};function qI(n,t,e,s,a){let d=s||n.options.databaseURL;void 0===d&&(n.options.projectId||cs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ir("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let D,S,g=Np(d,a),v=g.repoInfo;typeof process<"u"&&process.env&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(D=!0,d=`http://${S}?ns=${v.namespace}`,g=Np(d,a),v=g.repoInfo):D=!g.repoInfo.secure;const H=a&&D?new Kd(Kd.OWNER):new Pv(n.name,n.options,t);AI("Invalid Firebase Database URL",g),xt(g.path)||cs("Database URL must point to the root of a Firebase Database (not including a child path).");const U=function Cb(n,t,e,s){let a=Mh[t.name];a||(a={},Mh[t.name]=a);let d=a[n.toURLString()];return d&&cs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new cC(n,false,e,s),a[n.toURLString()]=d,d}(v,n,H,new or(n.name,e));return new KI(U,n)}class KI{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ob(n,t,e){if(n.stats_=Oi(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Jf(n.repoInfo_,(s,a,d,g)=>{dC(n,s,a,d,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>s_(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new oo(n.repoInfo_,t,(s,a,d,g)=>{dC(n,s,a,d,g)},s=>{s_(n,s)},s=>{!function ab(n,t){sr(t,(e,s)=>{hC(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function ds(n,t){const e=n.toString();return lm[e]||(lm[e]=t()),lm[e]}(n.repoInfo_,()=>new Qw(n.stats_,n.server_)),n.infoData_=new zw,n.infoSyncTree_=new YE({startListening:(s,a,d,g)=>{let v=[];const D=n.infoData_.getNode(s._path);return D.isEmpty()||(v=wc(n.infoSyncTree_,s._path,D),setTimeout(()=>{g("ok")},0)),v},stopListening:()=>{}}),hC(n,"connected",!1),n.serverSyncTree_=new YE({startListening:(s,a,d,g)=>(n.server_.listen(s,d,a,(v,D)=>{const S=g(v,D);Pr(n.eventQueue_,s._path,S)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _s(this._repo,Bt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Eb(n,t){const e=Mh[t];(!e||e[n.key]!==n)&&cs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),pC(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&cs("Cannot call "+t+" on a deleted database.")}}function RC(){dm.IS_TRANSPORT_INITIALIZED&&Sr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function YI(){RC(),so.forceDisallow()}function QI(){RC(),zl.forceDisallow(),so.forceAllow()}function PC(n=(0,eo.getApp)(),t){const e=(0,eo._getProvider)(n,"database").getImmediate({identifier:t}),s=(0,F.P0)("database");return s&&m_(e,...s),e}function m_(n,t,e,s={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&cs("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let d;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&cs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Kd(Kd.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,F.Sg)(s.mockUserToken,n.app.options.projectId);d=new Kd(g)}!function vb(n,t,e,s){n.repoInfo_=new Fv(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,d)}function XI(n,t){Vf(n,t)}const __={".sv":"timestamp"};class y_{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}oo.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},oo.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function xC(n){vv(eo.SDK_VERSION),(0,eo._registerComponent)(new Ha.wA("database",(t,{instanceIdentifier:e})=>qI(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,eo.registerVersion)(yv,Yg,n),(0,eo.registerVersion)(yv,Yg,"esm2017")}();const nD=new Ff.Yd("@firebase/database-compat"),kC=function(n){nD.warn("FIREBASE WARNING: "+n)};class Ab{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),d=>s(d)),a}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,kC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class Sb{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class au{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Tp("DataSnapshot.child","path",t,!1),new au(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Tp("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new au(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ui(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class vr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var d;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const g=vr.getCancelAndContextArgs_("Query.on",s,a),v=(S,H)=>{e.call(g.context,new au(this.database,S),H)};v.userCallback=e,v.context=g.context;const D=null===(d=g.cancel)||void 0===d?void 0:d.bind(g.context);switch(t){case"value":return Op(this._delegate,v,D),e;case"child_added":return Ah(this._delegate,v,D),e;case"child_removed":return bC(this._delegate,v,D),e;case"child_changed":return Sh(this._delegate,v,D),e;case"child_moved":return c_(this._delegate,v,D),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,d_(this._delegate,t,a)}else d_(this._delegate,t)}get(){return DC(this._delegate).then(t=>new au(this.database,t))}once(t,e,s,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const d=vr.getCancelAndContextArgs_("Query.once",s,a),g=new F.BH,v=(S,H)=>{const U=new au(this.database,S);e&&e.call(d.context,U,H),g.resolve(U)};v.userCallback=e,v.context=d.context;const D=S=>{d.cancel&&d.cancel.call(d.context,S),g.reject(S)};switch(t){case"value":Op(this._delegate,v,D,{onlyOnce:!0});break;case"child_added":Ah(this._delegate,v,D,{onlyOnce:!0});break;case"child_removed":bC(this._delegate,v,D,{onlyOnce:!0});break;case"child_changed":Sh(this._delegate,v,D,{onlyOnce:!0});break;case"child_moved":c_(this._delegate,v,D,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new vr(this.database,ys(this._delegate,function gb(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new pb(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new vr(this.database,ys(this._delegate,function _b(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mb(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new vr(this.database,ys(this._delegate,function GI(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Tp("orderByChild","path",n,!1),new yb(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new vr(this.database,ys(this._delegate,function zI(){return new kp}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new vr(this.database,ys(this._delegate,function AC(){return new ZI}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new vr(this.database,ys(this._delegate,function SC(){return new ou}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new vr(this.database,ys(this._delegate,function HI(n=null,t){return bp("startAt","key",t,!0),new h_(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new vr(this.database,ys(this._delegate,function WI(n,t){return bp("startAfter","key",t,!0),new jI(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new vr(this.database,ys(this._delegate,function $I(n,t){return bp("endAt","key",t,!0),new TC(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new vr(this.database,ys(this._delegate,function fb(n,t){return bp("endBefore","key",t,!0),new hb(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new vr(this.database,ys(this._delegate,function p_(n,t){return bp("equalTo","key",t,!0),new f_(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof vr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,F.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,F.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Ui(this.database,new _s(this._delegate._repo,this._delegate._path))}}class Ui extends vr{constructor(t,e){super(t,new $r(e._repo,e._path,new Yf,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ui(this.database,su(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ui(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Ui(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const s=l_(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,kC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}gs("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const s=u_(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function db(n,t,e){if(gs("setWithPriority",n._path),ps("setWithPriority",t,n._path,!1),Dp("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new F.BH;return Mc(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),d=>s(d)),a}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function wC(n){return gs("remove",n._path),l_(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function eD(n,t,e){var s;if(n=(0,F.m9)(n),gs("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=e?.applyLocally)||void 0===s||s,d=new F.BH,v=Op(n,()=>{});return function ms(n,t,e,s,a,d){nu(n,"transaction on "+t);const g={path:t,update:e,onComplete:s,status:null,order:Cv(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=o_(n,t,void 0);g.currentInputSnapshot=v;const D=g.update(v.val());if(void 0===D)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{Ih("transaction failed: Data returned ",D,g.path),g.status=0;const S=t_(n.transactionQueueTree_,t),H=tu(S)||[];let U;H.push(g),rC(S,H),"object"==typeof D&&null!==D&&(0,F.r3)(D,".priority")?(U=(0,F.DV)(D,".priority"),(0,F.hu)(Ac(U),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):U=(_p(n.serverSyncTree_,t)||Tt.EMPTY_NODE).getPriority().val();const J=Sc(n),Ee=jn(D,U),Ve=e_(Ee,v,J);g.currentOutputSnapshotRaw=Ee,g.currentOutputSnapshotResolved=Ve,g.currentWriteId=Sp(n);const dt=gp(n.serverSyncTree_,t,Ve,g.currentWriteId,g.applyLocally);Pr(n.eventQueue_,t,dt),Rc(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(D,S,H)=>{let U=null;D?d.reject(D):(U=new iu(H,new _s(n._repo,n._path),Yt),d.resolve(new y_(S,U)))},v,a),d.promise}(this._delegate,t,{applyLocally:s}).then(d=>new Sb(d.committed,new au(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const s=function IC(n,t){n=(0,F.m9)(n),gs("setPriority",n._path),Dp("setPriority",t,!1);const e=new F.BH;return Mc(n._repo,wn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const s=function cb(n,t){n=(0,F.m9)(n),gs("push",n._path),ps("push",t,n._path,!0);const e=Ap(n._repo),s=CE(e),a=su(n,s),d=su(n,s);let g;return g=null!=t?l_(d,t).then(()=>d):Promise.resolve(d),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=s.then(g=>new Ui(this.database,g));e&&a.then(()=>e(null),g=>e(g));const d=new Ui(this.database,s);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return gs("Reference.onDisconnect",this._delegate._path),new Ab(new ta(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Fp{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:YI,forceLongPolling:QI}}useEmulator(t,e,s={}){m_(this._delegate,t,e,s)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof Ui){const e=CC(this._delegate,t.toString());return new Ui(this,e)}{const e=EC(this._delegate,t);return new Ui(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const s=CC(this._delegate,t);return new Ui(this,s)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function NC(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),pC(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function JI(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function gC(n){n.persistentConnection_&&n.persistentConnection_.resume(Dh)}(n._repo)}(this._delegate)}}Fp.ServerValue={TIMESTAMP:function wb(){return __}(),increment:n=>function OC(n){return{".sv":{increment:n}}}(n)};var Rb=Object.freeze({__proto__:null,initStandalone:function Mb({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:d=!1}){vv(e);const g=new Ha.zt("auth-internal",new Ha.H0("database-standalone"));return g.setComponent(new Ha.wA("auth-internal",()=>s,"PRIVATE")),{instance:new Fp(qI(n,g,void 0,t,d),n),namespace:a}}});const Pb=Fp.ServerValue;!function Nb(n){n.INTERNAL.registerComponent(new Ha.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Fp(a,s)},"PUBLIC").setServiceProps({Reference:Ui,Query:vr,Database:Fp,DataSnapshot:au,enableLogging:XI,INTERNAL:Rb,ServerValue:Pb}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(_v.Z);var r=x(5363),i=x(6063);class o extends Jr.x{constructor(t=1/0,e=1/0,s=i.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:g}=this;e||(s.push(t),!a&&s.push(d.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,d=a.slice();for(let g=0;g<d.length&&!t.closed;g+=s?1:2)t.next(d[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,d=(a?1:2)*t;if(t<1/0&&d<s.length&&s.splice(0,s.length-d),!a){const g=e.now();let v=0;for(let D=1;D<s.length&&s[D]<=g;D+=2)v=D;v&&s.splice(0,v+1)}}}function l(n,t,e){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):s=n??1/0,(0,Hl.B)({connector:()=>new o(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function u(n,t){return(0,Ti.m)(t)?Rn(()=>n,t):Rn(()=>n)}var h=x(9468),m=x(5867);class y{constructor(t){return t}}class C{constructor(){return(0,m.C6)()}}const O=new c.OlP("angularfire2._apps"),z={provide:y,useFactory:function R(n){return n&&1===n.length?n[0]:new y((0,m.Mq)())},deps:[[new c.FiY,O]]},te={provide:C,deps:[[new c.FiY,O]]};function ve(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new y(s)}}let ke=(()=>{class n{constructor(e){(0,m.KN)("angularfire",dn.q4.full,"core"),(0,m.KN)("angularfire",dn.q4.full,"app"),(0,m.KN)("angular",c.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[z,te]}),n})();function Be(n,...t){return{ngModule:ke,providers:[{provide:O,useFactory:ve(n),multi:!0,deps:[c.R0b,c.zs3,dn.HU,...t]}]}}const mt=(0,dn.u3)(m.ZF,!0),Ph=new Map,Lp={activated:!1,tokenObservers:[]},v_={initialized:!1,enabled:!1};function ar(n){return Ph.get(n)||Object.assign({},Lp)}function Fc(){return v_}class RT{constructor(t,e,s,a,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ni.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function PT(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const gi=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ob(n){if(!ar(n).activated)throw gi.create("use-before-activation",{appName:n.name})}function iD(n,t){return sD.apply(this,arguments)}function sD(){return(sD=(0,ni.Z)(function*({url:n,body:t},e){var s,a;const d={"Content-Type":"application/json"},g=e.getImmediate({optional:!0});if(g){const Ee=yield g.getHeartbeatsHeader();Ee&&(d["X-Firebase-Client"]=Ee)}const v={method:"POST",body:JSON.stringify(t),headers:d};let D,S;try{D=yield fetch(n,v)}catch(Ee){throw gi.create("fetch-network-error",{originalErrorMessage:null===(s=Ee)||void 0===s?void 0:s.message})}if(200!==D.status)throw gi.create("fetch-status-error",{httpStatus:D.status});try{S=yield D.json()}catch(Ee){throw gi.create("fetch-parse-error",{originalErrorMessage:null===(a=Ee)||void 0===a?void 0:a.message})}const H=S.ttl.match(/^([\d.]+)(s)$/);if(!H||!H[2]||isNaN(Number(H[1])))throw gi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${S.ttl}`});const U=1e3*Number(H[1]),J=Date.now();return{token:S.token,expireTimeMillis:J+U,issuedAtTimeMillis:J}})).apply(this,arguments)}function kT(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const I_="firebase-app-check-store";let VC=null;function Fb(){return VC||(VC=new Promise((n,t)=>{var e;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{n(a.target.result)},s.onerror=a=>{var d;t(gi.create("storage-open",{originalErrorMessage:null===(d=a.target.error)||void 0===d?void 0:d.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(I_,{keyPath:"compositeKey"})}}catch(s){t(gi.create("storage-open",{originalErrorMessage:null===(e=s)||void 0===e?void 0:e.message}))}}),VC)}function oD(){return(oD=(0,ni.Z)(function*(n,t){const s=(yield Fb()).transaction(I_,"readwrite"),d=s.objectStore(I_).put({compositeKey:n,value:t});return new Promise((g,v)=>{d.onsuccess=D=>{g()},s.onerror=D=>{var S;v(gi.create("storage-set",{originalErrorMessage:null===(S=D.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const D_=new Ff.Yd("@firebase/app-check");function uD(n,t){return(0,F.hl)()?function UT(n,t){return function Lb(n,t){return oD.apply(this,arguments)}(function Ub(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{D_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Bb(){return Fc().enabled}function $b(){return dD.apply(this,arguments)}function dD(){return(dD=(0,ni.Z)(function*(){const n=Fc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const GT={error:"UNKNOWN_ERROR"};function zT(n){return F.US.encodeString(JSON.stringify(n),!1)}function UC(n){return hD.apply(this,arguments)}function hD(){return(hD=(0,ni.Z)(function*(n,t=!1){const e=n.app;Ob(e);const s=ar(e);let d,a=s.token;if(a&&!Vp(a)&&(s.token=void 0,a=void 0),!a){const D=yield s.cachedTokenPromise;D&&(Vp(D)?a=D:yield uD(e,void 0))}if(!t&&a&&Vp(a))return{token:a.token};let v,g=!1;if(Bb()){s.exchangeTokenPromise||(s.exchangeTokenPromise=iD(kT(e,yield $b()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),g=!0);const D=yield s.exchangeTokenPromise;return yield uD(e,D),s.token=D,{token:D.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),g=!0),a=yield ar(e).exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?D_.warn(D.message):D_.error(D),d=D}return a?d?v=Vp(a)?{token:a.token,internalError:d}:Wb(d):(v={token:a.token},s.token=a,yield uD(e,a)):v=Wb(d),g&&jb(e,v),v})).apply(this,arguments)}function pD(n,t){const e=ar(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function Hb(n){const{app:t}=n,e=ar(t);let s=e.tokenRefresher;s||(s=function ZT(n){const{app:t}=n;return new RT((0,ni.Z)(function*(){let s;if(s=ar(t).token?yield UC(n,!0):yield UC(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=ar(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function jb(n,t){const e=ar(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch{}}function Vp(n){return n.expireTimeMillis-Date.now()>0}function Wb(n){return{token:zT(GT),error:n}}class qT{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ar(this.app);for(const e of t)pD(this.app,e.next);return Promise.resolve()}}const Jb="app-check-internal";!function lA(){(0,eo._registerComponent)(new Ha.wA("app-check",n=>function KT(n,t){return new qT(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Jb).initialize()})),(0,eo._registerComponent)(new Ha.wA(Jb,n=>function YT(n){return{getToken:t=>UC(n,t),addTokenListener:t=>function fD(n,t,e,s){const{app:a}=n,d=ar(a);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:s,type:t}],d.token&&Vp(d.token)){const v=d.token;Promise.resolve().then(()=>{e({token:v.token}),Hb(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Hb(n))}(n,"INTERNAL",t),removeTokenListener:t=>pD(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,eo.registerVersion)("@firebase/app-check","0.5.17")}();class b_{constructor(){return(0,dn.vb)("app-check")}}typeof window<"u"&&window;const eT=new c.OlP("angularfire2.auth.use-emulator"),tT=new c.OlP("angularfire2.auth.settings"),nT=new c.OlP("angularfire2.auth.tenant-id"),rT=new c.OlP("angularfire2.auth.langugage-code"),iT=new c.OlP("angularfire2.auth.use-device-language"),sT=new c.OlP("angularfire.auth.persistence"),oT=(n,t,e,s,a,d,g,v)=>(0,xi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const D=t.runOutsideAngular(()=>n.auth());if(e&&D.useEmulator(...e),s&&(D.tenantId=s),D.languageCode=a,d&&D.useDeviceLanguage(),g)for(const[S,H]of Object.entries(g))D.settings[S]=H;return v&&D.setPersistence(v),D},[e,s,a,d,g,v]);let aT=(()=>{class n{constructor(e,s,a,d,g,v,D,S,H,U,J,Ee){const Ve=new Jr.x,dt=Ye(void 0).pipe((0,r.Q)(g.outsideAngular),Rn(()=>d.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,st.U)(()=>(0,xi.on)(e,d,s)),(0,st.U)(It=>oT(It,d,v,S,H,U,D,J)),l({bufferSize:1,refCount:!1}));if(function vo(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{dt.pipe(q()).subscribe();const Nn=dt.pipe(Rn(Wn=>Wn.getRedirectResult().then(fo=>fo,()=>null)),dn.iC,l({bufferSize:1,refCount:!1})),gn=dt.pipe(Rn(Wn=>new tr.y(fo=>({unsubscribe:d.runOutsideAngular(()=>Wn.onAuthStateChanged(xh=>fo.next(xh),xh=>fo.error(xh),()=>fo.complete()))})))),Hr=dt.pipe(Rn(Wn=>new tr.y(fo=>({unsubscribe:d.runOutsideAngular(()=>Wn.onIdTokenChanged(xh=>fo.next(xh),xh=>fo.error(xh),()=>fo.complete()))}))));this.authState=Nn.pipe(u(gn),(0,h.R)(g.outsideAngular),(0,r.Q)(g.insideAngular)),this.user=Nn.pipe(u(Hr),(0,h.R)(g.outsideAngular),(0,r.Q)(g.insideAngular)),this.idToken=this.user.pipe(Rn(Wn=>Wn?(0,nn.D)(Wn.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe(Rn(Wn=>Wn?(0,nn.D)(Wn.getIdTokenResult()):Ye(null))),this.credential=(0,$a.T)(Nn,Ve,this.authState.pipe(ei(Wn=>!Wn))).pipe((0,st.U)(Wn=>Wn?.user?Wn:null),(0,h.R)(g.outsideAngular),(0,r.Q)(g.insideAngular))}return(0,xi.pX)(this,dt,d,{spy:{apply:(It,Nn,gn)=>{(It.startsWith("signIn")||It.startsWith("createUser"))&&gn.then(Hr=>Ve.next(Hr))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(xi.Dh),c.LFG(xi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(dn.HU),c.LFG(eT,8),c.LFG(tT,8),c.LFG(nT,8),c.LFG(rT,8),c.LFG(iT,8),c.LFG(sT,8),c.LFG(b_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function lT(n){return null==n}function uT(n){return"function"==typeof n.set}function cT(n,t){return uT(t)?t:n.ref(t)}function dT(n,t){if(function pA(n){return"string"==typeof n}(n))return t.stringCase();if(uT(n))return t.firebaseCase();if(function gA(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function T_(n,t,e="on",s=rc.z){return new tr.y(a=>{let d=null;return d=n[e](t,(g,v)=>{s.schedule(()=>{a.next({snapshot:g,prevKey:v})}),"once"===e&&s.schedule(()=>a.complete())},g=>{s.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,st.U)(a=>{const{snapshot:d,prevKey:g}=a;let v=null;return d.exists()&&(v=d.key),{type:t,payload:d,prevKey:g,key:v}}),(0,Hl.B)())}function hT(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function yA(n,t){const{payload:e,prevKey:s,key:a}=t,d=hT(n,a),g=function _A(n,t){if(lT(t))return 0;{const e=hT(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let v=null;t.payload.forEach(D=>{const S={payload:D,type:"value",prevKey:v,key:D.key};return v=D.key,n=[...n,S],!1})}return n;case"child_added":if(d>-1){const v=n[d-1];(v&&v.key||null)!==s&&(n=n.filter(D=>D.payload.key!==e.key)).splice(g,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(v=>v.payload.key!==e.key);case"child_changed":return n.map(v=>v.payload.key===a?t:v);case"child_moved":if(d>-1){const v=n.splice(d,1)[0];return(n=n.slice()).splice(g,0,v),n}return n;default:return n}}function fT(n){return(lT(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function pT(n,t,e){return function mA(n,t,e){return T_(n,"value","once",e).pipe(Rn(s=>{const a=[Ye(s)];return t.forEach(d=>a.push(T_(n,d,"on",e))),(0,$a.T)(...a).pipe(gt(yA,[]))}),function ic(n,t=Di.y){return n=n??sc,(0,an.e)((e,s)=>{let a,d=!0;e.subscribe((0,Mn.x)(s,g=>{const v=t(g);(d||!n(a,v))&&(d=!1,a=v,s.next(g))}))})}())}(n,t=fT(t),e)}function gT(n,t,e){const s=(t=fT(t)).map(a=>T_(n,a,"on",e));return(0,$a.T)(...s)}function mT(n,t){return function(s,a){return dT(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function wA(n){return function(e){return e?dT(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function _T(n,t){return function(){return T_(n,"value","on",t)}}const bA=new c.OlP("angularfire2.realtimeDatabaseURL"),TA=new c.OlP("angularfire2.database.use-emulator");let A_=(()=>{class n{constructor(e,s,a,d,g,v,D,S,H,U,J,Ee,Ve,dt,It){this.schedulers=v;const Nn=D,gn=(0,xi.on)(e,g,s);S&&oT(gn,g,H,J,Ee,Ve,U,dt),this.database=(0,xi.cc)(`${gn.name}.database.${a}`,"AngularFireDatabase",gn.name,()=>{const Hr=g.runOutsideAngular(()=>gn.database(a||void 0));return Nn&&Hr.useEmulator(...Nn),Hr},[Nn])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>cT(this.database,e));let d=a;return s&&(d=s(a)),function IA(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:mT(s,"update"),set:mT(s,"set"),push:a=>s.push(a),remove:wA(s),snapshotChanges:a=>pT(n,a,e).pipe(dn.iC),stateChanges:a=>gT(n,a,e).pipe(dn.iC),auditTrail:a=>function vA(n,t,e){return function CA(n,t,e){return function EA(n,t){return T_(n,"value","on",t).pipe((0,st.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function gv(...n){const t=(0,Qr.jO)(n);return(0,an.e)((e,s)=>{const a=n.length,d=new Array(a);let g=n.map(()=>!1),v=!1;for(let D=0;D<a;D++)(0,bi.Xf)(n[D]).subscribe((0,Mn.x)(s,S=>{d[D]=S,!v&&!g[D]&&(g[D]=!0,(v=g.every(Di.y))&&(g=null))},oc.Z));e.subscribe((0,Mn.x)(s,D=>{if(v){const S=[D,...d];s.next(t?t(...S):S)}}))})}(t),(0,st.U)(([a,d])=>{const g=a.lastKeyToLoad,v=d.map(D=>D.key);return{actions:d,lastKeyToLoad:g,loadedKeys:v}}),function mv(n){return(0,an.e)((t,e)=>{let s=!1,a=0;t.subscribe((0,Mn.x)(e,d=>(s||(s=!n(d,a++)))&&e.next(d)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,st.U)(a=>a.actions))}(n,gT(n,t).pipe(gt((a,d)=>[...a,d],[])),e)}(n,a,e).pipe(dn.iC),valueChanges:(a,d)=>pT(n,a,e).pipe((0,st.U)(v=>v.map(D=>d&&d.idField?Object.assign(Object.assign({},D.payload.val()),{[d.idField]:D.key}):D.payload.val())),dn.iC)}}(d,this)}object(e){return function DA(n,t){return{query:n,snapshotChanges:()=>_T(n,t.schedulers.outsideAngular)().pipe(dn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>_T(n,t.schedulers.outsideAngular)().pipe(dn.iC,(0,st.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>cT(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(xi.Dh),c.LFG(xi.xv,8),c.LFG(bA,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(dn.HU),c.LFG(TA,8),c.LFG(aT,8),c.LFG(eT,8),c.LFG(tT,8),c.LFG(nT,8),c.LFG(rT,8),c.LFG(iT,8),c.LFG(sT,8),c.LFG(b_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),AA=(()=>{class n{constructor(){Ba.Z.registerVersion("angularfire",dn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[A_]}),n})();function SA(n,t){if(1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2),c.qZA()()),2&n){const e=t.$implicit;c.xp6(2),c.Oqu(e)}}let MA=(()=>{class n{constructor(e,s,a){this.router=e,this.db=s,this.auth=a,this.title="the_project",this.message=""}ngOnInit(){null==this.auth.Auth().currentUser&&this.router.navigate(["/"]),this.db.list("items").valueChanges().subscribe(s=>{this.data=s}),this.ScrollDownMessageBox()}ngAfterViewChecked(){this.ScrollDownMessageBox()}send(){this.db.list("items").push(this.auth.CurrentUserEmail().split("@")[0]+" : "+this.message).then(()=>{this.ScrollDownMessageBox()}).catch(s=>{console.log(s)}),this.message=""}ScrollDownMessageBox(){var e=document.getElementById("div");e.scrollTop=e.scrollHeight}slurp(){return(0,ni.Z)(function*(){const s=(yield fetch("https://api.github.com/users/github")).json();console.log(s)})()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($n),c.Y36(A_),c.Y36(Bl))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-messaging"]],decls:6,vars:2,consts:[["id","div"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange","keydown.enter"],[3,"click"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0),c.YNc(1,SA,3,1,"div",1),c._UZ(2,"br"),c.TgZ(3,"input",2),c.NdJ("ngModelChange",function(d){return s.message=d})("keydown.enter",function(){return s.send()}),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return s.send()}),c._uU(5,"send"),c.qZA()()),2&e&&(c.xp6(1),c.Q6J("ngForOf",s.data),c.xp6(2),c.Q6J("ngModel",s.message))},dependencies:[mi,zu,Zu,Ug],styles:["#div[_ngcontent-%COMP%]{border:black solid 5px;max-height:98vh;overflow-y:auto}"]}),n})();class RA{constructor(t,e,s,a){this.email=t,this.firstname=e,this.lastname=s,this.phone=a}}let PA=(()=>{class n{constructor(e){this.db=e,this.userList=e.list("users")}createUser(e){this.userList.push({email:e.email,firstname:e.firstname,lastname:e.lastname,phone:e.phone}).catch(s=>{console.error(s)})}getUsers(){return this.db.list("users").snapshotChanges()}getUserById(e){return this.db.list("users",s=>s.orderByKey().equalTo(e)).snapshotChanges()}getUserByEmail(e){return this.db.list("users",s=>s.orderByChild("email").equalTo(e)).snapshotChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(A_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is required"),c.qZA())}function xA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is too short"),c.qZA())}function OA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is too long"),c.qZA())}function kA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is should only contain alphabets"),c.qZA())}function FA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,NA,2,0,"small",22),c.YNc(2,xA,2,0,"small",22),c.YNc(3,OA,2,0,"small",22),c.YNc(4,kA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.firstName.errors.required),c.xp6(1),c.Q6J("ngIf",e.firstName.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.firstName.errors.maxlength),c.xp6(1),c.Q6J("ngIf",e.firstName.errors.pattern)}}function LA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is required"),c.qZA())}function VA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is too short"),c.qZA())}function UA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is too long"),c.qZA())}function BA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is should only contain alphabets"),c.qZA())}function $A(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,LA,2,0,"small",22),c.YNc(2,VA,2,0,"small",22),c.YNc(3,UA,2,0,"small",22),c.YNc(4,BA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.lastName.errors.required),c.xp6(1),c.Q6J("ngIf",e.lastName.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.lastName.errors.maxlength),c.xp6(1),c.Q6J("ngIf",e.lastName.errors.pattern)}}function HA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Email is required"),c.qZA())}function jA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Email is too short"),c.qZA())}function WA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,HA,2,0,"small",22),c.YNc(2,jA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.email.errors.required),c.xp6(1),c.Q6J("ngIf",e.email.errors.email)}}function GA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number is required"),c.qZA())}function zA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number should be all numbers"),c.qZA())}function ZA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number is too short"),c.qZA())}function qA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number is too long"),c.qZA())}function KA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,GA,2,0,"small",22),c.YNc(2,zA,2,0,"small",22),c.YNc(3,ZA,2,0,"small",22),c.YNc(4,qA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.phone.errors.required),c.xp6(1),c.Q6J("ngIf",e.phone.errors.pattern),c.xp6(1),c.Q6J("ngIf",e.phone.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.phone.errors.maxlength)}}function YA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is required"),c.qZA())}function QA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too short"),c.qZA())}function JA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too long"),c.qZA())}function XA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,YA,2,0,"small",22),c.YNc(2,QA,2,0,"small",22),c.YNc(3,JA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.password.errors.required),c.xp6(1),c.Q6J("ngIf",e.password.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.password.errors.maxlength)}}function eS(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is required"),c.qZA())}function tS(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too short"),c.qZA())}function nS(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too long"),c.qZA())}function rS(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,eS,2,0,"small",22),c.YNc(2,tS,2,0,"small",22),c.YNc(3,nS,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.confirmPassword.errors.required),c.xp6(1),c.Q6J("ngIf",e.confirmPassword.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.confirmPassword.errors.maxlength)}}let yT=(()=>{class n{constructor(e,s,a,d,g){this.fb=e,this.authservice=s,this.router=a,this.db=d,this.userService=g,this.userList=d.list("users")}ngOnInit(){this.initRegisterForm()}initRegisterForm(){this.registerForm=this.fb.group({firstName:new fi("",[Hn.required,Hn.minLength(3),Hn.maxLength(15),Hn.pattern("[a-zA-Z ]+")]),lastName:new fi("",[Hn.required,Hn.minLength(3),Hn.maxLength(15),Hn.pattern("[a-zA-Z ]+")]),email:new fi("",[Hn.required,Hn.email]),phone:new fi("",[Hn.required,Hn.pattern("[0-9]+"),Hn.minLength(8),Hn.maxLength(13)]),password:new fi("",[Hn.required,Hn.minLength(6)]),confirmPassword:new fi("",[Hn.required,Hn.minLength(6)])})}get email(){return this.registerForm?.get("email")}get password(){return this.registerForm?.get("password")}get firstName(){return this.registerForm?.get("firstName")}get lastName(){return this.registerForm?.get("lastName")}get phone(){return this.registerForm?.get("phone")}get confirmPassword(){return this.registerForm?.get("confirmPassword")}register(){const e=this.registerForm.get("email").value,s=this.registerForm.get("password").value;this.authservice.CreateNewUser(e,s).then(()=>{this.userService.createUser(new RA(this.email.value,this.firstName.value,this.lastName.value,this.phone.value)),this.router.navigate(["/"])},a=>{this.errorMessage=a,console.log(this.errorMessage)})}pushUser(){this.userList.push({email:this.email,firstname:this.firstName,lastname:this.lastName,phone:this.phone}).then(s=>{this.router.navigate(["/"])}).catch(s=>{console.error(s)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ec),c.Y36(Bl),c.Y36($n),c.Y36(A_),c.Y36(PA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:34,vars:7,consts:[[1,"container"],[1,"card","o-hidden","border-0","shadow-lg","my-5"],[1,"card-body","p-0"],[1,"row"],["id","imageHolder",1,"col-lg-5","d-none","d-lg-block","bg-register-image"],[1,"col-lg-7"],[1,"p-5"],[1,"text-center"],[1,"h4","text-gray-900","mb-4"],[1,"user",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-sm-6","mb-3","mb-sm-0"],["formControlName","firstName","type","text","id","exampleFirstName","placeholder","First Name",1,"form-control","form-control-user"],[4,"ngIf"],[1,"col-sm-6"],["formControlName","lastName","type","text","id","exampleLastName","placeholder","Last Name",1,"form-control","form-control-user"],[1,"form-group"],["formControlName","email","type","email","id","exampleInputEmail","placeholder","Email Address",1,"form-control","form-control-user"],["formControlName","phone","type","text","id","exampleInputEmail","placeholder","Phone Number",1,"form-control","form-control-user"],["formControlName","password","type","password","id","exampleInputPassword","placeholder","Password",1,"form-control","form-control-user"],["formControlName","confirmPassword","type","password","id","exampleRepeatPassword","placeholder","Repeat Password",1,"form-control","form-control-user"],["type","submit",1,"btn","btn-primary","btn-user","btn-block"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"div",4),c.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),c._uU(9,"Create an Account!"),c.qZA()(),c.TgZ(10,"form",9),c.NdJ("ngSubmit",function(){return s.register()}),c.TgZ(11,"div",10)(12,"div",11),c._UZ(13,"input",12),c.YNc(14,FA,5,4,"div",13),c.qZA(),c.TgZ(15,"div",14),c._UZ(16,"input",15),c.YNc(17,$A,5,4,"div",13),c.qZA()(),c.TgZ(18,"div",16),c._UZ(19,"input",17),c.YNc(20,WA,3,2,"div",13),c.qZA(),c.TgZ(21,"div",16),c._UZ(22,"input",18),c.YNc(23,KA,5,4,"div",13),c.qZA(),c.TgZ(24,"div",10)(25,"div",11),c._UZ(26,"input",19),c.YNc(27,XA,4,3,"div",13),c.qZA(),c.TgZ(28,"div",14),c._UZ(29,"input",20),c.YNc(30,rS,4,3,"div",13),c.qZA()(),c.TgZ(31,"button",21),c._uU(32," Register Account "),c.qZA()(),c._UZ(33,"hr"),c.qZA()()()()()()),2&e&&(c.xp6(10),c.Q6J("formGroup",s.registerForm),c.xp6(4),c.Q6J("ngIf",s.firstName.touched&&s.firstName.invalid),c.xp6(3),c.Q6J("ngIf",s.lastName.touched&&s.lastName.invalid),c.xp6(3),c.Q6J("ngIf",s.email.touched&&s.email.invalid),c.xp6(3),c.Q6J("ngIf",s.phone.touched&&s.phone.invalid),c.xp6(4),c.Q6J("ngIf",s.password.touched&&s.password.invalid),c.xp6(3),c.Q6J("ngIf",s.confirmPassword.touched&&s.confirmPassword.invalid))},dependencies:[Sn,Bg,zu,Zu,Sf,Ju,Ul]}),n})();const iS=[{path:"register",component:yT},{path:"messaging",component:MA},{path:"",component:nc},{path:"register",component:yT},{path:"home",component:z0}];let sS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Eg.forRoot(iS),Eg]}),n})(),oS=(()=>{class n{constructor(e){this.db=e,this.title="the_project",this.message=""}ngOnInit(){this.db.list("items").valueChanges().subscribe(s=>{this.data=s})}slurp(){return(0,ni.Z)(function*(){const s=(yield fetch("https://api.github.com/users/github")).json();console.log(s)})()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(A_))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:10,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"]],template:function(e,s){1&e&&(c.TgZ(0,"html",0)(1,"head"),c._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),c.TgZ(5,"title"),c._uU(6,"Document"),c.qZA()(),c.TgZ(7,"body"),c._UZ(8,"router-outlet")(9,"footer"),c.qZA()())},dependencies:[og]}),n})();var aS=x(8247);class vD{constructor(t){return t}}class ET{constructor(){return(0,dn.vb)("auth")}}const ED=new c.OlP("angularfire2.auth-instances");function uS(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new vD(s)}}const cS={provide:ET,deps:[[new c.FiY,ED]]},dS={provide:vD,useFactory:function lS(n,t){const e=(0,dn.JM)("auth",n,t);return e&&new vD(e)},deps:[[new c.FiY,ED],y]};let hS=(()=>{class n{constructor(){(0,m.KN)("angularfire",dn.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dS,cS]}),n})();function fS(n,...t){return{ngModule:hS,providers:[{provide:ED,useFactory:uS(n),multi:!0,deps:[c.R0b,c.zs3,dn.HU,C,[new c.FiY,b_],...t]}]}}const pS=(0,dn.u3)(aS.n,!0);class CD{constructor(t){return t}}const CT="database",wD=new c.OlP("angularfire2.database-instances");function _S(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new CD(s)}}const yS={provide:class gS{constructor(){return(0,dn.vb)(CT)}},deps:[[new c.FiY,wD]]},vS={provide:CD,useFactory:function mS(n,t){const e=(0,dn.JM)(CT,n,t);return e&&new CD(e)},deps:[[new c.FiY,wD],y]};let ES=(()=>{class n{constructor(){(0,m.KN)("angularfire",dn.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[vS,yS]}),n})();function CS(n,...t){return{ngModule:ES,providers:[{provide:wD,useFactory:_S(n),multi:!0,deps:[c.R0b,c.zs3,dn.HU,C,[new c.FiY,ET],[new c.FiY,b_],...t]}]}}const wS=(0,dn.u3)(PC,!0);let IS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[oS]}),n.\u0275inj=c.cJS({imports:[Ls,xi.hO.initializeApp(pi_firebase),AA,sS,bw,hv,Be(()=>mt(pi_firebase)),fS(()=>pS()),CS(()=>wS())]}),n})();(0,c.G48)(),ko().bootstrapModule(IS).catch(n=>console.error(n))},5867:(Je,De,x)=>{x.d(De,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=x(9681);(0,c.registerVersion)("firebase","9.14.0","app")},127:(Je,De,x)=>{x.d(De,{Z:()=>c.Z});var c=x(3942);c.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(Je,De,x)=>{x.r(De);var c=x(5861),B=x(3942),P=x(8247),re=x(2090),ce=(x(9681),x(1877),x(4859));function le(){return window}function j(){return(j=(0,c.Z)(function*(V,M,k){var ee;const{BuildInfo:Se}=le();(0,P.ap)(M.sessionId,"AuthEvent did not contain a session ID");const qe=yield de(M.sessionId),Ke={};return(0,P.aq)()?Ke.ibi=Se.packageName:(0,P.ar)()?Ke.apn=Se.packageName:(0,P.as)(V,"operation-not-supported-in-this-environment"),Se.displayName&&(Ke.appDisplayName=Se.displayName),Ke.sessionId=qe,(0,P.at)(V,k,M.type,void 0,null!==(ee=M.eventId)&&void 0!==ee?ee:void 0,Ke)})).apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(V){const{BuildInfo:M}=le(),k={};(0,P.aq)()?k.iosBundleId=M.packageName:(0,P.ar)()?k.androidPackageName=M.packageName:(0,P.as)(V,"operation-not-supported-in-this-environment"),yield(0,P.au)(V,k)})).apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(V,M,k){const{cordova:ee}=le();let Se=()=>{};try{yield new Promise((qe,Ke)=>{let we=null;function Pe(){var vt;qe();const jt=null===(vt=ee.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof jt&&jt(),"function"==typeof k?.close&&k.close()}function pt(){we||(we=window.setTimeout(()=>{Ke((0,P.aw)(V,"redirect-cancelled-by-user"))},2e3))}function Ht(){"visible"===document?.visibilityState&&pt()}M.addPassiveListener(Pe),document.addEventListener("resume",pt,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",Ht,!1),Se=()=>{M.removePassiveListener(Pe),document.removeEventListener("resume",pt,!1),document.removeEventListener("visibilitychange",Ht,!1),we&&window.clearTimeout(we)}})}finally{Se()}})).apply(this,arguments)}function de(V){return je.apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(V){const M=$e(V),k=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(k)).map(Se=>Se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $e(V){if((0,P.ap)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const M=new ArrayBuffer(V.length),k=new Uint8Array(M);for(let ee=0;ee<V.length;ee++)k[ee]=V.charCodeAt(ee);return k}class Te extends P.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(M)),super.onEvent(M)}initialized(){var M=this;return(0,c.Z)(function*(){yield M.initPromise})()}}function ne(V){return ae.apply(this,arguments)}function ae(){return(ae=(0,c.Z)(function*(V){const M=yield Q()._get(ue(V));return M&&(yield Q()._remove(ue(V))),M})).apply(this,arguments)}function K(){const V=[],M="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<20;k++){const ee=Math.floor(Math.random()*M.length);V.push(M.charAt(ee))}return V.join("")}function Q(){return(0,P.az)(P.b)}function ue(V){return(0,P.aA)("authEvent",V.config.apiKey,V.name)}function xe(V){if(!V?.includes("?"))return{};const[M,...k]=V.split("?");return(0,re.zd)(k.join("?"))}function Ue(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function At(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function Kn(V=(0,re.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gr(){try{const V=self.localStorage,M=P.aI();if(V)return V.setItem(M,"1"),V.removeItem(M),!function Wr(V=(0,re.z$)()){return function lr(){return(0,re.w1)()&&11===document?.documentMode}()||function hn(V=(0,re.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,re.hl)()}catch{return ur()&&(0,re.hl)()}return!1}function ur(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mn(){return(function Ct(){return"http:"===At()||"https:"===At()}()||(0,re.ru)()||Kn())&&!function jr(){return(0,re.b$)()||(0,re.UG)()}()&&Gr()&&!ur()}function xr(){return Kn()&&typeof document<"u"}function He(){return(He=(0,c.Z)(function*(){return!!xr()&&new Promise(V=>{const M=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),V(!0)})})})).apply(this,arguments)}const Dn={LOCAL:"local",NONE:"none",SESSION:"session"},Zt=P.ax,Gn="persistence";function qt(V){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(V){yield V._initializationPromise;const M=et(),k=P.aA(Gn,V.config.apiKey,V.name);M&&M.setItem(k,V._getPersistence())})).apply(this,arguments)}function et(){var V;try{return(null===(V=function xn(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const tt=P.ax;class ft{constructor(){this.browserResolver=P.az(P.k),this.cordovaResolver=P.az(class Vt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(M){var k=this;return(0,c.Z)(function*(){const ee=M._key();let Se=k.eventManagers.get(ee);return Se||(Se=new Te(M),k.eventManagers.set(ee,Se),k.attachCallbackListeners(M,Se)),Se})()}_openPopup(M){(0,P.as)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,k,ee,Se){var qe=this;return(0,c.Z)(function*(){!function ge(V){var M,k,ee,Se,qe,Ke,we,Pe,pt,Ht;const vt=le();(0,P.ax)("function"==typeof(null===(M=vt?.universalLinks)||void 0===M?void 0:M.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(k=vt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(qe=null===(Se=null===(ee=vt?.cordova)||void 0===ee?void 0:ee.plugins)||void 0===Se?void 0:Se.browsertab)||void 0===qe?void 0:qe.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Pe=null===(we=null===(Ke=vt?.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===we?void 0:we.browsertab)||void 0===Pe?void 0:Pe.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Ht=null===(pt=vt?.cordova)||void 0===pt?void 0:pt.InAppBrowser)||void 0===Ht?void 0:Ht.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const Ke=yield qe._initialize(M);yield Ke.initialized(),Ke.resetRedirect(),(0,P.aD)(),yield qe._originValidation(M);const we=function ye(V,M,k=null){return{type:M,eventId:k,urlResponse:null,sessionId:K(),postBody:null,tenantId:V.tenantId,error:(0,P.aw)(V,"no-auth-event")}}(M,ee,Se);yield function Le(V,M){return Q()._set(ue(V),M)}(M,we);const Pe=yield function G(V,M,k){return j.apply(this,arguments)}(M,we,k),pt=yield function Ae(V){const{cordova:M}=le();return new Promise(k=>{M.plugins.browsertab.isAvailable(ee=>{let Se=null;ee?M.plugins.browsertab.openUrl(V):Se=M.InAppBrowser.open(V,(0,P.av)()?"_blank":"_system","location=yes"),k(Se)})})}(Pe);return function _e(V,M,k){return Ze.apply(this,arguments)}(M,Ke,pt)})()}_isIframeWebStorageSupported(M,k){throw new Error("Method not implemented.")}_originValidation(M){const k=M._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Y(V){return Oe.apply(this,arguments)}(M)),this.originValidationPromises[k]}attachCallbackListeners(M,k){const{universalLinks:ee,handleOpenURL:Se,BuildInfo:qe}=le(),Ke=setTimeout((0,c.Z)(function*(){yield ne(M),k.onEvent(Ue())}),500),we=function(){var Ht=(0,c.Z)(function*(vt){clearTimeout(Ke);const jt=yield ne(M);let ri=null;jt&&vt?.url&&(ri=function pe(V,M){var k,ee;const Se=function Ne(V){const M=xe(V),k=M.link?decodeURIComponent(M.link):void 0,ee=xe(k).link,Se=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return xe(Se).link||Se||ee||k||V}(M);if(Se.includes("/__/auth/callback")){const qe=xe(Se),Ke=qe.firebaseError?function ie(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(qe.firebaseError)):null,we=null===(ee=null===(k=Ke?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ee?void 0:ee[1],Pe=we?(0,P.aw)(we):null;return Pe?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:Se,postBody:null}}return null}(jt,vt.url)),k.onEvent(ri||Ue())});return function(jt){return Ht.apply(this,arguments)}}();typeof ee<"u"&&"function"==typeof ee.subscribe&&ee.subscribe(null,we);const Pe=Se,pt=`${qe.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var Ht=(0,c.Z)(function*(vt){if(vt.toLowerCase().startsWith(pt)&&we({url:vt}),"function"==typeof Pe)try{Pe(vt)}catch(jt){console.error(jt)}});return function(vt){return Ht.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(M){var k=this;return(0,c.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,k,ee,Se){var qe=this;return(0,c.Z)(function*(){return yield qe.selectUnderlyingResolver(),qe.assertedUnderlyingResolver._openPopup(M,k,ee,Se)})()}_openRedirect(M,k,ee,Se){var qe=this;return(0,c.Z)(function*(){return yield qe.selectUnderlyingResolver(),qe.assertedUnderlyingResolver._openRedirect(M,k,ee,Se)})()}_isIframeWebStorageSupported(M,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,k)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return xr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,c.Z)(function*(){if(M.underlyingResolver)return;const k=yield function zr(){return He.apply(this,arguments)}();M.underlyingResolver=k?M.cordovaResolver:M.browserResolver})()}}function cr(V){return V.unwrap()}function Jn(V){return Xn(V)}function Xn(V){const{_tokenResponse:M}=V instanceof re.ZR?V.customData:V;if(!M)return null;if(!(V instanceof re.ZR)&&"temporaryProof"in M&&"phoneNumber"in M)return P.P.credentialFromResult(V);const k=M.providerId;if(!k||k===P.o.PASSWORD)return null;let ee;switch(k){case P.o.GOOGLE:ee=P.Q;break;case P.o.FACEBOOK:ee=P.N;break;case P.o.GITHUB:ee=P.T;break;case P.o.TWITTER:ee=P.W;break;default:const{oauthIdToken:Se,oauthAccessToken:qe,oauthTokenSecret:Ke,pendingToken:we,nonce:Pe}=M;return qe||Ke||Se||we?we?k.startsWith("saml.")?P.aL._create(k,we):P.J._fromParams({providerId:k,signInMethod:k,pendingToken:we,idToken:Se,accessToken:qe}):new P.U(k).credential({idToken:Se,accessToken:qe,rawNonce:Pe}):null}return V instanceof re.ZR?ee.credentialFromError(V):ee.credentialFromResult(V)}function yt(V,M){return M.catch(k=>{throw k instanceof re.ZR&&function ut(V,M){var k,ee;const Se=null===(k=M.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ee=M)||void 0===ee?void 0:ee.code))M.resolver=new Un(V,P.an(V,M));else if(Se){const qe=Xn(M),Ke=M;qe&&(Ke.credential=qe,Ke.tenantId=Se.tenantId||void 0,Ke.email=Se.email||void 0,Ke.phoneNumber=Se.phoneNumber||void 0)}}(V,k),k}).then(k=>{const Se=k.user;return{operationType:k.operationType,credential:Jn(k),additionalUserInfo:P.al(k),user:sn.getOrCreate(Se)}})}function hr(V,M){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(V,M){const k=yield M;return{verificationId:k.verificationId,confirm:ee=>yt(V,k.confirm(ee))}})).apply(this,arguments)}class Un{constructor(M,k){this.resolver=k,this.auth=function bn(V){return V.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return yt(cr(this.auth),this.resolver.resolveSignIn(M))}}class sn{constructor(M){this._delegate=M,this.multiFactor=P.ao(M)}static getOrCreate(M){return sn.USER_MAP.has(M)||sn.USER_MAP.set(M,new sn(M)),sn.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var k=this;return(0,c.Z)(function*(){return yt(k.auth,P.Z(k._delegate,M))})()}linkWithPhoneNumber(M,k){var ee=this;return(0,c.Z)(function*(){return hr(ee.auth,P.l(ee._delegate,M,k))})()}linkWithPopup(M){var k=this;return(0,c.Z)(function*(){return yt(k.auth,P.d(k._delegate,M,ft))})()}linkWithRedirect(M){var k=this;return(0,c.Z)(function*(){return yield qt(P.aE(k.auth)),P.g(k._delegate,M,ft)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var k=this;return(0,c.Z)(function*(){return yt(k.auth,P._(k._delegate,M))})()}reauthenticateWithPhoneNumber(M,k){return hr(this.auth,P.r(this._delegate,M,k))}reauthenticateWithPopup(M){return yt(this.auth,P.e(this._delegate,M,ft))}reauthenticateWithRedirect(M){var k=this;return(0,c.Z)(function*(){return yield qt(P.aE(k.auth)),P.h(k._delegate,M,ft)})()}sendEmailVerification(M){return P.ab(this._delegate,M)}unlink(M){var k=this;return(0,c.Z)(function*(){return yield P.ak(k._delegate,M),k})()}updateEmail(M){return P.ag(this._delegate,M)}updatePassword(M){return P.ah(this._delegate,M)}updatePhoneNumber(M){return P.u(this._delegate,M)}updateProfile(M){return P.af(this._delegate,M)}verifyBeforeUpdateEmail(M,k){return P.ac(this._delegate,M,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sn.USER_MAP=new WeakMap;const We=P.ax;let Ce=(()=>{class V{constructor(k,ee){if(this.app=k,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Se}=k.options;We(Se,"invalid-api-key",{appName:k.name}),We(Se,"invalid-api-key",{appName:k.name});const qe=typeof window<"u"?ft:void 0;this._delegate=ee.initialize({options:{persistence:at(Se,k.name),popupRedirectResolver:qe}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ee){P.G(this._delegate,k,ee)}applyActionCode(k){return P.a2(this._delegate,k)}checkActionCode(k){return P.a3(this._delegate,k)}confirmPasswordReset(k,ee){return P.a1(this._delegate,k,ee)}createUserWithEmailAndPassword(k,ee){var Se=this;return(0,c.Z)(function*(){return yt(Se._delegate,P.a5(Se._delegate,k,ee))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return P.aa(this._delegate,k)}isSignInWithEmailLink(k){return P.a8(this._delegate,k)}getRedirectResult(){var k=this;return(0,c.Z)(function*(){We(mn(),k._delegate,"operation-not-supported-in-this-environment");const ee=yield P.j(k._delegate,ft);return ee?yt(k._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function $t(V,M){(0,P.aE)(V)._logFramework(M)}(this._delegate,k)}onAuthStateChanged(k,ee,Se){const{next:qe,error:Ke,complete:we}=Ge(k,ee,Se);return this._delegate.onAuthStateChanged(qe,Ke,we)}onIdTokenChanged(k,ee,Se){const{next:qe,error:Ke,complete:we}=Ge(k,ee,Se);return this._delegate.onIdTokenChanged(qe,Ke,we)}sendSignInLinkToEmail(k,ee){return P.a7(this._delegate,k,ee)}sendPasswordResetEmail(k,ee){return P.a0(this._delegate,k,ee||void 0)}setPersistence(k){var ee=this;return(0,c.Z)(function*(){let Se;switch(function Bi(V,M){Zt(Object.values(Dn).includes(M),V,"invalid-persistence-type"),(0,re.b$)()?Zt(M!==Dn.SESSION,V,"unsupported-persistence-type"):(0,re.UG)()?Zt(M===Dn.NONE,V,"unsupported-persistence-type"):ur()?Zt(M===Dn.NONE||M===Dn.LOCAL&&(0,re.hl)(),V,"unsupported-persistence-type"):Zt(M===Dn.NONE||Gr(),V,"unsupported-persistence-type")}(ee._delegate,k),k){case Dn.SESSION:Se=P.a;break;case Dn.LOCAL:Se=(yield P.az(P.i)._isAvailable())?P.i:P.b;break;case Dn.NONE:Se=P.L;break;default:return P.as("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(Se)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return yt(this._delegate,P.X(this._delegate))}signInWithCredential(k){return yt(this._delegate,P.Y(this._delegate,k))}signInWithCustomToken(k){return yt(this._delegate,P.$(this._delegate,k))}signInWithEmailAndPassword(k,ee){return yt(this._delegate,P.a6(this._delegate,k,ee))}signInWithEmailLink(k,ee){return yt(this._delegate,P.a9(this._delegate,k,ee))}signInWithPhoneNumber(k,ee){return hr(this._delegate,P.s(this._delegate,k,ee))}signInWithPopup(k){var ee=this;return(0,c.Z)(function*(){return We(mn(),ee._delegate,"operation-not-supported-in-this-environment"),yt(ee._delegate,P.c(ee._delegate,k,ft))})()}signInWithRedirect(k){var ee=this;return(0,c.Z)(function*(){return We(mn(),ee._delegate,"operation-not-supported-in-this-environment"),yield qt(ee._delegate),P.f(ee._delegate,k,ft)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return P.a4(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=Dn,V})();function Ge(V,M,k){let ee=V;"function"!=typeof V&&({next:ee,error:M,complete:k}=V);const Se=ee;return{next:Ke=>Se(Ke&&sn.getOrCreate(Ke)),error:M,complete:k}}function at(V,M){const k=function Gt(V,M){const k=et();if(!k)return[];const ee=P.aA(Gn,V,M);switch(k.getItem(ee)){case Dn.NONE:return[P.L];case Dn.LOCAL:return[P.i,P.a];case Dn.SESSION:return[P.a];default:return[]}}(V,M);if(typeof self<"u"&&!k.includes(P.i)&&k.push(P.i),typeof window<"u")for(const ee of[P.b,P.a])k.includes(ee)||k.push(ee);return k.includes(P.L)||k.push(P.L),k}class lt{constructor(){this.providerId="phone",this._delegate=new P.P(cr(B.Z.auth()))}static credential(M,k){return P.P.credential(M,k)}verifyPhoneNumber(M,k){return this._delegate.verifyPhoneNumber(M,k)}unwrap(){return this._delegate}}lt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,lt.PROVIDER_ID=P.P.PROVIDER_ID;const Ot=P.ax;class W{constructor(M,k,ee=B.Z.app()){var Se;Ot(null===(Se=ee.options)||void 0===Se?void 0:Se.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new P.R(M,k,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Z(V){V.INTERNAL.registerComponent(new ce.wA("auth-compat",M=>{const k=M.getProvider("app-compat").getImmediate(),ee=M.getProvider("auth");return new Ce(k,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:lt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:W,TwitterAuthProvider:P.W,Auth:Ce,AuthCredential:P.H,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.2.24")}(B.Z)},9751:(Je,De,x)=>{x.d(De,{y:()=>le});var c=x(930),B=x(727),P=x(8822),re=x(9635),oe=x(2416),he=x(576),ce=x(2806);let le=(()=>{class Y{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const _e=new Y;return _e.source=this,_e.operator=Ae,_e}subscribe(Ae,_e,Ze){const ge=function j(Y){return Y&&Y instanceof c.Lv||function G(Y){return Y&&(0,he.m)(Y.next)&&(0,he.m)(Y.error)&&(0,he.m)(Y.complete)}(Y)&&(0,B.Nn)(Y)}(Ae)?Ae:new c.Hp(Ae,_e,Ze);return(0,ce.x)(()=>{const{operator:de,source:je}=this;ge.add(de?de.call(ge,je):je?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(_e){Ae.error(_e)}}forEach(Ae,_e){return new(_e=fe(_e))((Ze,ge)=>{const de=new c.Hp({next:je=>{try{Ae(je)}catch($e){ge($e),de.unsubscribe()}},error:ge,complete:Ze});this.subscribe(de)})}_subscribe(Ae){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,re.U)(Ae)(this)}toPromise(Ae){return new(Ae=fe(Ae))((_e,Ze)=>{let ge;this.subscribe(de=>ge=de,de=>Ze(de),()=>_e(ge))})}}return Y.create=Oe=>new Y(Oe),Y})();function fe(Y){var Oe;return null!==(Oe=Y??oe.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(Je,De,x)=>{x.d(De,{x:()=>ce});var c=x(9751),B=x(727);const re=(0,x(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=x(8737),he=x(2806);let ce=(()=>{class fe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Y=new le(this,this);return Y.operator=j,Y}_throwIfClosed(){if(this.closed)throw new re}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Y}=this;for(;Y.length;)Y.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Y,isStopped:Oe,observers:Ae}=this;return Y||Oe?B.Lc:(this.currentObservers=null,Ae.push(j),new B.w0(()=>{this.currentObservers=null,(0,oe.P)(Ae,j)}))}_checkFinalizedStatuses(j){const{hasError:Y,thrownError:Oe,isStopped:Ae}=this;Y?j.error(Oe):Ae&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return fe.create=(G,j)=>new le(G,j),fe})();class le extends ce{constructor(G,j){super(),this.destination=G,this.source=j}next(G){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Y||Y.call(j,G)}error(G){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Y||Y.call(j,G)}complete(){var G,j;null===(j=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===j||j.call(G)}_subscribe(G){var j,Y;return null!==(Y=null===(j=this.source)||void 0===j?void 0:j.subscribe(G))&&void 0!==Y?Y:B.Lc}}},930:(Je,De,x)=>{x.d(De,{Hp:()=>Ze,Lv:()=>Y});var c=x(576),B=x(727),P=x(2416),re=x(7849),oe=x(5032);const he=fe("C",void 0,void 0);function fe(Re,Te,ye){return{kind:Re,value:Te,error:ye}}var G=x(3410),j=x(2806);class Y extends B.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,B.Nn)(Te)&&Te.add(this)):this.destination=$e}static create(Te,ye,Le){return new Ze(Te,ye,Le)}next(Te){this.isStopped?je(function le(Re){return fe("N",Re,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?je(function ce(Re){return fe("E",void 0,Re)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?je(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Ae(Re,Te){return Oe.call(Re,Te)}class _e{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ye}=this;if(ye.next)try{ye.next(Te)}catch(Le){ge(Le)}}error(Te){const{partialObserver:ye}=this;if(ye.error)try{ye.error(Te)}catch(Le){ge(Le)}else ge(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ye){ge(ye)}}}class Ze extends Y{constructor(Te,ye,Le){let ne;if(super(),(0,c.m)(Te)||!Te)ne={next:Te??void 0,error:ye??void 0,complete:Le??void 0};else{let ae;this&&P.v.useDeprecatedNextContext?(ae=Object.create(Te),ae.unsubscribe=()=>this.unsubscribe(),ne={next:Te.next&&Ae(Te.next,ae),error:Te.error&&Ae(Te.error,ae),complete:Te.complete&&Ae(Te.complete,ae)}):ne=Te}this.destination=new _e(ne)}}function ge(Re){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Re):(0,re.h)(Re)}function je(Re,Te){const{onStoppedNotification:ye}=P.v;ye&&G.z.setTimeout(()=>ye(Re,Te))}const $e={closed:!0,next:oe.Z,error:function de(Re){throw Re},complete:oe.Z}},727:(Je,De,x)=>{x.d(De,{Lc:()=>he,w0:()=>oe,Nn:()=>ce});var c=x(576);const P=(0,x(3888).d)(fe=>function(j){fe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Y,Oe)=>`${Oe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var re=x(8737);class oe{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ae of j)Ae.remove(this);else j.remove(this);const{initialTeardown:Y}=this;if((0,c.m)(Y))try{Y()}catch(Ae){G=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const Ae of Oe)try{le(Ae)}catch(_e){G=G??[],_e instanceof P?G=[...G,..._e.errors]:G.push(_e)}}if(G)throw new P(G)}}add(G){var j;if(G&&G!==this)if(this.closed)le(G);else{if(G instanceof oe){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(G)}}_hasParent(G){const{_parentage:j}=this;return j===G||Array.isArray(j)&&j.includes(G)}_addParent(G){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(G),j):j?[j,G]:G}_removeParent(G){const{_parentage:j}=this;j===G?this._parentage=null:Array.isArray(j)&&(0,re.P)(j,G)}remove(G){const{_finalizers:j}=this;j&&(0,re.P)(j,G),G instanceof oe&&G._removeParent(this)}}oe.EMPTY=(()=>{const fe=new oe;return fe.closed=!0,fe})();const he=oe.EMPTY;function ce(fe){return fe instanceof oe||fe&&"closed"in fe&&(0,c.m)(fe.remove)&&(0,c.m)(fe.add)&&(0,c.m)(fe.unsubscribe)}function le(fe){(0,c.m)(fe)?fe():fe.unsubscribe()}},2416:(Je,De,x)=>{x.d(De,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Je,De,x)=>{x.d(De,{E:()=>B});const B=new(x(9751).y)(oe=>oe.complete())},8996:(Je,De,x)=>{x.d(De,{D:()=>Te});var c=x(8421),B=x(5363),P=x(9468),he=x(9751),le=x(2202),fe=x(576),G=x(9672);function Y(ye,Le){if(!ye)throw new Error("Iterable cannot be null");return new he.y(ne=>{(0,G.f)(ne,Le,()=>{const ae=ye[Symbol.asyncIterator]();(0,G.f)(ne,Le,()=>{ae.next().then(pe=>{pe.done?ne.complete():ne.next(pe.value)})},0,!0)})})}var Oe=x(3670),Ae=x(8239),_e=x(1144),Ze=x(6495),ge=x(2206),de=x(4532),je=x(3260);function Te(ye,Le){return Le?function Re(ye,Le){if(null!=ye){if((0,Oe.c)(ye))return function re(ye,Le){return(0,c.Xf)(ye).pipe((0,P.R)(Le),(0,B.Q)(Le))}(ye,Le);if((0,_e.z)(ye))return function ce(ye,Le){return new he.y(ne=>{let ae=0;return Le.schedule(function(){ae===ye.length?ne.complete():(ne.next(ye[ae++]),ne.closed||this.schedule())})})}(ye,Le);if((0,Ae.t)(ye))return function oe(ye,Le){return(0,c.Xf)(ye).pipe((0,P.R)(Le),(0,B.Q)(Le))}(ye,Le);if((0,ge.D)(ye))return Y(ye,Le);if((0,Ze.T)(ye))return function j(ye,Le){return new he.y(ne=>{let ae;return(0,G.f)(ne,Le,()=>{ae=ye[le.h](),(0,G.f)(ne,Le,()=>{let pe,K;try{({value:pe,done:K}=ae.next())}catch(Q){return void ne.error(Q)}K?ne.complete():ne.next(pe)},0,!0)}),()=>(0,fe.m)(ae?.return)&&ae.return()})}(ye,Le);if((0,je.L)(ye))return function $e(ye,Le){return Y((0,je.Q)(ye),Le)}(ye,Le)}throw(0,de.z)(ye)}(ye,Le):(0,c.Xf)(ye)}},8421:(Je,De,x)=>{x.d(De,{Xf:()=>Oe});var c=x(655),B=x(1144),P=x(8239),re=x(9751),oe=x(3670),he=x(2206),ce=x(4532),le=x(6495),fe=x(3260),G=x(576),j=x(7849),Y=x(8822);function Oe(Re){if(Re instanceof re.y)return Re;if(null!=Re){if((0,oe.c)(Re))return function Ae(Re){return new re.y(Te=>{const ye=Re[Y.L]();if((0,G.m)(ye.subscribe))return ye.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,B.z)(Re))return function _e(Re){return new re.y(Te=>{for(let ye=0;ye<Re.length&&!Te.closed;ye++)Te.next(Re[ye]);Te.complete()})}(Re);if((0,P.t)(Re))return function Ze(Re){return new re.y(Te=>{Re.then(ye=>{Te.closed||(Te.next(ye),Te.complete())},ye=>Te.error(ye)).then(null,j.h)})}(Re);if((0,he.D)(Re))return de(Re);if((0,le.T)(Re))return function ge(Re){return new re.y(Te=>{for(const ye of Re)if(Te.next(ye),Te.closed)return;Te.complete()})}(Re);if((0,fe.L)(Re))return function je(Re){return de((0,fe.Q)(Re))}(Re)}throw(0,ce.z)(Re)}function de(Re){return new re.y(Te=>{(function $e(Re,Te){var ye,Le,ne,ae;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ye=(0,c.KL)(Re);!(Le=yield ye.next()).done;)if(Te.next(Le.value),Te.closed)return}catch(pe){ne={error:pe}}finally{try{Le&&!Le.done&&(ae=ye.return)&&(yield ae.call(ye))}finally{if(ne)throw ne.error}}Te.complete()})})(Re,Te).catch(ye=>Te.error(ye))})}},6451:(Je,De,x)=>{x.d(De,{T:()=>he});var c=x(8189),B=x(8421),P=x(515),re=x(7669),oe=x(8996);function he(...ce){const le=(0,re.yG)(ce),fe=(0,re._6)(ce,1/0),G=ce;return G.length?1===G.length?(0,B.Xf)(G[0]):(0,c.J)(fe)((0,oe.D)(G,le)):P.E}},5403:(Je,De,x)=>{x.d(De,{x:()=>B});var c=x(930);function B(re,oe,he,ce,le){return new P(re,oe,he,ce,le)}class P extends c.Lv{constructor(oe,he,ce,le,fe,G){super(oe),this.onFinalize=fe,this.shouldUnsubscribe=G,this._next=he?function(j){try{he(j)}catch(Y){oe.error(Y)}}:super._next,this._error=le?function(j){try{le(j)}catch(Y){oe.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(j){oe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(Je,De,x)=>{x.d(De,{U:()=>P});var c=x(4482),B=x(5403);function P(re,oe){return(0,c.e)((he,ce)=>{let le=0;he.subscribe((0,B.x)(ce,fe=>{ce.next(re.call(oe,fe,le++))}))})}},8189:(Je,De,x)=>{x.d(De,{J:()=>P});var c=x(5577),B=x(4671);function P(re=1/0){return(0,c.z)(B.y,re)}},5577:(Je,De,x)=>{x.d(De,{z:()=>le});var c=x(4004),B=x(8421),P=x(4482),re=x(9672),oe=x(5403),ce=x(576);function le(fe,G,j=1/0){return(0,ce.m)(G)?le((Y,Oe)=>(0,c.U)((Ae,_e)=>G(Y,Ae,Oe,_e))((0,B.Xf)(fe(Y,Oe))),j):("number"==typeof G&&(j=G),(0,P.e)((Y,Oe)=>function he(fe,G,j,Y,Oe,Ae,_e,Ze){const ge=[];let de=0,je=0,$e=!1;const Re=()=>{$e&&!ge.length&&!de&&G.complete()},Te=Le=>de<Y?ye(Le):ge.push(Le),ye=Le=>{Ae&&G.next(Le),de++;let ne=!1;(0,B.Xf)(j(Le,je++)).subscribe((0,oe.x)(G,ae=>{Oe?.(ae),Ae?Te(ae):G.next(ae)},()=>{ne=!0},void 0,()=>{if(ne)try{for(de--;ge.length&&de<Y;){const ae=ge.shift();_e?(0,re.f)(G,_e,()=>ye(ae)):ye(ae)}Re()}catch(ae){G.error(ae)}}))};return fe.subscribe((0,oe.x)(G,Te,()=>{$e=!0,Re()})),()=>{Ze?.()}}(Y,Oe,fe,j)))}},5363:(Je,De,x)=>{x.d(De,{Q:()=>re});var c=x(9672),B=x(4482),P=x(5403);function re(oe,he=0){return(0,B.e)((ce,le)=>{ce.subscribe((0,P.x)(le,fe=>(0,c.f)(le,oe,()=>le.next(fe),he),()=>(0,c.f)(le,oe,()=>le.complete(),he),fe=>(0,c.f)(le,oe,()=>le.error(fe),he)))})}},3099:(Je,De,x)=>{x.d(De,{B:()=>oe});var c=x(8421),B=x(7579),P=x(930),re=x(4482);function oe(ce={}){const{connector:le=(()=>new B.x),resetOnError:fe=!0,resetOnComplete:G=!0,resetOnRefCountZero:j=!0}=ce;return Y=>{let Oe,Ae,_e,Ze=0,ge=!1,de=!1;const je=()=>{Ae?.unsubscribe(),Ae=void 0},$e=()=>{je(),Oe=_e=void 0,ge=de=!1},Re=()=>{const Te=Oe;$e(),Te?.unsubscribe()};return(0,re.e)((Te,ye)=>{Ze++,!de&&!ge&&je();const Le=_e=_e??le();ye.add(()=>{Ze--,0===Ze&&!de&&!ge&&(Ae=he(Re,j))}),Le.subscribe(ye),!Oe&&Ze>0&&(Oe=new P.Hp({next:ne=>Le.next(ne),error:ne=>{de=!0,je(),Ae=he($e,fe,ne),Le.error(ne)},complete:()=>{ge=!0,je(),Ae=he($e,G),Le.complete()}}),(0,c.Xf)(Te).subscribe(Oe))})(Y)}}function he(ce,le,...fe){if(!0===le)return void ce();if(!1===le)return;const G=new P.Hp({next:()=>{G.unsubscribe(),ce()}});return le(...fe).subscribe(G)}},9468:(Je,De,x)=>{x.d(De,{R:()=>B});var c=x(4482);function B(P,re=0){return(0,c.e)((oe,he)=>{he.add(P.schedule(()=>oe.subscribe(he),re))})}},8505:(Je,De,x)=>{x.d(De,{b:()=>oe});var c=x(576),B=x(4482),P=x(5403),re=x(4671);function oe(he,ce,le){const fe=(0,c.m)(he)||ce||le?{next:he,error:ce,complete:le}:he;return fe?(0,B.e)((G,j)=>{var Y;null===(Y=fe.subscribe)||void 0===Y||Y.call(fe);let Oe=!0;G.subscribe((0,P.x)(j,Ae=>{var _e;null===(_e=fe.next)||void 0===_e||_e.call(fe,Ae),j.next(Ae)},()=>{var Ae;Oe=!1,null===(Ae=fe.complete)||void 0===Ae||Ae.call(fe),j.complete()},Ae=>{var _e;Oe=!1,null===(_e=fe.error)||void 0===_e||_e.call(fe,Ae),j.error(Ae)},()=>{var Ae,_e;Oe&&(null===(Ae=fe.unsubscribe)||void 0===Ae||Ae.call(fe)),null===(_e=fe.finalize)||void 0===_e||_e.call(fe)}))}):re.y}},4408:(Je,De,x)=>{x.d(De,{o:()=>oe});var c=x(727);class B extends c.w0{constructor(ce,le){super()}schedule(ce,le=0){return this}}const P={setInterval(he,ce,...le){const{delegate:fe}=P;return fe?.setInterval?fe.setInterval(he,ce,...le):setInterval(he,ce,...le)},clearInterval(he){const{delegate:ce}=P;return(ce?.clearInterval||clearInterval)(he)},delegate:void 0};var re=x(8737);class oe extends B{constructor(ce,le){super(ce,le),this.scheduler=ce,this.work=le,this.pending=!1}schedule(ce,le=0){var fe;if(this.closed)return this;this.state=ce;const G=this.id,j=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(j,G,le)),this.pending=!0,this.delay=le,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(j,this.id,le),this}requestAsyncId(ce,le,fe=0){return P.setInterval(ce.flush.bind(ce,this),fe)}recycleAsyncId(ce,le,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return le;null!=le&&P.clearInterval(le)}execute(ce,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ce,le);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,le){let G,fe=!1;try{this.work(ce)}catch(j){fe=!0,G=j||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ce,scheduler:le}=this,{actions:fe}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(fe,this),null!=ce&&(this.id=this.recycleAsyncId(le,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(Je,De,x)=>{x.d(De,{v:()=>P});var c=x(6063);class B{constructor(oe,he=B.now){this.schedulerActionCtor=oe,this.now=he}schedule(oe,he=0,ce){return new this.schedulerActionCtor(this,oe).schedule(ce,he)}}B.now=c.l.now;class P extends B{constructor(oe,he=B.now){super(oe,he),this.actions=[],this._active=!1}flush(oe){const{actions:he}=this;if(this._active)return void he.push(oe);let ce;this._active=!0;do{if(ce=oe.execute(oe.state,oe.delay))break}while(oe=he.shift());if(this._active=!1,ce){for(;oe=he.shift();)oe.unsubscribe();throw ce}}}},4986:(Je,De,x)=>{x.d(De,{z:()=>P});var c=x(4408);const P=new(x(7565).v)(c.o)},6063:(Je,De,x)=>{x.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Je,De,x)=>{x.d(De,{z:()=>c});const c={setTimeout(B,P,...re){const{delegate:oe}=c;return oe?.setTimeout?oe.setTimeout(B,P,...re):setTimeout(B,P,...re)},clearTimeout(B){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(Je,De,x)=>{x.d(De,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Je,De,x)=>{x.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Je,De,x)=>{x.d(De,{_6:()=>he,jO:()=>re,yG:()=>oe});var c=x(576);function P(ce){return ce[ce.length-1]}function re(ce){return(0,c.m)(P(ce))?ce.pop():void 0}function oe(ce){return function B(ce){return ce&&(0,c.m)(ce.schedule)}(P(ce))?ce.pop():void 0}function he(ce,le){return"number"==typeof P(ce)?ce.pop():le}},8737:(Je,De,x)=>{function c(B,P){if(B){const re=B.indexOf(P);0<=re&&B.splice(re,1)}}x.d(De,{P:()=>c})},3888:(Je,De,x)=>{function c(B){const re=B(oe=>{Error.call(oe),oe.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}x.d(De,{d:()=>c})},2806:(Je,De,x)=>{x.d(De,{O:()=>re,x:()=>P});var c=x(2416);let B=null;function P(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const he=!B;if(he&&(B={errorThrown:!1,error:null}),oe(),he){const{errorThrown:ce,error:le}=B;if(B=null,ce)throw le}}else oe()}function re(oe){c.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=oe)}},9672:(Je,De,x)=>{function c(B,P,re,oe=0,he=!1){const ce=P.schedule(function(){re(),he?B.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(B.add(ce),!he)return ce}x.d(De,{f:()=>c})},4671:(Je,De,x)=>{function c(B){return B}x.d(De,{y:()=>c})},1144:(Je,De,x)=>{x.d(De,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(Je,De,x)=>{x.d(De,{D:()=>B});var c=x(576);function B(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},576:(Je,De,x)=>{function c(B){return"function"==typeof B}x.d(De,{m:()=>c})},3670:(Je,De,x)=>{x.d(De,{c:()=>P});var c=x(8822),B=x(576);function P(re){return(0,B.m)(re[c.L])}},6495:(Je,De,x)=>{x.d(De,{T:()=>P});var c=x(2202),B=x(576);function P(re){return(0,B.m)(re?.[c.h])}},8239:(Je,De,x)=>{x.d(De,{t:()=>B});var c=x(576);function B(P){return(0,c.m)(P?.then)}},3260:(Je,De,x)=>{x.d(De,{L:()=>re,Q:()=>P});var c=x(655),B=x(576);function P(oe){return(0,c.FC)(this,arguments,function*(){const ce=oe.getReader();try{for(;;){const{value:le,done:fe}=yield(0,c.qq)(ce.read());if(fe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(le)}}finally{ce.releaseLock()}})}function re(oe){return(0,B.m)(oe?.getReader)}},4482:(Je,De,x)=>{x.d(De,{A:()=>B,e:()=>P});var c=x(576);function B(re){return(0,c.m)(re?.lift)}function P(re){return oe=>{if(B(oe))return oe.lift(function(he){try{return re(he,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Je,De,x)=>{function c(){}x.d(De,{Z:()=>c})},9635:(Je,De,x)=>{x.d(De,{U:()=>P,z:()=>B});var c=x(4671);function B(...re){return P(re)}function P(re){return 0===re.length?c.y:1===re.length?re[0]:function(he){return re.reduce((ce,le)=>le(ce),he)}}},7849:(Je,De,x)=>{x.d(De,{h:()=>P});var c=x(2416),B=x(3410);function P(re){B.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw re;oe(re)})}},4532:(Je,De,x)=>{function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(De,{z:()=>c})},655:(Je,De,x)=>{function re(K,Q){var ue={};for(var ie in K)Object.prototype.hasOwnProperty.call(K,ie)&&Q.indexOf(ie)<0&&(ue[ie]=K[ie]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(ie=Object.getOwnPropertySymbols(K);Ne<ie.length;Ne++)Q.indexOf(ie[Ne])<0&&Object.prototype.propertyIsEnumerable.call(K,ie[Ne])&&(ue[ie[Ne]]=K[ie[Ne]])}return ue}function le(K,Q,ue,ie){return new(ue||(ue=Promise))(function(xe,Xe){function Vt($t){try{Ue(ie.next($t))}catch(Jt){Xe(Jt)}}function Dt($t){try{Ue(ie.throw($t))}catch(Jt){Xe(Jt)}}function Ue($t){$t.done?xe($t.value):function Ne(xe){return xe instanceof ue?xe:new ue(function(Xe){Xe(xe)})}($t.value).then(Vt,Dt)}Ue((ie=ie.apply(K,Q||[])).next())})}function ge(K){return this instanceof ge?(this.v=K,this):new ge(K)}function de(K,Q,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,ie=ue.apply(K,Q||[]),xe=[];return Ne={},Xe("next"),Xe("throw"),Xe("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Xe(Ft){ie[Ft]&&(Ne[Ft]=function(Lt){return new Promise(function(At,Ct){xe.push([Ft,Lt,At,Ct])>1||Vt(Ft,Lt)})})}function Vt(Ft,Lt){try{!function Dt(Ft){Ft.value instanceof ge?Promise.resolve(Ft.value.v).then(Ue,$t):Jt(xe[0][2],Ft)}(ie[Ft](Lt))}catch(At){Jt(xe[0][3],At)}}function Ue(Ft){Vt("next",Ft)}function $t(Ft){Vt("throw",Ft)}function Jt(Ft,Lt){Ft(Lt),xe.shift(),xe.length&&Vt(xe[0][0],xe[0][1])}}function $e(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,Q=K[Symbol.asyncIterator];return Q?Q.call(K):(K=function Y(K){var Q="function"==typeof Symbol&&Symbol.iterator,ue=Q&&K[Q],ie=0;if(ue)return ue.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ie>=K.length&&(K=void 0),{value:K&&K[ie++],done:!K}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),ue={},ie("next"),ie("throw"),ie("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function ie(xe){ue[xe]=K[xe]&&function(Xe){return new Promise(function(Vt,Dt){!function Ne(xe,Xe,Vt,Dt){Promise.resolve(Dt).then(function(Ue){xe({value:Ue,done:Vt})},Xe)}(Vt,Dt,(Xe=K[xe](Xe)).done,Xe.value)})}}}x.d(De,{FC:()=>de,KL:()=>$e,_T:()=>re,mG:()=>le,qq:()=>ge})},4650:(Je,De,x)=>{x.d(De,{$8M:()=>ma,$Z:()=>Ag,AFp:()=>uC,AaK:()=>le,CRH:()=>QE,CZH:()=>Dh,CqO:()=>lc,D6c:()=>kC,EJc:()=>PI,F4k:()=>ir,FYo:()=>wd,FiY:()=>me,G48:()=>$I,GfV:()=>ay,Gpc:()=>j,JOm:()=>ti,LFG:()=>ln,LSH:()=>ju,Lbi:()=>dC,Lck:()=>pn,MMx:()=>ch,NdJ:()=>Gd,OlP:()=>tn,Oqu:()=>so,PXZ:()=>EC,Q6J:()=>Jg,QGY:()=>Vf,QP$:()=>Se,Qsj:()=>R0,R0b:()=>yr,RDi:()=>YC,Rgc:()=>fh,SBq:()=>Pl,Sil:()=>OI,Suo:()=>gp,TTD:()=>_i,TgZ:()=>to,X6Q:()=>TC,XFs:()=>He,Xpm:()=>Ce,Xts:()=>mf,Y36:()=>Qo,YKP:()=>RE,YNc:()=>Yg,Yjl:()=>V,Yz7:()=>Lt,Z0I:()=>jr,ZZ4:()=>__,_Bn:()=>Ka,_UZ:()=>ja,_Vd:()=>Oa,_c5:()=>tD,_uU:()=>Wv,aQg:()=>y_,c2e:()=>Sp,cJS:()=>Ct,cg1:()=>gm,dDg:()=>UI,dqk:()=>ft,eFA:()=>wC,ekj:()=>Hf,eoX:()=>a_,f3M:()=>ei,g9A:()=>Sc,h0i:()=>Ya,hGG:()=>nD,iGM:()=>KE,ifc:()=>tt,ip1:()=>lC,jDz:()=>Nm,kL8:()=>Ga,lG2:()=>Z,lqb:()=>xa,lri:()=>yC,n5z:()=>wi,oAB:()=>Ot,oxw:()=>no,q4F:()=>ly,qLn:()=>Fa,qOj:()=>Zg,qZA:()=>ac,rWj:()=>Np,sBO:()=>HI,sIi:()=>ec,s_b:()=>gh,soG:()=>Mc,tb:()=>s_,tp0:()=>nt,uIk:()=>Kg,vHH:()=>_e,vpe:()=>co,wAp:()=>ht,xp6:()=>fy,z2F:()=>Ah,zSh:()=>mg,zs3:()=>Nl});var c=x(7579),B=x(727),P=x(9751),re=x(6451),oe=x(3099);function he(r){for(let i in r)if(r[i]===he)return i;throw Error("Could not find renamed property on target object.")}function ce(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function le(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(le).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function fe(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const G=he({__forward_ref__:he});function j(r){return r.__forward_ref__=j,r.toString=function(){return le(this())},r}function Y(r){return Oe(r)?r():r}function Oe(r){return"function"==typeof r&&r.hasOwnProperty(G)&&r.__forward_ref__===j}class _e extends Error{constructor(i,o){super(function Ze(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function ge(r){return"string"==typeof r?r:null==r?"":String(r)}function Te(r,i){throw new _e(-201,!1)}function Dt(r,i){null==r&&function Ue(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function Lt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ct(r){return{providers:r.providers||[],imports:r.imports||[]}}function Kn(r){return lr(r,ur)||lr(r,xr)}function jr(r){return null!==Kn(r)}function lr(r,i){return r.hasOwnProperty(i)?r[i]:null}function Gr(r){return r&&(r.hasOwnProperty(mn)||r.hasOwnProperty(zr))?r[mn]:null}const ur=he({\u0275prov:he}),mn=he({\u0275inj:he}),xr=he({ngInjectableDef:he}),zr=he({ngInjectorDef:he});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let xn;function Zt(r){const i=xn;return xn=r,i}function Gn(r,i,o){const l=Kn(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&He.Optional?null:void 0!==i?i:void Te(le(r))}function qt(r){return{toString:r}.toString()}var Xt=(()=>((Xt=Xt||{})[Xt.OnPush=0]="OnPush",Xt[Xt.Default=1]="Default",Xt))(),tt=(()=>{return(r=tt||(tt={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",tt;var r})();const ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jn={},ut=[],Xn=he({\u0275cmp:he}),yt=he({\u0275dir:he}),hr=he({\u0275pipe:he}),Pt=he({\u0275mod:he}),Un=he({\u0275fac:he}),sn=he({__NG_ELEMENT_ID__:he});let We=0;function Ce(r){return qt(()=>{const o=!0===r.standalone,l={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Xt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||ut,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||tt.Emulated,id:"c"+We++,styles:r.styles||ut,_:null,setInput:null,schemas:r.schemas||null,tView:null},h=r.dependencies,m=r.features;return u.inputs=$(r.inputs,l),u.outputs=$(r.outputs),m&&m.forEach(y=>y(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(at).filter(lt):null,u.pipeDefs=h?()=>("function"==typeof h?h():h).map(ee).filter(lt):null,u})}function at(r){return M(r)||k(r)}function lt(r){return null!==r}function Ot(r){return qt(()=>({type:r.type,bootstrap:r.bootstrap||ut,declarations:r.declarations||ut,imports:r.imports||ut,exports:r.exports||ut,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function $(r,i){if(null==r)return Jn;const o={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=l,i&&(i[u]=h)}return o}const Z=Ce;function V(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function M(r){return r[Xn]||null}function k(r){return r[yt]||null}function ee(r){return r[hr]||null}function Se(r){const i=M(r)||k(r)||ee(r);return null!==i&&i.standalone}function qe(r,i){const o=r[Pt]||null;if(!o&&!0===i)throw new Error(`Type ${le(r)} does not have '\u0275mod' property.`);return o}function On(r){return Array.isArray(r)&&"object"==typeof r[1]}function Cr(r){return Array.isArray(r)&&!0===r[1]}function Es(r){return 0!=(8&r.flags)}function el(r){return 2==(2&r.flags)}function mo(r){return 1==(1&r.flags)}function pr(r){return null!==r.template}function tl(r){return 0!=(256&r[2])}function Yn(r,i){return r.hasOwnProperty(Un)?r[Un]:null}class Ds{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function _i(){return fu}function fu(r){return r.type.prototype.ngOnChanges&&(r.setInput=rl),ia}function ia(){const r=bs(this),i=r?.current;if(i){const o=r.previous;if(o===Jn)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function rl(r,i,o,l){const u=bs(r)||function Bh(r,i){return r[pu]=i}(r,{previous:Jn,current:null}),h=u.current||(u.current={}),m=u.previous,y=this.declaredInputs[o],C=m[y];h[y]=new Ds(C&&C.currentValue,i,m===Jn),r[l]=i}_i.ngInherit=!0;const pu="__ngSimpleChanges__";function bs(r){return r[pu]||null}function fn(r){for(;Array.isArray(r);)r=r[0];return r}function kr(r,i){return fn(i[r])}function zn(r,i){return fn(i[r.index])}function Ts(r,i){return r.data[i]}function Ut(r,i){const o=i[r];return On(o)?o:o[0]}function yi(r){return 64==(64&r[2])}function Dr(r,i){return null==i?null:r[i]}function Eo(r){r[18]=0}function _n(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const _t={lFrame:Po(null),bindingsEnabled:!0};function Ki(){return _t.bindingsEnabled}function be(){return _t.lFrame.lView}function Mt(){return _t.lFrame.tView}function kn(){let r=Ss();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ss(){return _t.lFrame.currentTNode}function dr(r,i){const o=_t.lFrame;o.currentTNode=r,o.isParent=i}function aa(){return _t.lFrame.isParent}function So(){return _t.lFrame.bindingIndex++}function yu(r,i){const o=_t.lFrame;o.bindingIndex=o.bindingRootIndex=r,Rs(i)}function Rs(r){_t.lFrame.currentDirectiveIndex=r}function Mo(){return _t.lFrame.currentQueryIndex}function ul(r){_t.lFrame.currentQueryIndex=r}function Ro(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function vu(r,i,o){if(o&He.SkipSelf){let u=i,h=r;for(;!(u=u.parent,null!==u||o&He.Host||(u=Ro(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;i=u,r=h}const l=_t.lFrame=Hc();return l.currentTNode=i,l.lView=r,!0}function Ps(r){const i=Hc(),o=r[1];_t.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Hc(){const r=_t.lFrame,i=null===r?null:r.child;return null===i?Po(r):i}function Po(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function jc(){const r=_t.lFrame;return _t.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Eu=jc;function vi(){const r=jc();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function cn(){return _t.lFrame.selectedIndex}function ui(r){_t.lFrame.selectedIndex=r}function on(){const r=_t.lFrame;return Ts(r.tView,r.selectedIndex)}function la(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:R}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),C&&(r.viewHooks||(r.viewHooks=[])).push(-o,C),b&&((r.viewHooks||(r.viewHooks=[])).push(o,b),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,b)),null!=R&&(r.destroyHooks||(r.destroyHooks=[])).push(o,R)}}function Ns(r,i,o){Os(r,i,3,o)}function xs(r,i,o,l){(3&r[2])===o&&Os(r,i,o,l)}function Iu(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Os(r,i,o,l){const h=l??-1,m=i.length-1;let y=0;for(let C=void 0!==l?65535&r[18]:0;C<m;C++)if("number"==typeof i[C+1]){if(y=i[C],null!=l&&y>=l)break}else i[C]<0&&(r[18]+=65536),(y<h||-1==h)&&(Du(r,o,i,C),r[18]=(4294901760&r[18])+C+2),C++}function Du(r,i,o,l){const u=o[l]<0,h=o[l+1],y=r[u?-o[l]:o[l]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(y)}finally{}}}else try{h.call(y)}finally{}}class br{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function ci(r,i,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const h=o[l++],m=o[l++],y=o[l++];r.setAttribute(i,m,y,h)}else{const h=u,m=o[++l];gl(h)?r.setProperty(i,h,m):r.setAttribute(i,h,m),l++}}return l}function No(r){return 3===r||4===r||6===r}function gl(r){return 64===r.charCodeAt(0)}function xo(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const u=i[l];"number"==typeof u?o=u:0===o||Tu(r,o,u,null,-1===o||2===o?i[++l]:null)}}return r}function Tu(r,i,o,l,u){let h=0,m=r.length;if(-1===i)m=-1;else for(;h<r.length;){const y=r[h++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=h-1;break}}}for(;h<r.length;){const y=r[h];if("number"==typeof y)break;if(y===o){if(null===l)return void(null!==u&&(r[h+1]=u));if(l===r[h+1])return void(r[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==m&&(r.splice(m,0,i),h=m+1),r.splice(h++,0,o),null!==l&&r.splice(h++,0,l),null!==u&&r.splice(h++,0,u)}function zc(r){return-1!==r}function Ln(r){return 32767&r}function Ci(r,i){let o=function Zc(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let ml=!0;function Oo(r){const i=ml;return ml=r,i}let Au=0;const mr={};function di(r,i){const o=fa(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,_l(l.data,r),_l(i,null),_l(l.blueprint,null));const u=ko(r,i),h=r.injectorIndex;if(zc(u)){const m=Ln(u),y=Ci(u,i),C=y[1].data;for(let b=0;b<8;b++)i[h+b]=y[m+b]|C[m+b]}return i[h+8]=u,h}function _l(r,i){r.push(0,0,0,0,0,0,0,0,i)}function fa(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function ko(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,u=i;for(;null!==u;){if(l=Hs(u),null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Qi(r,i,o){!function Su(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(sn)&&(l=o[sn]),null==l&&(l=o[sn]=Au++);const u=255&l;i.data[r+(u>>5)]|=1<<u}(r,i,o)}function Fs(r,i,o){if(o&He.Optional||void 0!==r)return r;Te()}function Ls(r,i,o,l){if(o&He.Optional&&void 0===l&&(l=null),0==(o&(He.Self|He.Host))){const u=r[9],h=Zt(void 0);try{return u?u.get(i,l,o&He.Optional):Gn(i,l,o&He.Optional)}finally{Zt(h)}}return Fs(l,0,o)}function Vs(r,i,o,l=He.Default,u){if(null!==r){if(1024&i[2]){const m=function Yc(r,i,o,l,u){let h=r,m=i;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const y=Mu(h,m,o,l|He.Self,mr);if(y!==mr)return y;let C=h.parent;if(!C){const b=m[21];if(b){const R=b.get(o,mr,l);if(R!==mr)return R}C=Hs(m),m=m[15]}h=C}return u}(r,i,o,l,mr);if(m!==mr)return m}const h=Mu(r,i,o,l,mr);if(h!==mr)return h}return Ls(i,o,l,u)}function Mu(r,i,o,l,u){const h=function Kc(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(sn)?r[sn]:void 0;return"number"==typeof i?i>=0?255&i:yl:i}(o);if("function"==typeof h){if(!vu(i,r,l))return l&He.Host?Fs(u,0,l):Ls(i,o,l,u);try{const m=h(l);if(null!=m||l&He.Optional)return m;Te()}finally{Eu()}}else if("number"==typeof h){let m=null,y=fa(r,i),C=-1,b=l&He.Host?i[16][6]:null;for((-1===y||l&He.SkipSelf)&&(C=-1===y?ko(r,i):i[y+8],-1!==C&&ga(l,!1)?(m=i[1],y=Ln(C),i=Ci(C,i)):y=-1);-1!==y;){const R=i[1];if(Us(h,y,R.data)){const O=pa(y,i,o,m,l,b);if(O!==mr)return O}C=i[y+8],-1!==C&&ga(l,i[1].data[y+8]===b)&&Us(h,y,i)?(m=R,y=Ln(C),i=Ci(C,i)):y=-1}}return u}function pa(r,i,o,l,u,h){const m=i[1],y=m.data[r+8],R=Lo(y,m,o,null==l?el(y)&&ml:l!=m&&0!=(3&y.type),u&He.Host&&h===y);return null!==R?Kr(i,m,R,y):mr}function Lo(r,i,o,l,u){const h=r.providerIndexes,m=i.data,y=1048575&h,C=r.directiveStart,R=h>>20,z=u?y+R:r.directiveEnd;for(let te=l?y:y+R;te<z;te++){const ve=m[te];if(te<C&&o===ve||te>=C&&ve.type===o)return te}if(u){const te=m[C];if(te&&pr(te)&&te.type===o)return C}return null}function Kr(r,i,o,l){let u=r[o];const h=i.data;if(function pl(r){return r instanceof br}(u)){const m=u;m.resolving&&function je(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new _e(-200,`Circular dependency in DI detected for ${r}${o}`)}(function de(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ge(r)}(h[o]));const y=Oo(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?Zt(m.injectImpl):null;vu(r,l,He.Default);try{u=r[o]=m.factory(void 0,h,r,l),i.firstCreatePass&&o>=l.directiveStart&&function fl(r,i,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(l){const m=fu(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==C&&Zt(C),Oo(y),m.resolving=!1,Eu()}}return u}function Us(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function ga(r,i){return!(r&He.Self||r&He.Host&&i)}class Bs{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return Vs(this._tNode,this._lView,i,l,o)}}function yl(){return new Bs(kn(),be())}function wi(r){return qt(()=>{const i=r.prototype.constructor,o=i[Un]||$s(i),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const h=u[Un]||$s(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function $s(r){return Oe(r)?()=>{const i=$s(Y(r));return i&&i()}:Yn(r)}function Hs(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function ma(r){return function Fo(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const h=o[u];if(No(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(h===i)return o[u+1];u+=2}}}return null}(kn(),r)}const js="__parameters__";function Gs(r,i,o){return qt(()=>{const l=function vl(r){return function(...o){if(r){const l=r(...o);for(const u in l)this[u]=l[u]}}}(i);function u(...h){if(this instanceof u)return l.apply(this,h),this;const m=new u(...h);return y.annotation=m,y;function y(C,b,R){const O=C.hasOwnProperty(js)?C[js]:Object.defineProperty(C,js,{value:[]})[js];for(;O.length<=R;)O.push(null);return(O[R]=O[R]||[]).push(m),C}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class tn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Lt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rn(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),rn(l,i)):i!==r&&i.push(l)}return i}function hi(r,i){r.forEach(o=>Array.isArray(o)?hi(o,i):i(o))}function Xi(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function tr(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function st(r,i,o){let l=Xr(r,i);return l>=0?r[1|l]=o:(l=~l,function Xc(r,i,o,l){let u=r.length;if(u==i)r.push(o,l);else if(1===u)r.push(l,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function El(r,i){const o=Xr(r,i);if(o>=0)return r[1|o]}function Xr(r,i){return function Vo(r,i,o){let l=0,u=r.length>>o;for(;u!==l;){const h=l+(u-l>>1),m=r[h<<o];if(i===m)return h<<o;m>i?u=h:l=h+1}return~(u<<o)}(r,i,1)}const Lr={},Ca="__NG_DI_FLAG__",Ti="ngTempTokenPath",nr=/\n/gm,an="__source";let ns;function rs(r){const i=ns;return ns=r,i}function Rn(r,i=He.Default){if(void 0===ns)throw new _e(-203,!1);return null===ns?Gn(r,void 0,i):ns.get(r,i&He.Optional?null:void 0,i)}function ln(r,i=He.Default){return(function Dn(){return xn}()||Rn)(Y(r),i)}function ei(r,i=He.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),ln(r,i)}function w(r){const i=[];for(let o=0;o<r.length;o++){const l=Y(r[o]);if(Array.isArray(l)){if(0===l.length)throw new _e(900,!1);let u,h=He.Default;for(let m=0;m<l.length;m++){const y=l[m],C=A(y);"number"==typeof C?-1===C?u=y.token:h|=C:u=y}i.push(ln(u,h))}else i.push(ln(l))}return i}function I(r,i){return r[Ca]=i,r.prototype[Ca]=i,r}function A(r){return r[Ca]}const me=I(Gs("Optional"),8),nt=I(Gs("SkipSelf"),4);var ti=(()=>((ti=ti||{})[ti.Important=1]="Important",ti[ti.DashCase=2]="DashCase",ti))();const Il=new Map;let Yh=0;const f="__ngContext__";function p(r,i){On(i)?(r[f]=i[20],function Kp(r){Il.set(r[20],r)}(i)):r[f]=i}function Dl(r,i){return undefined(r,i)}function Wo(r){const i=r[3];return Cr(i)?i[3]:i}function Go(r){return tf(r[13])}function Ks(r){return tf(r[4])}function tf(r){for(;null!==r&&!Cr(r);)r=r[4];return r}function Ma(r,i,o,l,u){if(null!=l){let h,m=!1;Cr(l)?h=l:On(l)&&(m=!0,l=l[0]);const y=fn(l);0===r&&null!==o?null==u?U_(i,o,y):Ra(i,o,y,u||null,!0):1===r&&null!==o?Ra(i,o,y,u||null,!0):2===r?function af(r,i,o){const l=Mi(r,i);l&&function eg(r,i,o,l){r.removeChild(i,o,l)}(r,l,i,o)}(i,y,m):3===r&&i.destroyNode(y),null!=h&&function ZC(r,i,o,l,u){const h=o[7];h!==fn(o)&&Ma(i,r,l,h,u);for(let y=10;y<o.length;y++){const C=o[y];Al(C[1],C,r,i,l,h)}}(i,r,h,o,u)}}function ud(r,i,o){return r.createElement(i,o)}function k_(r,i){const o=r[9],l=o.indexOf(i),u=i[3];512&i[2]&&(i[2]&=-513,_n(u,-1)),o.splice(l,1)}function Qp(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const u=l[17];null!==u&&u!==r&&k_(u,l),i>0&&(r[o-1][4]=l[4]);const h=tr(r,10+i);!function bl(r,i){Al(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function F_(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Al(r,i,o,3,null,null),function $C(r){let i=r[13];if(!i)return Jp(r[1],r);for(;i;){let o=null;if(On(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)On(i)&&Jp(i[1],i),i=i[3];null===i&&(i=r),On(i)&&Jp(i[1],i),o=i&&i[4]}i=o}}(i)}}function Jp(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function GC(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const u=i[o[l]];if(!(u instanceof br)){const h=o[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=u[h[m]],C=h[m+1];try{C.call(y)}finally{}}else try{h.call(u)}finally{}}}}(r,i),function WC(r,i){const o=r.cleanup,l=i[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],y="function"==typeof m?m(i):fn(i[m]),C=l[u=o[h+2]],b=o[h+3];"boolean"==typeof b?y.removeEventListener(o[h],C,b):b>=0?l[u=b]():l[u=-b].unsubscribe(),h+=2}else{const m=l[u=o[h+1]];o[h].call(m)}if(null!==l){for(let h=u+1;h<l.length;h++)(0,l[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&Cr(i[3])){o!==i[3]&&k_(o,i);const l=i[19];null!==l&&l.detachView(r)}!function Lu(r){Il.delete(r[20])}(i)}}function L_(r,i,o){return function V_(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const u=r.data[l.directiveStart].encapsulation;if(u===tt.None||u===tt.Emulated)return null}return zn(l,o)}(r,i.parent,o)}function Ra(r,i,o,l,u){r.insertBefore(i,o,l,u)}function U_(r,i,o){r.appendChild(i,o)}function Xp(r,i,o,l,u){null!==l?Ra(r,i,o,l,u):U_(r,i,o)}function Mi(r,i){return r.parentNode(i)}let ag,$_=function ng(r,i,o){return 40&r.type?zn(r,o):null};function sf(r,i,o,l){const u=L_(r,l,i),h=i[11],y=function tg(r,i,o){return $_(r,i,o)}(l.parent||i[6],l,i);if(null!=u)if(Array.isArray(o))for(let C=0;C<o.length;C++)Xp(h,u,o[C],y,!1);else Xp(h,u,o,y,!1)}function Tl(r,i){if(null!==i){const o=i.type;if(3&o)return zn(i,r);if(4&o)return cd(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return Tl(r,l);{const u=r[i.index];return Cr(u)?cd(-1,u):fn(u)}}if(32&o)return Dl(i,r)()||fn(r[i.index]);{const l=ig(r,i);return null!==l?Array.isArray(l)?l[0]:Tl(Wo(r[16]),l):Tl(r,i.next)}}return null}function ig(r,i){return null!==i?r[16][6].projection[i.projection]:null}function cd(r,i){const o=10+r+1;if(o<i.length){const l=i[o],u=l[1].firstChild;if(null!==u)return Tl(l,u)}return i[7]}function dd(r,i,o,l,u,h,m){for(;null!=o;){const y=l[o.index],C=o.type;if(m&&0===i&&(y&&p(fn(y),l),o.flags|=4),64!=(64&o.flags))if(8&C)dd(r,i,o.child,l,u,h,!1),Ma(i,r,u,y,h);else if(32&C){const b=Dl(o,l);let R;for(;R=b();)Ma(i,r,u,R,h);Ma(i,r,u,y,h)}else 16&C?$u(r,i,l,o,u,h):Ma(i,r,u,y,h);o=m?o.projectionNext:o.next}}function Al(r,i,o,l,u,h){dd(o,l,r.firstChild,i,u,h,!1)}function $u(r,i,o,l,u,h){const m=o[16],C=m[6].projection[l.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)Ma(i,r,u,C[b],h);else dd(r,i,C,m[3],u,h,!0)}function lf(r,i,o){r.setAttribute(i,"style",o)}function uf(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function YC(r){ag=r}class hf{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qo(r){return r instanceof hf?r.changingThisBreaksApplicationSecurity:r}const md=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Bn=(()=>((Bn=Bn||{})[Bn.NONE=0]="NONE",Bn[Bn.HTML=1]="HTML",Bn[Bn.STYLE=2]="STYLE",Bn[Bn.SCRIPT=3]="SCRIPT",Bn[Bn.URL=4]="URL",Bn[Bn.RESOURCE_URL=5]="RESOURCE_URL",Bn))();function ju(r){const i=function Na(){const r=be();return r&&r[12]}();return i?i.sanitize(Bn.URL,r)||"":function Ko(r,i){const o=function r0(r){return r instanceof hf&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?qo(r):function Ml(r){return(r=String(r)).match(md)?r:"unsafe:"+r}(ge(r))}const mf=new tn("ENVIRONMENT_INITIALIZER"),Wu=new tn("INJECTOR",-1),hg=new tn("INJECTOR_DEF_TYPES");class Q_{get(i,o=Lr){if(o===Lr){const l=new Error(`NullInjectorError: No provider for ${le(i)}!`);throw l.name="NullInjectorError",l}return o}}function y0(...r){return{\u0275providers:J_(0,r)}}function J_(r,...i){const o=[],l=new Set;let u;return hi(i,h=>{const m=h;fg(m,o,[],l)&&(u||(u=[]),u.push(m))}),void 0!==u&&X_(u,o),o}function X_(r,i){for(let o=0;o<r.length;o++){const{providers:u}=r[o];hi(u,h=>{i.push(h)})}}function fg(r,i,o,l){if(!(r=Y(r)))return!1;let u=null,h=Gr(r);const m=!h&&M(r);if(h||m){if(m&&!m.standalone)return!1;u=r}else{const C=r.ngModule;if(h=Gr(C),!h)return!1;u=C}const y=l.has(u);if(m){if(y)return!1;if(l.add(u),m.dependencies){const C="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const b of C)fg(b,i,o,l)}}else{if(!h)return!1;{if(null!=h.imports&&!y){let b;l.add(u);try{hi(h.imports,R=>{fg(R,i,o,l)&&(b||(b=[]),b.push(R))})}finally{}void 0!==b&&X_(b,i)}if(!y){const b=Yn(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:ut},{provide:hg,useValue:u,multi:!0},{provide:mf,useValue:()=>ln(u),multi:!0})}const C=h.providers;null==C||y||hi(C,R=>{i.push(R)})}}return u!==r&&void 0!==r.providers}const v0=he({provide:String,useValue:he});function gg(r){return null!==r&&"object"==typeof r&&v0 in r}function Rl(r){return"function"==typeof r}const mg=new tn("Set Injector scope."),Ed={},C0={};let _f;function Cd(){return void 0===_f&&(_f=new Q_),_f}class xa{}class _g extends xa{constructor(i,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vf(i,m=>this.processProvider(m)),this.records.set(Wu,Gu(void 0,this)),u.has("environment")&&this.records.set(xa,Gu(void 0,this));const h=this.records.get(mg);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(hg.multi,ut,He.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=rs(this),l=Zt(void 0);try{return i()}finally{rs(o),Zt(l)}}get(i,o=Lr,l=He.Default){this.assertNotDestroyed();const u=rs(this),h=Zt(void 0);try{if(!(l&He.SkipSelf)){let y=this.records.get(i);if(void 0===y){const C=function ry(r){return"function"==typeof r||"object"==typeof r&&r instanceof tn}(i)&&Kn(i);y=C&&this.injectableDefInScope(C)?Gu(yf(i),Ed):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(l&He.Self?Cd():this.parent).get(i,o=l&He.Optional&&o===Lr?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Ti]=m[Ti]||[]).unshift(le(i)),u)throw m;return function L(r,i,o,l){const u=r[Ti];throw i[an]&&u.unshift(i[an]),r.message=function q(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=le(i);if(Array.isArray(i))u=i.map(le).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):le(y)))}u=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${r.replace(nr,"\n  ")}`}("\n"+r.message,u,o,l),r.ngTokenPath=u,r[Ti]=null,r}(m,i,"R3InjectorError",this.source)}throw m}finally{Zt(h),rs(u)}}resolveInjectorInitializers(){const i=rs(this),o=Zt(void 0);try{const l=this.get(mf.multi,ut,He.Self);for(const u of l)u()}finally{rs(i),Zt(o)}}toString(){const i=[],o=this.records;for(const l of o.keys())i.push(le(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(i){let o=Rl(i=Y(i))?i:Y(i&&i.provide);const l=function I0(r){return gg(r)?Gu(void 0,r.useValue):Gu(ny(r),Ed)}(i);if(Rl(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=Gu(void 0,Ed,!0),u.factory=()=>w(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,l)}hydrate(i,o){return o.value===Ed&&(o.value=C0,o.value=o.factory()),"object"==typeof o.value&&o.value&&function b0(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Y(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function yf(r){const i=Kn(r),o=null!==i?i.factory:Yn(r);if(null!==o)return o;if(r instanceof tn)throw new _e(204,!1);if(r instanceof Function)return function w0(r){const i=r.length;if(i>0)throw function es(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}(i,"?"),new _e(204,!1);const o=function hn(r){const i=r&&(r[ur]||r[xr]);if(i){const o=function Wr(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new _e(204,!1)}function ny(r,i,o){let l;if(Rl(r)){const u=Y(r);return Yn(u)||yf(u)}if(gg(r))l=()=>Y(r.useValue);else if(function ty(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...w(r.deps||[]));else if(function ey(r){return!(!r||!r.useExisting)}(r))l=()=>ln(Y(r.useExisting));else{const u=Y(r&&(r.useClass||r.provide));if(!function D0(r){return!!r.deps}(r))return Yn(u)||yf(u);l=()=>new u(...w(r.deps))}return l}function Gu(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function yg(r){return!!r.\u0275providers}function vf(r,i){for(const o of r)Array.isArray(o)?vf(o,i):yg(o)?vf(o.\u0275providers,i):i(o)}class T0{}class S0{resolveComponentFactory(i){throw function A0(r){const i=Error(`No component factory found for ${le(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Oa=(()=>{class r{}return r.NULL=new S0,r})();function oy(){return ka(kn(),be())}function ka(r,i){return new Pl(zn(r,i))}let Pl=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=oy,r})();function M0(r){return r instanceof Pl?r.nativeElement:r}class wd{}let R0=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function P0(){const r=be(),o=Ut(kn().index,r);return(On(o)?o:r)[11]}(),r})(),N0=(()=>{class r{}return r.\u0275prov=Lt({token:r,providedIn:"root",factory:()=>null}),r})();class ay{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ly=new ay("14.2.12"),Ef={};function Cf(r){return r.ngOriginalError}class Fa{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Cf(i);for(;o&&Cf(o);)o=Cf(o);return o||null}}function Ys(r){return r instanceof Function?r():r}function vg(r,i,o){let l=r.length;for(;;){const u=r.indexOf(i,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const h=i.length;if(u+h===l||r.charCodeAt(u+h)<=32)return u}o=u+1}}const bf="ng-template";function U0(r,i,o){let l=0;for(;l<r.length;){let u=r[l++];if(o&&"class"===u){if(u=r[l],-1!==vg(u.toLowerCase(),i,0))return!0}else if(1===u){for(;l<r.length&&"string"==typeof(u=r[l++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function cy(r){return 4===r.type&&r.value!==bf}function B0(r,i,o){return i===(4!==r.type||o?r.value:bf)}function dy(r,i,o){let l=4;const u=r.attrs||[],h=function hy(r){for(let i=0;i<r.length;i++)if(No(r[i]))return i;return r.length}(u);let m=!1;for(let y=0;y<i.length;y++){const C=i[y];if("number"!=typeof C){if(!m)if(4&l){if(l=2|1&l,""!==C&&!B0(r,C,o)||""===C&&1===i.length){if(as(l))return!1;m=!0}}else{const b=8&l?C:i[++y];if(8&l&&null!==r.attrs){if(!U0(r.attrs,b,o)){if(as(l))return!1;m=!0}continue}const O=OD(8&l?"class":C,u,cy(r),o);if(-1===O){if(as(l))return!1;m=!0;continue}if(""!==b){let z;z=O>h?"":u[O+1].toLowerCase();const te=8&l?z:null;if(te&&-1!==vg(te,b,0)||2&l&&b!==z){if(as(l))return!1;m=!0}}}}else{if(!m&&!as(l)&&!as(C))return!1;if(m&&as(C))continue;m=!1,l=C|1&l}}return as(l)||m}function as(r){return 0==(1&r)}function OD(r,i,o,l){if(null===i)return-1;let u=0;if(l||!o){let h=!1;for(;u<i.length;){const m=i[u];if(m===r)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=i[++u];for(;"string"==typeof y;)y=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function $0(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function Dd(r,i,o=!1){for(let l=0;l<i.length;l++)if(dy(r,i[l],o))return!0;return!1}function Eg(r,i){return r?":not("+i.trim()+")":i}function j0(r){let i=r[0],o=1,l=2,u="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&l){const y=r[++o];u+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?u+="."+m:4&l&&(u+=" "+m);else""!==u&&!as(m)&&(i+=Eg(h,u),u=""),l=m,h=h||!as(l);o++}return""!==u&&(i+=Eg(h,u)),i}const bt={};function fy(r){Cg(Mt(),be(),cn()+r,!1)}function Cg(r,i,o,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&Ns(i,h,o)}else{const h=r.preOrderHooks;null!==h&&xs(i,h,0,o)}ui(o)}function _y(r,i=null,o=null,l){const u=yy(r,i,o,l);return u.resolveInjectorInitializers(),u}function yy(r,i=null,o=null,l,u=new Set){const h=[o||ut,y0(r)];return l=l||("object"==typeof r?void 0:le(r)),new _g(h,i||Cd(),l||null,u)}let Nl=(()=>{class r{static create(o,l){if(Array.isArray(o))return _y({name:""},l,o,"");{const u=o.name??"";return _y({name:u},o.parent,o.providers,u)}}}return r.THROW_IF_NOT_FOUND=Lr,r.NULL=new Q_,r.\u0275prov=Lt({token:r,providedIn:"any",factory:()=>ln(Wu)}),r.__NG_ELEMENT_ID__=-1,r})();function Qo(r,i=He.Default){const o=be();return null===o?ln(r,i):Vs(kn(),o,Y(r),i)}function Ag(){throw new Error("invalid")}function Sd(r,i){return r<<17|i<<2}function Cn(r){return r>>17&32767}function Py(r){return 2|r}function Ua(r){return(131068&r)>>2}function Zu(r,i){return-131069&r|i<<2}function Md(r){return 1|r}function xg(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],h=o[l+1];if(-1!==h){const m=r.data[h];ul(u),m.contentQueries(2,i[h],h)}}}function Nf(r,i,o,l,u,h,m,y,C,b,R){const O=i.blueprint.slice();return O[0]=u,O[2]=76|l,(null!==R||r&&1024&r[2])&&(O[2]|=1024),Eo(O),O[3]=O[15]=r,O[8]=o,O[10]=m||r&&r[10],O[11]=y||r&&r[11],O[12]=C||r&&r[12]||null,O[9]=b||r&&r[9]||null,O[6]=h,O[20]=function qp(){return Yh++}(),O[21]=R,O[16]=2==i.type?r[16]:O,O}function Od(r,i,o,l,u){let h=r.data[i];if(null===h)h=function Og(r,i,o,l,u){const h=Ss(),m=aa(),C=r.data[i]=function fi(r,i,o,l,u,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,l,u);return null===r.firstChild&&(r.firstChild=C),null!==h&&(m?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(r,i,o,l,u),function _u(){return _t.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=u;const m=function oa(){const r=_t.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return dr(h,!0),h}function Vl(r,i,o,l){if(0===o)return-1;const u=i.length;for(let h=0;h<o;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return u}function jy(r,i,o){Ps(i);try{const l=r.viewQuery;null!==l&&Bd(1,l,o);const u=r.template;null!==u&&Wy(r,i,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&xg(r,i),r.staticViewQueries&&Bd(2,r.viewQuery,o);const h=r.components;null!==h&&function Hy(r,i){for(let o=0;o<i.length;o++)rv(r,i[o])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,vi()}}function Qu(r,i,o,l){const u=i[2];if(128!=(128&u)){Ps(i);try{Eo(i),function Ao(r){return _t.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Wy(r,i,o,2,l);const m=3==(3&u);if(m){const b=r.preOrderCheckHooks;null!==b&&Ns(i,b,null)}else{const b=r.preOrderHooks;null!==b&&xs(i,b,0,null),Iu(i,0)}if(function Hg(r){for(let i=Go(r);null!==i;i=Ks(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const u=o[l],h=u[3];0==(512&u[2])&&_n(h,1),u[2]|=512}}}(i),function pw(r){for(let i=Go(r);null!==i;i=Ks(i))for(let o=10;o<i.length;o++){const l=i[o],u=l[1];yi(l)&&Qu(u,l,u.template,l[8])}}(i),null!==r.contentQueries&&xg(r,i),m){const b=r.contentCheckHooks;null!==b&&Ns(i,b)}else{const b=r.contentHooks;null!==b&&xs(i,b,1),Iu(i,1)}!function ow(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)ui(~u);else{const h=u,m=o[++l],y=o[++l];yu(m,h),y(2,i[h])}}}finally{ui(-1)}}(r,i);const y=r.components;null!==y&&function aw(r,i){for(let o=0;o<i.length;o++)gw(r,i[o])}(i,y);const C=r.viewQuery;if(null!==C&&Bd(2,C,l),m){const b=r.viewCheckHooks;null!==b&&Ns(i,b)}else{const b=r.viewHooks;null!==b&&xs(i,b,2),Iu(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,_n(i[3],-1))}finally{vi()}}}function Wy(r,i,o,l,u){const h=cn(),m=2&l;try{ui(-1),m&&i.length>22&&Cg(r,i,22,!1),o(l,u)}finally{ui(h)}}function kd(r,i,o){!Ki()||(function Ug(r,i,o,l){const u=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||di(o,i),p(l,i);const m=o.initialInputs;for(let y=u;y<h;y++){const C=r.data[y],b=pr(C);b&&hw(i,o,C);const R=Kr(i,r,y,o);p(R,i),null!==m&&fw(0,y-u,R,C,0,m),b&&(Ut(o.index,i)[8]=R)}}(r,i,o,zn(o,i)),128==(128&o.flags)&&function Bg(r,i,o){const l=o.directiveStart,u=o.directiveEnd,h=o.index,m=function $c(){return _t.lFrame.currentDirectiveIndex}();try{ui(h);for(let y=l;y<u;y++){const C=r.data[y],b=i[y];Rs(y),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Qy(C,b)}}finally{ui(-1),Rs(m)}}(r,i,o))}function Fg(r,i,o=zn){const l=i.localNames;if(null!==l){let u=i.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],y=-1===m?o(i,r):r[m];r[u++]=y}}}function lw(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Lg(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Lg(r,i,o,l,u,h,m,y,C,b){const R=22+l,O=R+u,z=function Fd(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:bt);return o}(R,O),te="function"==typeof b?b():b;return z[1]={type:r,blueprint:z,template:o,queries:null,viewQuery:y,declTNode:i,data:z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:te,incompleteFirstPass:!1}}function Vg(r,i,o,l){const u=iv(i);null===o?u.push(l):(u.push(o),r.firstCreatePass&&Wg(r).push(l,u.length-1))}function uw(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const u=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,u):o[l]=[i,u]}return o}function Zy(r,i){const l=i.directiveEnd,u=r.data,h=i.attrs,m=[];let y=null,C=null;for(let b=i.directiveStart;b<l;b++){const R=u[b],O=R.inputs,z=null===h||cy(i)?null:nv(O,h);m.push(z),y=uw(O,b,y),C=uw(R.outputs,b,C)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=y,i.outputs=C}function cw(r,i){const o=Ut(i,r);16&o[2]||(o[2]|=32)}function xf(r,i,o,l){let u=!1;if(Ki()){const h=function Jy(r,i,o){const l=r.directiveRegistry;let u=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];Dd(o,m.selectors,!1)&&(u||(u=[]),Qi(di(o,i),r,m.type),pr(m)?(Xy(r,o),u.unshift(m)):u.push(m))}return u}(r,i,o),m=null===l?null:{"":-1};if(null!==h){u=!0,tv(o,r.data.length,h.length);for(let R=0;R<h.length;R++){const O=h[R];O.providersResolver&&O.providersResolver(O)}let y=!1,C=!1,b=Vl(r,i,h.length,null);for(let R=0;R<h.length;R++){const O=h[R];o.mergedAttrs=xo(o.mergedAttrs,O.hostAttrs),$g(r,o,i,b,O),ev(b,O,m),null!==O.contentQueries&&(o.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(o.flags|=128);const z=O.type.prototype;!y&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!C&&(z.ngOnChanges||z.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),C=!0),b++}Zy(r,o)}m&&function jD(r,i,o){if(i){const l=r.localNames=[];for(let u=0;u<i.length;u+=2){const h=o[i[u+1]];if(null==h)throw new _e(-301,!1);l.push(i[u],h)}}}(o,l,m)}return o.mergedAttrs=xo(o.mergedAttrs,o.attrs),u}function Ky(r,i,o,l,u,h){const m=h.hostBindings;if(m){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const C=~i.index;(function Yy(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=C&&y.push(C),y.push(l,u,m)}}function Qy(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Xy(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function ev(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;pr(i)&&(o[""]=r)}}function tv(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function $g(r,i,o,l,u){r.data[l]=u;const h=u.factory||(u.factory=Yn(u.type)),m=new br(h,pr(u),Qo);r.blueprint[l]=m,o[l]=m,Ky(r,i,0,l,Vl(r,o,u.hostVars,bt),u)}function hw(r,i,o){const l=zn(i,r),u=lw(o),h=r[10],m=Ul(r,Nf(r,u,null,o.onPush?32:16,l,i,h,h.createRenderer(l,o),null,null,null));r[i.index]=m}function ls(r,i,o,l,u,h){const m=zn(r,i);!function Ld(r,i,o,l,u,h,m){if(null==h)r.removeAttribute(i,u,o);else{const y=null==m?ge(h):m(h,l||"",u);r.setAttribute(i,u,y,o)}}(i[11],m,h,r.value,o,l,u)}function fw(r,i,o,l,u,h){const m=h[i];if(null!==m){const y=l.setInput;for(let C=0;C<m.length;){const b=m[C++],R=m[C++],O=m[C++];null!==y?l.setInput(o,O,b,R):o[R]=O}}}function nv(r,i){let o=null,l=0;for(;l<i.length;){const u=i[l];if(0!==u)if(5!==u){if("number"==typeof u)break;r.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,r[u],i[l+1])),l+=2}else l+=2;else l+=4}return o}function Ju(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}function gw(r,i){const o=Ut(i,r);if(yi(o)){const l=o[1];48&o[2]?Qu(l,o,l.template,o[8]):o[5]>0&&Vd(o)}}function Vd(r){for(let l=Go(r);null!==l;l=Ks(l))for(let u=10;u<l.length;u++){const h=l[u];if(yi(h))if(512&h[2]){const m=h[1];Qu(m,h,m.template,h[8])}else h[5]>0&&Vd(h)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=Ut(o[l],r);yi(u)&&u[5]>0&&Vd(u)}}function rv(r,i){const o=Ut(i,r),l=o[1];(function mw(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),jy(l,o,o[8])}function Ul(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function jg(r){for(;r;){r[2]|=32;const i=Wo(r);if(tl(r)&&!i)return r;r=i}return null}function Ud(r,i,o,l=!0){const u=i[10];u.begin&&u.begin();try{Qu(r,i,r.template,o)}catch(m){throw l&&_w(i,m),m}finally{u.end&&u.end()}}function Bd(r,i,o){ul(0),i(r,o)}function iv(r){return r[7]||(r[7]=[])}function Wg(r){return r.cleanup||(r.cleanup=[])}function _w(r,i){const o=r[9],l=o?o.get(Fa,null):null;l&&l.handleError(i)}function $d(r,i,o,l,u){for(let h=0;h<o.length;){const m=o[h++],y=o[h++],C=i[m],b=r.data[m];null!==b.setInput?b.setInput(C,u,l,y):C[y]=u}}function Hd(r,i,o){let l=o?r.styles:null,u=o?r.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?h=y:1==h?u=fe(u,y):2==h&&(l=fe(l,y+": "+i[++m]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=u:r.classesWithoutHost=u}function jd(r,i,o,l,u=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&l.push(fn(h)),Cr(h))for(let y=10;y<h.length;y++){const C=h[y],b=C[1].firstChild;null!==b&&jd(C[1],C,b,l)}const m=o.type;if(8&m)jd(r,i,o.child,l);else if(32&m){const y=Dl(o,i);let C;for(;C=y();)l.push(C)}else if(16&m){const y=ig(i,o);if(Array.isArray(y))l.push(...y);else{const C=Wo(i[16]);jd(C[1],C,y,l,!0)}}o=u?o.projectionNext:o.next}return l}class us{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return jd(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Cr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Qp(i,l),tr(o,l))}this._attachedToViewContainer=!1}F_(this._lView[1],this._lView)}onDestroy(i){Vg(this._lView[1],this._lView,null,i)}markForCheck(){jg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ud(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function O_(r,i){Al(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=i}}class yw extends us{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Ud(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Of extends Oa{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=M(i);return new Wd(o,this.ngModule)}}function ov(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class vw{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,l){const u=this.injector.get(i,Ef,l);return u!==Ef||o===Ef?u:this.parentInjector.get(i,o,l)}}class Wd extends T0{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function W0(r){return r.map(j0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return ov(this.componentDef.inputs)}get outputs(){return ov(this.componentDef.outputs)}create(i,o,l,u){let h=(u=u||this.ngModule)instanceof xa?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new vw(i,h):i,y=m.get(wd,null);if(null===y)throw new _e(407,!1);const C=m.get(N0,null),b=y.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",O=l?function zy(r,i,o){return r.selectRootElement(i,o===tt.ShadowDom)}(b,l,this.componentDef.encapsulation):ud(b,R,function av(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(R)),z=this.componentDef.onPush?288:272,te=Lg(0,null,null,1,0,null,null,null,null,null),ve=Nf(null,te,null,z,null,null,y,b,C,m,null);let ke,Be;Ps(ve);try{const Qe=function Iw(r,i,o,l,u,h){const m=o[1];o[22]=r;const C=Od(m,22,2,"#host",null),b=C.mergedAttrs=i.hostAttrs;null!==b&&(Hd(C,b,!0),null!==r&&(ci(u,r,b),null!==C.classes&&uf(u,r,C.classes),null!==C.styles&&lf(u,r,C.styles)));const R=l.createRenderer(r,i),O=Nf(o,lw(i),null,i.onPush?32:16,o[22],C,l,R,h||null,null,null);return m.firstCreatePass&&(Qi(di(C,o),m,i.type),Xy(m,C),tv(C,o.length,1)),Ul(o,O),o[22]=O}(O,this.componentDef,ve,y,b);if(O)if(l)ci(b,O,["ng-version",ly.full]);else{const{attrs:ct,classes:Me}=function G0(r){const i=[],o=[];let l=1,u=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===u?""!==h&&i.push(h,r[++l]):8===u&&o.push(h);else{if(!as(u))break;u=h}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);ct&&ci(b,O,ct),Me&&Me.length>0&&uf(b,O,Me.join(" "))}if(Be=Ts(te,22),void 0!==o){const ct=Be.projection=[];for(let Me=0;Me<this.ngContentSelectors.length;Me++){const mt=o[Me];ct.push(null!=mt?Array.from(mt):null)}}ke=function lv(r,i,o,l){const u=o[1],h=function dw(r,i,o){const l=kn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),$g(r,l,i,Vl(r,i,1,null),o),Zy(r,l));const u=Kr(i,r,l.directiveStart,l);p(u,i);const h=zn(l,i);return h&&p(h,i),u}(u,o,i);if(r[8]=o[8]=h,null!==l)for(const y of l)y(h,i);if(i.contentQueries){const y=kn();i.contentQueries(1,h,y.directiveStart)}const m=kn();return!u.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ui(m.index),Ky(o[1],m,0,m.directiveStart,m.directiveEnd,i),Qy(i,h)),h}(Qe,this.componentDef,ve,[Dw]),jy(te,ve,null)}finally{vi()}return new Cw(this.componentType,ke,ka(Be,ve),ve,Be)}}class Cw extends class iy{}{constructor(i,o,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new yw(u),this.componentType=i}setInput(i,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[i])){const h=this._rootLView;$d(h[1],h,u,i,o),cw(h,this._tNode.index)}}get injector(){return new Bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Dw(){const r=kn();la(be()[1],r)}function Zg(r){let i=function zg(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let u;if(pr(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new _e(903,!1);u=i.\u0275dir}if(u){if(o){l.push(u);const m=r;m.inputs=cv(r.inputs),m.declaredInputs=cv(r.declaredInputs),m.outputs=cv(r.outputs);const y=u.hostBindings;y&&dv(r,y);const C=u.viewQuery,b=u.contentQueries;if(C&&ZD(r,C),b&&qD(r,b),ce(r.inputs,u.inputs),ce(r.declaredInputs,u.declaredInputs),ce(r.outputs,u.outputs),pr(u)&&u.data.animation){const R=r.data;R.animation=(R.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(r),y===Zg&&(o=!1)}}i=Object.getPrototypeOf(i)}!function uv(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=i+=u.hostVars,u.hostAttrs=xo(u.hostAttrs,o=xo(o,u.hostAttrs))}}(l)}function cv(r){return r===Jn?{}:r===ut?[]:r}function ZD(r,i){const o=r.viewQuery;r.viewQuery=o?(l,u)=>{i(l,u),o(l,u)}:i}function qD(r,i){const o=r.contentQueries;r.contentQueries=o?(l,u,h)=>{i(l,u,h),o(l,u,h)}:i}function dv(r,i){const o=r.hostBindings;r.hostBindings=o?(l,u)=>{i(l,u),o(l,u)}:i}let qg=null;function Xu(){if(!qg){const r=ft.Symbol;if(r&&r.iterator)qg=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(qg=l)}}}return qg}function ec(r){return!!pv(r)&&(Array.isArray(r)||!(r instanceof Map)&&Xu()in r)}function pv(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ar(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Kg(r,i,o,l){const u=be();return Ar(u,So(),i)&&(Mt(),ls(on(),u,r,i,o,l)),Kg}function Yg(r,i,o,l,u,h,m,y){const C=be(),b=Mt(),R=r+22,O=b.firstCreatePass?function yv(r,i,o,l,u,h,m,y,C){const b=i.consts,R=Od(i,r,4,m||null,Dr(b,y));xf(i,o,R,Dr(b,C)),la(i,R);const O=R.tViews=Lg(2,R,l,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,R),O.queries=i.queries.embeddedTView(R)),R}(R,b,C,i,o,l,u,h,m):b.data[R];dr(O,!1);const z=C[11].createComment("");sf(b,C,z,O),p(z,C),Ul(C,C[R]=Ju(z,C,z,O)),mo(O)&&kd(b,C,O),null!=m&&Fg(C,O,y)}function Jg(r,i,o){const l=be();return Ar(l,So(),i)&&function Pi(r,i,o,l,u,h,m,y){const C=zn(i,o);let R,b=i.inputs;!y&&null!=b&&(R=b[l])?($d(r,o,R,l,u),el(i)&&cw(o,i.index)):3&i.type&&(l=function qy(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=m?m(u,i.value||"",l):u,h.setProperty(C,l,u))}(Mt(),on(),l,r,i,l[11],o,!1),Jg}function Xg(r,i,o,l,u){const m=u?"class":"style";$d(r,o,i.inputs[m],m,l)}function to(r,i,o,l){const u=be(),h=Mt(),m=22+r,y=u[11],C=u[m]=ud(y,i,function hl(){return _t.lFrame.currentNamespace}()),b=h.firstCreatePass?function Ev(r,i,o,l,u,h,m){const y=i.consts,b=Od(i,r,2,u,Dr(y,h));return xf(i,o,b,Dr(y,m)),null!==b.attrs&&Hd(b,b.attrs,!1),null!==b.mergedAttrs&&Hd(b,b.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,b),b}(m,h,u,0,i,o,l):h.data[m];dr(b,!0);const R=b.mergedAttrs;null!==R&&ci(y,C,R);const O=b.classes;null!==O&&uf(y,C,O);const z=b.styles;return null!==z&&lf(y,C,z),64!=(64&b.flags)&&sf(h,u,C,b),0===function wo(){return _t.lFrame.elementDepthCount}()&&p(C,u),function mu(){_t.lFrame.elementDepthCount++}(),mo(b)&&(kd(h,u,b),function kg(r,i,o){if(Es(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,b,u)),null!==l&&Fg(u,b),to}function ac(){let r=kn();aa()?function Ms(){_t.lFrame.isParent=!1}():(r=r.parent,dr(r,!1));const i=r;!function Io(){_t.lFrame.elementDepthCount--}();const o=Mt();return o.firstCreatePass&&(la(o,r),Es(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function ca(r){return 0!=(16&r.flags)}(i)&&Xg(o,i,be(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function da(r){return 0!=(32&r.flags)}(i)&&Xg(o,i,be(),i.stylesWithoutHost,!1),ac}function ja(r,i,o,l){return to(r,i,o,l),ac(),ja}function Vf(r){return!!r&&"function"==typeof r.then}function ir(r){return!!r&&"function"==typeof r.subscribe}const lc=ir;function Gd(r,i,o,l){const u=be(),h=Mt(),m=kn();return function Iv(r,i,o,l,u,h,m,y){const C=mo(l),R=r.firstCreatePass&&Wg(r),O=i[8],z=iv(i);let te=!0;if(3&l.type||y){const Be=zn(l,i),Qe=y?y(Be):Be,ct=z.length,Me=y?Qt=>y(fn(Qt[l.index])):l.index;let mt=null;if(!y&&C&&(mt=function Sr(r,i,o,l){const u=r.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===o&&u[h+1]===l){const y=i[7],C=u[h+2];return y.length>C?y[C]:null}"string"==typeof m&&(h+=2)}return null}(r,i,u,l.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=h,mt.__ngLastListenerFn__=h,te=!1;else{h=Dv(l,i,O,h,!1);const Qt=o.listen(Qe,u,h);z.push(h,Qt),R&&R.push(u,Me,ct,ct+1)}}else h=Dv(l,i,O,h,!1);const ve=l.outputs;let ke;if(te&&null!==ve&&(ke=ve[u])){const Be=ke.length;if(Be)for(let Qe=0;Qe<Be;Qe+=2){const Vn=i[ke[Qe]][ke[Qe+1]].subscribe(h),kc=z.length;z.push(h,Vn),R&&R.push(u,l.index,kc,-(kc+1))}}}(h,u,u[11],m,r,i,0,l),Gd}function zd(r,i,o,l){try{return!1!==o(l)}catch(u){return _w(r,u),!1}}function Dv(r,i,o,l,u){return function h(m){if(m===Function)return l;jg(2&r.flags?Ut(r.index,i):i);let C=zd(i,0,l,m),b=h.__ngNextListenerFn__;for(;b;)C=zd(i,0,b,m)&&C,b=b.__ngNextListenerFn__;return u&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function no(r=1){return function Ei(r){return(_t.lFrame.contextLView=function Cu(r,i){for(;r>0;)i=i[15],r--;return i}(r,_t.lFrame.contextLView))[8]}(r)}function Rv(r,i,o,l,u){const h=r[o+1],m=null===i;let y=l?Cn(h):Ua(h),C=!1;for(;0!==y&&(!1===C||m);){const R=r[y+1];qd(r[y],i)&&(C=!0,r[y+1]=l?Md(R):Py(R)),y=l?Cn(R):Ua(R)}C&&(r[o+1]=l?Py(h):Md(h))}function qd(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Xr(r,i)>=0}function Hf(r,i){return function ds(r,i,o,l){const u=be(),h=Mt(),m=function li(r){const i=_t.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);h.firstUpdatePass&&function Vv(r,i,o,l){const u=r.data;if(null===u[o+1]){const h=u[cn()],m=function um(r,i){return i>=r.expandoStartIndex}(r,o);(function jv(r,i){return 0!=(r.flags&(i?16:32))})(h,l)&&null===i&&!m&&(i=!1),i=function Mw(r,i,o,l){const u=function ll(r){const i=_t.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=l?i.residualClasses:i.residualStyles;if(null===u)0===(l?i.classBindings:i.styleBindings)&&(o=Yd(o=jf(null,r,i,o,l),i.attrs,l),h=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==u)if(o=jf(u,r,i,o,l),null===h){let C=function Rw(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==Ua(l))return r[Cn(l)]}(r,i,l);void 0!==C&&Array.isArray(C)&&(C=jf(null,r,i,C[1],l),C=Yd(C,i.attrs,l),function Uv(r,i,o,l){r[Cn(o?i.classBindings:i.styleBindings)]=l}(r,i,l,C))}else h=function Bv(r,i,o){let l;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)l=Yd(l,r[h].hostAttrs,o);return Yd(l,i.attrs,o)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),o}(u,h,i,l),function Uf(r,i,o,l,u,h){let m=h?i.classBindings:i.styleBindings,y=Cn(m),C=Ua(m);r[l]=o;let R,b=!1;if(Array.isArray(o)){const O=o;R=O[1],(null===R||Xr(O,R)>0)&&(b=!0)}else R=o;if(u)if(0!==C){const z=Cn(r[y+1]);r[l+1]=Sd(z,y),0!==z&&(r[z+1]=Zu(r[z+1],l)),r[y+1]=function Ry(r,i){return 131071&r|i<<17}(r[y+1],l)}else r[l+1]=Sd(y,0),0!==y&&(r[y+1]=Zu(r[y+1],l)),y=l;else r[l+1]=Sd(C,0),0===y?y=l:r[C+1]=Zu(r[C+1],l),C=l;b&&(r[l+1]=Py(r[l+1])),Rv(r,R,l,!0),Rv(r,R,l,!1),function cc(r,i,o,l,u){const h=u?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Xr(h,i)>=0&&(o[l+1]=Md(o[l+1]))}(i,R,r,l,h),m=Sd(y,C),h?i.classBindings=m:i.styleBindings=m}(u,h,i,o,m,l)}}(h,r,m,l),i!==bt&&Ar(u,m,i)&&function Hv(r,i,o,l,u,h,m,y){if(!(3&i.type))return;const C=r.data,b=C[y+1];Qd(function Sf(r){return 1==(1&r)}(b)?cm(C,i,o,u,Ua(b),m):void 0)||(Qd(h)||function Jo(r){return 2==(2&r)}(b)&&(h=cm(C,null,o,u,y,m)),function qC(r,i,o,l,u){if(i)u?r.addClass(o,l):r.removeClass(o,l);else{let h=-1===l.indexOf("-")?void 0:ti.DashCase;null==u?r.removeStyle(o,l,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=ti.Important),r.setStyle(o,l,u,h))}}(l,m,kr(cn(),o),u,h))}(h,h.data[cn()],u,u[11],r,u[m+1]=function xw(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=le(qo(r)))),r}(i,o),l,m)}(r,i,null,!0),Hf}function jf(r,i,o,l,u){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=i[y],l=Yd(l,h.hostAttrs,u),h!==r);)y++;return null!==r&&(o.directiveStylingLast=y),l}function Yd(r,i,o){const l=o?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?u=m:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),st(r,m,!!o||i[++h]))}return void 0===r?null:r}function cm(r,i,o,l,u,h){const m=null===i;let y;for(;u>0;){const C=r[u],b=Array.isArray(C),R=b?C[1]:C,O=null===R;let z=o[u+1];z===bt&&(z=O?ut:void 0);let te=O?El(z,l):R===l?z:void 0;if(b&&!Qd(te)&&(te=El(C,l)),Qd(te)&&(y=te,m))return y;const ve=r[u+1];u=m?Cn(ve):Ua(ve)}if(null!==i){let C=h?i.residualClasses:i.residualStyles;null!=C&&(y=El(C,l))}return y}function Qd(r){return void 0!==r}function Wv(r,i=""){const o=be(),l=Mt(),u=r+22,h=l.firstCreatePass?Od(l,u,1,i,null):l.data[u],m=o[u]=function nf(r,i){return r.createText(i)}(o[11],i);sf(l,o,m,h),dr(h,!1)}function so(r){return Jd("",r,""),so}function Jd(r,i,o){const l=be(),u=function nc(r,i,o,l){return Ar(r,So(),o)?i+ge(o)+l:bt}(l,r,i,o);return u!==bt&&function Xo(r,i,o){const l=kr(i,r);!function Yp(r,i,o){r.setValue(i,o)}(r[11],l,o)}(l,cn(),u),Jd}const Zl=void 0;var ki=["en",[["a","p"],["AM","PM"],Zl],[["AM","PM"],Zl,Zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zl,"{1} 'at' {0}",Zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pm(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let hc={};function gm(r){const i=function lE(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=zf(i);if(o)return o;const l=i.split("-")[0];if(o=zf(l),o)return o;if("en"===l)return ki;throw new _e(701,!1)}function Ga(r){return gm(r)[ht.PluralCase]}function zf(r){return r in hc||(hc[r]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[r]),hc[r]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const fc="en-US";let _m=fc;function Rm(r,i,o,l,u){if(r=Y(r),Array.isArray(r))for(let h=0;h<r.length;h++)Rm(r[h],i,o,l,u);else{const h=Mt(),m=be();let y=Rl(r)?r:Y(r.provide),C=ny(r);const b=kn(),R=1048575&b.providerIndexes,O=b.directiveStart,z=b.providerIndexes>>20;if(Rl(r)||!r.multi){const te=new br(C,u,Qo),ve=Pm(y,i,u?R:R+z,O);-1===ve?(Qi(di(b,m),h,y),Yl(h,r,i.length),i.push(y),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(te),m.push(te)):(o[ve]=te,m[ve]=te)}else{const te=Pm(y,i,R+z,O),ve=Pm(y,i,R,R+z),ke=te>=0&&o[te],Be=ve>=0&&o[ve];if(u&&!Be||!u&&!ke){Qi(di(b,m),h,y);const Qe=function op(r,i,o,l,u){const h=new br(r,o,Qo);return h.multi=[],h.index=i,h.componentProviders=0,ME(h,u,l&&!o),h}(u?lh:ip,o.length,u,l,C);!u&&Be&&(o[ve].providerFactory=Qe),Yl(h,r,i.length,0),i.push(y),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(Qe),m.push(Qe)}else Yl(h,r,te>-1?te:ve,ME(o[u?ve:te],C,!u&&l));!u&&l&&Be&&o[ve].componentProviders++}}}function Yl(r,i,o,l){const u=Rl(i),h=function E0(r){return!!r.useClass}(i);if(u||h){const C=(h?Y(i.useClass):i).prototype.ngOnDestroy;if(C){const b=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const R=b.indexOf(o);-1===R?b.push(o,[l,C]):b[R+1].push(l,C)}else b.push(o,C)}}}function ME(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Pm(r,i,o,l){for(let u=o;u<l;u++)if(i[u]===r)return u;return-1}function ip(r,i,o,l){return sp(this.multi,[])}function lh(r,i,o,l){const u=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=Kr(o,o[1],this.providerFactory.index,l);h=y.slice(0,m),sp(u,h);for(let C=m;C<y.length;C++)h.push(y[C])}else h=[],sp(u,h);return h}function sp(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function Ka(r,i=[]){return o=>{o.providersResolver=(l,u)=>function Jw(r,i,o){const l=Mt();if(l.firstCreatePass){const u=pr(r);Rm(o,l.data,l.blueprint,u,!0),Rm(i,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,i)}}class Ya{}class RE{}function pn(r,i){return new Cc(r,i??null)}class Cc extends Ya{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Of(this);const l=qe(i);this._bootstrapComponents=Ys(l.bootstrap),this._r3Injector=yy(i,o,[{provide:Ya,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver}],le(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class uh extends RE{constructor(i){super(),this.moduleType=i}create(i){return new Cc(this.moduleType,i)}}class PE extends Ya{constructor(i,o,l){super(),this.componentFactoryResolver=new Of(this),this.instance=null;const u=new _g([...i,{provide:Ya,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver}],o||Cd(),l,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function ch(r,i,o=null){return new PE(r,i,o).injector}let Ql=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=J_(0,o.type),u=l.length>0?ch([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Lt({token:r,providedIn:"environment",factory:()=>new r(ln(xa))}),r})();function Nm(r){r.getStandaloneInjector=i=>i.get(Ql).getOrCreateStandaloneInjector(r)}function Vm(r){return i=>{setTimeout(r,void 0,i)}}const co=class hI extends c.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){let u=i,h=o||(()=>null),m=l;if(i&&"object"==typeof i){const C=i;u=C.next?.bind(C),h=C.error?.bind(C),m=C.complete?.bind(C)}this.__isAsync&&(h=Vm(h),u&&(u=Vm(u)),m&&(m=Vm(m)));const y=super.subscribe({next:u,error:h,complete:m});return i instanceof B.w0&&i.add(y),y}};function fI(){return this._results[Xu()]()}class Um{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Xu(),l=Um.prototype;l[o]||(l[o]=fI)}get changes(){return this._changes||(this._changes=new co)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const u=rn(i);(this._changesDetected=!function Jr(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],h=i[l];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fh=(()=>{class r{}return r.__NG_ELEMENT_ID__=gI,r})();const pI=fh,WE=class extends pI{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i,o){const l=this._declarationTContainer.tViews,u=Nf(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,o||null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(l)),jy(l,u,i),new us(u)}};function gI(){return ph(kn(),be())}function ph(r,i){return 4&r.type?new WE(i,r,ka(r,i)):null}let gh=(()=>{class r{}return r.__NG_ELEMENT_ID__=mI,r})();function mI(){return zE(kn(),be())}const GE=gh,mh=class extends GE{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return ka(this._hostTNode,this._hostLView)}get injector(){return new Bs(this._hostTNode,this._hostLView)}get parentInjector(){const i=ko(this._hostTNode,this._hostLView);if(zc(i)){const o=Ci(i,this._hostLView),l=Ln(i);return new Bs(o[1].data[l+8],o)}return new Bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Bm(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){let u,h;"number"==typeof l?u=l:null!=l&&(u=l.index,h=l.injector);const m=i.createEmbeddedView(o||{},h);return this.insert(m,u),m}createComponent(i,o,l,u,h){const m=i&&!function Qr(r){return"function"==typeof r}(i);let y;if(m)y=o;else{const O=o||{};y=O.index,l=O.injector,u=O.projectableNodes,h=O.environmentInjector||O.ngModuleRef}const C=m?i:new Wd(M(i)),b=l||this.parentInjector;if(!h&&null==C.ngModule){const z=(m?b:this.parentInjector).get(xa,null);z&&(h=z)}const R=C.create(b,u,void 0,h);return this.insert(R.hostView,y),R}insert(i,o){const l=i._lView,u=l[1];if(function ol(r){return Cr(r[3])}(l)){const R=this.indexOf(i);if(-1!==R)this.detach(R);else{const O=l[3],z=new mh(O,O[6],O[3]);z.detach(z.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function HC(r,i,o,l){const u=10+l,h=o.length;l>0&&(o[u-1][4]=i),l<h-10?(i[4]=o[u],Xi(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function jC(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=64}(u,l,m,h);const y=cd(h,m),C=l[11],b=Mi(C,m[7]);return null!==b&&function rf(r,i,o,l,u,h){l[0]=u,l[6]=i,Al(r,l,o,1,u,h)}(u,m[6],C,l,b,y),i.attachToViewContainerRef(),Xi($m(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Bm(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Qp(this._lContainer,o);l&&(tr($m(this._lContainer),o),F_(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Qp(this._lContainer,o);return l&&null!=tr($m(this._lContainer),o)?new us(l):null}_adjustIndex(i,o=0){return i??this.length+o}};function Bm(r){return r[8]}function $m(r){return r[8]||(r[8]=[])}function zE(r,i){let o;const l=i[r.index];if(Cr(l))o=l;else{let u;if(8&r.type)u=fn(l);else{const h=i[11];u=h.createComment("");const m=zn(r,i);Ra(h,Mi(h,m),u,function Bu(r,i){return r.nextSibling(i)}(h,m),!1)}i[r.index]=o=Ju(l,i,u,r),Ul(i,o)}return new mh(o,r,i)}class jm{constructor(i){this.queryList=i,this.matches=null}clone(){return new jm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wm{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let h=0;h<l;h++){const m=o.getByIndex(h);u.push(this.queries[m.indexInDeclarationView].clone())}return new Wm(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==XE(i,o).matches&&this.queries[o].setDirty()}}class Gm{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class ho{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(i,u);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new ho(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class hp{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new hp(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(i,o,ZE(o,h)),this.matchTNodeWithReadOption(i,o,Lo(o,i,h,!1,!1))}else l===fh?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Lo(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===Pl||u===gh||u===fh&&4&o.type)this.addMatch(o.index,-2);else{const h=Lo(o,i,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function ZE(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function fp(r,i,o,l){return-1===o?function Qa(r,i){return 11&r.type?ka(r,i):4&r.type?ph(r,i):null}(i,r):-2===o?function pp(r,i,o){return o===Pl?ka(i,r):o===fh?ph(i,r):o===gh?zE(i,r):void 0}(r,i,l):Kr(r,r[1],o,i)}function qE(r,i,o,l){const u=i[19].queries[l];if(null===u.matches){const h=r.data,m=o.matches,y=[];for(let C=0;C<m.length;C+=2){const b=m[C];y.push(b<0?null:fp(i,h[b],m[C+1],o.metadata.read))}u.matches=y}return u.matches}function zm(r,i,o,l){const u=r.queries.getByIndex(o),h=u.matches;if(null!==h){const m=qE(r,i,u,o);for(let y=0;y<h.length;y+=2){const C=h[y];if(C>0)l.push(m[y/2]);else{const b=h[y+1],R=i[-C];for(let O=10;O<R.length;O++){const z=R[O];z[17]===z[3]&&zm(z[1],z,b,l)}if(null!==R[9]){const O=R[9];for(let z=0;z<O.length;z++){const te=O[z];zm(te[1],te,b,l)}}}}}return l}function KE(r){const i=be(),o=Mt(),l=Mo();ul(l+1);const u=XE(o,l);if(r.dirty&&function sl(r){return 4==(4&r[2])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const h=u.crossesNgTemplate?zm(o,i,l,[]):qE(o,i,u,l);r.reset(h,M0),r.notifyOnChanges()}return!0}return!1}function gp(r,i,o,l){const u=Mt();if(u.firstCreatePass){const h=kn();(function JE(r,i,o){null===r.queries&&(r.queries=new ho),r.queries.track(new hp(i,o))})(u,new Gm(i,o,l),h.index),function vI(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function wc(r,i,o){const l=new Um(4==(4&o));Vg(r,i,l,l.destroy),null===i[19]&&(i[19]=new Wm),i[19].queries.push(new jm(l))}(u,be(),o)}function QE(){return function Ja(r,i){return r[19].queries[i].queryList}(be(),Mo())}function XE(r,i){return r.queries.getByIndex(i)}function Pr(...r){}const lC=new tn("Application Initializer");let Dh=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Pr,this.reject=Pr,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(Vf(h))o.push(h);else if(lc(h)){const m=new Promise((y,C)=>{h.subscribe({complete:y,error:C})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(ln(lC,8))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const uC=new tn("AppId",{providedIn:"root",factory:function cC(){return`${Ap()}${Ap()}${Ap()}`}});function Ap(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sc=new tn("Platform Initializer"),dC=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),s_=new tn("appBootstrapListener");let Sp=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Mc=new tn("LocaleId",{providedIn:"root",factory:()=>ei(Mc,He.Optional|He.SkipSelf)||function RI(){return typeof $localize<"u"&&$localize.locale||fc}()}),PI=new tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let OI=(()=>{class r{compileModuleSync(o){return new uh(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=Ys(qe(o).declarations).reduce((m,y)=>{const C=M(y);return C&&m.push(new Wd(C)),m},[]);return new xI(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const o_=(()=>Promise.resolve(0))();function Rc(r){typeof Zone>"u"?o_.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class yr{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new co(!1),this.onMicrotaskEmpty=new co(!1),this.onStable=new co(!1),this.onError=new co(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const u=this;if(u._nesting=0,u._outer=u._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;u._inner=u._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function FI(){let r=ft.requestAnimationFrame,i=ft.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function _C(r){const i=()=>{!function mC(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ft,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Pc(r),r.isCheckStableRunning=!0,Mp(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Pc(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,h,m,y)=>{try{return Rp(r),o.invokeTask(u,h,m,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),Pp(r)}},onInvoke:(o,l,u,h,m,y,C)=>{try{return Rp(r),o.invoke(u,h,m,y,C)}finally{r.shouldCoalesceRunChangeDetection&&i(),Pp(r)}},onHasTask:(o,l,u,h)=>{o.hasTask(u,h),l===u&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,Pc(r),Mp(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,u,h)=>(o.handleError(u,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yr.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(yr.isInAngularZone())throw new _e(909,!1)}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,i,LI,Pr,Pr);try{return h.runTask(m,o,l)}finally{h.cancelTask(m)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const LI={};function Mp(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Pc(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Rp(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Pp(r){r._nesting--,Mp(r)}class VI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new co,this.onMicrotaskEmpty=new co,this.onStable=new co,this.onError=new co}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,u){return i.apply(o,l)}}const yC=new tn(""),Np=new tn("");let bh,UI=(()=>{class r{constructor(o,l,u){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bh||(function vC(r){bh=r}(u),u.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yr.assertNotInAngularZone(),Rc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rc(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,u){return[]}}return r.\u0275fac=function(o){return new(o||r)(ln(yr),ln(a_),ln(Np))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac}),r})(),a_=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return bh?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),ta=null;const $r=new tn("AllowMultipleToken"),Nc=new tn("PlatformDestroyListeners");class EC{constructor(i,o){this.name=i,this.token=o}}function wC(r,i,o=[]){const l=`Platform: ${i}`,u=new tn(l);return(h=[])=>{let m=u_();if(!m||m.injector.get($r,!1)){const y=[...o,...h,{provide:u,useValue:!0}];r?r(y):function CC(r){if(ta&&!ta.get($r,!1))throw new _e(400,!1);ta=r;const i=r.get(DC);(function BI(r){const i=r.get(Sc,null);i&&i.forEach(o=>o())})(r)}(function IC(r=[],i){return Nl.create({name:i,providers:[{provide:mg,useValue:"platform"},{provide:Nc,useValue:new Set([()=>ta=null])},...r]})}(y,l))}return function l_(r){const i=u_();if(!i)throw new _e(401,!1);return i}()}}function u_(){return ta?.get(DC)??null}let DC=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const u=function Th(r,i){let o;return o="noop"===r?new VI:("zone.js"===r?void 0:r)||new yr(i),o}(l?.ngZone,function xc(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:yr,useValue:u}];return u.run(()=>{const m=Nl.create({providers:h,parent:this.injector,name:o.moduleType.name}),y=o.create(m),C=y.injector.get(Fa,null);if(!C)throw new _e(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:R=>{C.handleError(R)}});y.onDestroy(()=>{Sh(this._modules,y),b.unsubscribe()})}),function Oc(r,i,o){try{const l=o();return Vf(l)?l.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(C,u,()=>{const b=y.injector.get(Dh);return b.runInitializers(),b.donePromise.then(()=>(function fs(r){Dt(r,"Expected localeId to be defined"),"string"==typeof r&&(_m=r.toLowerCase().replace(/_/g,"-"))}(y.injector.get(Mc,fc)||fc),this._moduleDoBootstrap(y),y))})})}bootstrapModule(o,l=[]){const u=Op({},l);return function xp(r,i,o){const l=new uh(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const l=o.injector.get(Ah);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new _e(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(Nc,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(ln(Nl))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function Op(r,i){return Array.isArray(i)?i.reduce(Op,r):{...r,...i}}let Ah=(()=>{class r{constructor(o,l,u){this._zone=o,this._injector=l,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new P.y(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),m=new P.y(y=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{yr.assertNotInAngularZone(),Rc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{yr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{C.unsubscribe(),b.unsubscribe()}});this.isStable=(0,re.T)(h,m.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const u=o instanceof T0;if(!this._injector.get(Dh).done)throw!u&&Se(o),new _e(405,false);let m;m=u?o:this._injector.get(Oa).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const y=function iu(r){return r.isBoundToModule}(m)?void 0:this._injector.get(Ya),b=m.create(Nl.NULL,[],l||m.selector,y),R=b.location.nativeElement,O=b.injector.get(yC,null);return O?.registerApplication(R),b.onDestroy(()=>{this.detachView(b.hostView),Sh(this.components,b),O?.unregisterApplication(R)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Sh(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(s_,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Sh(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new _e(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(ln(yr),ln(xa),ln(Fa))},r.\u0275prov=Lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Sh(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let d_=!0,Vi=!1;function TC(){return Vi=!0,d_}function $I(){if(Vi)throw new Error("Cannot enable prod mode after platform setup.");d_=!1}let HI=(()=>{class r{}return r.__NG_ELEMENT_ID__=jI,r})();function jI(r){return function WI(r,i,o){if(el(r)&&!o){const l=Ut(r.index,i);return new us(l,l)}return 47&r.type?new us(i[16],i):null}(kn(),be(),16==(16&r))}class MC{constructor(){}supports(i){return ec(i)}create(i){return new RC(i)}}const KI=(r,i)=>i;class RC{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||KI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,u=0,h=null;for(;o||l;){const m=!l||o&&o.currentIndex<m_(l,u,h)?o:l,y=m_(m,u,h),C=m.currentIndex;if(m===l)u--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{h||(h=[]);const b=y-u,R=C-u;if(b!=R){for(let z=0;z<b;z++){const te=z<h.length?h[z]:h[z]=0,ve=te+z;R<=ve&&ve<b&&(h[z]=te+1)}h[m.previousIndex]=R-b}}y!==C&&i(m,y,C)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!ec(i))throw new _e(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,m,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)h=i[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),l=!0),o=o._next}else u=0,function YD(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Xu()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,y=>{m=this._trackByFn(u,y),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,y,m,u)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,u)):i=this._addAfter(new YI(o,l),h,u),i}_verifyReinsertion(i,o,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new PC),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class YI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class PC{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new QI,this.map.set(o,l)),l.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function m_(r,i,o){const l=r.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+i+u}class NC{constructor(){}supports(i){return i instanceof Map||pv(i)}create(){return new JI}}class JI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||pv(i)))throw new _e(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const l=new XI(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class XI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xC(){return new __([new MC])}let __=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||xC()),deps:[[r,new nt,new me]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new _e(901,!1)}}return r.\u0275prov=Lt({token:r,providedIn:"root",factory:xC}),r})();function OC(){return new y_([new NC])}let y_=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||OC()),deps:[[r,new nt,new me]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(l)return l;throw new _e(901,!1)}}return r.\u0275prov=Lt({token:r,providedIn:"root",factory:OC}),r})();const tD=wC(null,"core",[]);let nD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(ln(Ah))},r.\u0275mod=Ot({type:r}),r.\u0275inj=Ct({}),r})();function kC(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(Je,De,x)=>{x.d(De,{Z:()=>_e});var c=x(2090),B=x(4859),P=x(9681),re=x(1877);class oe{constructor(ge,de){this._delegate=ge,this.firebase=de,(0,P._addComponent)(ge,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ge,de=P._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(ge);return!$e.isInitialized()&&"EXPLICIT"===(null===(je=$e.getComponent())||void 0===je?void 0:je.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:de})}_removeServiceInstance(ge,de=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(de)}_addComponent(ge){(0,P._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,P._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function fe(){const Ze=function le(Ze){const ge={},de={__esModule:!0,initializeApp:function Re(ne,ae={}){const pe=P.initializeApp(ne,ae);if((0,c.r3)(ge,pe.name))return ge[pe.name];const K=new Ze(pe,de);return ge[pe.name]=K,K},app:$e,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ye(ne){const ae=ne.name,pe=ae.replace("-compat","");if(P._registerComponent(ne)&&"PUBLIC"===ne.type){const K=(Q=$e())=>{if("function"!=typeof Q[pe])throw ce.create("invalid-app-argument",{appName:ae});return Q[pe]()};void 0!==ne.serviceProps&&(0,c.ZB)(K,ne.serviceProps),de[pe]=K,Ze.prototype[pe]=function(...Q){return this._getService.bind(this,ae).apply(this,ne.multipleInstances?Q:[])}}return"PUBLIC"===ne.type?de[pe]:null},removeApp:function je(ne){delete ge[ne]},useAsService:function Le(ne,ae){return"serverAuth"===ae?null:ae},modularAPIs:P}};function $e(ne){if(!(0,c.r3)(ge,ne=ne||P._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:ne});return ge[ne]}return de.default=de,Object.defineProperty(de,"apps",{get:function Te(){return Object.keys(ge).map(ne=>ge[ne])}}),$e.App=Ze,de}(oe);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function ge(de){(0,c.ZB)(Ze,de)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ze}(),j=new re.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _e=G;!function Ae(Ze){(0,P.registerVersion)("@firebase/app-compat","0.1.39",Ze)}()},9681:(Je,De,x)=>{x.r(De),x.d(De,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Gr,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>Ft,_addOrOverwriteComponent:()=>Lt,_apps:()=>$t,_clearComponents:()=>jr,_components:()=>Jt,_getProvider:()=>Ct,_registerComponent:()=>At,_removeServiceInstance:()=>Kn,deleteApp:()=>zr,getApp:()=>mn,getApps:()=>xr,initializeApp:()=>ur,onLog:()=>Dn,registerVersion:()=>xn,setLogLevel:()=>Zt});var c=x(5861),B=x(4859),P=x(1877),re=x(2090),oe=x(8766);class he{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ge=>{if(function ce(We){return"VERSION"===We.getComponent()?.type}(Ge)){const at=Ge.getImmediate();return`${at.library}/${at.version}`}return null}).filter(Ge=>Ge).join(" ")}}const le="@firebase/app",G=new P.Yd("@firebase/app"),Dt="[DEFAULT]",Ue={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$t=new Map,Jt=new Map;function Ft(We,Ce){try{We.container.addComponent(Ce)}catch(Ge){G.debug(`Component ${Ce.name} failed to register with FirebaseApp ${We.name}`,Ge)}}function Lt(We,Ce){We.container.addOrOverwriteComponent(Ce)}function At(We){const Ce=We.name;if(Jt.has(Ce))return G.debug(`There were multiple attempts to register component ${Ce}.`),!1;Jt.set(Ce,We);for(const Ge of $t.values())Ft(Ge,We);return!0}function Ct(We,Ce){const Ge=We.container.getProvider("heartbeat").getImmediate({optional:!0});return Ge&&Ge.triggerHeartbeat(),We.container.getProvider(Ce)}function Kn(We,Ce,Ge=Dt){Ct(We,Ce).clearInstance(Ge)}function jr(){Jt.clear()}const hn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wr{constructor(Ce,Ge,at){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ge),this._name=Ge.name,this._automaticDataCollectionEnabled=Ge.automaticDataCollectionEnabled,this._container=at,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const Gr="9.14.0";function ur(We,Ce={}){let Ge=We;"object"!=typeof Ce&&(Ce={name:Ce});const at=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},Ce),lt=at.name;if("string"!=typeof lt||!lt)throw hn.create("bad-app-name",{appName:String(lt)});if(Ge||(Ge=(0,re.aH)()),!Ge)throw hn.create("no-options");const Ot=$t.get(lt);if(Ot){if((0,re.vZ)(Ge,Ot.options)&&(0,re.vZ)(at,Ot.config))return Ot;throw hn.create("duplicate-app",{appName:lt})}const W=new B.H0(lt);for(const Z of Jt.values())W.addComponent(Z);const $=new Wr(Ge,at,W);return $t.set(lt,$),$}function mn(We=Dt){const Ce=$t.get(We);if(!Ce&&We===Dt)return ur();if(!Ce)throw hn.create("no-app",{appName:We});return Ce}function xr(){return Array.from($t.values())}function zr(We){return He.apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(We){const Ce=We.name;$t.has(Ce)&&($t.delete(Ce),yield Promise.all(We.container.getProviders().map(Ge=>Ge.delete())),We.isDeleted=!0)})).apply(this,arguments)}function xn(We,Ce,Ge){var at;let lt=null!==(at=Ue[We])&&void 0!==at?at:We;Ge&&(lt+=`-${Ge}`);const Ot=lt.match(/\s|\//),W=Ce.match(/\s|\//);if(Ot||W){const $=[`Unable to register library "${lt}" with version "${Ce}":`];return Ot&&$.push(`library name "${lt}" contains illegal characters (whitespace or "/")`),Ot&&W&&$.push("and"),W&&$.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void G.warn($.join(" "))}At(new B.wA(`${lt}-version`,()=>({library:lt,version:Ce}),"VERSION"))}function Dn(We,Ce){if(null!==We&&"function"!=typeof We)throw hn.create("invalid-log-argument");(0,P.Am)(We,Ce)}function Zt(We){(0,P.Ub)(We)}const qt="firebase-heartbeat-store";let Xt=null;function Gt(){return Xt||(Xt=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(We,Ce)=>{0===Ce&&We.createObjectStore(qt)}}).catch(We=>{throw hn.create("idb-open",{originalErrorMessage:We.message})})),Xt}function tt(){return(tt=(0,c.Z)(function*(We){var Ce;try{return(yield Gt()).transaction(qt).objectStore(qt).get(bn(We))}catch(Ge){if(Ge instanceof re.ZR)G.warn(Ge.message);else{const at=hn.create("idb-get",{originalErrorMessage:null===(Ce=Ge)||void 0===Ce?void 0:Ce.message});G.warn(at.message)}}})).apply(this,arguments)}function ft(We,Ce){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(We,Ce){var Ge;try{const lt=(yield Gt()).transaction(qt,"readwrite");return yield lt.objectStore(qt).put(Ce,bn(We)),lt.done}catch(at){if(at instanceof re.ZR)G.warn(at.message);else{const lt=hn.create("idb-set",{originalErrorMessage:null===(Ge=at)||void 0===Ge?void 0:Ge.message});G.warn(lt.message)}}})).apply(this,arguments)}function bn(We){return`${We.name}!${We.options.appId}`}class Xn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ge=this.container.getProvider("app").getImmediate();this._storage=new Pt(Ge),this._heartbeatsCachePromise=this._storage.read().then(at=>(this._heartbeatsCache=at,at))}triggerHeartbeat(){var Ce=this;return(0,c.Z)(function*(){const at=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),lt=yt();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==lt&&!Ce._heartbeatsCache.heartbeats.some(Ot=>Ot.date===lt))return Ce._heartbeatsCache.heartbeats.push({date:lt,agent:at}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Ot=>{const W=new Date(Ot.date).valueOf();return Date.now()-W<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,c.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Ge=yt(),{heartbeatsToSend:at,unsentEntries:lt}=function hr(We,Ce=1024){const Ge=[];let at=We.slice();for(const lt of We){const Ot=Ge.find(W=>W.agent===lt.agent);if(Ot){if(Ot.dates.push(lt.date),Un(Ge)>Ce){Ot.dates.pop();break}}else if(Ge.push({agent:lt.agent,dates:[lt.date]}),Un(Ge)>Ce){Ge.pop();break}at=at.slice(1)}return{heartbeatsToSend:Ge,unsentEntries:at}}(Ce._heartbeatsCache.heartbeats),Ot=(0,re.L)(JSON.stringify({version:2,heartbeats:at}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Ge,lt.length>0?(Ce._heartbeatsCache.heartbeats=lt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Ot})()}}function yt(){return(new Date).toISOString().substring(0,10)}class Pt{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,c.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function et(We){return tt.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Ge=this;return(0,c.Z)(function*(){var at;if(yield Ge._canUseIndexedDBPromise){const Ot=yield Ge.read();return ft(Ge.app,{lastSentHeartbeatDate:null!==(at=Ce.lastSentHeartbeatDate)&&void 0!==at?at:Ot.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ge=this;return(0,c.Z)(function*(){var at;if(yield Ge._canUseIndexedDBPromise){const Ot=yield Ge.read();return ft(Ge.app,{lastSentHeartbeatDate:null!==(at=Ce.lastSentHeartbeatDate)&&void 0!==at?at:Ot.lastSentHeartbeatDate,heartbeats:[...Ot.heartbeats,...Ce.heartbeats]})}})()}}function Un(We){return(0,re.L)(JSON.stringify({version:2,heartbeats:We})).length}!function sn(We){At(new B.wA("platform-logger",Ce=>new he(Ce),"PRIVATE")),At(new B.wA("heartbeat",Ce=>new Xn(Ce),"PRIVATE")),xn(le,"0.8.4",We),xn(le,"0.8.4","esm2017"),xn("fire-js","")}("")},4859:(Je,De,x)=>{x.d(De,{H0:()=>le,wA:()=>P,zt:()=>oe});var c=x(5861),B=x(2090);class P{constructor(G,j,Y){this.name=G,this.instanceFactory=j,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const re="[DEFAULT]";class oe{constructor(G,j){this.name=G,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const j=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(j)){const Y=new B.BH;if(this.instancesDeferred.set(j,Y),this.isInitialized(j)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:j});Oe&&Y.resolve(Oe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(G){var j;const Y=this.normalizeInstanceIdentifier(G?.identifier),Oe=null!==(j=G?.optional)&&void 0!==j&&j;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ae){if(Oe)return null;throw Ae}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ce(fe){return"EAGER"===fe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[j,Y]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(j);try{const Ae=this.getOrInitializeService({instanceIdentifier:Oe});Y.resolve(Ae)}catch{}}}}clearInstance(G=re){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const j=Array.from(G.instances.values());yield Promise.all([...j.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...j.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=re){return this.instances.has(G)}getOptions(G=re){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:j={}}=G,Y=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:Y,options:j});for(const[Ae,_e]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ae)&&_e.resolve(Oe);return Oe}onInit(G,j){var Y;const Oe=this.normalizeInstanceIdentifier(j),Ae=null!==(Y=this.onInitCallbacks.get(Oe))&&void 0!==Y?Y:new Set;Ae.add(G),this.onInitCallbacks.set(Oe,Ae);const _e=this.instances.get(Oe);return _e&&G(_e,Oe),()=>{Ae.delete(G)}}invokeOnInitCallbacks(G,j){const Y=this.onInitCallbacks.get(j);if(Y)for(const Oe of Y)try{Oe(G,j)}catch{}}getOrInitializeService({instanceIdentifier:G,options:j={}}){let Y=this.instances.get(G);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=G,fe===re?void 0:fe),options:j}),this.instances.set(G,Y),this.instancesOptions.set(G,j),this.invokeOnInitCallbacks(Y,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Y)}catch{}var fe;return Y||null}normalizeInstanceIdentifier(G=re){return this.component?this.component.multipleInstances?G:re:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const j=this.getProvider(G.name);if(j.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);j.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const j=new oe(G,this);return this.providers.set(G,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(Je,De,x)=>{x.d(De,{Am:()=>fe,Ub:()=>le,Yd:()=>ce,in:()=>B});const c=[];var B=(()=>{return(G=B||(B={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",B;var G})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},re=B.INFO,oe={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},he=(G,j,...Y)=>{if(j<G.logLevel)return;const Oe=(new Date).toISOString(),Ae=oe[j];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ae](`[${Oe}]  ${G.name}:`,...Y)};class ce{constructor(j){this.name=j,this._logLevel=re,this._logHandler=he,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in B))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...j),this._logHandler(this,B.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...j),this._logHandler(this,B.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,B.INFO,...j),this._logHandler(this,B.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,B.WARN,...j),this._logHandler(this,B.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...j),this._logHandler(this,B.ERROR,...j)}}function le(G){c.forEach(j=>{j.setLogLevel(G)})}function fe(G,j){for(const Y of c){let Oe=null;j&&j.level&&(Oe=P[j.level]),Y.userLogHandler=null===G?null:(Ae,_e,...Ze)=>{const ge=Ze.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");_e>=(Oe??Ae.logLevel)&&G({level:B[_e].toLowerCase(),message:ge,args:Ze,type:Ae.name})}}}},8766:(Je,De,x)=>{x.d(De,{Lj:()=>Re,X3:()=>$e});var c=x(5861);let P,re;const ce=new WeakMap,le=new WeakMap,fe=new WeakMap,G=new WeakMap,j=new WeakMap;let Ae={get(ae,pe,K){if(ae instanceof IDBTransaction){if("done"===pe)return le.get(ae);if("objectStoreNames"===pe)return ae.objectStoreNames||fe.get(ae);if("store"===pe)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return de(ae[pe])},set:(ae,pe,K)=>(ae[pe]=K,!0),has:(ae,pe)=>ae instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in ae};function ge(ae){return"function"==typeof ae?function Ze(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...pe){return ae.apply(je(this),pe),de(ce.get(this))}:function(...pe){return de(ae.apply(je(this),pe))}:function(pe,...K){const Q=ae.call(je(this),pe,...K);return fe.set(Q,pe.sort?pe.sort():[pe]),de(Q)}}(ae):(ae instanceof IDBTransaction&&function Oe(ae){if(le.has(ae))return;const pe=new Promise((K,Q)=>{const ue=()=>{ae.removeEventListener("complete",ie),ae.removeEventListener("error",Ne),ae.removeEventListener("abort",Ne)},ie=()=>{K(),ue()},Ne=()=>{Q(ae.error||new DOMException("AbortError","AbortError")),ue()};ae.addEventListener("complete",ie),ae.addEventListener("error",Ne),ae.addEventListener("abort",Ne)});le.set(ae,pe)}(ae),((ae,pe)=>pe.some(K=>ae instanceof K))(ae,function oe(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,Ae):ae)}function de(ae){if(ae instanceof IDBRequest)return function Y(ae){const pe=new Promise((K,Q)=>{const ue=()=>{ae.removeEventListener("success",ie),ae.removeEventListener("error",Ne)},ie=()=>{K(de(ae.result)),ue()},Ne=()=>{Q(ae.error),ue()};ae.addEventListener("success",ie),ae.addEventListener("error",Ne)});return pe.then(K=>{K instanceof IDBCursor&&ce.set(K,ae)}).catch(()=>{}),j.set(pe,ae),pe}(ae);if(G.has(ae))return G.get(ae);const pe=ge(ae);return pe!==ae&&(G.set(ae,pe),j.set(pe,ae)),pe}const je=ae=>j.get(ae);function $e(ae,pe,{blocked:K,upgrade:Q,blocking:ue,terminated:ie}={}){const Ne=indexedDB.open(ae,pe),xe=de(Ne);return Q&&Ne.addEventListener("upgradeneeded",Xe=>{Q(de(Ne.result),Xe.oldVersion,Xe.newVersion,de(Ne.transaction))}),K&&Ne.addEventListener("blocked",()=>K()),xe.then(Xe=>{ie&&Xe.addEventListener("close",()=>ie()),ue&&Xe.addEventListener("versionchange",()=>ue())}).catch(()=>{}),xe}function Re(ae,{blocked:pe}={}){const K=indexedDB.deleteDatabase(ae);return pe&&K.addEventListener("blocked",()=>pe()),de(K).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],Le=new Map;function ne(ae,pe){if(!(ae instanceof IDBDatabase)||pe in ae||"string"!=typeof pe)return;if(Le.get(pe))return Le.get(pe);const K=pe.replace(/FromIndex$/,""),Q=pe!==K,ue=ye.includes(K);if(!(K in(Q?IDBIndex:IDBObjectStore).prototype)||!ue&&!Te.includes(K))return;const ie=function(){var Ne=(0,c.Z)(function*(xe,...Xe){const Vt=this.transaction(xe,ue?"readwrite":"readonly");let Dt=Vt.store;return Q&&(Dt=Dt.index(Xe.shift())),(yield Promise.all([Dt[K](...Xe),ue&&Vt.done]))[0]});return function(Xe){return Ne.apply(this,arguments)}}();return Le.set(pe,ie),ie}!function _e(ae){Ae=ae(Ae)}(ae=>({...ae,get:(pe,K,Q)=>ne(pe,K)||ae.get(pe,K,Q),has:(pe,K)=>!!ne(pe,K)||ae.has(pe,K)}))},5861:(Je,De,x)=>{function c(P,re,oe,he,ce,le,fe){try{var G=P[le](fe),j=G.value}catch(Y){return void oe(Y)}G.done?re(j):Promise.resolve(j).then(he,ce)}function B(P){return function(){var re=this,oe=arguments;return new Promise(function(he,ce){var le=P.apply(re,oe);function fe(j){c(le,he,ce,fe,G,"next",j)}function G(j){c(le,he,ce,fe,G,"throw",j)}fe(void 0)})}}x.d(De,{Z:()=>B})}},Je=>{Je(Je.s=7411)}]);