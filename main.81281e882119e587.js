"use strict";(self.webpackChunkthe_project=self.webpackChunkthe_project||[]).push([[179],{2011:(et,De,x)=>{x.d(De,{Dh:()=>le,GT:()=>he,cc:()=>Ae,hO:()=>Oe,on:()=>G,pX:()=>oe,xv:()=>fe});var c=x(4650),B=x(127),P=x(5813);et=x.hmd(et);const re=["ngOnDestroy"],oe=(de,We,je,Re={})=>new Proxy(de,{get:(Te,ye)=>je.runOutsideAngular(()=>{var Ve;if(de[ye])return!(null===(Ve=Re?.spy)||void 0===Ve)&&Ve.get&&Re.spy.get(ye,de[ye]),de[ye];if(re.indexOf(ye)>-1)return()=>{};const ne=We.toPromise().then(ae=>{const pe=ae&&ae[ye];return"function"==typeof pe?pe.bind(ae):pe&&pe.then?pe.then(K=>je.run(()=>K)):je.run(()=>pe)});return new Proxy(()=>{},{get:(ae,pe)=>ne[pe],apply:(ae,pe,K)=>ne.then(Q=>{var ue;const ie=Q&&Q(...K);return!(null===(ue=Re?.spy)||void 0===ue)&&ue.apply&&Re.spy.apply(ye,K,ie),ie})})})}),he=(de,We)=>{We.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Re=>{Object.defineProperty(de.prototype,Re,Object.getOwnPropertyDescriptor(je.prototype||je,Re))})})};class ce{constructor(We){return We}}const le=new c.OlP("angularfire2.app.options"),fe=new c.OlP("angularfire2.app.name");function G(de,We,je){const Te="object"==typeof je&&je||{};Te.name=Te.name||"string"==typeof je&&je||"[DEFAULT]";const Ve=B.Z.apps.filter(ne=>ne&&ne.name===Te.name)[0]||We.runOutsideAngular(()=>B.Z.initializeApp(de,Te));try{JSON.stringify(de)!==JSON.stringify(Ve.options)&&H("error",`${Ve.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(Ve)}const H=(de,...We)=>{(0,c.X6Q)()&&typeof console<"u"&&console[de](...We)},Y={provide:ce,useFactory:G,deps:[le,c.R0b,[new c.FiY,fe]]};let Oe=(()=>{class de{constructor(je){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,je.toString())}static initializeApp(je,Re){return{ngModule:de,providers:[{provide:le,useValue:je},{provide:fe,useValue:Re}]}}}return de.\u0275fac=function(je){return new(je||de)(c.LFG(c.Lbi))},de.\u0275mod=c.oAB({type:de}),de.\u0275inj=c.cJS({providers:[Y]}),de})();function Ae(de,We,je,Re,Te){const[,ye,Ve]=globalThis.\u0275AngularfireInstanceCache.find(ne=>ne[0]===de)||[];if(ye)return function _e(de,We){try{return de.toString()===We.toString()}catch{return de===We}}(Te,Ve)||(ge("error",`${We} was already initialized on the ${je} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Te,was:Ve})),ye;{const ne=Re();return globalThis.\u0275AngularfireInstanceCache.push([de,ne,Te]),ne}}const qe=!!et.hot,ge=(de,...We)=>{(0,c.X6Q)()&&typeof console<"u"&&console[de](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(et,De,x)=>{x.d(De,{q4:()=>Dl,iC:()=>Mn,HU:()=>cs,vb:()=>Ai,JM:()=>Js,u3:()=>Jr});var c=x(4650),B=x(5867),P=x(5861),re=x(9681),oe=x(2090),he=x(4859),ce=x(1877),le=x(8766);const fe="@firebase/installations",G="0.5.16",Y=`w:${G}`,Oe="FIS_v2",We=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(w){return w instanceof oe.ZR&&w.code.includes("request-failed")}function Re({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function Te(w){return{token:w.token,requestStatus:2,expiresIn:Q(w.expiresIn),creationTime:Date.now()}}function ye(w,I){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*(w,I){const L=(yield I.json()).error;return We.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ne({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function ae(w,{refreshToken:I}){const A=ne(w);return A.append("Authorization",function ue(w){return`${Oe} ${w}`}(I)),A}function pe(w){return K.apply(this,arguments)}function K(){return(K=(0,P.Z)(function*(w){const I=yield w();return I.status>=500&&I.status<600?w():I})).apply(this,arguments)}function Q(w){return Number(w.replace("s","000"))}function ie(w,I){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:I},{fid:A}){const L=Re(w),q=ne(w),se=I.getImmediate({optional:!0});if(se){const mt=yield se.getHeartbeatsHeader();mt&&q.append("x-firebase-client",mt)}const Fe={method:"POST",headers:q,body:JSON.stringify({fid:A,authVersion:Oe,appId:w.appId,sdkVersion:Y})},it=yield pe(()=>fetch(L,Fe));if(it.ok){const mt=yield it.json();return{fid:mt.fid||A,registrationStatus:2,refreshToken:mt.refreshToken,authToken:Te(mt.authToken)}}throw yield ye("Create Installation",it)})).apply(this,arguments)}function xe(w){return new Promise(I=>{setTimeout(I,w)})}const Lt=/^[cdef][\w-]{21}$/;function Be(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const A=function Bt(w){return function tt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Lt.test(A)?A:""}catch{return""}}function Jt(w){return`${w.appName}!${w.appId}`}const kt=new Map;function Ft(w,I){const A=Jt(w);Zn(A,I),function $r(w,I){const A=function hn(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=w=>{Zn(w.data.key,w.data.fid)}),sr}();A&&A.postMessage({key:w,fid:I}),function jr(){0===kt.size&&sr&&(sr.close(),sr=null)}()}(A,I)}function Zn(w,I){const A=kt.get(w);if(A)for(const L of A)L(I)}let sr=null;const _n="firebase-installations-store";let Nr=null;function Wr(){return Nr||(Nr=(0,le.X3)("firebase-installations-database",1,{upgrade:(w,I)=>{0===I&&w.createObjectStore(_n)}})),Nr}function He(w,I){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(w,I){const A=Jt(w),q=(yield Wr()).transaction(_n,"readwrite"),se=q.objectStore(_n),me=yield se.get(A);return yield se.put(I,A),yield q.done,(!me||me.fid!==I.fid)&&Ft(w,I.fid),I})).apply(this,arguments)}function In(w){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,P.Z)(function*(w){const I=Jt(w),L=(yield Wr()).transaction(_n,"readwrite");yield L.objectStore(_n).delete(I),yield L.done})).apply(this,arguments)}function jn(w,I){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,P.Z)(function*(w,I){const A=Jt(w),q=(yield Wr()).transaction(_n,"readwrite"),se=q.objectStore(_n),me=yield se.get(A),Fe=I(me);return void 0===Fe?yield se.delete(A):yield se.put(Fe,A),yield q.done,Fe&&(!me||me.fid!==Fe.fid)&&Ft(w,Fe.fid),Fe})).apply(this,arguments)}function Yt(w){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(w){let I;const A=yield jn(w.appConfig,L=>{const q=Gt(L),se=nt(w,q);return I=se.registrationPromise,se.installationEntry});return""===A.fid?{installationEntry:yield I}:{installationEntry:A,registrationPromise:I}})).apply(this,arguments)}function Gt(w){return ht(w||{fid:Be(),registrationStatus:0})}function nt(w,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(We.create("app-offline"))};const A={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function rt(w,I){return pt.apply(this,arguments)}(w,A);return{installationEntry:A,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ar(w)}:{installationEntry:I}}function pt(){return(pt=(0,P.Z)(function*(w,I){try{const A=yield ie(w,I);return He(w.appConfig,A)}catch(A){throw je(A)&&409===A.customData.serverCode?yield In(w.appConfig):yield He(w.appConfig,{fid:I.fid,registrationStatus:0}),A}})).apply(this,arguments)}function ar(w){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,P.Z)(function*(w){let I=yield Jn(w.appConfig);for(;1===I.registrationStatus;)yield xe(100),I=yield Jn(w.appConfig);if(0===I.registrationStatus){const{installationEntry:A,registrationPromise:L}=yield Yt(w);return L||A}return I})).apply(this,arguments)}function Jn(w){return jn(w,I=>{if(!I)throw We.create("installation-not-found");return ht(I)})}function ht(w){return function Xn(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function yt(w,I){return dr.apply(this,arguments)}function dr(){return(dr=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:I},A){const L=Rt(w,A),q=ae(w,A),se=I.getImmediate({optional:!0});if(se){const mt=yield se.getHeartbeatsHeader();mt&&q.append("x-firebase-client",mt)}const Fe={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Y,appId:w.appId}})},it=yield pe(()=>fetch(L,Fe));if(it.ok)return Te(yield it.json());throw yield ye("Generate Auth Token",it)})).apply(this,arguments)}function Rt(w,{fid:I}){return`${Re(w)}/${I}/authTokens:generate`}function Vn(w){return sn.apply(this,arguments)}function sn(){return(sn=(0,P.Z)(function*(w,I=!1){let A;const L=yield jn(w.appConfig,se=>{if(!Nt(se))throw We.create("not-registered");const me=se.authToken;if(!I&&W(me))return se;if(1===me.requestStatus)return A=Ge(w,I),se;{if(!navigator.onLine)throw We.create("app-offline");const Fe=Z(se);return A=ut(w,Fe),Fe}});return A?yield A:L.authToken})).apply(this,arguments)}function Ge(w,I){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,P.Z)(function*(w,I){let A=yield ze(w.appConfig);for(;1===A.authToken.requestStatus;)yield xe(100),A=yield ze(w.appConfig);const L=A.authToken;return 0===L.requestStatus?Vn(w,I):L})).apply(this,arguments)}function ze(w){return jn(w,I=>{if(!Nt(I))throw We.create("not-registered");return function V(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ut(w,I){return ct.apply(this,arguments)}function ct(){return(ct=(0,P.Z)(function*(w,I){try{const A=yield yt(w,I),L=Object.assign(Object.assign({},I),{authToken:A});return yield He(w.appConfig,L),A}catch(A){if(!je(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield He(w.appConfig,L)}else yield In(w.appConfig);throw A}})).apply(this,arguments)}function Nt(w){return void 0!==w&&2===w.registrationStatus}function W(w){return 2===w.requestStatus&&!function $(w){const I=Date.now();return I<w.creationTime||w.creationTime+w.expiresIn<I+36e5}(w)}function Z(w){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:I})}function k(){return(k=(0,P.Z)(function*(w){const I=w,{installationEntry:A,registrationPromise:L}=yield Yt(I);return L?L.catch(console.error):Vn(I).catch(console.error),A.fid})).apply(this,arguments)}function Me(){return(Me=(0,P.Z)(function*(w,I=!1){const A=w;return yield Ke(A),(yield Vn(A,I)).token})).apply(this,arguments)}function Ke(w){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,P.Z)(function*(w){const{registrationPromise:I}=yield Yt(w);I&&(yield I)})).apply(this,arguments)}function Yi(w){return We.create("missing-app-config-values",{valueName:w})}const Ds="installations",Qi=w=>{const I=w.getProvider("app").getImmediate(),A=function en(w){if(!w||!w.options)throw Yi("App Configuration");if(!w.name)throw Yi("App Name");const I=["projectId","apiKey","appId"];for(const A of I)if(!w.options[A])throw Yi(A);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(I);return{app:I,appConfig:A,heartbeatServiceProvider:(0,re._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ji=w=>{const I=w.getProvider("app").getImmediate(),A=(0,re._getProvider)(I,Ds).getImmediate();return{getId:()=>function M(w){return k.apply(this,arguments)}(A),getToken:q=>function ee(w){return Me.apply(this,arguments)}(A,q)}};(function oa(){(0,re._registerComponent)(new he.wA(Ds,Qi,"PUBLIC")),(0,re._registerComponent)(new he.wA("installations-internal",Ji,"PRIVATE"))})(),(0,re.registerVersion)(fe,G),(0,re.registerVersion)(fe,G,"esm2017");const si="@firebase/remote-config",Tn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ol{constructor(I,A,L,q){this.client=I,this.storage=A,this.storageCache=L,this.logger=q}isCachedDataFresh(I,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-A,q=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${q}.`),q}fetch(I){var A=this;return(0,P.Z)(function*(){const[L,q]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(q&&A.isCachedDataFresh(I.cacheMaxAgeMillis,L))return q;I.eTag=q&&q.eTag;const se=yield A.client.fetch(I),me=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&me.push(A.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(me),se})()}}function po(w=navigator){return w.languages&&w.languages[0]||w.language}class ns{constructor(I,A,L,q,se,me){this.firebaseInstallations=I,this.sdkVersion=A,this.namespace=L,this.projectId=q,this.apiKey=se,this.appId=me}fetch(I){var A=this;return(0,P.Z)(function*(){var L,q,se;const[me,Fe]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ot={sdk_version:A.sdkVersion,app_instance_id:me,app_instance_id_token:Fe,app_id:A.appId,language_code:po()},Rn={method:"POST",headers:Et,body:JSON.stringify(ot)},rr=fetch(mt,Rn),fs=new Promise((Ri,Gn)=>{I.signal.addEventListener(()=>{const Fu=new Error("The operation was aborted.");Fu.name="AbortError",Gn(Fu)})});let wt;try{yield Promise.race([rr,fs]),wt=yield rr}catch(Ri){let Gn="fetch-client-network";throw"AbortError"===(null===(L=Ri)||void 0===L?void 0:L.name)&&(Gn="fetch-timeout"),Tn.create(Gn,{originalErrorMessage:null===(q=Ri)||void 0===q?void 0:q.message})}let Kn=wt.status;const ps=wt.headers.get("ETag")||void 0;let Mi,Aa;if(200===wt.status){let Ri;try{Ri=yield wt.json()}catch(Gn){throw Tn.create("fetch-client-parse",{originalErrorMessage:null===(se=Gn)||void 0===se?void 0:se.message})}Mi=Ri.entries,Aa=Ri.state}if("INSTANCE_STATE_UNSPECIFIED"===Aa?Kn=500:"NO_CHANGE"===Aa?Kn=304:("NO_TEMPLATE"===Aa||"EMPTY_CONFIG"===Aa)&&(Mi={}),304!==Kn&&200!==Kn)throw Tn.create("fetch-status",{httpStatus:Kn});return{status:Kn,eTag:ps,config:Mi}})()}}class ai{constructor(I,A){this.client=I,this.storage=A}fetch(I){var A=this;return(0,P.Z)(function*(){const L=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:A,backoffCount:L}){var q=this;return(0,P.Z)(function*(){yield function wr(w,I){return new Promise((A,L)=>{const q=Math.max(I-Date.now(),0),se=setTimeout(A,q);w.addEventListener(()=>{clearTimeout(se),L(Tn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,A);try{const se=yield q.client.fetch(I);return yield q.storage.deleteThrottleMetadata(),se}catch(se){if(!function uh(w){if(!(w instanceof oe.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}(se))throw se;const me={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(me),q.attemptFetch(I,me)}})()}}class dh{constructor(I,A,L,q,se){this.app=I,this._client=A,this._storageCache=L,this._storage=q,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function go(w,I){var A;const L=w.target.error||void 0;return Tn.create(I,{originalErrorMessage:L&&(null===(A=L)||void 0===A?void 0:A.message)})}const Ts="app_namespace_store";class du{constructor(I,A,L,q=function fh(){return new Promise((w,I)=>{var A;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=q=>{I(go(q,"storage-open"))},L.onsuccess=q=>{w(q.target.result)},L.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(Ts,{keyPath:"compositeKey"})}}catch(L){I(Tn.create("storage-open",{originalErrorMessage:null===(A=L)||void 0===A?void 0:A.message}))}})}()){this.appId=I,this.appName=A,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var A=this;return(0,P.Z)(function*(){const L=yield A.openDbPromise;return new Promise((q,se)=>{var me;const it=L.transaction([Ts],"readonly").objectStore(Ts),mt=A.createCompositeKey(I);try{const Et=it.get(mt);Et.onerror=ot=>{se(go(ot,"storage-get"))},Et.onsuccess=ot=>{const Rn=ot.target.result;q(Rn?Rn.value:void 0)}}catch(Et){se(Tn.create("storage-get",{originalErrorMessage:null===(me=Et)||void 0===me?void 0:me.message}))}})})()}set(I,A){var L=this;return(0,P.Z)(function*(){const q=yield L.openDbPromise;return new Promise((se,me)=>{var Fe;const mt=q.transaction([Ts],"readwrite").objectStore(Ts),Et=L.createCompositeKey(I);try{const ot=mt.put({compositeKey:Et,value:A});ot.onerror=Rn=>{me(go(Rn,"storage-set"))},ot.onsuccess=()=>{se()}}catch(ot){me(Tn.create("storage-set",{originalErrorMessage:null===(Fe=ot)||void 0===Fe?void 0:Fe.message}))}})})()}delete(I){var A=this;return(0,P.Z)(function*(){const L=yield A.openDbPromise;return new Promise((q,se)=>{var me;const it=L.transaction([Ts],"readwrite").objectStore(Ts),mt=A.createCompositeKey(I);try{const Et=it.delete(mt);Et.onerror=ot=>{se(go(ot,"storage-delete"))},Et.onsuccess=()=>{q()}}catch(Et){se(Tn.create("storage-delete",{originalErrorMessage:null===(me=Et)||void 0===me?void 0:me.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class As{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const A=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),q=I.storage.getActiveConfig(),se=yield A;se&&(I.lastFetchStatus=se);const me=yield L;me&&(I.lastSuccessfulFetchTimestampMillis=me);const Fe=yield q;Fe&&(I.activeConfig=Fe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Bp(){return aa.apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function hu(){(0,re._registerComponent)(new he.wA("remote-config",function w(I,{instanceIdentifier:A}){const L=I.getProvider("app").getImmediate(),q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Tn.create("registration-window");if(!(0,oe.hl)())throw Tn.create("indexed-db-unavailable");const{projectId:se,apiKey:me,appId:Fe}=L.options;if(!se)throw Tn.create("registration-project-id");if(!me)throw Tn.create("registration-api-key");if(!Fe)throw Tn.create("registration-app-id");const it=new du(Fe,L.name,A=A||"firebase"),mt=new As(it),Et=new ce.Yd(si);Et.logLevel=ce.in.ERROR;const ot=new ns(q,re.SDK_VERSION,A,se,me,Fe),Rn=new ai(ot,it),rr=new ol(Rn,it,mt,Et),fs=new dh(L,rr,mt,it,Et);return function An(w){const I=(0,oe.m9)(w);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(fs),fs},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(si,"0.3.15"),(0,re.registerVersion)(si,"0.3.15","esm2017")}();const qn="/firebase-messaging-sw.js",Ms="/firebase-cloud-messaging-push-scope",vi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",la="google.c.a.c_id",al="google.c.a.c_l",gu="google.c.a.ts",Rs="google.c.a.e";var Ir=(()=>{return(w=Ir||(Ir={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Ir;var w})();function li(w){const I=new Uint8Array(w);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pr(w){const A=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(A),q=new Uint8Array(L.length);for(let se=0;se<L.length;++se)q[se]=L.charCodeAt(se);return q}const rs="fcm_token_details_db",mo="fcm_token_object_Store";function gh(w){return ll.apply(this,arguments)}function ll(){return ll=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(rs))return null;let I=null;return(yield(0,le.X3)(rs,5,{upgrade:(L=(0,P.Z)(function*(q,se,me,Fe){var it;if(se<2||!q.objectStoreNames.contains(mo))return;const mt=Fe.objectStore(mo),Et=yield mt.index("fcmSenderId").get(w);if(yield mt.clear(),Et)if(2===se){const ot=Et;if(!ot.auth||!ot.p256dh||!ot.endpoint)return;I={token:ot.fcmToken,createTime:null!==(it=ot.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:ot.auth,p256dh:ot.p256dh,endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:"string"==typeof ot.vapidKey?ot.vapidKey:li(ot.vapidKey)}}}else if(3===se){const ot=Et;I={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:li(ot.auth),p256dh:li(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:li(ot.vapidKey)}}}else if(4===se){const ot=Et;I={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:li(ot.auth),p256dh:li(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:li(ot.vapidKey)}}}}),function(se,me,Fe,it){return L.apply(this,arguments)})})).close(),yield(0,le.Lj)(rs),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),fn(I)?I:null;var L}),ll.apply(this,arguments)}function fn(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:I}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Or="firebase-messaging-store";let Hn=null;function ua(){return Hn||(Hn=(0,le.X3)("firebase-messaging-database",1,{upgrade:(w,I)=>{0===I&&w.createObjectStore(Or)}})),Hn}function Ps(w){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,P.Z)(function*(w){const I=Dr(w),L=yield(yield ua()).transaction(Or).objectStore(Or).get(I);if(L)return L;{const q=yield gh(w.appConfig.senderId);if(q)return yield Vt(w,q),q}})).apply(this,arguments)}function Vt(w,I){return ul.apply(this,arguments)}function ul(){return(ul=(0,P.Z)(function*(w,I){const A=Dr(w),q=(yield ua()).transaction(Or,"readwrite");return yield q.objectStore(Or).put(I,A),yield q.done,I})).apply(this,arguments)}function Ei(w){return cl.apply(this,arguments)}function cl(){return(cl=(0,P.Z)(function*(w){const I=Dr(w),L=(yield ua()).transaction(Or,"readwrite");yield L.objectStore(Or).delete(I),yield L.done})).apply(this,arguments)}function Dr({appConfig:w}){return w.appId}const yn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _t(w,I){return yo.apply(this,arguments)}function yo(){return(yo=(0,P.Z)(function*(w,I){var A;const L=yield Co(w),q=be(I),se={method:"POST",headers:L,body:JSON.stringify(q)};let me;try{me=yield(yield fetch(is(w.appConfig),se)).json()}catch(Fe){throw yn.create("token-subscribe-failed",{errorInfo:null===(A=Fe)||void 0===A?void 0:A.toString()})}if(me.error)throw yn.create("token-subscribe-failed",{errorInfo:me.error.message});if(!me.token)throw yn.create("token-subscribe-no-token");return me.token})).apply(this,arguments)}function mh(w,I){return vo.apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*(w,I){var A;const L=yield Co(w),q=be(I.subscriptionOptions),se={method:"PATCH",headers:L,body:JSON.stringify(q)};let me;try{me=yield(yield fetch(`${is(w.appConfig)}/${I.token}`,se)).json()}catch(Fe){throw yn.create("token-update-failed",{errorInfo:null===(A=Fe)||void 0===A?void 0:A.toString()})}if(me.error)throw yn.create("token-update-failed",{errorInfo:me.error.message});if(!me.token)throw yn.create("token-update-no-token");return me.token})).apply(this,arguments)}function _u(w,I){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,P.Z)(function*(w,I){var A;const q={method:"DELETE",headers:yield Co(w)};try{const me=yield(yield fetch(`${is(w.appConfig)}/${I}`,q)).json();if(me.error)throw yn.create("token-unsubscribe-failed",{errorInfo:me.error.message})}catch(se){throw yn.create("token-unsubscribe-failed",{errorInfo:null===(A=se)||void 0===A?void 0:A.toString()})}})).apply(this,arguments)}function is({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Co(w){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,P.Z)(function*({appConfig:w,installations:I}){const A=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function be({p256dh:w,auth:I,endpoint:A,vapidKey:L}){const q={web:{endpoint:A,auth:I,p256dh:w}};return L!==vi&&(q.web.applicationPubKey=L),q}const Mt=6048e5;function _h(w){return wo.apply(this,arguments)}function wo(){return(wo=(0,P.Z)(function*(w){const I=yield Ic(w.swRegistration,w.vapidKey),A={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:I.endpoint,auth:li(I.getKey("auth")),p256dh:li(I.getKey("p256dh"))},L=yield Ps(w.firebaseDependencies);if(L){if(yh(L.subscriptionOptions,A))return Date.now()>=L.createTime+Mt?ca(w,{token:L.token,createTime:Date.now(),subscriptionOptions:A}):L.token;try{yield _u(w.firebaseDependencies,L.token)}catch(q){console.warn(q)}return da(w.firebaseDependencies,A)}return da(w.firebaseDependencies,A)})).apply(this,arguments)}function kn(w){return xs.apply(this,arguments)}function xs(){return(xs=(0,P.Z)(function*(w){const I=yield Ps(w.firebaseDependencies);I&&(yield _u(w.firebaseDependencies,I.token),yield Ei(w.firebaseDependencies));const A=yield w.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function ca(w,I){return lr.apply(this,arguments)}function lr(){return(lr=(0,P.Z)(function*(w,I){try{const A=yield mh(w.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:A,createTime:Date.now()});return yield Vt(w.firebaseDependencies,L),A}catch(A){throw yield kn(w),A}})).apply(this,arguments)}function da(w,I){return Os.apply(this,arguments)}function Os(){return(Os=(0,P.Z)(function*(w,I){const L={token:yield _t(w,I),createTime:Date.now(),subscriptionOptions:I};return yield Vt(w,L),L.token})).apply(this,arguments)}function Ic(w,I){return Io.apply(this,arguments)}function Io(){return(Io=(0,P.Z)(function*(w,I){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pr(I)})})).apply(this,arguments)}function yh(w,I){return I.vapidKey===w.vapidKey&&I.endpoint===w.endpoint&&I.auth===w.auth&&I.p256dh===w.p256dh}function ss(w){const I={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Fn(w,I){if(!I.notification)return;w.notification={};const A=I.notification.title;A&&(w.notification.title=A);const L=I.notification.body;L&&(w.notification.body=L);const q=I.notification.image;q&&(w.notification.image=q);const se=I.notification.icon;se&&(w.notification.icon=se)}(I,w),function zr(w,I){!I.data||(w.data=I.data)}(I,w),function Do(w,I){var A,L,q,se,me;if(!(I.fcmOptions||null!==(A=I.notification)&&void 0!==A&&A.click_action))return;w.fcmOptions={};const Fe=null!==(q=null===(L=I.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==q?q:null===(se=I.notification)||void 0===se?void 0:se.click_action;Fe&&(w.fcmOptions.link=Fe);const it=null===(me=I.fcmOptions)||void 0===me?void 0:me.analytics_label;it&&(w.fcmOptions.analyticsLabel=it)}(I,w),I}function bo(w){return"object"==typeof w&&!!w&&la in w}function ui(w,I){const A=[];for(let L=0;L<w.length;L++)A.push(w.charAt(L)),L<I.length&&A.push(I.charAt(L));return A.join("")}function dl(w){return yn.create("missing-app-config-values",{valueName:w})}ui("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ui("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vu{constructor(I,A,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function yu(w){if(!w||!w.options)throw dl("App Configuration Object");if(!w.name)throw dl("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:A}=w;for(const L of I)if(!A[L])throw dl(L);return{appName:w.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:q,installations:A,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Dc(w){return ks.apply(this,arguments)}function ks(){return(ks=(0,P.Z)(function*(w){var I;try{w.swRegistration=yield navigator.serviceWorker.register(qn,{scope:Ms}),w.swRegistration.update().catch(()=>{})}catch(A){throw yn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=A)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function hl(w,I){return To.apply(this,arguments)}function To(){return(To=(0,P.Z)(function*(w,I){if(!I&&!w.swRegistration&&(yield Dc(w)),I||!w.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");w.swRegistration=I}})).apply(this,arguments)}function fl(w,I){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,P.Z)(function*(w,I){I?w.vapidKey=I:w.vapidKey||(w.vapidKey=vi)})).apply(this,arguments)}function Fs(){return(Fs=(0,P.Z)(function*(w,I){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield fl(w,I?.vapidKey),yield hl(w,I?.serviceWorkerRegistration),_h(w)})).apply(this,arguments)}function bc(w,I,A){return So.apply(this,arguments)}function So(){return(So=(0,P.Z)(function*(w,I,A){const L=Tc(I);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:A[la],message_name:A[al],message_time:A[gu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Tc(w){switch(w){case Ir.NOTIFICATION_CLICKED:return"notification_open";case Ir.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ci(){return(Ci=(0,P.Z)(function*(w,I){const A=I.data;if(!A.isFirebaseMessaging)return;w.onMessageHandler&&A.messageType===Ir.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(ss(A)):w.onMessageHandler.next(ss(A)));const L=A.data;bo(L)&&"1"===L[Rs]&&(yield bc(w,A.messageType,L))})).apply(this,arguments)}const wi="@firebase/messaging",un=w=>{const I=new vu(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Cu(w,I){return Ci.apply(this,arguments)}(I,A)),I},ci=w=>{const I=w.getProvider("messaging").getImmediate();return{getToken:L=>function Eu(w,I){return Fs.apply(this,arguments)}(I,L)}};function Iu(){return pl.apply(this,arguments)}function pl(){return(pl=(0,P.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function on(){(0,re._registerComponent)(new he.wA("messaging",un,"PUBLIC")),(0,re._registerComponent)(new he.wA("messaging-internal",ci,"PRIVATE")),(0,re.registerVersion)(wi,"0.11.0"),(0,re.registerVersion)(wi,"0.11.0","esm2017")}();const Us="analytics",bu="firebase_id",yl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tu="https://www.googletagmanager.com/gtag/js",vn=new ce.Yd("@firebase/analytics");function fa(w){return Promise.all(w.map(I=>I.catch(A=>A)))}function pa(w,I){const A=document.createElement("script");A.src=`${Tu}?l=${w}&id=${I}`,A.async=!0,document.head.appendChild(A)}function Sc(w,I,A,L,q,se){return ma.apply(this,arguments)}function ma(){return(ma=(0,P.Z)(function*(w,I,A,L,q,se){const me=L[q];try{if(me)yield I[me];else{const it=(yield fa(A)).find(mt=>mt.measurementId===q);it&&(yield I[it.appId])}}catch(Fe){vn.error(Fe)}w("config",q,se)})).apply(this,arguments)}function di(w,I,A,L,q){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,P.Z)(function*(w,I,A,L,q){try{let se=[];if(q&&q.send_to){let me=q.send_to;Array.isArray(me)||(me=[me]);const Fe=yield fa(A);for(const it of me){const mt=Fe.find(ot=>ot.measurementId===it),Et=mt&&I[mt.appId];if(!Et){se=[];break}se.push(Et)}}0===se.length&&(se=Object.values(I)),yield Promise.all(se),w("event",L,q||{})}catch(se){vn.error(se)}})).apply(this,arguments)}function Au(w){const I=window.document.getElementsByTagName("script");for(const A of Object.values(I))if(A.src&&A.src.includes(Tu)&&A.src.includes(w))return A;return null}const Ln=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Po=new class El{constructor(I={},A=1e3){this.throttleMetadata=I,this.intervalMillis=A}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,A){this.throttleMetadata[I]=A}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Bs(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Pc(w){return En.apply(this,arguments)}function En(){return(En=(0,P.Z)(function*(w){var I;const{appId:A,apiKey:L}=w,q={method:"GET",headers:Bs(L)},se=yl.replace("{app-id}",A),me=yield fetch(se,q);if(200!==me.status&&304!==me.status){let Fe="";try{const it=yield me.json();null!==(I=it.error)&&void 0!==I&&I.message&&(Fe=it.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Fe})}return me.json()})).apply(this,arguments)}function Su(w){return gr.apply(this,arguments)}function gr(){return(gr=(0,P.Z)(function*(w,I=Po,A){const{appId:L,apiKey:q,measurementId:se}=w.options;if(!L)throw Ln.create("no-app-id");if(!q){if(se)return{measurementId:se,appId:L};throw Ln.create("no-api-key")}const me=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fe=new No;return setTimeout((0,P.Z)(function*(){Fe.abort()}),void 0!==A?A:6e4),Mu({appId:L,apiKey:q,measurementId:se},me,Fe,I)})).apply(this,arguments)}function Mu(w,I,A){return hi.apply(this,arguments)}function hi(){return(hi=(0,P.Z)(function*(w,{throttleEndTimeMillis:I,backoffCount:A},L,q=Po){var se,me;const{appId:Fe,measurementId:it}=w;try{yield Cl(L,I)}catch(mt){if(it)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${it} provided in the "measurementId" field in the local Firebase config. [${null===(se=mt)||void 0===se?void 0:se.message}]`),{appId:Fe,measurementId:it};throw mt}try{const mt=yield Pc(w);return q.deleteThrottleMetadata(Fe),mt}catch(mt){const Et=mt;if(!_a(Et)){if(q.deleteThrottleMetadata(Fe),it)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${it} provided in the "measurementId" field in the local Firebase config. [${Et?.message}]`),{appId:Fe,measurementId:it};throw mt}const ot=503===Number(null===(me=Et?.customData)||void 0===me?void 0:me.httpStatus)?(0,oe.$s)(A,q.intervalMillis,30):(0,oe.$s)(A,q.intervalMillis),Rn={throttleEndTimeMillis:Date.now()+ot,backoffCount:A+1};return q.setThrottleMetadata(Fe,Rn),vn.debug(`Calling attemptFetch again in ${ot} millis`),Mu(w,Rn,L,q)}})).apply(this,arguments)}function Cl(w,I){return new Promise((A,L)=>{const q=Math.max(I-Date.now(),0),se=setTimeout(A,q);w.addEventListener(()=>{clearTimeout(se),L(Ln.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function _a(w){if(!(w instanceof oe.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}class No{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let os,va;function $s(){return($s=(0,P.Z)(function*(w,I,A,L,q){if(q&&q.global)w("event",A,L);else{const se=yield I;w("event",A,Object.assign(Object.assign({},L),{send_to:se}))}})).apply(this,arguments)}function Gs(w){va=w}function wl(w){os=w}function Di(){return zs.apply(this,arguments)}function zs(){return(zs=(0,P.Z)(function*(){var w;if(!(0,oe.hl)())return vn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(I){return vn.warn(Ln.create("indexeddb-unavailable",{errorInfo:null===(w=I)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function Zs(){return(Zs=(0,P.Z)(function*(w,I,A,L,q,se,me){var Fe;const it=Su(w);it.then(rr=>{A[rr.measurementId]=rr.appId,w.options.measurementId&&rr.measurementId!==w.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rr=>vn.error(rr)),I.push(it);const mt=Di().then(rr=>{if(rr)return L.getId()}),[Et,ot]=yield Promise.all([it,mt]);Au(se)||pa(se,Et.measurementId),va&&(q("consent","default",va),Gs(void 0)),q("js",new Date);const Rn=null!==(Fe=me?.config)&&void 0!==Fe?Fe:{};return Rn.origin="firebase",Rn.update=!0,null!=ot&&(Rn[bu]=ot),q("config",Et.measurementId,Rn),os&&(q("set",os),wl(void 0)),Et.measurementId})).apply(this,arguments)}class Ea{constructor(I){this.app=I}_delete(){return delete er[this.app.options.appId],Promise.resolve()}}let er={},qs=[];const as={};let Ys,qr,Ks="dataLayer",Pu=!1;function Oc(w,I,A){!function vh(){const w=[];if((0,oe.ru)()&&w.push("This is a browser extension environment."),(0,oe.zI)()||w.push("Cookies are not available."),w.length>0){const I=w.map((L,q)=>`(${q+1}) ${L}`).join(" "),A=Ln.create("invalid-analytics-context",{errorInfo:I});vn.warn(A.message)}}();const L=w.options.appId;if(!L)throw Ln.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Ln.create("no-api-key");vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=er[L])throw Ln.create("already-exists",{id:L});if(!Pu){!function ga(w){let I=[];Array.isArray(window[w])?I=window[w]:window[w]=I}(Ks);const{wrappedGtag:se,gtagCore:me}=function Ro(w,I,A,L,q){let se=function(...me){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(se=window[q]),window[q]=function vl(w,I,A,L){function se(){return(se=(0,P.Z)(function*(me,Fe,it){try{"event"===me?yield di(w,I,A,Fe,it):"config"===me?yield Sc(w,I,A,L,Fe,it):"consent"===me?w("consent","update",it):w("set",Fe)}catch(mt){vn.error(mt)}})).apply(this,arguments)}return function q(me,Fe,it){return se.apply(this,arguments)}}(se,w,I,A),{gtagCore:se,wrappedGtag:window[q]}}(er,qs,as,Ks,"gtag");qr=se,Ys=me,Pu=!0}return er[L]=function xc(w,I,A,L,q,se,me){return Zs.apply(this,arguments)}(w,qs,as,I,Ys,Ks,A),new Ea(w)}function jp(){return kc.apply(this,arguments)}function kc(){return(kc=(0,P.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Xe="@firebase/analytics";!function rn(){(0,re._registerComponent)(new he.wA(Us,(I,{options:A})=>Oc(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,re._registerComponent)(new he.wA("analytics-internal",function w(I){try{const A=I.getProvider(Us).getImmediate();return{logEvent:(L,q,se)=>function nn(w,I,A,L){w=(0,oe.m9)(w),function xo(w,I,A,L,q){return $s.apply(this,arguments)}(qr,er[w.app.options.appId],I,A,L).catch(q=>vn.error(q))}(A,L,q,se)}}catch(A){throw Ln.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,re.registerVersion)(Xe,"0.8.4"),(0,re.registerVersion)(Xe,"0.8.4","esm2017")}();var fi=x(4408),tr=x(7565);const Nu=new class us extends tr.v{}(class ls extends fi.o{constructor(I,A){super(I,A),this.scheduler=I,this.work=A}schedule(I,A=0){return A>0?super.schedule(I,A):(this.delay=A,this.state=I,this.scheduler.flush(this),this)}execute(I,A){return A>0||this.closed?super.execute(I,A):this._execute(I,A)}requestAsyncId(I,A,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,A,L):(I.flush(this),0)}});var Fc=x(4986),bi=x(9751),Ou=x(8505),Ti=x(9468),at=x(5363);const Dl=new c.GfV("7.5.0"),Qr="__angularfire_symbol__analyticsIsSupportedValue",wa="__angularfire_symbol__analyticsIsSupported",ko="__angularfire_symbol__remoteConfigIsSupportedValue",Sn="__angularfire_symbol__remoteConfigIsSupported",Fo="__angularfire_symbol__messagingIsSupportedValue",Ia="__angularfire_symbol__messagingIsSupported";function Js(w,I,A){if(I){if(1===I.length)return I[0];const se=I.filter(me=>me.app===A);if(1===se.length)return se[0]}return A.container.getProvider(w).getImmediate({optional:!0})}globalThis[wa]||(globalThis[wa]=jp().then(w=>globalThis[Qr]=w).catch(()=>globalThis[Qr]=!1)),globalThis[Ia]||(globalThis[Ia]=Iu().then(w=>globalThis[Fo]=w).catch(()=>globalThis[Fo]=!1)),globalThis[Sn]||(globalThis[Sn]=Bp().then(w=>globalThis[ko]=w).catch(()=>globalThis[ko]=!1));const Ai=(w,I)=>{const A=I?[I]:(0,B.C6)(),L=[];return A.forEach(q=>{q.container.getProvider(w).instances.forEach(me=>{L.includes(me)||L.push(me)})}),L};function Fr(){}class ba{constructor(I,A=Nu){this.zone=I,this.delegate=A}now(){return this.delegate.now()}schedule(I,A,L){const q=this.zone;return this.delegate.schedule(function(me){q.runGuarded(()=>{I.apply(this,[me])})},A,L)}}class Si{constructor(I){this.zone=I,this.task=null}call(I,A){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fr,{},Fr,Fr)),A.pipe((0,Ou.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cs=(()=>{class w{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new ba(Zone.current)),this.insideAngular=A.run(()=>new ba(Zone.current,Fc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(A){return new(A||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function nr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function ku(w){return nr().ngZone.runOutsideAngular(()=>w())}function an(w){return nr().ngZone.run(()=>w())}function Mn(w){return nr(),function ln(w){return function(A){return(A=A.lift(new Si(w.ngZone))).pipe((0,Ti.R)(w.outsideAngular),(0,at.Q)(w.insideAngular))}}(nr())(w)}const Ta=(w,I)=>function(){const L=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),an(()=>w.apply(void 0,L))},Jr=(w,I)=>function(){let A;const L=arguments;for(let se=0;se<arguments.length;se++)"function"==typeof L[se]&&(I&&(A||(A=an(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fr,{},Fr,Fr)))),L[se]=Ta(L[se],A));const q=ku(()=>w.apply(this,L));if(!I){if(q instanceof bi.y){const se=nr();return q.pipe((0,Ti.R)(se.outsideAngular),(0,at.Q)(se.insideAngular))}return an(()=>q)}return q instanceof bi.y?q.pipe(Mn):q instanceof Promise?an(()=>new Promise((se,me)=>q.then(Fe=>an(()=>se(Fe)),Fe=>an(()=>me(Fe))))):"function"==typeof q&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),q.apply(this,arguments)}:an(()=>q)}},8247:(et,De,x)=>{x.d(De,{$:()=>is,A:()=>H,B:()=>Ae,G:()=>Ji,H:()=>hr,J:()=>ai,L:()=>W,M:()=>aa,N:()=>pu,P:()=>Fc,Q:()=>la,R:()=>Hp,T:()=>al,U:()=>vi,V:()=>Ir,W:()=>li,X:()=>gh,Y:()=>_o,Z:()=>_t,_:()=>mh,a:()=>Ii,a0:()=>_h,a1:()=>kn,a2:()=>ca,a3:()=>da,a4:()=>Ic,a5:()=>yh,a6:()=>Fn,a7:()=>zr,a8:()=>bo,a9:()=>ui,aA:()=>$,aB:()=>Fe,aC:()=>an,aD:()=>ku,aE:()=>st,aI:()=>Bs,aL:()=>Rs,aa:()=>Dc,ab:()=>hl,ac:()=>fl,af:()=>bc,ag:()=>Tc,ah:()=>Cu,ak:()=>Or,al:()=>gl,an:()=>Tu,ao:()=>ma,ap:()=>pe,aq:()=>Pe,ar:()=>Ke,as:()=>je,at:()=>Vo,au:()=>Kn,av:()=>gt,aw:()=>Re,ax:()=>ne,ay:()=>Rn,az:()=>Q,b:()=>Ln,c:()=>Sn,d:()=>Lc,e:()=>Ia,f:()=>Mn,g:()=>A,h:()=>Jr,i:()=>zs,j:()=>se,k:()=>Xr,l:()=>Yr,m:()=>Hc,n:()=>Wc,o:()=>le,r:()=>fi,s:()=>Kr,u:()=>Nu});var c=x(5861),B=x(2090),P=x(9681),re=x(1877),oe=x(655),he=x(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_e=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new re.Yd("@firebase/auth");function We(_,...f){de.logLevel<=re.in.ERROR&&de.error(`Auth (${P.SDK_VERSION}): ${_}`,...f)}function je(_,...f){throw Ve(_,...f)}function Re(_,...f){return Ve(_,...f)}function Te(_,f,p){const E=Object.assign(Object.assign({},_e()),{[f]:p});return new B.LL("auth","Firebase",E).create(f,{appName:_.name})}function ye(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&je(_,"argument-error"),Te(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(_,...f){if("string"!=typeof _){const p=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(p,...E)}return qe.create(_,...f)}function ne(_,f,...p){if(!_)throw Ve(f,...p)}function ae(_){const f="INTERNAL ASSERTION FAILED: "+_;throw We(f),new Error(f)}function pe(_,f){_||ae(f)}const K=new Map;function Q(_){pe(_ instanceof Function,"Expected a class definition");let f=K.get(_);return f?(pe(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,K.set(_,f),f)}function Ne(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function xe(){return"http:"===tt()||"https:"===tt()}function tt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Be{constructor(f,p){this.shortDelay=f,this.longDelay=p,pe(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Lt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xe()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bt(_,f){pe(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Jt{static initialize(f,p,E){this.fetchImpl=f,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ft=new Be(3e4,6e4);function At(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ct(_,f,p,E){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(_,f,p,E,T={}){return $r(_,T,(0,c.Z)(function*(){let N={},X={};E&&("GET"===f?X=E:N={body:JSON.stringify(E)});const Ie=(0,B.xO)(Object.assign({key:_.config.apiKey},X)).slice(1),Ze=yield _._getAdditionalHeaders();return Ze["Content-Type"]="application/json",_.languageCode&&(Ze["X-Firebase-Locale"]=_.languageCode),Jt.fetch()(Hr(_,_.config.apiHost,p,Ie),Object.assign({method:f,headers:Ze,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function $r(_,f,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(_,f,p){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},kt),f);try{const T=new or(_),N=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const X=yield N.json();if("needConfirmation"in X)throw _n(_,"account-exists-with-different-credential",X);if(N.ok&&!("errorMessage"in X))return X;{const Ie=N.ok?X.errorMessage:X.error.message,[Ze,lt]=Ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw _n(_,"credential-already-in-use",X);if("EMAIL_EXISTS"===Ze)throw _n(_,"email-already-in-use",X);if("USER_DISABLED"===Ze)throw _n(_,"user-disabled",X);const St=E[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw Te(_,St,lt);je(_,St)}}catch(T){if(T instanceof B.ZR)throw T;je(_,"network-request-failed")}})).apply(this,arguments)}function hn(_,f,p,E){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(_,f,p,E,T={}){const N=yield Ct(_,f,p,E,T);return"mfaPendingCredential"in N&&je(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Hr(_,f,p,E){const T=`${f}${p}?${E}`;return _.config.emulator?Bt(_.config,T):`${_.config.apiScheme}://${T}`}class or{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(Re(this.auth,"network-request-failed")),Ft.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _n(_,f,p){const E={appName:_.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const T=Re(_,f,E);return T.customData._tokenResponse=p,T}function Wr(){return(Wr=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function He(_,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function In(_,f){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function jn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Xt(){return(Xt=(0,c.Z)(function*(_,f=!1){const p=(0,B.m9)(_),E=yield p.getIdToken(f),T=nt(E);ne(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,X=N?.sign_in_provider;return{claims:T,token:E,authTime:jn(Gt(T.auth_time)),issuedAtTime:jn(Gt(T.iat)),expirationTime:jn(Gt(T.exp)),signInProvider:X||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Gt(_){return 1e3*Number(_)}function nt(_){var f;const[p,E,T]=_.split(".");if(void 0===p||void 0===E||void 0===T)return We("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,B.tV)(E);return N?JSON.parse(N):(We("Failed to decode base64 JWT payload"),null)}catch(N){return We("Caught error parsing JWT payload as JSON",null===(f=N)||void 0===f?void 0:f.toString()),null}}function pt(_,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(E){throw E instanceof B.ZR&&Dn(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function Dn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Jn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),E)}iteration(){var f=this;return(0,c.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(p=E)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class ht{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xn(_){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(_){var f;const p=_.auth,E=yield _.getIdToken(),T=yield pt(_,In(p,{idToken:E}));ne(T?.users.length,p,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const X=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?sn(N.providerUserInfo):[],Ie=Vn(_.providerData,X),St=!!_.isAnonymous&&!(_.email&&N.passwordHash||Ie?.length),zt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Ie,metadata:new ht(N.createdAt,N.lastLoginAt),isAnonymous:St};Object.assign(_,zt)})).apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(_){const f=(0,B.m9)(_);yield Xn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Vn(_,f){return[..._.filter(E=>!f.some(T=>T.providerId===E.providerId)),...f]}function sn(_){return _.map(f=>{var{providerId:p}=f,E=(0,oe._T)(f,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ce(){return(Ce=(0,c.Z)(function*(_,f){const p=yield $r(_,{},(0,c.Z)(function*(){const E=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,X=Hr(_,T,"/v1/token",`key=${N}`),Ie=yield _._getAdditionalHeaders();return Ie["Content-Type"]="application/x-www-form-urlencoded",Jt.fetch()(X,{method:"POST",headers:Ie,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ne(f.idToken,"internal-error"),ne(typeof f.idToken<"u","internal-error"),ne(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function rt(_){const f=nt(_);return ne(f,"internal-error"),ne(typeof f.exp<"u","internal-error"),ne(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var E=this;return(0,c.Z)(function*(){return ne(!E.accessToken||E.refreshToken,f,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var E=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:X}=yield function Ge(_,f){return Ce.apply(this,arguments)}(f,p);E.updateTokensAndExpiration(T,N,Number(X))})()}updateTokensAndExpiration(f,p,E){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,p){const{refreshToken:E,accessToken:T,expirationTime:N}=p,X=new ze;return E&&(ne("string"==typeof E,"internal-error",{appName:f}),X.refreshToken=E),T&&(ne("string"==typeof T,"internal-error",{appName:f}),X.accessToken=T),N&&(ne("number"==typeof N,"internal-error",{appName:f}),X.expirationTime=N),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ze,this.toJSON())}_performRefresh(){return ae("not implemented")}}function ut(_,f){ne("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class ct{constructor(f){var{uid:p,auth:E,stsTokenManager:T}=f,N=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new ht(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const E=yield pt(p,p.stsTokenManager.getToken(p.auth,f));return ne(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(f){return function Yt(_){return Xt.apply(this,arguments)}(this,f)}reload(){return function dr(_){return Rt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ne(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var E=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),T=!0),p&&(yield Xn(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield pt(f,function Nr(_,f){return Wr.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var E,T,N,X,Ie,Ze,lt,St;const zt=null!==(E=p.displayName)&&void 0!==E?E:void 0,Tr=null!==(T=p.email)&&void 0!==T?T:void 0,Lr=null!==(N=p.phoneNumber)&&void 0!==N?N:void 0,Bo=null!==(X=p.photoURL)&&void 0!==X?X:void 0,Sl=null!==(Ie=p.tenantId)&&void 0!==Ie?Ie:void 0,Uu=null!==(Ze=p._redirectEventId)&&void 0!==Ze?Ze:void 0,Xs=null!==(lt=p.createdAt)&&void 0!==lt?lt:void 0,Ah=null!==(St=p.lastLoginAt)&&void 0!==St?St:void 0,{uid:$o,emailVerified:Gc,isAnonymous:Sh,providerData:jo,stsTokenManager:eo}=p;ne($o&&eo,f,"internal-error");const Mh=ze.fromJSON(this.name,eo);ne("string"==typeof $o,f,"internal-error"),ut(zt,f.name),ut(Tr,f.name),ne("boolean"==typeof Gc,f,"internal-error"),ne("boolean"==typeof Sh,f,"internal-error"),ut(Lr,f.name),ut(Bo,f.name),ut(Sl,f.name),ut(Uu,f.name),ut(Xs,f.name),ut(Ah,f.name);const Bu=new ct({uid:$o,auth:f,email:Tr,emailVerified:Gc,displayName:zt,isAnonymous:Sh,photoURL:Bo,phoneNumber:Lr,tenantId:Sl,stsTokenManager:Mh,createdAt:Xs,lastLoginAt:Ah});return jo&&Array.isArray(jo)&&(Bu.providerData=jo.map(xa=>Object.assign({},xa))),Uu&&(Bu._redirectEventId=Uu),Bu}static _fromIdTokenResponse(f,p,E=!1){return(0,c.Z)(function*(){const T=new ze;T.updateFromServerResponse(p);const N=new ct({uid:p.localId,auth:f,stsTokenManager:T,isAnonymous:E});return yield Xn(N),N})()}}const W=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,E){var T=this;return(0,c.Z)(function*(){T.storage[p]=E})()}_get(p){var E=this;return(0,c.Z)(function*(){const T=E.storage[p];return void 0===T?null:T})()}_remove(p){var E=this;return(0,c.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return _.type="NONE",_})();function $(_,f,p){return`firebase:${_}:${f}:${p}`}class Z{constructor(f,p,E){this.persistence=f,this.auth=p,this.userKey=E;const{config:T,name:N}=this.auth;this.fullUserKey=$(this.userKey,T.apiKey,N),this.fullPersistenceKey=$("persistence",T.apiKey,N),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?ct._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,E="authUser"){return(0,c.Z)(function*(){if(!p.length)return new Z(Q(W),f,E);const T=(yield Promise.all(p.map(function(){var lt=(0,c.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return lt.apply(this,arguments)}}()))).filter(lt=>lt);let N=T[0]||Q(W);const X=$(E,f.config.apiKey,f.name);let Ie=null;for(const lt of p)try{const St=yield lt._get(X);if(St){const zt=ct._fromJSON(f,St);lt!==N&&(Ie=zt),N=lt;break}}catch{}const Ze=T.filter(lt=>lt._shouldAllowMigration);return N._shouldAllowMigration&&Ze.length?(N=Ze[0],Ie&&(yield N._set(X,Ie.toJSON())),yield Promise.all(p.map(function(){var lt=(0,c.Z)(function*(St){if(St!==N)try{yield St._remove(X)}catch{}});return function(St){return lt.apply(this,arguments)}}())),new Z(N,f,E)):new Z(N,f,E)})()}}function V(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Me(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(M(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ye(f))return"Blackberry";if(we(f))return"Webos";if(k(f))return"Safari";if((f.includes("chrome/")||ee(f))&&!f.includes("edge/"))return"Chrome";if(Ke(f))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function M(_=(0,B.z$)()){return/firefox\//i.test(_)}function k(_=(0,B.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ee(_=(0,B.z$)()){return/crios\//i.test(_)}function Me(_=(0,B.z$)()){return/iemobile/i.test(_)}function Ke(_=(0,B.z$)()){return/android/i.test(_)}function Ye(_=(0,B.z$)()){return/blackberry/i.test(_)}function we(_=(0,B.z$)()){return/webos/i.test(_)}function Pe(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function gt(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function jt(_=(0,B.z$)()){return Pe(_)||Ke(_)||we(_)||Ye(_)||/windows phone/i.test(_)||Me(_)}function en(_,f=[]){let p;switch(_){case"Browser":p=V((0,B.z$)());break;case"Worker":p=`${V((0,B.z$)())}-${_}`;break;default:p=_}const E=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${P.SDK_VERSION}/${E}`}class Yi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const E=N=>new Promise((X,Ie)=>{try{X(f(N))}catch(Ze){Ie(Ze)}});E.onAbort=p,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){var E;if(p.auth.currentUser===f)return;const T=[];try{for(const N of p.queue)yield N(f),N.onAbort&&T.push(N.onAbort)}catch(N){T.reverse();for(const X of T)try{X()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=N)||void 0===E?void 0:E.message})}})()}}class Ds{constructor(f,p,E){this.app=f,this.heartbeatServiceProvider=p,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qi(this),this.idTokenSubscription=new Qi(this),this.beforeStateQueue=new Yi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,p){var E=this;return p&&(this._popupRedirectResolver=Q(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,N;if(!E._deleted&&(E.persistenceManager=yield Z.create(E,f),!E._deleted)){if(null!==(T=E._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var E;const T=yield p.assertedPersistence.getCurrentUser();let N=T,X=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ie=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,Ze=N?._redirectEventId,lt=yield p.tryRedirectSignIn(f);(!Ie||Ie===Ze)&&lt?.user&&(N=lt.user,X=!0)}if(!N)return p.directlySetCurrentUser(null);if(!N._redirectEventId){if(X)try{yield p.beforeStateQueue.runMiddleware(N)}catch(Ie){N=T,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ie))}return N?p.reloadAndSetCurrentUserOrClear(N):p.directlySetCurrentUser(null)}return ne(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===N._redirectEventId?p.directlySetCurrentUser(N):p.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){var E;try{yield Xn(f)}catch(T){if("auth/network-request-failed"!==(null===(E=T)||void 0===E?void 0:E.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function bt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const E=f?(0,B.m9)(f):null;return E&&ne(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(f,p=!1){var E=this;return(0,c.Z)(function*(){if(!E._deleted)return f&&ne(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,c.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(Q(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,p,E){return this.registerStateListener(this.authStateSubscription,f,p,E)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,E){return this.registerStateListener(this.idTokenSubscription,f,p,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var E=this;return(0,c.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(p);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const E=f&&Q(f)||p._popupRedirectResolver;ne(E,p,"argument-error"),p.redirectPersistenceManager=yield Z.create(p,[Q(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var E,T;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===f?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,E,T){if(this._deleted)return()=>{};const N="function"==typeof p?p:p.next.bind(p),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(X,this,"internal-error"),X.then(()=>N(this.currentUser)),"function"==typeof p?f.addObserver(p,E,T):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=en(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return T&&(E["X-Firebase-Client"]=T),E})()}}function st(_){return(0,B.m9)(_)}class Qi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(p=>this.observer=p)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ji(_,f,p){const E=st(_);ne(E._canInitEmulator,E,"emulator-config-failed"),ne(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const T=!!p?.disableWarnings,N=oa(f),{host:X,port:Ie}=function si(_){const f=oa(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const N=T[1];return{host:N,port:bn(E.substr(N.length+1))}}{const[N,X]=E.split(":");return{host:N,port:bn(X)}}}(f);E.config.emulator={url:`${N}//${X}${null===Ie?"":`:${Ie}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:Ie,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Xi(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function oa(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function bn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class hr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return ae("not implemented")}_getIdTokenResponse(f){return ae("not implemented")}_linkToIdToken(f,p){return ae("not implemented")}_getReauthenticationResolver(f){return ae("not implemented")}}function Er(_,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:resetPassword",At(_,f))})).apply(this,arguments)}function rl(_,f){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ec(_,f){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",At(_,f))})).apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithPassword",At(_,f))})).apply(this,arguments)}function yi(_,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:sendOobCode",At(_,f))})).apply(this,arguments)}function oi(_,f){return An.apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(_,f){return yi(_,f)})).apply(this,arguments)}function Cc(_,f){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(_,f){return yi(_,f)})).apply(this,arguments)}function Cr(_,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(_,f){return yi(_,f)})).apply(this,arguments)}function il(_,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(_,f){return yi(_,f)})).apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithEmailLink",At(_,f))})).apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithEmailLink",At(_,f))})).apply(this,arguments)}class po extends hr{constructor(f,p,E,T=null){super("password",E),this._email=f,this._password=p,this._tenantId=T}static _fromEmailAndPassword(f,p){return new po(f,p,"password")}static _fromEmailAndCode(f,p,E=null){return new po(f,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function ho(_,f){return es.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function fr(_,f){return sl.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:je(f,"internal-error")}})()}_linkToIdToken(f,p){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return rl(f,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function lh(_,f){return ol.apply(this,arguments)}(f,{idToken:p,email:E._email,oobCode:E._password});default:je(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ns(_,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithIdp",At(_,f))})).apply(this,arguments)}class ai extends hr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new ai(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):je("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:T}=p,N=(0,oe._T)(p,["providerId","signInMethod"]);if(!E||!T)return null;const X=new ai(E,T);return X.idToken=N.idToken||void 0,X.accessToken=N.accessToken||void 0,X.secret=N.secret,X.nonce=N.nonce,X.pendingToken=N.pendingToken||null,X}_getIdTokenResponse(f){return ns(f,this.buildRequest())}_linkToIdToken(f,p){const E=this.buildRequest();return E.idToken=p,ns(f,E)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,ns(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,B.xO)(p)}return f}}function ch(_,f){return uu.apply(this,arguments)}function uu(){return(uu=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:sendVerificationCode",At(_,f))})).apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",At(_,f))})).apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(_,f){const p=yield hn(_,"POST","/v1/accounts:signInWithPhoneNumber",At(_,f));if(p.temporaryProof)throw _n(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const hh={USER_NOT_FOUND:"user-not-found"};function du(){return(du=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",At(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),hh)})).apply(this,arguments)}class As extends hr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new As({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new As({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function dh(_,f){return go.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Ts(_,f){return cu.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function fh(_,f){return du.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:E,verificationCode:T}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:E,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:E,phoneNumber:T,temporaryProof:N}=f;return E||p||T||N?new As({verificationId:p,verificationCode:E,phoneNumber:T,temporaryProof:N}):null}}class Ss{constructor(f){var p,E,T,N,X,Ie;const Ze=(0,B.zd)((0,B.pd)(f)),lt=null!==(p=Ze.apiKey)&&void 0!==p?p:null,St=null!==(E=Ze.oobCode)&&void 0!==E?E:null,zt=function hu(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ze.mode)&&void 0!==T?T:null);ne(lt&&St&&zt,"argument-error"),this.apiKey=lt,this.operation=zt,this.code=St,this.continueUrl=null!==(N=Ze.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(X=Ze.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(Ie=Ze.tenantId)&&void 0!==Ie?Ie:null}static parseLink(f){const p=function fu(_){const f=(0,B.zd)((0,B.pd)(_)).link,p=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,E=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(E?(0,B.zd)((0,B.pd)(E)).link:null)||E||p||f||_}(f);try{return new Ss(p)}catch{return null}}}let aa=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,E){return po._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const T=Ss.parseLink(E);return ne(T,"argument-error"),po._fromEmailAndCode(p,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class qn{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ms extends qn{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class vi extends Ms{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return ne("providerId"in p&&"signInMethod"in p,"argument-error"),ai._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ne(f.idToken||f.accessToken,"argument-error"),ai._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return vi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return vi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:N,nonce:X,providerId:Ie}=f;if(!E&&!T&&!p&&!N||!Ie)return null;try{return new vi(Ie)._credential({idToken:p,accessToken:E,nonce:X,pendingToken:N})}catch{return null}}}let pu=(()=>{class _ extends Ms{constructor(){super("facebook.com")}static credential(p){return ai._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),la=(()=>{class _ extends Ms{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return ai._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:T}=p;if(!E&&!T)return null;try{return _.credential(E,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),al=(()=>{class _ extends Ms{constructor(){super("github.com")}static credential(p){return ai._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Rs extends hr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return ns(f,this.buildRequest())}_linkToIdToken(f,p){const E=this.buildRequest();return E.idToken=p,ns(f,E)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,ns(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:T,pendingToken:N}=p;return E&&T&&N&&E===T?new Rs(E,N):null}static _create(f,p){return new Rs(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ir extends qn{constructor(f){ne(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ir.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ir.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Rs.fromJSON(f);return ne(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:E}=f;if(!p||!E)return null;try{return Rs._create(E,p)}catch{return null}}}let li=(()=>{class _ extends Ms{constructor(){super("twitter.com")}static credential(p,E){return ai._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=p;if(!E||!T)return null;try{return _.credential(E,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function pr(_,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signUp",At(_,f))})).apply(this,arguments)}class xr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,E,T=!1){return(0,c.Z)(function*(){const N=yield ct._fromIdTokenResponse(f,E,T),X=mo(E);return new xr({user:N,providerId:X,_tokenResponse:E,operationType:p})})()}static _forOperation(f,p,E){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const T=mo(E);return new xr({user:f,providerId:T,_tokenResponse:E,operationType:p})})()}}function mo(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function gh(_){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(_){var f;const p=st(_);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new xr({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield pr(p,{returnSecureToken:!0}),T=yield xr._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class fn extends B.ZR{constructor(f,p,E,T){var N;super(p.code,p.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,fn.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,p,E,T){return new fn(f,p,E,T)}}function mu(_,f,p,E){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?fn._fromErrorAndOperation(_,N,f,E):N})}function wc(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Or(_,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_);yield Gr(!0,p,f);const{providerUserInfo:E}=yield He(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),T=wc(E||[]);return p.providerData=p.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ua(_,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(_,f,p=!1){const E=yield pt(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return xr._forOperation(_,"link",E)})).apply(this,arguments)}function Gr(_,f,p){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(_,f,p){yield Xn(f);const T=!1===_?"provider-already-linked":"no-such-provider";ne(wc(f.providerData).has(p)===_,f.auth,T)})).apply(this,arguments)}function ul(_,f){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(_,f,p=!1){var E;const{auth:T}=_,N="reauthenticate";try{const X=yield pt(_,mu(T,N,f,_),p);ne(X.idToken,T,"internal-error");const Ie=nt(X.idToken);ne(Ie,T,"internal-error");const{sub:Ze}=Ie;return ne(_.uid===Ze,T,"user-mismatch"),xr._forOperation(_,N,X)}catch(X){throw"auth/user-not-found"===(null===(E=X)||void 0===E?void 0:E.code)&&je(T,"user-mismatch"),X}})).apply(this,arguments)}function cl(_,f){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(_,f,p=!1){const E="signIn",T=yield mu(_,E,f),N=yield xr._fromIdTokenResponse(_,E,T);return p||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function _o(_,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(_,f){return cl(st(_),f)})).apply(this,arguments)}function _t(_,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_);return yield Gr(!1,p,f.providerId),ua(p,f)})).apply(this,arguments)}function mh(_,f){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(_,f){return ul((0,B.m9)(_),f)})).apply(this,arguments)}function _u(_,f){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithCustomToken",At(_,f))})).apply(this,arguments)}function is(_,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(_,f){const p=st(_),E=yield _u(p,{token:f,returnSecureToken:!0}),T=yield xr._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ns{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?be._fromServerResponse(f,p):je(f,"internal-error")}}class be extends Ns{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new be(p)}}function Mt(_,f,p){var E;ne((null===(E=p.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),ne(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ne(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(ne(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function _h(_,f,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_),T={requestType:"PASSWORD_RESET",email:f};p&&Mt(E,T,p),yield Cc(E,T)})).apply(this,arguments)}function kn(_,f,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(_,f,p){yield Er((0,B.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function ca(_,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(_,f){yield Ec((0,B.m9)(_),{oobCode:f})})).apply(this,arguments)}function da(_,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_),E=yield Er(p,{oobCode:f}),T=E.requestType;switch(ne(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(E.mfaInfo,p,"internal-error");default:ne(E.email,p,"internal-error")}let N=null;return E.mfaInfo&&(N=Ns._fromServerResponse(st(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function Ic(_,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(_,f){const{data:p}=yield da((0,B.m9)(_),f);return p.email})).apply(this,arguments)}function yh(_,f,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(_,f,p){const E=st(_),T=yield pr(E,{returnSecureToken:!0,email:f,password:p}),N=yield xr._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function Fn(_,f,p){return _o((0,B.m9)(_),aa.credential(f,p))}function zr(_,f,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};ne(p.handleCodeInApp,E,"argument-error"),p&&Mt(E,T,p),yield Cr(E,T)})).apply(this,arguments)}function bo(_,f){return"EMAIL_SIGNIN"===Ss.parseLink(f)?.operation}function ui(_,f,p){return yu.apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_),T=aa.credentialWithLink(f,p||Ne());return ne(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),_o(E,T)})).apply(this,arguments)}function dl(_,f){return vu.apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:createAuthUri",At(_,f))})).apply(this,arguments)}function Dc(_,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(_,f){const E={identifier:f,continueUri:xe()?Ne():"http://localhost"},{signinMethods:T}=yield dl((0,B.m9)(_),E);return T||[]})).apply(this,arguments)}function hl(_,f){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(_,f){const p=(0,B.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Mt(p.auth,T,f);const{email:N}=yield oi(p.auth,T);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function fl(_,f,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&Mt(E.auth,N,p);const{email:X}=yield il(E.auth,N);X!==_.email&&(yield _.reload())})).apply(this,arguments)}function Eu(_,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function bc(_,f){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const E=(0,B.m9)(_),N={idToken:yield E.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},X=yield pt(E,Eu(E.auth,N));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const Ie=E.providerData.find(({providerId:Ze})=>"password"===Ze);Ie&&(Ie.displayName=E.displayName,Ie.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)})).apply(this,arguments)}function Tc(_,f){return Ci((0,B.m9)(_),f,null)}function Cu(_,f){return Ci((0,B.m9)(_),null,f)}function Ci(_,f,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(_,f,p){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),p&&(N.password=p);const X=yield pt(_,rl(E,N));yield _._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class un{constructor(f,p,E={}){this.isNewUser=f,this.providerId=p,this.profile=E}}class ci extends un{constructor(f,p,E,T){super(f,p,E),this.username=T}}class on extends un{constructor(f,p){super(f,"facebook.com",p)}}class Iu extends ci{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class pl extends un{constructor(f,p){super(f,"google.com",p)}}class Ac extends ci{constructor(f,p,E){super(f,"twitter.com",p,E)}}function gl(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function wu(_){var f,p;if(!_)return null;const{providerId:E}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&_?.idToken){const X=null===(p=null===(f=nt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(X)return new un(N,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new on(N,T);case"github.com":return new Iu(N,T);case"google.com":return new pl(N,T);case"twitter.com":return new Ac(N,T,_.screenName||null);case"custom":case"anonymous":return new un(N,null);default:return new un(N,E,T)}}(p)}class br{constructor(f,p,E){this.type=f,this.credential=p,this.auth=E}static _fromIdtoken(f,p){return new br("enroll",f,p)}static _fromMfaPendingCredential(f){return new br("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,E;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return br._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(E=f.multiFactorSession)&&void 0!==E&&E.idToken)return br._fromIdtoken(f.multiFactorSession.idToken)}return null}}class yl{constructor(f,p,E){this.session=f,this.hints=p,this.signInResolver=E}static _fromError(f,p){const E=st(f),T=p.customData._serverResponse,N=(T.mfaInfo||[]).map(Ie=>Ns._fromServerResponse(E,Ie));ne(T.mfaPendingCredential,E,"internal-error");const X=br._fromMfaPendingCredential(T.mfaPendingCredential);return new yl(X,N,function(){var Ie=(0,c.Z)(function*(Ze){const lt=yield Ze._process(E,X);delete T.mfaInfo,delete T.mfaPendingCredential;const St=Object.assign(Object.assign({},T),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(p.operationType){case"signIn":const zt=yield xr._fromIdTokenResponse(E,p.operationType,St);return yield E._updateCurrentUser(zt.user),zt;case"reauthenticate":return ne(p.user,E,"internal-error"),xr._forOperation(p.user,p.operationType,St);default:je(E,"internal-error")}});return function(Ze){return Ie.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}function Tu(_,f){var p;const E=(0,B.m9)(_),T=f;return ne(f.customData.operationType,E,"argument-error"),ne(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),yl._fromError(E,T)}function vn(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:start",At(_,f))}class ga{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>Ns._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new ga(f)}getSession(){var f=this;return(0,c.Z)(function*(){return br._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var E=this;return(0,c.Z)(function*(){const T=f,N=yield E.getSession(),X=yield pt(E.user,T._process(E.user.auth,N,p));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){var E;const T="string"==typeof f?f:f.uid,N=yield p.user.getIdToken(),X=yield pt(p.user,function pa(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:withdraw",At(_,f))}(p.user.auth,{idToken:N,mfaEnrollmentId:T}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ie})=>Ie!==T),yield p.user._updateTokensIfNecessary(X);try{yield p.user.reload()}catch(Ie){if("auth/user-token-expired"!==(null===(E=Ie)||void 0===E?void 0:E.code))throw Ie}})()}}const Sc=new WeakMap;function ma(_){const f=(0,B.m9)(_);return Sc.has(f)||Sc.set(f,ga._fromUser(f)),Sc.get(f)}const di="__sak";class Mo{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(di,"1"),this.storage.removeItem(di),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ln=(()=>{class _ extends Mo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vl(){const _=(0,B.z$)();return k(_)||Pe(_)}()&&function ii(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),N=this.localCache[E];T!==N&&p(E,N,T)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((Ie,Ze,lt)=>{this.notifyListeners(Ie,lt)});const T=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(T);if(p.newValue!==Ie)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!E)return}const N=()=>{const Ie=this.storage.getItem(T);!E&&this.localCache[T]===Ie||this.notifyListeners(T,Ie)},X=this.storage.getItem(T);!function vt(){return(0,B.w1)()&&10===document.documentMode}()||X===p.newValue||p.newValue===p.oldValue?N():setTimeout(N,10)}notifyListeners(p,E){this.localCache[p]=E;const T=this.listeners[p];if(T)for(const N of Array.from(T))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var T=()=>super._set,N=this;return(0,c.Z)(function*(){yield T().call(N,p,E),N.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,T=this;return(0,c.Z)(function*(){const N=yield E().call(T,p);return T.localCache[p]=JSON.stringify(N),N})()}_remove(p){var E=()=>super._remove,T=this;return(0,c.Z)(function*(){yield E().call(T,p),delete T.localCache[p]})()}}return _.type="LOCAL",_})(),Ii=(()=>{class _ extends Mo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return _.type="SESSION",_})();let Po=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(N=>N.isListeningto(p));if(E)return E;const T=new _(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,c.Z)(function*(){const T=p,{eventId:N,eventType:X,data:Ie}=T.data,Ze=E.handlersMap[X];if(!Ze?.size)return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:X});const lt=Array.from(Ze).map(function(){var zt=(0,c.Z)(function*(Tr){return Tr(T.origin,Ie)});return function(Tr){return zt.apply(this,arguments)}}()),St=yield function El(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return f.apply(this,arguments)}}()))}(lt);T.ports[0].postMessage({status:"done",eventId:N,eventType:X,response:St})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Bs(_="",f=10){let p="";for(let E=0;E<f;E++)p+=Math.floor(10*Math.random());return _+p}class Pc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,E=50){var T=this;return(0,c.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let X,Ie;return new Promise((Ze,lt)=>{const St=Bs("",20);N.port1.start();const zt=setTimeout(()=>{lt(new Error("unsupported_event"))},E);Ie={messageChannel:N,onMessage(Tr){const Lr=Tr;if(Lr.data.eventId===St)switch(Lr.data.status){case"ack":clearTimeout(zt),X=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Ze(Lr.data.response);break;default:clearTimeout(zt),clearTimeout(X),lt(new Error("invalid_response"))}}},T.handlers.add(Ie),N.port1.addEventListener("message",Ie.onMessage),T.target.postMessage({eventType:f,eventId:St,data:p},[N.port2])}).finally(()=>{Ie&&T.removeMessageHandler(Ie)})})()}}function En(){return window}function gr(){return typeof En().WorkerGlobalScope<"u"&&"function"==typeof En().importScripts}function hi(){return(hi=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const No="firebaseLocalStorageDb",xo="firebaseLocalStorage",$s="fbase_key";class js{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Hs(_,f){return _.transaction([xo],f?"readwrite":"readonly").objectStore(xo)}function ya(){const _=indexedDB.open(No,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(xo,{keyPath:$s})}catch(T){p(T)}}),_.addEventListener("success",(0,c.Z)(function*(){const E=_.result;E.objectStoreNames.contains(xo)?f(E):(E.close(),yield function Ru(){const _=indexedDB.deleteDatabase(No);return new js(_).toPromise()}(),f(yield ya()))}))})}function Oo(_,f,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(_,f,p){const E=Hs(_,!0).put({[$s]:f,value:p});return new js(E).toPromise()})).apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(_,f){const p=Hs(_,!1).get(f),E=yield new js(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function va(_,f){const p=Hs(_,!0).delete(f);return new js(p).toPromise()}const zs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield ya()),p.db})()}_withRetries(p){var E=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const N=yield E._openDb();return yield p(N)}catch(N){if(T++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return gr()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=Po._getInstance(function _a(){return gr()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(T,N){return{keyProcessed:(yield p._poll()).includes(N.key)}});return function(T,N){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var E,T;if(p.activeServiceWorker=yield function Mu(){return hi.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Pc(p.activeServiceWorker);const N=yield p.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Cl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ya();return yield Oo(p,di,"1"),yield va(p,di),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(N=>Oo(N,p,E)),T.localCache[p]=E,T.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,c.Z)(function*(){const T=yield E._withRetries(N=>function Nc(_,f){return Ws.apply(this,arguments)}(N,p));return E.localCache[p]=T,T})()}_remove(p){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(T=>va(T,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const E=yield p._withRetries(X=>{const Ie=Hs(X,!1).getAll();return new js(Ie).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:X,value:Ie}of E)N.add(X),JSON.stringify(p.localCache[X])!==JSON.stringify(Ie)&&(p.notifyListeners(X,Ie),T.push(X));for(const X of Object.keys(p.localCache))p.localCache[X]&&!N.has(X)&&(p.notifyListeners(X,null),T.push(X));return T})()}notifyListeners(p,E){this.localCache[p]=E;const T=this.listeners[p];if(T)for(const N of Array.from(T))N(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function xc(_,f){return Ct(_,"POST","/v2/accounts/mfaSignIn:start",At(_,f))}function er(){return(er=(0,c.Z)(function*(_){return(yield Ct(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function as(_){return new Promise((f,p)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=f,E.onerror=T=>{const N=Re("internal-error");N.customData=T,p(N)},E.type="text/javascript",E.charset="UTF-8",function qs(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(E)})}function Ks(_){return`__${_}${Math.floor(1e6*Math.random())}`}const qr=1e12;class Pu{constructor(f){this.auth=f,this.counter=qr,this._widgets=new Map}render(f,p){const E=this.counter;return this._widgets.set(E,new tn(f,this.auth.name,p||{})),this.counter++,E}reset(f){var p;const E=f||qr;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(f){var p;return(null===(p=this._widgets.get(f||qr))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var E;return null===(E=p._widgets.get(f||qr))||void 0===E||E.execute(),""})()}}class tn{constructor(f,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;ne(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function vh(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Oc=Ks("rcb"),j_=new Be(3e4,6e4);class jp{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=En().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return ne(function kc(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(En().grecaptcha):new Promise((E,T)=>{const N=En().setTimeout(()=>{T(Re(f,"network-request-failed"))},j_.get());En()[Oc]=()=>{En().clearTimeout(N),delete En()[Oc];const Ie=En().grecaptcha;if(!Ie)return void T(Re(f,"internal-error"));const Ze=Ie.render;Ie.render=(lt,St)=>{const zt=Ze(lt,St);return this.counter++,zt},this.hostLanguage=p,E(Ie)},as(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Oc,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(N),T(Re(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=En().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class H_{load(f){return(0,c.Z)(function*(){return new Pu(f)})()}clearedOneInstance(){}}const Ca="recaptcha",W_={theme:"light",type:"image"};class Hp{constructor(f,p=Object.assign({},W_),E){this.parameters=p,this.type=Ca,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=st(E),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;ne(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new H_:new jp,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(p)||new Promise(N=>{const X=Ie=>{!Ie||(f.tokenChangeListeners.delete(X),N(Ie))};f.tokenChangeListeners.add(X),f.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof f)f(p);else if("string"==typeof f){const E=En()[f];"function"==typeof E&&E(p)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){ne(xe()&&!gr(),f.auth,"internal-error"),yield function Wn(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Ea(_){return er.apply(this,arguments)}(f.auth);ne(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class nn{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=As._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Kr(_,f,p){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,c.Z)(function*(_,f,p){const E=st(_),T=yield tr(E,f,(0,B.m9)(p));return new nn(T,N=>_o(E,N))})).apply(this,arguments)}function Yr(_,f,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_);yield Gr(!1,E,"phone");const T=yield tr(E.auth,f,(0,B.m9)(p));return new nn(T,N=>_t(E,N))})).apply(this,arguments)}function fi(_,f,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_),T=yield tr(E.auth,f,(0,B.m9)(p));return new nn(T,N=>mh(E,N))})).apply(this,arguments)}function tr(_,f,p){return us.apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(_,f,p){var E;const T=yield p.verify();try{let N;if(ne("string"==typeof T,_,"argument-error"),ne(p.type===Ca,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const X=N.session;if("phoneNumber"in N)return ne("enroll"===X.type,_,"internal-error"),(yield vn(_,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ne("signin"===X.type,_,"internal-error");const Ie=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return ne(Ie,_,"missing-multi-factor-info"),(yield xc(_,{mfaPendingCredential:X.credential,mfaEnrollmentId:Ie,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield ch(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return X}}finally{p._reset()}})).apply(this,arguments)}function Nu(_,f){return xu.apply(this,arguments)}function xu(){return(xu=(0,c.Z)(function*(_,f){yield ua((0,B.m9)(_),f)})).apply(this,arguments)}let Fc=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=st(p)}verifyPhoneNumber(p,E){return tr(this.auth,p,(0,B.m9)(E))}static credential(p,E){return As._fromVerification(p,E)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:T}=p;return E&&T?As._fromTokenResponse(E,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function bi(_,f){return f?Q(f):(ne(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ou extends hr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ns(f,this._buildIdpRequest())}_linkToIdToken(f,p){return ns(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return ns(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Ti(_){return cl(_.auth,new Ou(_),_.bypassAuthState)}function at(_){const{auth:f,user:p}=_;return ne(p,f,"internal-error"),ul(p,new Ou(_),_.bypassAuthState)}function Dl(_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(_){const{auth:f,user:p}=_;return ne(p,f,"internal-error"),ua(p,new Ou(_),_.bypassAuthState)})).apply(this,arguments)}class wa{constructor(f,p,E,T,N=!1){this.auth=f,this.resolver=E,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(E,T){f.pendingPromise={resolve:E,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(E,T){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:N,tenantId:X,error:Ie,type:Ze}=f;if(Ie)return void p.reject(Ie);const lt={auth:p.auth,requestUri:E,sessionId:T,tenantId:X||void 0,postBody:N||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ze)(lt))}catch(St){p.reject(St)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ti;case"linkViaPopup":case"linkViaRedirect":return Dl;case"reauthViaPopup":case"reauthViaRedirect":return at;default:je(this.auth,"internal-error")}}resolve(f){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ko=new Be(2e3,1e4);function Sn(_,f,p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(_,f,p){const E=st(_);ye(_,f,qn);const T=bi(E,p);return new Da(E,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Ia(_,f,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_);ye(E.auth,f,qn);const T=bi(E.auth,p);return new Da(E.auth,"reauthViaPopup",f,T,E).executeNotNull()})).apply(this,arguments)}function Lc(_,f,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_);ye(E.auth,f,qn);const T=bi(E.auth,p);return new Da(E.auth,"linkViaPopup",f,T,E).executeNotNull()})).apply(this,arguments)}let Da=(()=>{class _ extends wa{constructor(p,E,T,N,X){super(p,E,N,X),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const E=yield p.execute();return ne(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,c.Z)(function*(){pe(1===p.filter.length,"Popup operations only handle one event");const E=Bs();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(Re(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,T;this.pollId=null!==(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,ko.get())};p()}}return _.currentPopupAction=null,_})();const Ai=new Map;class Fr extends wa{constructor(f,p,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let E=Ai.get(p.auth._key());if(!E){try{const N=(yield function ba(_,f){return Si.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;E=()=>Promise.resolve(N)}catch(T){E=()=>Promise.reject(T)}Ai.set(p.auth._key(),E)}return p.bypassAuthState||Ai.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(E,f);if("unknown"!==f.type){if(f.eventId){const T=yield E.auth._redirectUserForId(f.eventId);if(T)return E.user=T,p().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Si(){return(Si=(0,c.Z)(function*(_,f){const p=hs(f),E=ds(_);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(p));return yield E._remove(p),T})).apply(this,arguments)}function cs(_,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(_,f){return ds(_)._set(hs(f),"true")})).apply(this,arguments)}function ku(){Ai.clear()}function an(_,f){Ai.set(_._key(),f)}function ds(_){return Q(_._redirectPersistence)}function hs(_){return $("pendingRedirect",_.config.apiKey,_.name)}function Mn(_,f,p){return function ln(_,f,p){return Ta.apply(this,arguments)}(_,f,p)}function Ta(){return(Ta=(0,c.Z)(function*(_,f,p){const E=st(_);ye(_,f,qn);const T=bi(E,p);return yield cs(T,E),T._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Jr(_,f,p){return function w(_,f,p){return I.apply(this,arguments)}(_,f,p)}function I(){return(I=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_);ye(E.auth,f,qn);const T=bi(E.auth,p);yield cs(T,E.auth);const N=yield mt(E);return T._openRedirect(E.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function A(_,f,p){return function L(_,f,p){return q.apply(this,arguments)}(_,f,p)}function q(){return(q=(0,c.Z)(function*(_,f,p){const E=(0,B.m9)(_);ye(E.auth,f,qn);const T=bi(E.auth,p);yield Gr(!1,E,f.providerId),yield cs(T,E.auth);const N=yield mt(E);return T._openRedirect(E.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function se(_,f){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)(function*(_,f){return yield st(_)._initializationPromise,Fe(_,f,!1)})).apply(this,arguments)}function Fe(_,f){return it.apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(_,f,p=!1){const E=st(_),T=bi(E,f),X=yield new Fr(E,T,p).execute();return X&&!p&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,f)),X})).apply(this,arguments)}function mt(_){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(_){const f=Bs(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Rn{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(p=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function wt(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fs(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var E;if(f.error&&!fs(f)){const T=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(Re(this.auth,T))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const E=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rr(f))}saveEventToCache(f){this.cachedEventUids.add(rr(f)),this.lastProcessedEventTime=Date.now()}}function rr(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function fs({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Kn(_){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(_,f={}){return Ct(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aa=/^https?/;function Gn(){return(Gn=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Kn(_);for(const p of f)try{if(Fu(p))return}catch{}je(_,"unauthorized-domain")})).apply(this,arguments)}function Fu(_){const f=Ne(),{protocol:p,hostname:E}=new URL(f);if(_.startsWith("chrome-extension://")){const X=new URL(_);return""===X.hostname&&""===E?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&X.hostname===E}if(!Aa.test(p))return!1;if(Mi.test(_))return E===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const Eh=new Be(3e4,6e4);function Vc(){const _=En().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Cn=null;function gs(_){return Cn=Cn||function G_(_){return new Promise((f,p)=>{var E,T,N;function X(){Vc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Vc(),p(Re(_,"network-request-failed"))},timeout:Eh.get()})}if(null!==(T=null===(E=En().gapi)||void 0===E?void 0:E.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(N=En().gapi)||void 0===N||!N.load){const Ie=Ks("iframefcb");return En()[Ie]=()=>{gapi.load?X():p(Re(_,"network-request-failed"))},as(`https://apis.google.com/js/api.js?onload=${Ie}`).catch(Ze=>p(Ze))}X()}}).catch(f=>{throw Cn=null,f})}(_),Cn}const Uc=new Be(5e3,15e3),Bc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gp(_){const f=_.config;ne(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?Bt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:_.name,v:P.SDK_VERSION},T=Wp.get(_.config.apiHost);T&&(E.eid=T);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${p}?${(0,B.xO)(E).slice(1)}`}function bl(){return bl=(0,c.Z)(function*(_){const f=yield gs(_),p=En().gapi;return ne(p,_,"internal-error"),f.open({where:document.body,url:Gp(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bc,dontclear:!0},E=>new Promise(function(){var T=(0,c.Z)(function*(N,X){yield E.restyle({setHideOnLeave:!1});const Ie=Re(_,"network-request-failed"),Ze=En().setTimeout(()=>{X(Ie)},Uc.get());function lt(){En().clearTimeout(Ze),N(E)}E.ping(lt).then(lt,()=>{X(Ie)})});return function(N,X){return T.apply(this,arguments)}}()))}),bl.apply(this,arguments)}const zp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vo(_,f,p,E,T,N){ne(_.config.authDomain,_,"auth-domain-config-required"),ne(_.config.apiKey,_,"invalid-api-key");const X={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:E,v:P.SDK_VERSION,eventId:T};if(f instanceof qn){f.setDefaultLanguage(_.languageCode),X.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(X.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ze,lt]of Object.entries(N||{}))X[Ze]=lt}if(f instanceof Ms){const Ze=f.getScopes().filter(lt=>""!==lt);Ze.length>0&&(X.scopes=Ze.join(","))}_.tenantId&&(X.tid=_.tenantId);const Ie=X;for(const Ze of Object.keys(Ie))void 0===Ie[Ze]&&delete Ie[Ze];return`${function Ih({config:_}){return _.emulator?Bt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,B.xO)(Ie).slice(1)}`}const Uo="webStorageSupport",Xr=class Pa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ii,this._completeRedirectFn=Fe,this._overrideRedirectResult=an}_openPopup(f,p,E,T){var N=this;return(0,c.Z)(function*(){var X;pe(null===(X=N.eventManagers[f._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const Ie=Vo(f,p,E,Ne(),T);return function Z_(_,f,p,E=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let Ie="";const Ze=Object.assign(Object.assign({},zp),{width:E.toString(),height:T.toString(),top:N,left:X}),lt=(0,B.z$)().toLowerCase();p&&(Ie=ee(lt)?"_blank":p),M(lt)&&(f=f||"http://localhost",Ze.scrollbars="yes");const St=Object.entries(Ze).reduce((Tr,[Lr,Bo])=>`${Tr}${Lr}=${Bo},`,"");if(function $t(_=(0,B.z$)()){var f;return Pe(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(lt)&&"_self"!==Ie)return function Ra(_,f){const p=document.createElement("a");p.href=_,p.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(f||"",Ie),new Tl(null);const zt=window.open(f||"",Ie,St);ne(zt,_,"popup-blocked");try{zt.focus()}catch{}return new Tl(zt)}(f,Ie,Bs())})()}_openRedirect(f,p,E,T){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(f),function Su(_){En().location.href=_}(Vo(f,p,E,Ne(),T)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:T,promise:N}=this.eventManagers[p];return T?Promise.resolve(T):(pe(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(f);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const E=yield function wh(_){return bl.apply(this,arguments)}(f),T=new Rn(f);return E.register("authEvent",N=>(ne(N?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:T},p.iframes[f._key()]=E,T})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Uo,{type:Uo},T=>{var N;const X=null===(N=T?.[0])||void 0===N?void 0:N[Uo];void 0!==X&&p(!!X),je(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ri(_){return Gn.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return jt()||k()||Pe()}};class jc extends class Lu{constructor(f){this.factorId=f}_process(f,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,E);case"signin":return this._finalizeSignIn(f,p.credential);default:return ae("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new jc(f)}_finalizeEnroll(f,p,E){return function fa(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:finalize",At(_,f))}(f,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function Zs(_,f){return Ct(_,"POST","/v2/accounts/mfaSignIn:finalize",At(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hc=(()=>{class _{constructor(){}static assertion(p){return jc._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Na="@firebase/auth",Al="0.20.11";class Dh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(E=>{var T;f((null===(T=E)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vu=(0,B.Pz)("authIdTokenMaxAge")||300;let Th=null;const mr=_=>function(){var f=(0,c.Z)(function*(p){const E=p&&(yield p.getIdTokenResult()),T=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(T&&T>Vu)return;const N=E?.token;Th!==N&&(Th=N,yield fetch(_,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(p){return f.apply(this,arguments)}}();function Wc(_=(0,P.getApp)()){const f=(0,P._getProvider)(_,"auth");if(f.isInitialized())return f.getImmediate();const p=function ue(_,f){const p=(0,P._getProvider)(_,"auth");if(p.isInitialized()){const T=p.getImmediate(),N=p.getOptions();if((0,B.vZ)(N,f??{}))return T;je(T,"already-initialized")}return p.initialize({options:f})}(_,{popupRedirectResolver:Xr,persistence:[zs,Ln,Ii]}),E=(0,B.Pz)("authTokenSyncURL");if(E){const N=mr(E);(function ha(_,f,p){(0,B.m9)(_).beforeAuthStateChanged(f,p)})(p,N,()=>N(p.currentUser)),function _l(_,f,p,E){(0,B.m9)(_).onIdTokenChanged(f,p,E)}(p,X=>N(X))}const T=(0,B.q4)("auth");return T&&Ji(p,`http://${T}`),p}!function Yp(_){(0,P._registerComponent)(new he.wA("auth",(f,{options:p})=>{const E=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:N,authDomain:X}=E.options;return((Ie,Ze)=>{ne(N&&!N.includes(":"),"invalid-api-key",{appName:Ie.name}),ne(!X?.includes(":"),"argument-error",{appName:Ie.name});const lt={apiKey:N,authDomain:X,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:en(_)},St=new Ds(Ie,Ze,lt);return function ie(_,f){const p=f?.persistence||[],E=(Array.isArray(p)?p:[p]).map(Q);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(E,f?.popupRedirectResolver)}(St,p),St})(E,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,E)=>{f.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new he.wA("auth-internal",f=>{const p=st(f.getProvider("auth").getImmediate());return new Dh(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Na,Al,function Kp(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,P.registerVersion)(Na,Al,"esm2017")}("Browser")},2090:(et,De,x)=>{x.d(De,{$s:()=>ze,BH:()=>bt,DV:()=>_n,Dv:()=>ar,GJ:()=>Hr,L:()=>le,LL:()=>kt,P0:()=>xe,Pz:()=>Lt,Sg:()=>Be,UG:()=>_e,UI:()=>Wr,US:()=>he,Wj:()=>ht,Wl:()=>Zn,Yr:()=>Te,ZB:()=>H,ZR:()=>Jt,aH:()=>tt,b$:()=>de,cI:()=>Ct,dS:()=>yt,eu:()=>ne,g5:()=>P,gK:()=>Dn,gQ:()=>Yt,h$:()=>ce,hl:()=>Ve,hu:()=>B,jU:()=>qe,lb:()=>Xn,m9:()=>Nt,ne:()=>Xt,p$:()=>G,pd:()=>Ki,q4:()=>Ne,r3:()=>or,ru:()=>ge,tV:()=>fe,uI:()=>Ae,ug:()=>dr,vZ:()=>He,w1:()=>je,w9:()=>jr,xO:()=>Kt,xb:()=>Nr,z$:()=>Oe,zI:()=>ae,zd:()=>jn});const B=function(W,$){if(!W)throw P($)},P=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},re=function(W){const $=[];let Z=0;for(let V=0;V<W.length;V++){let M=W.charCodeAt(V);M<128?$[Z++]=M:M<2048?($[Z++]=M>>6|192,$[Z++]=63&M|128):55296==(64512&M)&&V+1<W.length&&56320==(64512&W.charCodeAt(V+1))?(M=65536+((1023&M)<<10)+(1023&W.charCodeAt(++V)),$[Z++]=M>>18|240,$[Z++]=M>>12&63|128,$[Z++]=M>>6&63|128,$[Z++]=63&M|128):($[Z++]=M>>12|224,$[Z++]=M>>6&63|128,$[Z++]=63&M|128)}return $},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let M=0;M<W.length;M+=3){const k=W[M],ee=M+1<W.length,Me=ee?W[M+1]:0,Ke=M+2<W.length,Ye=Ke?W[M+2]:0;let gt=(15&Me)<<2|Ye>>6,$t=63&Ye;Ke||($t=64,ee||(gt=64)),V.push(Z[k>>2],Z[(3&k)<<4|Me>>4],Z[gt],Z[$t])}return V.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(re(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let Z=0,V=0;for(;Z<W.length;){const M=W[Z++];if(M<128)$[V++]=String.fromCharCode(M);else if(M>191&&M<224){const k=W[Z++];$[V++]=String.fromCharCode((31&M)<<6|63&k)}else if(M>239&&M<365){const Ke=((7&M)<<18|(63&W[Z++])<<12|(63&W[Z++])<<6|63&W[Z++])-65536;$[V++]=String.fromCharCode(55296+(Ke>>10)),$[V++]=String.fromCharCode(56320+(1023&Ke))}else{const k=W[Z++],ee=W[Z++];$[V++]=String.fromCharCode((15&M)<<12|(63&k)<<6|63&ee)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const Z=$?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let M=0;M<W.length;){const k=Z[W.charAt(M++)],Me=M<W.length?Z[W.charAt(M)]:0;++M;const Ye=M<W.length?Z[W.charAt(M)]:64;++M;const Pe=M<W.length?Z[W.charAt(M)]:64;if(++M,null==k||null==Me||null==Ye||null==Pe)throw Error();V.push(k<<2|Me>>4),64!==Ye&&(V.push(Me<<4&240|Ye>>2),64!==Pe&&V.push(Ye<<6&192|Pe))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ce=function(W){const $=re(W);return he.encodeByteArray($,!0)},le=function(W){return ce(W).replace(/\./g,"")},fe=function(W){try{return he.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function G(W){return H(void 0,W)}function H(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const Z in $)!$.hasOwnProperty(Z)||!Y(Z)||(W[Z]=H(W[Z],$[Z]));return W}function Y(W){return"__proto__"!==W}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function ge(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function je(){const W=Oe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Te(){return!1}function Ve(){return"object"==typeof indexedDB}function ne(){return new Promise((W,$)=>{try{let Z=!0;const V="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(V);M.onsuccess=()=>{M.result.close(),Z||self.indexedDB.deleteDatabase(V),W(!0)},M.onupgradeneeded=()=>{Z=!1},M.onerror=()=>{var k;$((null===(k=M.error)||void 0===k?void 0:k.message)||"")}}catch(Z){$(Z)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ie=()=>{try{return function pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=W&&fe(W[1]);return $&&JSON.parse($)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},Ne=W=>{var $,Z;return null===(Z=null===($=ie())||void 0===$?void 0:$.emulatorHosts)||void 0===Z?void 0:Z[W]},xe=W=>{const $=Ne(W);if(!$)return;const Z=$.lastIndexOf(":");if(Z<=0||Z+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const V=parseInt($.substring(Z+1),10);return"["===$[0]?[$.substring(1,Z-1),V]:[$.substring(0,Z),V]},tt=()=>{var W;return null===(W=ie())||void 0===W?void 0:W.config},Lt=W=>{var $;return null===($=ie())||void 0===$?void 0:$[`_${W}`]};class bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Z)=>{this.resolve=$,this.reject=Z})}wrapCallback($){return(Z,V)=>{Z?this.reject(Z):this.resolve(V),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Z):$(Z,V))}}}function Be(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=$||"demo-project",M=W.iat||0,k=W.sub||W.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:M,exp:M+3600,auth_time:M,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},W);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(ee)),""].join(".")}class Jt extends Error{constructor($,Z,V){super(Z),this.code=$,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kt.prototype.create)}}class kt{constructor($,Z,V){this.service=$,this.serviceName=Z,this.errors=V}create($,...Z){const V=Z[0]||{},M=`${this.service}/${$}`,k=this.errors[$],ee=k?function Ft(W,$){return W.replace(At,(Z,V)=>{const M=$[V];return null!=M?String(M):`<${V}?>`})}(k,V):"Error";return new Jt(M,`${this.serviceName}: ${ee} (${M}).`,V)}}const At=/\{\$([^}]+)}/g;function Ct(W){return JSON.parse(W)}function Zn(W){return JSON.stringify(W)}const $r=function(W){let $={},Z={},V={},M="";try{const k=W.split(".");$=Ct(fe(k[0])||""),Z=Ct(fe(k[1])||""),M=k[2],V=Z.d||{},delete Z.d}catch{}return{header:$,claims:Z,data:V,signature:M}},jr=function(W){const Z=$r(W).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},Hr=function(W){const $=$r(W).claims;return"object"==typeof $&&!0===$.admin};function or(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function _n(W,$){if(Object.prototype.hasOwnProperty.call(W,$))return W[$]}function Nr(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function Wr(W,$,Z){const V={};for(const M in W)Object.prototype.hasOwnProperty.call(W,M)&&(V[M]=$.call(Z,W[M],M,W));return V}function He(W,$){if(W===$)return!0;const Z=Object.keys(W),V=Object.keys($);for(const M of Z){if(!V.includes(M))return!1;const k=W[M],ee=$[M];if(xn(k)&&xn(ee)){if(!He(k,ee))return!1}else if(k!==ee)return!1}for(const M of V)if(!Z.includes(M))return!1;return!0}function xn(W){return null!==W&&"object"==typeof W}function Kt(W){const $=[];for(const[Z,V]of Object.entries(W))Array.isArray(V)?V.forEach(M=>{$.push(encodeURIComponent(Z)+"="+encodeURIComponent(M))}):$.push(encodeURIComponent(Z)+"="+encodeURIComponent(V));return $.length?"&"+$.join("&"):""}function jn(W){const $={};return W.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[M,k]=V.split("=");$[decodeURIComponent(M)]=decodeURIComponent(k)}}),$}function Ki(W){const $=W.indexOf("?");if(!$)return"";const Z=W.indexOf("#",$);return W.substring($,Z>0?Z:void 0)}class Yt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,Z){Z||(Z=0);const V=this.W_;if("string"==typeof $)for(let Pe=0;Pe<16;Pe++)V[Pe]=$.charCodeAt(Z)<<24|$.charCodeAt(Z+1)<<16|$.charCodeAt(Z+2)<<8|$.charCodeAt(Z+3),Z+=4;else for(let Pe=0;Pe<16;Pe++)V[Pe]=$[Z]<<24|$[Z+1]<<16|$[Z+2]<<8|$[Z+3],Z+=4;for(let Pe=16;Pe<80;Pe++){const gt=V[Pe-3]^V[Pe-8]^V[Pe-14]^V[Pe-16];V[Pe]=4294967295&(gt<<1|gt>>>31)}let Ye,we,M=this.chain_[0],k=this.chain_[1],ee=this.chain_[2],Me=this.chain_[3],Ke=this.chain_[4];for(let Pe=0;Pe<80;Pe++){Pe<40?Pe<20?(Ye=Me^k&(ee^Me),we=1518500249):(Ye=k^ee^Me,we=1859775393):Pe<60?(Ye=k&ee|Me&(k|ee),we=2400959708):(Ye=k^ee^Me,we=3395469782);const gt=(M<<5|M>>>27)+Ye+Ke+we+V[Pe]&4294967295;Ke=Me,Me=ee,ee=4294967295&(k<<30|k>>>2),k=M,M=gt}this.chain_[0]=this.chain_[0]+M&4294967295,this.chain_[1]=this.chain_[1]+k&4294967295,this.chain_[2]=this.chain_[2]+ee&4294967295,this.chain_[3]=this.chain_[3]+Me&4294967295,this.chain_[4]=this.chain_[4]+Ke&4294967295}update($,Z){if(null==$)return;void 0===Z&&(Z=$.length);const V=Z-this.blockSize;let M=0;const k=this.buf_;let ee=this.inbuf_;for(;M<Z;){if(0===ee)for(;M<=V;)this.compress_($,M),M+=this.blockSize;if("string"==typeof $){for(;M<Z;)if(k[ee]=$.charCodeAt(M),++ee,++M,ee===this.blockSize){this.compress_(k),ee=0;break}}else for(;M<Z;)if(k[ee]=$[M],++ee,++M,ee===this.blockSize){this.compress_(k),ee=0;break}}this.inbuf_=ee,this.total_+=Z}digest(){const $=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let M=this.blockSize-1;M>=56;M--)this.buf_[M]=255&Z,Z/=256;this.compress_(this.buf_);let V=0;for(let M=0;M<5;M++)for(let k=24;k>=0;k-=8)$[V]=this.chain_[M]>>k&255,++V;return $}}function Xt(W,$){const Z=new Gt(W,$);return Z.subscribe.bind(Z)}class Gt{constructor($,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{$(this)}).catch(V=>{this.error(V)})}next($){this.forEachObserver(Z=>{Z.next($)})}error($){this.forEachObserver(Z=>{Z.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Z,V){let M;if(void 0===$&&void 0===Z&&void 0===V)throw new Error("Missing Observer.");M=function rt(W,$){if("object"!=typeof W||null===W)return!1;for(const Z of $)if(Z in W&&"function"==typeof W[Z])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Z,complete:V},void 0===M.next&&(M.next=pt),void 0===M.error&&(M.error=pt),void 0===M.complete&&(M.complete=pt);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch{}}),this.observers.push(M),k}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,$)}sendOne($,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Z(this.observers[$])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pt(){}const ar=function(W,$,Z,V){let M;if(V<$?M="at least "+$:V>Z&&(M=0===Z?"none":"no more than "+Z),M)throw new Error(W+" failed: Was called with "+V+(1===V?" argument.":" arguments.")+" Expects "+M+".")};function Dn(W,$){return`${W} failed: ${$} argument `}function ht(W,$,Z,V){if((!V||Z)&&"function"!=typeof Z)throw new Error(Dn(W,$)+"must be a valid function.")}function Xn(W,$,Z,V){if((!V||Z)&&("object"!=typeof Z||null===Z))throw new Error(Dn(W,$)+"must be a valid context object.")}const yt=function(W){const $=[];let Z=0;for(let V=0;V<W.length;V++){let M=W.charCodeAt(V);if(M>=55296&&M<=56319){const k=M-55296;V++,B(V<W.length,"Surrogate pair missing trail surrogate."),M=65536+(k<<10)+(W.charCodeAt(V)-56320)}M<128?$[Z++]=M:M<2048?($[Z++]=M>>6|192,$[Z++]=63&M|128):M<65536?($[Z++]=M>>12|224,$[Z++]=M>>6&63|128,$[Z++]=63&M|128):($[Z++]=M>>18|240,$[Z++]=M>>12&63|128,$[Z++]=M>>6&63|128,$[Z++]=63&M|128)}return $},dr=function(W){let $=0;for(let Z=0;Z<W.length;Z++){const V=W.charCodeAt(Z);V<128?$++:V<2048?$+=2:V>=55296&&V<=56319?($+=4,Z++):$+=3}return $};function ze(W,$=1e3,Z=2){const V=$*Math.pow(Z,W),M=Math.round(.5*V*(Math.random()-.5)*2);return Math.min(144e5,V+M)}function Nt(W){return W&&W._delegate?W._delegate:W}},4734:(et,De,x)=>{var c=x(4650);let B=null;function P(){return B}const ce=new c.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function fe(){return(0,c.LFG)(H)}()},providedIn:"platform"}),n})();const G=new c.OlP("Location Initialized");let H=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){Y()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){Y()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Oe(){return new H((0,c.LFG)(ce))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function _e(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(We)},providedIn:"root"}),n})();const de=new c.OlP("appBaseHref");let We=(()=>{class n extends ge{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ae(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+qe(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,d){const g=this.prepareExternalUrl(a+qe(d));this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){const g=this.prepareExternalUrl(a+qe(d));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),je=(()=>{class n extends ge{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Ae(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,d){let g=this.prepareExternalUrl(a+qe(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){let g=this.prepareExternalUrl(a+qe(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(le),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._baseHref=_e(Ve(s)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+qe(s))}normalize(e){return n.stripTrailingSlash(function ye(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ve(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._locationStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(s)),a)}replaceState(e,s="",a=null){this._locationStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=qe,n.joinWithSlash=Ae,n.stripTrailingSlash=_e,n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Te(){return new Re((0,c.LFG)(ge))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}class es{constructor(t,e,s,a){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yi=(()=>{class n{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((a,d,g)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new es(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)s.remove(null===d?void 0:d);else if(null!==d){const y=s.get(d);s.move(y,g),ts(y,a)}});for(let a=0,d=s.length;a<d;a++){const y=s.get(a).context;y.index=a,y.count=d,y.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{ts(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ts(n,t){n.context.$implicit=t.item}let An=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new Cc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){On("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){On("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Cc{constructor(){this.$implicit=null,this.ngIf=null}}function On(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let ph=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();let mu=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new wc((0,c.LFG)(ce),window)}),n})();class wc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Hn(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const d=a.shadowRoot;if(d){const g=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(g)return g}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Or(this.window.history)||Or(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Or(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ci extends class Cu extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){B||(B=n)}(new Ci)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function wu(){return wi=wi||document.querySelector("base"),wi?wi.getAttribute("href"):null}();return null==e?null:function ci(n){un=un||document.createElement("a"),un.setAttribute("href",n);const t=un.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){wi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function rl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,d]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let un,wi=null;const on=new c.OlP("TRANSITION_ID"),pl=[{provide:c.ip1,useFactory:function Iu(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const s=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)s.remove(a[d])})}},deps:[on,ce,c.zs3],multi:!0}];let gl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ml=new c.OlP("EventManagerPlugins");let _l=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let d=0;d<a.length;d++){const g=a[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ml),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ha{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let Ls=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Vs=(()=>{class n extends Ls{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,a.push(s.appendChild(g))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Du),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Du))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Du(n){P().remove(n)}const Us={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bu=/%COMP%/g;function pa(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?pa(n,a,e):(a=a.replace(bu,n),e.push(a))}return e}function ga(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ma=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new di(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case c.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Au(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case c.ifc.ShadowDom:return new Mc(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=pa(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_l),c.LFG(Vs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class di{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Us[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ro(t)?t.content:t).appendChild(e)}insertBefore(t,e,s){t&&(Ro(t)?t.content:t).insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const d=Us[a];d?t.setAttributeNS(d,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=Us[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,s,a&c.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ga(s)):this.eventManager.addEventListener(t,e,ga(s))}}function Ro(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Au extends di{constructor(t,e,s,a){super(t),this.component=s;const d=pa(a+"-"+s.id,s.styles,[]);e.addStyles(d),this.contentAttr=function vn(n){return"_ngcontent-%COMP%".replace(bu,n)}(a+"-"+s.id),this.hostAttr=function fa(n){return"_nghost-%COMP%".replace(bu,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class Mc extends di{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=pa(a.id,a.styles,[]);for(let g=0;g<d.length;g++){const y=document.createElement("style");y.textContent=d[g],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ln=(()=>{class n extends ha{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Rc=["alt","control","meta","shift"],Ii={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},El={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Po=(()=>{class n extends ha{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const d=n.parseEventName(s),g=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(s.pop());let g="",y=s.indexOf("code");if(y>-1&&(s.splice(y,1),g="code."),Rc.forEach(S=>{const j=s.indexOf(S);j>-1&&(s.splice(j,1),g+=S+".")}),g+=d,0!=s.length||0===d.length)return null;const D={};return D.domEventName=a,D.fullKey=g,D}static matchEventFullKeyCode(e,s){let a=Ii[e.key]||e.key,d="";return s.indexOf("code.")>-1&&(a=e.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Rc.forEach(g=>{g!==a&&(0,El[g])(e)&&(d+=g+".")}),d+=a,d===s)}static eventCallback(e,s,a){return d=>{n.matchEventFullKeyCode(d,e)&&a.runGuarded(()=>s(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const No=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Mu(){Ci.makeCurrent()},multi:!0},{provide:ce,useFactory:function Cl(){return(0,c.RDi)(document),document},deps:[]}]),os=new c.OlP(""),xo=[{provide:c.rWj,useClass:class Ac{addToWindow(t){c.dqk.getAngularTestability=(s,a=!0)=>{const d=t.findTestabilityInTree(s,a);if(null==d)throw new Error("Could not find testability for element.");return d},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(s=>{const a=c.dqk.getAllAngularTestabilities();let d=a.length,g=!1;const y=function(D){g=g||D,d--,0==d&&s(g)};a.forEach(function(D){D.whenStable(y)})})}findTestabilityInTree(t,e,s){return null==e?null:t.getTestability(e)??(s?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],$s=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function hi(){return new c.qLn},deps:[]},{provide:ml,useClass:Ln,multi:!0,deps:[ce,c.R0b,c.Lbi]},{provide:ml,useClass:Po,multi:!0,deps:[ce]},{provide:ma,useClass:ma,deps:[_l,Vs,c.AFp]},{provide:c.FYo,useExisting:ma},{provide:Ls,useExisting:Vs},{provide:Vs,useClass:Vs,deps:[ce]},{provide:_l,useClass:_l,deps:[ml,c.R0b]},{provide:class Ps{},useClass:gl,deps:[]},[]];let js=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:on,useExisting:c.AFp},pl]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(os,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...$s,...xo],imports:[ph,c.hGG]}),n})(),Zr=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function Oo(){return new Zr((0,c.LFG)(ce))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var nn=x(8996),Kr=x(7669);function Xe(...n){const t=(0,Kr.yG)(n);return(0,nn.D)(n,t)}var Yr=x(7579);class rn extends Yr.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}const ls=(0,x(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var tr=x(9751);const{isArray:us}=Array,{getPrototypeOf:Nu,prototype:xu,keys:Fc}=Object;function bi(n){if(1===n.length){const t=n[0];if(us(t))return{args:t,keys:null};if(function Ou(n){return n&&"object"==typeof n&&Nu(n)===xu}(t)){const e=Fc(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}var Ti=x(4671),at=x(4004);const{isArray:Dl}=Array;function wa(n){return(0,at.U)(t=>function Qr(n,t){return Dl(t)?n(...t):n(t)}(n,t))}function ko(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}var Sn=x(5403),Fo=x(9672);function Ia(...n){const t=(0,Kr.yG)(n),e=(0,Kr.jO)(n),{args:s,keys:a}=bi(n);if(0===s.length)return(0,nn.D)([],t);const d=new tr.y(function Lo(n,t,e=Ti.y){return s=>{Lc(t,()=>{const{length:a}=n,d=new Array(a);let g=a,y=a;for(let D=0;D<a;D++)Lc(t,()=>{const S=(0,nn.D)(n[D],t);let j=!1;S.subscribe((0,Sn.x)(s,U=>{d[D]=U,j||(j=!0,y--),y||s.next(e(d.slice()))},()=>{--g||s.complete()}))},s)},s)}}(s,t,a?g=>ko(a,g):Ti.y));return e?d.pipe(wa(e)):d}function Lc(n,t,e){n?(0,Fo.f)(e,n,t):t()}var Qs=x(8189);function Js(...n){return function Da(){return(0,Qs.J)(1)}()((0,nn.D)(n,(0,Kr.yG)(n)))}var Ai=x(8421);function Fr(n){return new tr.y(t=>{(0,Ai.Xf)(n()).subscribe(t)})}var ba=x(9635),Si=x(576);function cs(n,t){const e=(0,Si.m)(n)?n:()=>n,s=a=>a.error(e());return new tr.y(t?a=>t.schedule(s,0,a):s)}var nr=x(515),ku=x(727),an=x(4482);function ds(){return(0,an.e)((n,t)=>{let e=null;n._refCount++;const s=(0,Sn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class hs extends tr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,an.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ku.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Sn.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ku.w0.EMPTY)}return t}refCount(){return ds()(this)}}function Mn(n,t){return(0,an.e)((e,s)=>{let a=null,d=0,g=!1;const y=()=>g&&!a&&s.complete();e.subscribe((0,Sn.x)(s,D=>{a?.unsubscribe();let S=0;const j=d++;(0,Ai.Xf)(n(D,j)).subscribe(a=(0,Sn.x)(s,U=>s.next(t?t(D,U,j,S++):U),()=>{a=null,y()}))},()=>{g=!0,y()}))})}function ln(n){return n<=0?()=>nr.E:(0,an.e)((t,e)=>{let s=0;t.subscribe((0,Sn.x)(e,a=>{++s<=n&&(e.next(a),n<=s&&e.complete())}))})}function Jr(n,t){return(0,an.e)((e,s)=>{let a=0;e.subscribe((0,Sn.x)(s,d=>n.call(t,d,a++)&&s.next(d)))})}var w=x(5577);function I(n){return(0,an.e)((t,e)=>{let s=!1;t.subscribe((0,Sn.x)(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function A(n=L){return(0,an.e)((t,e)=>{let s=!1;t.subscribe((0,Sn.x)(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function L(){return new ls}function q(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Jr((a,d)=>n(a,d,s)):Ti.y,ln(1),e?I(t):A(()=>new ls))}function se(n,t){return(0,Si.m)(t)?(0,w.z)(n,t,1):(0,w.z)(n,1)}var me=x(8505);function Fe(n){return(0,an.e)((t,e)=>{let d,s=null,a=!1;s=t.subscribe((0,Sn.x)(e,void 0,void 0,g=>{d=(0,Ai.Xf)(n(g,Fe(n)(t))),s?(s.unsubscribe(),s=null,d.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,d.subscribe(e))})}function it(n,t,e,s,a){return(d,g)=>{let y=e,D=t,S=0;d.subscribe((0,Sn.x)(g,j=>{const U=S++;D=y?n(D,j,U):(y=!0,j),s&&g.next(D)},a&&(()=>{y&&g.next(D),g.complete()})))}}function mt(n,t){return(0,an.e)(it(n,t,arguments.length>=2,!0))}function Et(n){return n<=0?()=>nr.E:(0,an.e)((t,e)=>{let s=[];t.subscribe((0,Sn.x)(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}function ot(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Jr((a,d)=>n(a,d,s)):Ti.y,Et(1),e?I(t):A(()=>new ls))}function fs(n){return(0,an.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const wt="primary",Kn=Symbol("RouteTitle");class ps{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Mi(n){return new ps(n)}function Aa(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let d=0;d<s.length;d++){const g=s[d],y=n[d];if(g.startsWith(":"))a[g.substring(1)]=y;else if(g!==y.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Gn(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!Fu(n[a],t[a]))return!1;return!0}function Fu(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,d)=>s[d]===a)}return n===t}function Eh(n){return Array.prototype.concat.apply([],n)}function Vc(n){return n.length>0?n[n.length-1]:null}function Cn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function gs(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,nn.D)(Promise.resolve(n)):Xe(n)}const z_={exact:function wh(n,t,e){if(!Ra(n.segments,t.segments)||!Sa(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!wh(n.children[s],t.children[s],e))return!1;return!0},subset:zp},Bc={exact:function Gp(n,t){return Gn(n,t)},subset:function bl(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Fu(n[e],t[e]))},ignored:()=>!0};function Wp(n,t,e){return z_[e.paths](n.root,t.root,e.matrixParams)&&Bc[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function zp(n,t,e){return Zp(n,t,t.segments,e)}function Zp(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Ra(a,e)||t.hasChildren()||!Sa(a,e,s))}if(n.segments.length===e.length){if(!Ra(n.segments,e)||!Sa(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!zp(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(Ra(n.segments,a)&&Sa(n.segments,a,s)&&n.children[wt])&&Zp(n.children[wt],t,d,s)}}function Sa(n,t,e){return t.every((s,a)=>Bc[e](n[a].parameters,s.parameters))}class Ma{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mi(this.queryParams)),this._queryParamMap}toString(){return Ih.serialize(this)}}class xt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Cn(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uo(this)}}class Tl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Mi(this.parameters)),this._parameterMap}toString(){return Dh(this)}}function Ra(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}let $c=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Vo},providedIn:"root"}),n})();class Vo{parse(t){const e=new f(t);return new Ma(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Pa(t.root,!0)}`,s=function Yp(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${Lu(e)}=${Lu(a)}`).join("&"):`${Lu(e)}=${Lu(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function jc(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ih=new Vo;function Uo(n){return n.segments.map(t=>Dh(t)).join("/")}function Pa(n,t){if(!n.hasChildren())return Uo(n);if(t){const e=n.children[wt]?Pa(n.children[wt],!1):"",s=[];return Cn(n.children,(a,d)=>{d!==wt&&s.push(`${d}:${Pa(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function qp(n,t){let e=[];return Cn(n.children,(s,a)=>{a===wt&&(e=e.concat(t(s,a)))}),Cn(n.children,(s,a)=>{a!==wt&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===wt?[Pa(n.children[wt],!1)]:[`${a}:${Pa(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wt]?`${Uo(n)}/${e[0]}`:`${Uo(n)}/(${e.join("//")})`}}function Xr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lu(n){return Xr(n).replace(/%3B/gi,";")}function Hc(n){return Xr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Na(n){return decodeURIComponent(n)}function Al(n){return Na(n.replace(/\+/g,"%20"))}function Dh(n){return`${Hc(n.path)}${function Kp(n){return Object.keys(n).map(t=>`;${Hc(t)}=${Hc(n[t])}`).join("")}(n.parameters)}`}const bh=/^[^\/()?;=#]+/;function Vu(n){const t=n.match(bh);return t?t[0]:""}const Th=/^[^=?&#]+/,Wc=/^[^&#]+/;class f{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[wt]=new xt(t,e)),s}parseSegment(){const t=Vu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new Tl(Na(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Vu(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=Vu(this.remaining);a&&(s=a,this.capture(s))}t[Na(e)]=Na(s)}parseQueryParam(t){const e=function mr(n){const t=n.match(Th);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function _(n){const t=n.match(Wc);return t?t[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const a=Al(e),d=Al(s);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Vu(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new c.vHH(4010,!1);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=wt);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[wt]:new xt([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function p(n){return n.segments.length>0?new xt([],{[wt]:n}):n}function E(n){const t={};for(const s of Object.keys(n.children)){const d=E(n.children[s]);(d.segments.length>0||d.hasChildren())&&(t[s]=d)}return function T(n){if(1===n.numberOfChildren&&n.children[wt]){const t=n.children[wt];return new xt(n.segments.concat(t.segments),t.children)}return n}(new xt(n.segments,t))}function N(n){return n instanceof Ma}const X=!1;function St(n,t,e,s,a){if(0===e.length)return Lr(t.root,t.root,t.root,s,a);const d=function Uu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sl(!0,0,n);let t=0,e=!1;const s=n.reduce((a,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const y={};return Cn(d.outlets,(D,S)=>{y[S]="string"==typeof D?D.split("/"):D}),[...a,{outlets:y}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===g?(d.split("/").forEach((y,D)=>{0==D&&"."===y||(0==D&&""===y?e=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,d]},[]);return new Sl(e,t,s)}(e);return d.toRoot()?Lr(t.root,t.root,new xt([],{}),s,a):function g(D){const S=function $o(n,t,e,s){if(n.isAbsolute)return new Xs(t.root,!0,0);if(-1===s)return new Xs(e,e===t.root,0);return function Gc(n,t,e){let s=n,a=t,d=e;for(;d>a;){if(d-=a,s=s.parent,!s)throw new c.vHH(4005,X);a=s.segments.length}return new Xs(s,!1,a-d)}(e,s+(zt(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,D),j=S.processChildren?eo(S.segmentGroup,S.index,d.commands):jo(S.segmentGroup,S.index,d.commands);return Lr(t.root,S.segmentGroup,j,s,a)}(n.snapshot?._lastPathIndex)}function zt(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tr(n){return"object"==typeof n&&null!=n&&n.outlets}function Lr(n,t,e,s,a){let g,d={};s&&Cn(s,(D,S)=>{d[S]=Array.isArray(D)?D.map(j=>`${j}`):`${D}`}),g=n===t?e:Bo(n,t,e);const y=p(E(g));return new Ma(y,d,a)}function Bo(n,t,e){const s={};return Cn(n.children,(a,d)=>{s[d]=a===t?e:Bo(a,t,e)}),new xt(n.segments,s)}class Sl{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&zt(s[0]))throw new c.vHH(4003,X);const a=s.find(Tr);if(a&&a!==Vc(s))throw new c.vHH(4004,X)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xs{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function jo(n,t,e){if(n||(n=new xt([],{})),0===n.segments.length&&n.hasChildren())return eo(n,t,e);const s=function Mh(n,t,e){let s=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return d;const g=n.segments[a],y=e[s];if(Tr(y))break;const D=`${y}`,S=s<e.length-1?e[s+1]:null;if(a>0&&void 0===D)break;if(D&&S&&"object"==typeof S&&void 0===S.outlets){if(!Qp(D,S,g))return d;s+=2}else{if(!Qp(D,{},g))return d;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const d=new xt(n.segments.slice(0,s.pathIndex),{});return d.children[wt]=new xt(n.segments.slice(s.pathIndex),n.children),eo(d,0,a)}return s.match&&0===a.length?new xt(n.segments,{}):s.match&&!n.hasChildren()?Bu(n,t,e):s.match?eo(n,0,a):Bu(n,t,e)}function eo(n,t,e){if(0===e.length)return new xt(n.segments,{});{const s=function Sh(n){return Tr(n[0])?n[0].outlets:{[wt]:n}}(e),a={};return Cn(s,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[g]=jo(n.children[g],t,d))}),Cn(n.children,(d,g)=>{void 0===s[g]&&(a[g]=d)}),new xt(n.segments,a)}}function Bu(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(Tr(d)){const D=xa(d.outlets);return new xt(s,D)}if(0===a&&zt(e[0])){s.push(new Tl(n.segments[t].path,Rh(e[0]))),a++;continue}const g=Tr(d)?d.outlets[wt]:`${d}`,y=a<e.length-1?e[a+1]:null;g&&y&&zt(y)?(s.push(new Tl(g,Rh(y))),a+=2):(s.push(new Tl(g,{})),a++)}return new xt(s,{})}function xa(n){const t={};return Cn(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=Bu(new xt([],{}),0,e))}),t}function Rh(n){const t={};return Cn(n,(e,s)=>t[s]=`${e}`),t}function Qp(n,t,e){return n==e.path&&Gn(t,e.parameters)}class Ho{constructor(t,e){this.id=t,this.url=e}}class zc extends Ho{constructor(t,e,s="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ml extends Ho{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ph extends Ho{constructor(t,e,s,a){super(t,e),this.reason=s,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class q_ extends Ho{constructor(t,e,s,a){super(t,e),this.error=s,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RC extends Ho{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PC extends Ho{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NC extends Ho{constructor(t,e,s,a,d){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K_ extends Ho{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jp extends Ho{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y_{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xp{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xC{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OC{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oa{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class eg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=tg(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=tg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ey(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return ey(t,this._root).map(e=>e.value)}}function tg(n,t){if(n===t.value)return t;for(const e of t.children){const s=tg(n,e);if(s)return s}return null}function ey(n,t){if(n===t.value)return[t];for(const e of t.children){const s=ey(n,e);if(s.length)return s.unshift(t),s}return[]}class Pi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $u(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ng extends eg{constructor(t,e){super(t),this.snapshot=e,Zc(this,t)}toString(){return this.snapshot.toString()}}function rg(n,t){const e=function ty(n,t){const g=new Rl([],{},{},"",{},wt,t,null,n.root,-1,{});return new sg("",new Pi(g,[]))}(n,t),s=new rn([new Tl("",{})]),a=new rn({}),d=new rn({}),g=new rn({}),y=new rn(""),D=new Wo(s,a,g,y,d,wt,t,e.root);return D.snapshot=e.root,new ng(new Pi(D,[]),e)}class Wo{constructor(t,e,s,a,d,g,y,D){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=y,this.title=this.data?.pipe((0,at.U)(S=>S[Kn]))??Xe(void 0),this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(t=>Mi(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(t=>Mi(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ig(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],d=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(d.component)break;s--}}return function Nh(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Rl{constructor(t,e,s,a,d,g,y,D,S,j,U,J){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=y,this.title=this.data?.[Kn],this.routeConfig=D,this._urlSegment=S,this._lastPathIndex=j,this._correctedLastPathIndex=J??j,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sg extends eg{constructor(t,e){super(e),this.url=t,Zc(this,e)}toString(){return xh(this._root)}}function Zc(n,t){t.value._routerState=n,t.children.forEach(e=>Zc(n,e))}function xh(n){const t=n.children.length>0?` { ${n.children.map(xh).join(", ")} } `:"";return`${n.value}${t}`}function qc(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Gn(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Gn(t.params,e.params)||n.params.next(e.params),function Ri(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Gn(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Gn(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Pl(n,t){const e=Gn(n.params,t.params)&&function Z_(n,t){return Ra(n,t)&&n.every((e,s)=>Gn(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Pl(n.parent,t.parent))}function ju(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function FC(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return ju(n,s,a);return ju(n,s)})}(n,t,e);return new Pi(s,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const g=d.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(y=>ju(n,y)),g}}const s=function LC(n){return new Wo(new rn(n.url),new rn(n.params),new rn(n.queryParams),new rn(n.fragment),new rn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>ju(n,d));return new Pi(s,a)}}const Oh="ngNavigationCancelingError";function kh(n,t){const{redirectTo:e,navigationBehaviorOptions:s}=N(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=Kc(!1,0,t);return a.url=e,a.navigationBehaviorOptions=s,a}function Kc(n,t,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[Oh]=!0,s.cancellationCode=t,e&&(s.url=e),s}function Fh(n){return ka(n)&&N(n.url)}function ka(n){return n&&n[Oh]}class VC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yc,this.attachRef=null}}let Yc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const a=this.getOrCreateContext(e);a.outlet=s,this.contexts.set(e,a)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new VC,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const og=!1;let ag=(()=>{class n{constructor(e,s,a,d,g){this.parentContexts=e,this.location=s,this.changeDetector=d,this.environmentInjector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||wt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,og);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,og);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,og);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new c.vHH(4013,og);this._activatedRoute=e;const a=this.location,g=e._futureSnapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,D=new lg(e,y,a.injector);if(s&&function UC(n){return!!n.resolveComponentFactory}(s)){const S=s.resolveComponentFactory(g);this.activated=a.createComponent(S,a.length,D)}else this.activated=a.createComponent(g,{index:a.length,injector:D,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Yc),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class lg{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===Wo?this.route:t===Yc?this.childContexts:this.parent.get(t,e)}}let Lh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,s){1&e&&c._UZ(0,"router-outlet")},dependencies:[ag],encapsulation:2}),n})();function Qc(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ug(n){const t=n.children&&n.children.map(ug),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==wt&&(e.component=Lh),e}function Ni(n){return n.outlet||wt}function Go(n,t){const e=n.filter(s=>Ni(s)===t);return e.push(...n.filter(s=>Ni(s)!==t)),e}function zo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class vD{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),qc(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=$u(e);t.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,a[g],s),delete a[g]}),Cn(a,(d,g)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const g=s.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,s);else d&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=$u(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);if(s&&s.outlet){const g=s.outlet.detach(),y=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=$u(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=$u(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],s),this.forwardEvent(new J_(d.value.snapshot))}),t.children.length&&this.forwardEvent(new OC(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(qc(a),a===d)if(a.component){const g=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const g=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(y.contexts),g.attachRef=y.componentRef,g.route=y.route.value,g.outlet&&g.outlet.attach(y.componentRef,y.route.value),qc(y.route.value),this.activateChildRoutes(t,null,g.children)}else{const y=zo(a.snapshot),D=y?.get(c._Vd)??null;g.attachRef=null,g.route=a,g.resolver=D,g.injector=y,g.outlet&&g.outlet.activateWith(a,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,s)}}class ZC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class cg{constructor(t,e){this.component=t,this.route=e}}function ED(n,t,e){const s=n._root;return Jc(s,t?t._root:null,e,[s.value])}function Nl(n,t){const e=Symbol(),s=t.get(n,e);return s===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:s}function Jc(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=$u(t);return n.children.forEach(g=>{(function qC(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,g=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const D=function KC(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ra(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ra(n.url,t.url)||!Gn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pl(n,t)||!Gn(n.queryParams,t.queryParams);default:return!Pl(n,t)}}(g,d,d.routeConfig.runGuardsAndResolvers);D?a.canActivateChecks.push(new ZC(s)):(d.data=g.data,d._resolvedData=g._resolvedData),Jc(n,t,d.component?y?y.children:null:e,s,a),D&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new cg(y.outlet.component,g))}else g&&Xc(t,y,a),a.canActivateChecks.push(new ZC(s)),Jc(n,null,d.component?y?y.children:null:e,s,a)})(g,d[g.value.outlet],e,s.concat([g.value]),a),delete d[g.value.outlet]}),Cn(d,(g,y)=>Xc(g,e.getContext(y),a)),a}function Xc(n,t,e){const s=$u(n),a=n.value;Cn(s,(d,g)=>{Xc(d,a.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new cg(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function xl(n){return"function"==typeof n}function td(n){return n instanceof ls||"EmptyError"===n?.name}const Hu=Symbol("INITIAL_VALUE");function nd(){return Mn(n=>Ia(n.map(t=>t.pipe(ln(1),function Ta(...n){const t=(0,Kr.yG)(n);return(0,an.e)((e,s)=>{(t?Js(n,e,t):Js(n,e)).subscribe(s)})}(Hu)))).pipe((0,at.U)(t=>{for(const e of t)if(!0!==e){if(e===Hu)return Hu;if(!1===e||e instanceof Ma)return e}return!0}),Jr(t=>t!==Hu),ln(1)))}function Bh(n){return(0,ba.z)((0,me.b)(t=>{if(N(t))throw kh(0,t)}),(0,at.U)(t=>!0===t))}const Un={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ly(n,t,e,s,a){const d=dg(n,t,e);return d.matched?function t0(n,t,e,s){const a=t.canMatch;return a&&0!==a.length?Xe(a.map(g=>{const y=Nl(g,n);return gs(function wD(n){return n&&xl(n.canMatch)}(y)?y.canMatch(t,e):n.runInContext(()=>y(t,e)))})).pipe(nd(),Bh()):Xe(!0)}(s=Qc(t,s),t,e).pipe((0,at.U)(g=>!0===g?d:{...Un})):Xe(d)}function dg(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Un}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||Aa)(e,n,t);if(!a)return{...Un};const d={};Cn(a.posParams,(y,D)=>{d[D]=y.path});const g=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:g,positionalParamSegments:a.posParams??{}}}function Wu(n,t,e,s,a="corrected"){if(e.length>0&&function r0(n,t,e){return e.some(s=>$h(n,t,s)&&Ni(s)!==wt)}(n,e,s)){const g=new xt(t,function n0(n,t,e,s){const a={};a[wt]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&Ni(d)!==wt){const g=new xt([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,a[Ni(d)]=g}return a}(n,t,s,new xt(e,n.children)));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function s0(n,t,e){return e.some(s=>$h(n,t,s))}(n,e,s)){const g=new xt(n.segments,function uy(n,t,e,s,a,d){const g={};for(const y of s)if($h(n,e,y)&&!a[Ni(y)]){const D=new xt([],{});D._sourceSegment=n,D._segmentIndexShift="legacy"===d?n.segments.length:t.length,g[Ni(y)]=D}return{...a,...g}}(n,t,e,s,n.children,a));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const d=new xt(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function $h(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function cy(n,t,e,s){return!!(Ni(n)===s||s!==wt&&$h(t,e,n))&&("**"===n.path||dg(t,n,e).matched)}function o0(n,t,e){return 0===t.length&&!n.children[e]}const hg=!1;class Fa{constructor(t){this.segmentGroup=t||null}}class jh{constructor(t){this.urlTree=t}}function Gu(n){return cs(new Fa(n))}function fg(n){return cs(new jh(n))}class fy{constructor(t,e,s,a,d){this.injector=t,this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=d,this.allowRedirects=!0}apply(){const t=Wu(this.urlTree.root,[],[],this.config).segmentGroup,e=new xt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,wt).pipe((0,at.U)(d=>this.createUrlTree(E(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fe(d=>{if(d instanceof jh)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Fa?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,wt).pipe((0,at.U)(a=>this.createUrlTree(E(a),t.queryParams,t.fragment))).pipe(Fe(a=>{throw a instanceof Fa?this.noMatchError(a):a}))}noMatchError(t){return new c.vHH(4002,hg)}createUrlTree(t,e,s){const a=p(t);return new Ma(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,at.U)(d=>new xt([],d))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const d of Object.keys(s.children))"primary"===d?a.unshift(d):a.push(d);return(0,nn.D)(a).pipe(se(d=>{const g=s.children[d],y=Go(e,d);return this.expandSegmentGroup(t,y,g,d).pipe((0,at.U)(D=>({segment:D,outlet:d})))}),mt((d,g)=>(d[g.outlet]=g.segment,d),{}),ot())}expandSegment(t,e,s,a,d,g){return(0,nn.D)(s).pipe(se(y=>this.expandSegmentAgainstRoute(t,e,s,y,a,d,g).pipe(Fe(S=>{if(S instanceof Fa)return Xe(null);throw S}))),q(y=>!!y),Fe((y,D)=>{if(td(y))return o0(e,a,d)?Xe(new xt([],{})):Gu(e);throw y}))}expandSegmentAgainstRoute(t,e,s,a,d,g,y){return cy(a,e,d,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,d,g):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g):Gu(e):Gu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?fg(d):this.lineralizeSegments(s,d).pipe((0,w.z)(g=>{const y=new xt(g,{});return this.expandSegment(t,y,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g){const{matched:y,consumedSegments:D,remainingSegments:S,positionalParamSegments:j}=dg(e,a,d);if(!y)return Gu(e);const U=this.applyRedirectCommands(D,a.redirectTo,j);return a.redirectTo.startsWith("/")?fg(U):this.lineralizeSegments(a,U).pipe((0,w.z)(J=>this.expandSegment(t,e,s,J.concat(S),g,!1)))}matchSegmentAgainstRoute(t,e,s,a,d){return"**"===s.path?(t=Qc(s,t),s.loadChildren?(s._loadedRoutes?Xe({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(t,s)).pipe((0,at.U)(y=>(s._loadedRoutes=y.routes,s._loadedInjector=y.injector,new xt(a,{})))):Xe(new xt(a,{}))):ly(e,s,a,t).pipe(Mn(({matched:g,consumedSegments:y,remainingSegments:D})=>g?this.getChildConfig(t=s._injector??t,s,a).pipe((0,w.z)(j=>{const U=j.injector??t,J=j.routes,{segmentGroup:Ee,slicedSegments:Ue}=Wu(e,y,D,J),ft=new xt(Ee.segments,Ee.children);if(0===Ue.length&&ft.hasChildren())return this.expandChildren(U,J,ft).pipe((0,at.U)(Br=>new xt(y,Br)));if(0===J.length&&0===Ue.length)return Xe(new xt(y,{}));const Dt=Ni(s)===d;return this.expandSegment(U,ft,J,Ue,Dt?wt:d,!0).pipe((0,at.U)(mn=>new xt(y.concat(mn.segments),mn.children)))})):Gu(e)))}getChildConfig(t,e,s){return e.children?Xe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Xe({routes:e._loadedRoutes,injector:e._loadedInjector}):function e0(n,t,e,s){const a=t.canLoad;return void 0===a||0===a.length?Xe(!0):Xe(a.map(g=>{const y=Nl(g,n);return gs(function ed(n){return n&&xl(n.canLoad)}(y)?y.canLoad(t,e):n.runInContext(()=>y(t,e)))})).pipe(nd(),Bh())}(t,e,s).pipe((0,w.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,me.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function a0(n){return cs(Kc(hg,3))}())):Xe({routes:[],injector:t})}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Xe(s);if(a.numberOfChildren>1||!a.children[wt])return cs(new c.vHH(4e3,hg));a=a.children[wt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreateUrlTree(t,e,s,a){const d=this.createSegmentGroup(t,e.root,s,a);return new Ma(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return Cn(t,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);s[d]=e[y]}else s[d]=a}),s}createSegmentGroup(t,e,s,a){const d=this.createSegments(t,e.segments,s,a);let g={};return Cn(e.children,(y,D)=>{g[D]=this.createSegmentGroup(t,y,s,a)}),new xt(d,g)}createSegments(t,e,s,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new c.vHH(4001,hg);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}class l0{}class gy{constructor(t,e,s,a,d,g,y,D){this.injector=t,this.rootComponentType=e,this.config=s,this.urlTree=a,this.url=d,this.paramsInheritanceStrategy=g,this.relativeLinkResolution=y,this.urlSerializer=D}recognize(){const t=Wu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,wt).pipe((0,at.U)(e=>{if(null===e)return null;const s=new Rl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Pi(s,e),d=new sg(this.url,a);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,s=ig(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.processChildren(t,e,s):this.processSegment(t,e,s,s.segments,a)}processChildren(t,e,s){return(0,nn.D)(Object.keys(s.children)).pipe(se(a=>{const d=s.children[a],g=Go(e,a);return this.processSegmentGroup(t,g,d,a)}),mt((a,d)=>a&&d?(a.push(...d),a):null),function Rn(n,t=!1){return(0,an.e)((e,s)=>{let a=0;e.subscribe((0,Sn.x)(s,d=>{const g=n(d,a++);(g||t)&&s.next(d),!g&&s.complete()}))})}(a=>null!==a),I(null),ot(),(0,at.U)(a=>{if(null===a)return null;const d=rd(a);return function Ol(n){n.sort((t,e)=>t.value.outlet===wt?-1:e.value.outlet===wt?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,s,a,d){return(0,nn.D)(e).pipe(se(g=>this.processSegmentAgainstRoute(g._injector??t,g,s,a,d)),q(g=>!!g),Fe(g=>{if(td(g))return o0(s,a,d)?Xe([]):Xe(null);throw g}))}processSegmentAgainstRoute(t,e,s,a,d){if(e.redirectTo||!cy(e,s,a,d))return Xe(null);let g;if("**"===e.path){const y=a.length>0?Vc(a).parameters:{},D=id(s)+a.length;g=Xe({snapshot:new Rl(a,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yg(e),Ni(e),e.component??e._loadedComponent??null,e,Hh(s),D,Wh(e),D),consumedSegments:[],remainingSegments:[]})}else g=ly(s,e,a,t).pipe((0,at.U)(({matched:y,consumedSegments:D,remainingSegments:S,parameters:j})=>{if(!y)return null;const U=id(s)+D.length;return{snapshot:new Rl(D,j,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yg(e),Ni(e),e.component??e._loadedComponent??null,e,Hh(s),U,Wh(e),U),consumedSegments:D,remainingSegments:S}}));return g.pipe(Mn(y=>{if(null===y)return Xe(null);const{snapshot:D,consumedSegments:S,remainingSegments:j}=y;t=e._injector??t;const U=e._loadedInjector??t,J=function u0(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Ee,slicedSegments:Ue}=Wu(s,S,j,J.filter(Dt=>void 0===Dt.redirectTo),this.relativeLinkResolution);if(0===Ue.length&&Ee.hasChildren())return this.processChildren(U,J,Ee).pipe((0,at.U)(Dt=>null===Dt?null:[new Pi(D,Dt)]));if(0===J.length&&0===Ue.length)return Xe([new Pi(D,[])]);const ft=Ni(e)===d;return this.processSegment(U,J,Ee,Ue,ft?wt:d).pipe((0,at.U)(Dt=>null===Dt?null:[new Pi(D,Dt)]))}))}}function _g(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function rd(n){const t=[],e=new Set;for(const s of n){if(!_g(s)){t.push(s);continue}const a=t.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=rd(s.children);t.push(new Pi(s.value,a))}return t.filter(s=>!e.has(s))}function Hh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function id(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function yg(n){return n.data||{}}function Wh(n){return n.resolve||{}}function _y(n){return"string"==typeof n.title||null===n.title}function vg(n){return Mn(t=>{const e=n(t);return e?(0,nn.D)(e).pipe((0,at.U)(()=>t)):Xe(t)})}let Gh=(()=>{class n{buildTitle(e){let s,a=e.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(d=>d.outlet===wt);return s}getResolvedTitleForRoute(e){return e.data[Kn]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(yy)},providedIn:"root"}),n})(),yy=(()=>{class n extends Gh{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Zr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class m0{}class bD extends class vy{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Va=new c.OlP("",{providedIn:"root",factory:()=>({})}),Ua=new c.OlP("ROUTES");let kl=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Xe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=gs(e.loadComponent()).pipe((0,me.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),fs(()=>{this.componentLoaders.delete(e)})),a=new hs(s,()=>new Yr.x).pipe(ds());return this.componentLoaders.set(e,a),a}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Xe({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const d=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,at.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(s);let D,S,j=!1;Array.isArray(y)?S=y:(D=y.create(e).injector,S=Eh(D.get(Ua,[],c.XFs.Self|c.XFs.Optional)));return{routes:S.map(ug),injector:D}}),fs(()=>{this.childrenLoaders.delete(s)})),g=new hs(d,()=>new Yr.x).pipe(ds());return this.childrenLoaders.set(s,g),g}loadModuleFactoryOrRoutes(e){return gs(e()).pipe((0,w.z)(s=>s instanceof c.YKP||Array.isArray(s)?Xe(s):(0,nn.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class y0{}class TD{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function v0(n){throw n}function E0(n,t,e){return t.parse("/")}const C0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function zh(){const n=(0,c.f3M)($c),t=(0,c.f3M)(Yc),e=(0,c.f3M)(Re),s=(0,c.f3M)(c.zs3),a=(0,c.f3M)(c.Sil),d=(0,c.f3M)(Ua,{optional:!0})??[],g=(0,c.f3M)(Va,{optional:!0})??{},y=(0,c.f3M)(yy),D=(0,c.f3M)(Gh,{optional:!0}),S=(0,c.f3M)(y0,{optional:!0}),j=(0,c.f3M)(m0,{optional:!0}),U=new Bn(null,n,t,e,s,a,Eh(d));return S&&(U.urlHandlingStrategy=S),j&&(U.routeReuseStrategy=j),U.titleStrategy=D??y,function wy(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(g,U),U}let Bn=(()=>{class n{constructor(e,s,a,d,g,y,D){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=d,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yr.x,this.errorHandler=v0,this.malformedUriErrorHandler=E0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=new TD,this.routeReuseStrategy=new bD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=g.get(kl),this.configLoader.onLoadEndListener=J=>this.triggerEvent(new Xp(J)),this.configLoader.onLoadStartListener=J=>this.triggerEvent(new Y_(J)),this.ngModule=g.get(c.h0i),this.console=g.get(c.c2e);const U=g.get(c.R0b);this.isNgZoneEnabled=U instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=function Ch(){return new Ma(new xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rg(this.currentUrlTree,this.rootComponentType),this.transitions=new rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(Jr(a=>0!==a.id),(0,at.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Mn(a=>{let d=!1,g=!1;return Xe(a).pipe((0,me.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mn(y=>{const D=this.browserUrlTree.toString(),S=!this.navigated||y.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Zh(y.source)&&(this.browserUrlTree=y.extractedUrl),Xe(y).pipe(Mn(U=>{const J=this.transitions.getValue();return s.next(new zc(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),J!==this.transitions.getValue()?nr.E:Promise.resolve(U)}),function pg(n,t,e,s){return Mn(a=>function hy(n,t,e,s,a){return new fy(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,at.U)(d=>({...a,urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,me.b)(U=>{this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects},a.urlAfterRedirects=U.urlAfterRedirects}),function d0(n,t,e,s,a,d){return(0,w.z)(g=>function py(n,t,e,s,a,d,g="emptyOnly",y="legacy"){return new gy(n,t,e,s,a,g,y,d).recognize().pipe(Mn(D=>null===D?function mg(n){return new tr.y(t=>t.error(n))}(new l0):Xe(D)))}(n,t,e,g.urlAfterRedirects,s.serialize(g.urlAfterRedirects),s,a,d).pipe((0,at.U)(y=>({...g,targetSnapshot:y}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,me.b)(U=>{if(a.targetSnapshot=U.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const Ee=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(Ee,U)}this.browserUrlTree=U.urlAfterRedirects}const J=new RC(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);s.next(J)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:J,extractedUrl:Ee,source:Ue,restoredState:ft,extras:Dt}=y,Nn=new zc(J,this.serializeUrl(Ee),Ue,ft);s.next(Nn);const mn=rg(Ee,this.rootComponentType).snapshot;return Xe(a={...y,targetSnapshot:mn,urlAfterRedirects:Ee,extras:{...Dt,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=y.rawUrl,y.resolve(null),nr.E}),(0,me.b)(y=>{const D=new PC(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(D)}),(0,at.U)(y=>a={...y,guards:ED(y.targetSnapshot,y.currentSnapshot,this.rootContexts)}),function DD(n,t){return(0,w.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?Xe({...e,guardsResult:!0}):function oy(n,t,e,s){return(0,nn.D)(n).pipe((0,w.z)(a=>function Uh(n,t,e,s,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?Xe(d.map(y=>{const D=zo(t)??a,S=Nl(y,D);return gs(function sy(n){return n&&xl(n.canDeactivate)}(S)?S.canDeactivate(n,t,e,s):D.runInContext(()=>S(n,t,e,s))).pipe(q())})).pipe(nd()):Xe(!0)}(a.component,a.route,e,t,s)),q(a=>!0!==a,!0))}(g,s,a,n).pipe((0,w.z)(y=>y&&function Zo(n){return"boolean"==typeof n}(y)?function YC(n,t,e,s){return(0,nn.D)(t).pipe(se(a=>Js(function JC(n,t){return null!==n&&t&&t(new xC(n)),Xe(!0)}(a.route.parent,s),function QC(n,t){return null!==n&&t&&t(new Q_(n)),Xe(!0)}(a.route,s),function ay(n,t,e){const s=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(g=>function CD(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Fr(()=>Xe(g.guards.map(D=>{const S=zo(g.node)??e,j=Nl(D,S);return gs(function iy(n){return n&&xl(n.canActivateChild)}(j)?j.canActivateChild(s,n):S.runInContext(()=>j(s,n))).pipe(q())})).pipe(nd())));return Xe(d).pipe(nd())}(n,a.path,e),function XC(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return Xe(!0);const a=s.map(d=>Fr(()=>{const g=zo(t)??e,y=Nl(d,g);return gs(function ry(n){return n&&xl(n.canActivate)}(y)?y.canActivate(t,n):g.runInContext(()=>y(t,n))).pipe(q())}));return Xe(a).pipe(nd())}(n,a.route,e))),q(a=>!0!==a,!0))}(s,d,n,t):Xe(y)),(0,at.U)(y=>({...e,guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,me.b)(y=>{if(a.guardsResult=y.guardsResult,N(y.guardsResult))throw kh(0,y.guardsResult);const D=new NC(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(D)}),Jr(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",3),!1)),vg(y=>{if(y.guards.canActivateChecks.length)return Xe(y).pipe((0,me.b)(D=>{const S=new K_(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}),Mn(D=>{let S=!1;return Xe(D).pipe(function h0(n,t){return(0,w.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return Xe(e);let d=0;return(0,nn.D)(a).pipe(se(g=>function my(n,t,e,s){const a=n.routeConfig,d=n._resolve;return void 0!==a?.title&&!_y(a)&&(d[Kn]=a.title),function zu(n,t,e,s){const a=function f0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return Xe({});const d={};return(0,nn.D)(a).pipe((0,w.z)(g=>function p0(n,t,e,s){const a=zo(t)??s,d=Nl(n,a);return gs(d.resolve?d.resolve(t,e):a.runInContext(()=>d(t,e)))}(n[g],t,e,s).pipe(q(),(0,me.b)(y=>{d[g]=y}))),Et(1),function rr(n){return(0,at.U)(()=>n)}(d),Fe(g=>td(g)?nr.E:cs(g)))}(d,n,t,s).pipe((0,at.U)(g=>(n._resolvedData=g,n.data=ig(n,e).resolve,a&&_y(a)&&(n.data[Kn]=a.title),null)))}(g.route,s,n,t)),(0,me.b)(()=>d++),Et(1),(0,w.z)(g=>d===a.length?Xe(e):nr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,me.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(D),this.cancelNavigationTransition(D,"",2))}}))}),(0,me.b)(D=>{const S=new Jp(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}))}),vg(y=>{const D=S=>{const j=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&j.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,me.b)(U=>{S.component=U}),(0,at.U)(()=>{})));for(const U of S.children)j.push(...D(U));return j};return Ia(D(y.targetSnapshot.root)).pipe(I(),ln(1))}),vg(()=>this.afterPreactivation()),(0,at.U)(y=>{const D=function kC(n,t,e){const s=ju(n,t._root,e?e._root:void 0);return new ng(s,t)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return a={...y,targetRouterState:D}}),(0,me.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,t,e)=>(0,at.U)(s=>(new vD(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,me.b)({next(){d=!0},complete(){d=!0}}),fs(()=>{d||g||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Fe(y=>{if(g=!0,ka(y)){Fh(y)||(this.navigated=!0,this.restoreHistory(a,!0));const D=new Ph(a.id,this.serializeUrl(a.extractedUrl),y.message,y.cancellationCode);if(s.next(D),Fh(y)){const S=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),j={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zh(a.source)};this.scheduleNavigation(S,"imperative",null,j,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const D=new q_(a.id,this.serializeUrl(a.extractedUrl),y,a.targetSnapshot??void 0);s.next(D);try{a.resolve(this.errorHandler(y))}catch(S){a.reject(S)}}return nr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{const a={replaceUrl:!0},d=e.state?.navigationId?e.state:null;if(d){const y={...d};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const g=this.parseUrl(e.url);this.scheduleNavigation(g,s,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(ug),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:d,fragment:g,queryParamsHandling:y,preserveFragment:D}=s,S=a||this.routerState.root,j=D?this.currentUrlTree.fragment:g;let U=null;switch(y){case"merge":U={...this.currentUrlTree.queryParams,...d};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=d||null}return null!==U&&(U=this.removeEmptyProps(U)),St(S,this.currentUrlTree,e,U,j??null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=N(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function w0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new c.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?{...C0}:!1===s?{...Cy}:s,N(e))return Wp(this.currentUrlTree,e,a);const d=this.parseUrl(e);return Wp(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const d=e[a];return null!=d&&(s[a]=d),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ml(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,d,g){if(this.disposed)return Promise.resolve(!1);let y,D,S;g?(y=g.resolve,D=g.reject,S=g.promise):S=new Promise((J,Ee)=>{y=J,D=Ee});const j=++this.navigationId;let U;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),U=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):U=0,this.setTransition({id:j,targetPageId:U,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:y,reject:D,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(J=>Promise.reject(J))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),d={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s,a){const d=new Ph(e.id,this.serializeUrl(e.extractedUrl),s,a);this.triggerEvent(d),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return zh()},providedIn:"root"}),n})();function Zh(n){return"imperative"!==n}let Ba=(()=>{class n{constructor(e,s,a,d,g){this.router=e,this.route=s,this.tabIndexAttribute=a,this.renderer=d,this.el=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Yr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const s=this.renderer,a=this.el.nativeElement;null!==e?s.setAttribute(a,"tabindex",e):s.removeAttribute(a,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bn),c.Y36(Wo),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&c.NdJ("click",function(){return s.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),qh=(()=>{class n{constructor(e,s,a){this.router=e,this.route=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Yr.x,this.subscription=e.events.subscribe(d=>{d instanceof Ml&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,a,d,g){return!!(0!==e||s||a||d||g||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bn),c.Y36(Wo),c.Y36(ge))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&c.NdJ("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&c.uIk("target",s.target)("href",s.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class Iy{}let b0=(()=>{class n{constructor(e,s,a,d,g){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(Jr(e=>e instanceof Ml),se(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const d of s){d.providers&&!d._injector&&(d._injector=(0,c.MMx)(d.providers,e,`Route: ${d.path}`));const g=d._injector??e,y=d._loadedInjector??g;d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent?a.push(this.preloadConfig(g,d)):(d.children||d._loadedRoutes)&&a.push(this.processRoutes(y,d.children??d._loadedRoutes))}return(0,nn.D)(a).pipe((0,Qs.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):Xe(null);const d=a.pipe((0,w.z)(g=>null===g?Xe(void 0):(s._loadedRoutes=g.routes,s._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(s.loadComponent&&!s._loadedComponent){const g=this.loader.loadComponent(s);return(0,nn.D)([d,g]).pipe((0,Qs.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Bn),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Iy),c.LFG(kl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $a=new c.OlP("");let to=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof zc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ml&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Oa&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new Oa(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function od(n,t){return{\u0275kind:n,\u0275providers:t}}function Yh(n){return[{provide:Ua,multi:!0,useValue:n}]}function Eg(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const s=n.get(Bn),a=n.get(A0);1===n.get(Qh)&&s.initialNavigation(),n.get(by,null,c.XFs.Optional)?.setUpPreloading(),n.get($a,null,c.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const A0=new c.OlP("",{factory:()=>new Yr.x}),Qh=new c.OlP("",{providedIn:"root",factory:()=>1});const by=new c.OlP("");function ms(n){return od(0,[{provide:by,useExisting:b0},{provide:Iy,useExisting:n}])}const Ty=new c.OlP("ROUTER_FORROOT_GUARD"),R0=[Re,{provide:$c,useClass:Vo},{provide:Bn,useFactory:zh},Yc,{provide:Wo,useFactory:function T0(n){return n.routerState.root},deps:[Bn]},kl];function P0(){return new c.PXZ("Router",Bn)}let Cg=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[R0,[],Yh(e),{provide:Ty,useFactory:Tt,deps:[[Bn,new c.FiY,new c.tp0]]},{provide:Va,useValue:s||{}},s?.useHash?{provide:ge,useClass:je}:{provide:ge,useClass:We},{provide:$a,useFactory:()=>{const n=(0,c.f3M)(Bn),t=(0,c.f3M)(mu),e=(0,c.f3M)(Va);return e.scrollOffset&&t.setOffset(e.scrollOffset),new to(n,t,e)}},s?.preloadingStrategy?ms(s.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:P0},s?.initialNavigation?Ay(s):[],[{provide:wg,useFactory:Eg},{provide:c.tb,multi:!0,useExisting:wg}]]}}static forChild(e){return{ngModule:n,providers:[Yh(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ty,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Lh]}),n})();function Tt(n){return"guarded"}function Ay(n){return["disabled"===n.initialNavigation?od(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(Bn);return()=>{t.setUpLocationChangeListener()}}},{provide:Qh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?od(2,[{provide:Qh,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(G,Promise.resolve());let s=!1;return()=>e.then(()=>new Promise(d=>{const g=t.get(Bn),y=t.get(A0);(function a(d){t.get(Bn).events.pipe(Jr(y=>y instanceof Ml||y instanceof Ph||y instanceof q_),(0,at.U)(y=>y instanceof Ml||y instanceof Ph&&(0===y.code||1===y.code)&&null),Jr(y=>null!==y),ln(1)).subscribe(()=>{d()})})(()=>{d(!0),s=!0}),g.afterPreactivation=()=>(d(!0),s||y.closed?Xe(void 0):y),g.initialNavigation()}))}}]).\u0275providers:[]]}const wg=new c.OlP("");let Ig=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Fl=(()=>{class n extends Ig{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(n)))(s||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const _s=new c.OlP("NgValueAccessor"),xD={provide:_s,useExisting:(0,c.Gpc)(()=>xi),multi:!0},Py=new c.OlP("CompositionEventMode");let xi=(()=>{class n extends Ig{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ry(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Py,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&c.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[c._Bn([xD]),c.qOj]}),n})();function no(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Jh(n){return null!=n&&"number"==typeof n.length}const Ar=new c.OlP("NgValidators"),Ll=new c.OlP("NgAsyncValidators"),OD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zn{static min(t){return function Ny(n){return t=>{if(no(t.value)||no(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Dg(n){return t=>{if(no(t.value)||no(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function V0(n){return no(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function xy(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Vl(n){return no(n.value)||OD.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Oy(n){return t=>no(t.value)||!Jh(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function bg(n){return t=>Jh(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ld(n){if(!n)return Xh;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),s=>{if(no(s.value))return null;const a=s.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(t)}static nullValidator(t){return null}static compose(t){return Ag(t)}static composeAsync(t){return Mg(t)}}function Xh(n){return null}function Tg(n){return null!=n}function ky(n){return(0,c.QGY)(n)?(0,nn.D)(n):n}function Fy(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Ly(n,t){return t.map(e=>e(n))}function Vy(n){return n.map(t=>function U0(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ag(n){if(!n)return null;const t=n.filter(Tg);return 0==t.length?null:function(e){return Fy(Ly(e,t))}}function Sg(n){return null!=n?Ag(Vy(n)):null}function Mg(n){if(!n)return null;const t=n.filter(Tg);return 0==t.length?null:function(e){return function k0(...n){const t=(0,Kr.jO)(n),{args:e,keys:s}=bi(n),a=new tr.y(d=>{const{length:g}=e;if(!g)return void d.complete();const y=new Array(g);let D=g,S=g;for(let j=0;j<g;j++){let U=!1;(0,Ai.Xf)(e[j]).subscribe((0,Sn.x)(d,J=>{U||(U=!0,S--),y[j]=J},()=>D--,void 0,()=>{(!D||!U)&&(S||d.next(s?ko(s,y):y),d.complete())}))}});return t?a.pipe(wa(t)):a}(Ly(e,t).map(ky)).pipe((0,at.U)(Fy))}}function ef(n){return null!=n?Mg(Vy(n)):null}function tf(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function B0(n){return n._rawValidators}function nf(n){return n._rawAsyncValidators}function Rg(n){return n?Array.isArray(n)?n:[n]:[]}function Pg(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ul(n,t){const e=Rg(t);return Rg(n).forEach(a=>{Pg(e,a)||e.push(a)}),e}function Ng(n,t){return Rg(t).filter(e=>!Pg(n,e))}class xg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Sg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ef(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ur extends xg{get formDirective(){return null}get path(){return null}}class cr extends xg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Og{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Oi=(()=>{class n extends Og{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(cr,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&c.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[c.qOj]}),n})(),ud=(()=>{class n extends Og{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ur,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&c.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[c.qOj]}),n})();const af="VALID",cd="INVALID",Bl="PENDING",dd="DISABLED";function hd(n){return(Vg(n)?n.validators:n)||null}function H0(n){return Array.isArray(n)?Sg(n):n||null}function Gy(n,t){return(Vg(t)?t.asyncValidators:n)||null}function W0(n){return Array.isArray(n)?ef(n):n||null}function Vg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function G0(n,t,e){const s=n.controls;if(!(t?Object.keys(s):s).length)throw new c.vHH(1e3,"");if(!s[e])throw new c.vHH(1001,"")}function z0(n,t,e){n._forEachChild((s,a)=>{if(void 0===e[a])throw new c.vHH(1002,"")})}class Ug{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=H0(this._rawValidators),this._composedAsyncValidatorFn=W0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===af}get invalid(){return this.status===cd}get pending(){return this.status==Bl}get disabled(){return this.status===dd}get enabled(){return this.status!==dd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=H0(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=W0(t)}addValidators(t){this.setValidators(Ul(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ul(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ng(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ng(t,this._rawAsyncValidators))}hasValidator(t){return Pg(this._rawValidators,t)}hasAsyncValidator(t){return Pg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Bl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dd,this.errors=null,this._forEachChild(s=>{s.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=af,this._forEachChild(s=>{s.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===af||this.status===Bl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dd:af}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Bl,this._hasOwnPendingAsyncValidator=!0;const e=ky(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((s,a)=>s&&s._find(a),this)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?dd:this.errors?cd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bl)?Bl:this._anyControlsHaveStatus(cd)?cd:af}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Vg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class lf extends Ug{constructor(t,e,s){super(hd(e),Gy(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){z0(this,0,t),Object.keys(t).forEach(s=>{G0(this,!0,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{const a=this.controls[s];a&&a.patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,s]of Object.entries(this.controls))if(this.contains(e)&&t(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,s,a)=>((s.enabled||this.disabled)&&(e[a]=s.value),e))}_reduceChildren(t,e){let s=t;return this._forEachChild((a,d)=>{s=e(s,a,d)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class qo extends lf{}function uf(n,t){return[...t.path,n]}function qu(n,t){$g(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Zy(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qy(n,t)})}(n,t),function Ky(n,t){const e=(s,a)=>{t.valueAccessor.writeValue(s),a&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Z0(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qy(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Bg(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ku(n,t,e=!0){const s=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(s),t.valueAccessor.registerOnTouched(s)),ys(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function fd(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function $g(n,t){const e=B0(n);null!==t.validator?n.setValidators(tf(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=nf(n);null!==t.asyncValidator?n.setAsyncValidators(tf(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();fd(t._rawValidators,a),fd(t._rawAsyncValidators,a)}function ys(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=B0(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(g=>g!==t.validator);d.length!==a.length&&(e=!0,n.setValidators(d))}}if(null!==t.asyncValidator){const a=nf(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(g=>g!==t.asyncValidator);d.length!==a.length&&(e=!0,n.setAsyncValidators(d))}}}const s=()=>{};return fd(t._rawValidators,s),fd(t._rawAsyncValidators,s),e}function qy(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function gd(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function hf(n,t){if(!t)return null;let e,s,a;return Array.isArray(t),t.forEach(d=>{d.constructor===xi?e=d:function df(n){return Object.getPrototypeOf(n.constructor)===Fl}(d)?s=d:a=d}),a||s||e||null}function K0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Xy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ei=class extends Ug{constructor(t=null,e,s){super(hd(e),Gy(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Xy(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){K0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){K0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Xy(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Zg={provide:cr,useExisting:(0,c.Gpc)(()=>Kg)},qg=(()=>Promise.resolve())();let Kg=(()=>{class n extends cr{constructor(e,s,a,d,g){super(),this._changeDetectorRef=g,this.control=new ei,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=hf(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const s=e.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),gd(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){qg.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=0!==s&&(0,c.D6c)(s);qg.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?uf(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ur,9),c.Y36(Ar,10),c.Y36(Ll,10),c.Y36(_s,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Zg]),c.qOj,c.TTD]}),n})(),Yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),nv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Fi=new c.OlP("NgModelWithFormControlWarning"),tw={provide:ur,useExisting:(0,c.Gpc)(()=>ff)};let ff=(()=>{class n extends ur{constructor(e,s){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ys(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return qu(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){Ku(e.control||null,e,!1),function Wg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,function Hg(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,a=this.form.get(e.path);s!==a&&(Ku(s||null,e),(n=>n instanceof ei)(a)&&(qu(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);(function Yy(n,t){$g(n,t)})(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function q0(n,t){return ys(n,t)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$g(this.form,this),this._oldForm&&ys(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ar,10),c.Y36(Ll,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&c.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([tw]),c.qOj,c.TTD]}),n})();const rw={provide:cr,useExisting:(0,c.Gpc)(()=>gf)};let gf=(()=>{class n extends cr{constructor(e,s,a,d,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=hf(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),gd(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return uf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(ur,13),c.Y36(Ar,10),c.Y36(Ll,10),c.Y36(_s,10),c.Y36(Fi,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([rw]),c.qOj,c.TTD]}),n})(),mv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nv]}),n})(),lw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mv]}),n})(),_v=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Fi,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mv]}),n})();class yv extends Ug{constructor(t,e,s){super(hd(e),Gy(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,s={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,e={}){let s=this._adjustIndex(t);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,s={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),e&&(this.controls.splice(a,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){z0(this,0,t),t.forEach((s,a)=>{G0(this,!1,a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function ja(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let uw=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,s=null){const a=this._reduceControls(e);let d={};return ja(s)?d=s:null!==s&&(d.validators=s.validator,d.asyncValidators=s.asyncValidator),new lf(a,d)}record(e,s=null){const a=this._reduceControls(e);return new qo(a,s)}control(e,s,a){let d={};return this.useNonNullable?(ja(s)?d=s:(d.validators=s,d.asyncValidators=a),new ei(e,{...d,nonNullable:!0})):new ei(e,s,a)}array(e,s,a){const d=e.map(g=>this._createControl(g));return new yv(d,s,a)}_reduceControls(e){const s={};return Object.keys(e).forEach(a=>{s[a]=this._createControl(e[a])}),s}_createControl(e){return e instanceof ei||e instanceof Ug?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:_v}),n})();var vs=x(127);const wf_firebase={projectId:"the-project-be0ce",appId:"1:717332156551:web:ff7cb9d83dda008fcd2822",storageBucket:"the-project-be0ce.appspot.com",apiKey:"AIzaSyDWM-gY_VAzJiNuBV1pIoR-QKxyKf3CnNc",authDomain:"the-project-be0ce.firebaseapp.com",messagingSenderId:"717332156551"};let Li=(()=>{class n{constructor(){this.fireApp2=vs.Z.initializeApp(wf_firebase,"tempApp")}CreateNewUser(e,s){return new Promise((a,d)=>{this.fireApp2.auth().createUserWithEmailAndPassword(e,s).then(()=>{a(!0)},g=>{d(g)})})}SignInUser(e,s){return new Promise((a,d)=>{vs.Z.auth().signInWithEmailAndPassword(e,s).then(()=>{a(!0),console.log("resolve")},g=>{d(g),console.log("reject")})})}SignOutUser(){vs.Z.auth().signOut()}IsConnected(){return new Promise((e,s)=>{vs.Z.auth().onAuthStateChanged(a=>{a?e(!0):s("offline")})})}Auth(){return vs.Z.auth()}CurrentUserEmail(){return vs.Z.auth().currentUser?.email}CurrentUserUid(){return vs.Z.auth().currentUser?.uid}ResetPassword(e){return new Promise((s,a)=>{vs.Z.auth().sendPasswordResetEmail(e).then(()=>{s(!0)},d=>{a(d)})})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yd{constructor(t,e){this.userUid=t,this.value=e}}var Sr=x(4986),Ko=x(6451),vd=x(3099);function lm(n,t){return n===t}var Qu=x(5032),Zt=x(5813),Mr=x(2011),ec=(x(5881),x(3942)),Ui=x(4859),ti=x(5861),so=x(9681),F=x(2090),Cd=x(1877);const um="@firebase/database",cm="0.13.10";let If="";function dm(n){If=n}class vv{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Ev{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Cv=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new vv(t)}}catch{}return new Ev},Hl=Cv("localStorage"),Df=Cv("sessionStorage"),tc=new Cd.Yd("@firebase/database"),wv=function(){let n=1;return function(){return n++}}(),bf=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const s=e.digest();return F.US.encodeByteArray(s)},Wl=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=Wl.apply(null,s):t+="object"==typeof s?(0,F.Wl)(s):s,t+=" "}return t};let Gl=null,wd=!0;const Id=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(tc.logLevel=Cd.in.VERBOSE,Gl=tc.log.bind(tc),t&&Df.set("logging_enabled",!0)):"function"==typeof n?Gl=n:(Gl=null,Df.remove("logging_enabled"))},Yn=function(...n){if(!0===wd&&(wd=!1,null===Gl&&!0===Df.get("logging_enabled")&&Id(!0)),Gl){const t=Wl.apply(null,n);Gl(t)}},Dd=function(n){return function(...t){Yn(n,...t)}},bd=function(...n){const t="FIREBASE INTERNAL ERROR: "+Wl(...n);tc.error(t)},Bi=function(...n){const t=`FIREBASE FATAL ERROR: ${Wl(...n)}`;throw tc.error(t),new Error(t)},_r=function(...n){const t="FIREBASE WARNING: "+Wl(...n);tc.warn(t)},nc=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},oo="[MIN_NAME]",$i="[MAX_NAME]",Ha=function(n,t){if(n===t)return 0;if(n===oo||t===$i)return-1;if(t===oo||n===$i)return 1;{const e=Td(n),s=Td(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},dw=function(n,t){return n===t?0:n<t?-1:1},rc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(t))},Tf=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,F.Wl)(t[s]),e+=":",e+=Tf(n[t[s]]);return e+="}",e},hm=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function ir(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Dv=function(n){(0,F.hu)(!nc(n),"Invalid JSON number");const s=1023;let a,d,g,y,D;0===n?(d=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(y=Math.min(Math.floor(Math.log(n)/Math.LN2),s),d=y+s,g=Math.round(n*Math.pow(2,52-y)-Math.pow(2,52))):(d=0,g=Math.round(n/Math.pow(2,-1074))));const S=[];for(D=52;D;D-=1)S.push(g%2?1:0),g=Math.floor(g/2);for(D=11;D;D-=1)S.push(d%2?1:0),d=Math.floor(d/2);S.push(a?1:0),S.reverse();const j=S.join("");let U="";for(D=0;D<64;D+=8){let J=parseInt(j.substr(D,8),2).toString(16);1===J.length&&(J="0"+J),U+=J}return U.toLowerCase()},fm=new RegExp("^-?(0*)\\d{1,10}$"),pm=-2147483648,Af=2147483647,Td=function(n){if(fm.test(n)){const t=Number(n);if(t>=pm&&t<=Af)return t}return null},zl=function(n){try{n()}catch(t){setTimeout(()=>{throw _r("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},ic=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Av{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){_r(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Sv{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_r(t)}}let Sf=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const mm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xv="websocket",_m="long_polling";class Pf{constructor(t,e,s,a,d=!1,g="",y=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=g,this.includeNamespaceInQueryParams=y,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Hl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ov(n,t,e){let s;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===xv)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==_m)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function sc(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return ir(e,(d,g)=>{a.push(d+"="+g)}),s+a.join("&")}class pw{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const Nf={},ym={};function xf(n){const t=n.toString();return Nf[t]||(Nf[t]=new pw),Nf[t]}class kv{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&zl(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wa{constructor(t,e,s,a,d,g,y){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=d,this.transportSessionId=g,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dd(t),this.stats_=xf(e),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),Ov(e,_m,D))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new kv(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ff((...d)=>{const[g,y,D,S,j]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=y,this.password=D;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[g,y]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(g,y)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&mm.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wa.forceAllow_=!0}static forceDisallow(){Wa.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Wa.forceAllow_&&(Wa.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,F.h$)(e),a=hm(s,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Ff{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=wv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Ff.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(y){Yn("frame writing exception"),y.stack&&Yn(y.stack),Yn(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Yn("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Yn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let Vf=null;typeof MozWebSocket<"u"?Vf=MozWebSocket:typeof WebSocket<"u"&&(Vf=WebSocket);let Zl=(()=>{class n{constructor(e,s,a,d,g,y,D){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dd(this.connId),this.stats_=xf(s),this.connURL=n.connectionURL_(s,y,D,d,a),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,d,g){const y={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&mm.test(location.hostname)&&(y.r="f"),s&&(y.s=s),a&&(y.ls=a),d&&(y.ac=d),g&&(y.p=g),Ov(e,xv,y)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hl.set("previous_websocket_failure",!0);try{let a;if((0,F.Yr)()){a={headers:{"User-Agent":`Firebase/5/${If}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,y=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;y&&(a.proxy={origin:y})}this.mySock=new Vf(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Vf&&!n.forceDisallow_}static previouslyFailed(){return Hl.isInMemoryStorage||!0===Hl.get("previous_websocket_failure")}markConnectionHealthy(){Hl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,F.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,F.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=hm(s,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),vm=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wa,Zl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Zl&&Zl.isAvailable();let a=s&&!Zl.previouslyFailed();if(e.webSocketOnly&&(s||_r("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Zl];else{const d=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&d.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class qv{constructor(t,e,s,a,d,g,y,D,S,j){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=g,this.onReady_=y,this.onDisconnect_=D,this.onKill_=S,this.lastSessionId=j,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dd("c:"+this.id+":"),this.transportManager_=new vm(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=ic(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=rc("t",t),s=rc("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=rc("t",t),s=rc("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=rc("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?bd("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bd("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&_r("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),ic(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ic(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Kv{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class Yv{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!s||s===a[d].context))return void a.splice(d,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Bf extends Yv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Bf}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Qt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new Qt("")}function Ot(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ga(n){return n.pieces_.length-n.pieceNum_}function cn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Qt(n.pieces_,t)}function bm(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Sd(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Tm(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Qt(t,0)}function wn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof Qt)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new Qt(e,0)}function Pt(n){return n.pieceNum_>=n.pieces_.length}function Rr(n,t){const e=Ot(n),s=Ot(t);if(null===e)return t;if(e===s)return Rr(cn(n),cn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Xv(n,t){const e=Sd(n,0),s=Sd(t,0);for(let a=0;a<e.length&&a<s.length;a++){const d=Ha(e[a],s[a]);if(0!==d)return d}return e.length===s.length?0:e.length<s.length?-1:1}function $f(n,t){if(Ga(n)!==Ga(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function pi(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(Ga(n)>Ga(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class eE{constructor(t,e){this.errorPrefix_=e,this.parts_=Sd(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,F.ug)(this.parts_[s]);Am(this)}}function Am(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gi(n))}function gi(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Sm extends Yv{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Sm}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Md=1e3;let Hf,ac=(()=>{class n extends Kv{constructor(e,s,a,d,g,y,D,S){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=y,this.appCheckTokenProvider_=D,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=Dd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Md,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sm.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Bf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const d=++this.requestNumber_,g={r:d,a:e,b:s};this.log_((0,F.Wl)(g)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const s=new F.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:y=>{const D=y.d;"ok"===y.s?s.resolve(D):s.reject(D)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,a,d){this.initConnection_();const g=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+g),this.listens.has(y)||this.listens.set(y,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(y).has(g),"listen() called twice for same path/queryId.");const D={onComplete:d,hashFn:s,query:e,tag:a};this.listens.get(y).set(g,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),d=s._queryIdentifier;this.log_("Listen on "+a+" for "+d);const g={p:a};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,D=>{const S=D.d,j=D.s;n.warnOnListenWarnings_(S,s),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",D),"ok"!==j&&this.removeListen_(a,d),e.onComplete&&e.onComplete(j,S))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();_r(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,d=>{const g=d.s,y=d.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,s)}sendUnlisten_(e,s,a,d){this.log_("Unlisten on "+e+" for "+s);const g={p:e};d&&(g.q=a,g.t=d),this.sendRequest("n",g)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,d){const g={p:s,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,y=>{d&&setTimeout(()=>{d(y.s,y.d)},Math.floor(0))})}put(e,s,a,d){this.putInternal("p",e,s,a,d)}merge(e,s,a,d){this.putInternal("m",e,s,a,d)}putInternal(e,s,a,d,g){this.initConnection_();const y={p:s,d:a};void 0!==g&&(y.h=g),this.outstandingPuts_.push({action:e,request:y,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):bd("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Md,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Md,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Md),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ti.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,y=e.lastSessionId;let D=!1,S=null;const j=function(){S?S.close():(D=!0,d())};e.realtime_={close:j,sendRequest:function(Ee){(0,F.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(Ee)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Ee,Ue]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);D?Yn("getToken() completed but was canceled"):(Yn("getToken() completed. Creating connection."),e.authToken_=Ee&&Ee.accessToken,e.appCheckToken_=Ue&&Ue.token,S=new qv(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,d,ft=>{_r(ft+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(Ee){e.log_("Failed to get token: "+Ee),D||(e.repoInfo_.nodeAdmin&&_r(Ee),j())}}})()}interrupt(e){Yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Md,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(g=>Tf(g)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,s){const a=new Qt(e).toString();let d;if(this.listens.has(a)){const g=this.listens.get(a);d=g.get(s),g.delete(s),0===g.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,s){Yn("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Yn("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,F.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+If.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Bf.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Le{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Le(t,e)}}class jf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new Le(oo,t),a=new Le(oo,e);return 0!==this.compare(s,a)}minPost(){return Le.MIN}}class iE extends jf{static get __EMPTY_NODE(){return Hf}static set __EMPTY_NODE(t){Hf=t}compare(t,e){return Ha(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Le.MIN}maxPost(){return new Le($i,Hf)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Le(t,Hf)}toString(){return".key"}}const Vr=new iE;class Wf{constructor(t,e,s,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(g=e?s(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Zf,ni=(()=>{class n{constructor(e,s,a,d,g){this.key=e,this.value=s,this.color=a??n.RED,this.left=d??Ut.EMPTY_NODE,this.right=g??Ut.EMPTY_NODE}copy(e,s,a,d,g){return new n(e??this.key,s??this.value,a??this.color,d??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let d=this;const g=a(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,s,a),null):0===g?d.copy(null,s,null,null,null):d.copy(null,null,null,null,d.right.insert(e,s,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,d;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return Ut.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ut{constructor(t,e=Ut.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ut(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ni.BLACK,null,null))}remove(t){return new Ut(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ni.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Wf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Wf(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Wf(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Wf(this.root_,null,this.comparator_,!0,t)}}function eb(n,t){return Ha(n.name,t.name)}function zf(n,t){return Ha(n,t)}Ut.EMPTY_NODE=new class Gf{copy(t,e,s,a,d){return this}insert(t,e,s){return new ni(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Pm=function(n){return"number"==typeof n?"number:"+Dv(n):"string:"+n},Nm=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===Zf||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===Zf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xm,sE,oE,ql=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Nm(this.priorityNode_)}static set __childrenNodeConstructor(e){xm=e}static get __childrenNodeConstructor(){return xm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pt(e)?this:".priority"===Ot(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=Ot(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===Ga(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(cn(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Pm(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?Dv(this.value_):this.value_,this.lazyHash_=bf(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(s),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(d>=0,"Unknown leaf type: "+s),(0,F.hu)(g>=0,"Unknown leaf type: "+a),d===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const pn=new class Tw extends jf{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),d=s.compareTo(a);return 0===d?Ha(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le($i,new ql("[PRIORITY-POST]",oE))}makePost(t,e){const s=sE(t);return new Le(e,new ql("[PRIORITY-POST]",s))}toString(){return".priority"}},Aw=Math.log(2);class qf{constructor(t){this.count=parseInt(Math.log(t+1)/Aw,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Pd=function(n,t,e,s){n.sort(t);const a=function(D,S){const j=S-D;let U,J;if(0===j)return null;if(1===j)return U=n[D],J=e?e(U):U,new ni(J,U.node,ni.BLACK,null,null);{const Ee=parseInt(j/2,10)+D,Ue=a(D,Ee),ft=a(Ee+1,S);return U=n[Ee],J=e?e(U):U,new ni(J,U.node,ni.BLACK,Ue,ft)}},y=function(D){let S=null,j=null,U=n.length;const J=function(Ue,ft){const Dt=U-Ue,Nn=U;U-=Ue;const mn=a(Dt+1,Nn),Br=n[Dt],$n=e?e(Br):Br;Ee(new ni($n,Br.node,ft,null,mn))},Ee=function(Ue){S?(S.left=Ue,S=Ue):(j=Ue,S=Ue)};for(let Ue=0;Ue<D.count;++Ue){const ft=D.nextBitIsOne(),Dt=Math.pow(2,D.count-(Ue+1));ft?J(Dt,ni.BLACK):(J(Dt,ni.BLACK),J(Dt,ni.RED))}return j}(new qf(n.length));return new Ut(s||t,y)};let Kf;const Kl={};class Yo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(Kl&&pn,"ChildrenNode.ts has not been loaded"),Kf=Kf||new Yo({".priority":Kl},{".priority":pn}),Kf}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ut?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==Vr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const d=e.getIterator(Le.Wrap);let y,g=d.getNext();for(;g;)a=a||t.isDefinedOn(g.node),s.push(g),g=d.getNext();y=a?Pd(s,t.getCompare()):Kl;const D=t.toString(),S=Object.assign({},this.indexSet_);S[D]=t;const j=Object.assign({},this.indexes_);return j[D]=y,new Yo(j,S)}addToIndexes(t,e){const s=(0,F.UI)(this.indexes_,(a,d)=>{const g=(0,F.DV)(this.indexSet_,d);if((0,F.hu)(g,"Missing index implementation for "+d),a===Kl){if(g.isDefinedOn(t.node)){const y=[],D=e.getIterator(Le.Wrap);let S=D.getNext();for(;S;)S.name!==t.name&&y.push(S),S=D.getNext();return y.push(t),Pd(y,g.getCompare())}return Kl}{const y=e.get(t.name);let D=a;return y&&(D=D.remove(new Le(t.name,y))),D.insert(t,t.node)}});return new Yo(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,F.UI)(this.indexes_,a=>{if(a===Kl)return a;{const d=e.get(t.name);return d?a.remove(new Le(t.name,d)):a}});return new Yo(s,this.indexSet_)}}let Qo,It=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Nm(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qo||(Qo=new n(new Ut(zf),null,Yo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qo}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Qo:s}}getChild(e){const s=Ot(e);return null===s?this:this.getImmediateChild(s).getChild(cn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,F.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new Le(e,s);let d,g;s.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(a,this.children_));const y=d.isEmpty()?Qo:this.priorityNode_;return new n(d,y,g)}}updateChild(e,s){const a=Ot(e);if(null===a)return s;{(0,F.hu)(".priority"!==Ot(e)||1===Ga(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(cn(e),s);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,d=0,g=!0;if(this.forEachChild(pn,(y,D)=>{s[y]=D.val(e),a++,g&&n.INTEGER_REGEXP_.test(y)?d=Math.max(d,Number(y)):g=!1}),!e&&g&&d<2*a){const y=[];for(const D in s)y[D]=s[D];return y}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Pm(this.getPriority().val())+":"),this.forEachChild(pn,(s,a)=>{const d=a.hash();""!==d&&(e+=":"+s+":"+d)}),this.lazyHash_=""===e?"":bf(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const d=this.resolveIndex_(a);if(d){const g=d.getPredecessorKey(new Le(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Le(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Le(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>s(d.name,d.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Le.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Le.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Nd?-1:0}withIndex(e){if(e===Vr||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Vr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(pn),d=s.getIterator(pn);let g=a.getNext(),y=d.getNext();for(;g&&y;){if(g.name!==y.name||!g.node.equals(y.node))return!1;g=a.getNext(),y=d.getNext()}return null===g&&null===y}return!1}return!1}}resolveIndex_(e){return e===Vr?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Nd=new class Sw extends It{constructor(){super(new Ut(zf),It.EMPTY_NODE,Yo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return It.EMPTY_NODE}isEmpty(){return!1}};function Pn(n,t=null){if(null===n)return It.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ql(n,Pn(t));if(n instanceof Array){let e=It.EMPTY_NODE;return ir(n,(s,a)=>{if((0,F.r3)(n,s)&&"."!==s.substring(0,1)){const d=Pn(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(s,d))}}),e.updatePriority(Pn(t))}{const e=[];let s=!1;if(ir(n,(g,y)=>{if("."!==g.substring(0,1)){const D=Pn(y);D.isEmpty()||(s=s||!D.getPriority().isEmpty(),e.push(new Le(g,D)))}}),0===e.length)return It.EMPTY_NODE;const d=Pd(e,eb,g=>g.name,zf);if(s){const g=Pd(e,pn.getCompare());return new It(d,Pn(t),new Yo({".priority":g},{".priority":pn}))}return new It(d,Pn(t),Yo.Default)}}Object.defineProperties(Le,{MIN:{value:new Le(oo,It.EMPTY_NODE)},MAX:{value:new Le($i,Nd)}}),iE.__EMPTY_NODE=It.EMPTY_NODE,ql.__childrenNodeConstructor=It,function Dw(n){Zf=n}(Nd),function Rd(n){oE=n}(Nd),function bw(n){sE=n}(Pn);class Yf extends jf{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Pt(t)&&".priority"!==Ot(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),d=s.compareTo(a);return 0===d?Ha(t.name,e.name):d}makePost(t,e){const s=Pn(t),a=It.EMPTY_NODE.updateChild(this.indexPath_,s);return new Le(e,a)}maxPost(){const t=It.EMPTY_NODE.updateChild(this.indexPath_,Nd);return new Le($i,t)}toString(){return Sd(this.indexPath_,0).join("/")}}const Om=new class aE extends jf{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?Ha(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(t,e){const s=Pn(t);return new Le(e,s)}toString(){return".value"}},Yl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tb=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=Yl.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let g=d.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=Yl.charAt(t[a]);return(0,F.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),Pw=function(n){if(n===""+Af)return"-";const t=Td(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let g=0;g<e.length;g++)e[g]=n.charAt(g);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return $i;const d=Yl.charAt(Yl.indexOf(e[s])+1);return e[s]=d,e.slice(0,s+1).join("")},Nw=function(n){if(n===""+pm)return oo;const t=Td(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+Af:(delete e[e.length-1],e.join("")):(e[e.length-1]=Yl.charAt(Yl.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Fm(n){return{type:"value",snapshotNode:n}}function Jo(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function xd(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Od(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Ql{constructor(t){this.index_=t}updateChild(t,e,s,a,d,g){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(e);return y.getChild(a).equals(s.getChild(a))&&y.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?t.hasChild(e)?g.trackChildChange(xd(e,y)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?g.trackChildChange(Jo(e,s)):g.trackChildChange(Od(e,s,y))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(pn,(a,d)=>{e.hasChild(a)||s.trackChildChange(xd(a,d))}),e.isLeafNode()||e.forEachChild(pn,(a,d)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(d)||s.trackChildChange(Od(a,d,g))}else s.trackChildChange(Jo(a,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?It.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class kd{constructor(t){this.indexedFilter_=new Ql(t.getIndex()),this.index_=t.getIndex(),this.startPost_=kd.getStartPost_(t),this.endPost_=kd.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,a,d,g){return this.matches(new Le(e,s))||(s=It.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,d,g)}updateFullNode(t,e,s){e.isLeafNode()&&(e=It.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(It.EMPTY_NODE);const d=this;return e.forEachChild(pn,(g,y)=>{d.matches(new Le(g,y))||(a=a.updateImmediateChild(g,It.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class xw{constructor(t){this.rangedFilter_=new kd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,a,d,g){return this.rangedFilter_.matches(new Le(e,s))||(s=It.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,d,g):this.fullLimitUpdateChild_(t,e,s,d,g)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=It.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=It.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;d.hasNext()&&g<this.limit_;){const y=d.getNext();let D;if(D=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),y)<=0:this.index_.compare(y,this.rangedFilter_.getEndPost())<=0,!D)break;a=a.updateImmediateChild(y.name,y.node),g++}}else{let d,g,y,D;if(a=e.withIndex(this.index_),a=a.updatePriority(It.EMPTY_NODE),this.reverse_){D=a.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const U=this.index_.getCompare();y=(J,Ee)=>U(Ee,J)}else D=a.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),y=this.index_.getCompare();let S=0,j=!1;for(;D.hasNext();){const U=D.getNext();!j&&y(d,U)<=0&&(j=!0),j&&S<this.limit_&&y(U,g)<=0?S++:a=a.updateImmediateChild(U.name,It.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,d){let g;if(this.reverse_){const U=this.index_.getCompare();g=(J,Ee)=>U(Ee,J)}else g=this.index_.getCompare();const y=t;(0,F.hu)(y.numChildren()===this.limit_,"");const D=new Le(e,s),S=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),j=this.rangedFilter_.matches(D);if(y.hasChild(e)){const U=y.getImmediateChild(e);let J=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=J&&(J.name===e||y.hasChild(J.name));)J=a.getChildAfterChild(this.index_,J,this.reverse_);const Ee=null==J?1:g(J,D);if(j&&!s.isEmpty()&&Ee>=0)return d?.trackChildChange(Od(e,s,U)),y.updateImmediateChild(e,s);{d?.trackChildChange(xd(e,U));const ft=y.updateImmediateChild(e,It.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(d?.trackChildChange(Jo(J.name,J.node)),ft.updateImmediateChild(J.name,J.node)):ft}}return s.isEmpty()?t:j&&g(S,D)>=0?(null!=d&&(d.trackChildChange(xd(S.name,S.node)),d.trackChildChange(Jo(e,s))),y.updateImmediateChild(e,s).updateImmediateChild(S.name,It.EMPTY_NODE)):t}}class Qf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pn}copy(){const t=new Qf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Lm(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Jl(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Fd(n,t){const e=n.copy();return e.index_=t,e}function dE(n){const t={};if(n.isDefault())return t;let e;return n.index_===pn?e="$priority":n.index_===Om?e="$value":n.index_===Vr?e="$key":((0,F.hu)(n.index_ instanceof Yf,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Wl)(e),n.startSet_&&(t.startAt=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Vm(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==pn&&(t.i=n.index_.toString()),t}class Jf extends Kv{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=Dd("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const g=Jf.getListenId_(t,s),y={};this.listens_[g]=y;const D=dE(t._queryParams);this.restRequest_(d+".json",D,(S,j)=>{let U=j;if(404===S&&(U=null,S=null),null===S&&this.onDataUpdate_(d,U,!1,s),(0,F.DV)(this.listens_,g)===y){let J;J=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(J,null)}})}unlisten(t,e){const s=Jf.getListenId_(t,e);delete this.listens_[s]}get(t){const e=dE(t._queryParams),s=t._path.toString(),a=new F.BH;return this.restRequest_(s+".json",e,(d,g)=>{let y=g;404===d&&(y=null,d=null),null===d?(this.onDataUpdate_(s,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+g);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(s&&4===y.readyState){this.log_("REST Response for "+g+" received. status:",y.status,"response:",y.responseText);let D=null;if(y.status>=200&&y.status<300){try{D=(0,F.cI)(y.responseText)}catch{_r("Failed to parse JSON response for "+g+": "+y.responseText)}s(null,D)}else 401!==y.status&&404!==y.status&&_r("Got unsuccessful REST response for "+g+" Status: "+y.status),s(y.status);s=null}},y.open("GET",g,!0),y.send()})}}class hE{constructor(){this.rootNode_=It.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Xf(){return{value:null,children:new Map}}function za(n,t,e){if(Pt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Ot(t);n.children.has(s)||n.children.set(s,Xf()),za(n.children.get(s),t=cn(t),e)}}function Um(n,t){if(Pt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(pn,(s,a)=>{za(n,new Qt(s),a)}),Um(n,t)}}if(n.children.size>0){const e=Ot(t);return t=cn(t),n.children.has(e)&&Um(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function ep(n,t,e){null!==n.value?e(t,n.value):function fE(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{ep(a,new Qt(t.toString()+"/"+s),e)})}class Vw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ir(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class Bw{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Vw(t);const s=1e4+2e4*Math.random();ic(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;ir(t,(a,d)=>{d>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=d,s=!0)}),s&&this.server_.reportStats(e),ic(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var mi=(()=>{return(n=mi||(mi={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",mi;var n})();function Hm(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class tp{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=mi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Pt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Qt(t));return new tp(Wt(),e,this.revert)}}return(0,F.hu)(Ot(this.path)===t,"operationForChild called for unrelated child."),new tp(cn(this.path),this.affectedTree,this.revert)}}class Ld{constructor(t,e){this.source=t,this.path=e,this.type=mi.LISTEN_COMPLETE}operationForChild(t){return Pt(this.path)?new Ld(this.source,Wt()):new Ld(this.source,cn(this.path))}}class Xl{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=mi.OVERWRITE}operationForChild(t){return Pt(this.path)?new Xl(this.source,Wt(),this.snap.getImmediateChild(t)):new Xl(this.source,cn(this.path),this.snap)}}class lc{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=mi.MERGE}operationForChild(t){if(Pt(this.path)){const e=this.children.subtree(new Qt(t));return e.isEmpty()?null:e.value?new Xl(this.source,Wt(),e.value):new lc(this.source,Wt(),e)}return(0,F.hu)(Ot(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new lc(this.source,cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Za{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Pt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Ot(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class gE{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Vd(n,t,e,s,a,d){const g=s.filter(y=>y.type===e);g.sort((y,D)=>function _E(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const s=new Le(t.childName,t.snapshotNode),a=new Le(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,y,D)),g.forEach(y=>{const D=function $w(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,y,d);a.forEach(S=>{S.respondsTo(y.type)&&t.push(S.createEvent(D,n.query_))})})}function np(n,t){return{eventCache:n,serverCache:t}}function Ud(n,t,e,s){return np(new Za(t,e,s),n.serverCache)}function yE(n,t,e,s){return np(n.eventCache,new Za(t,e,s))}function uc(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rp;class gn{constructor(t,e=(()=>(rp||(rp=new Ut(dw)),rp))()){this.value=t,this.children=e}static fromObject(t){let e=new gn(null);return ir(t,(s,a)=>{e=e.set(new Qt(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wt(),value:this.value};if(Pt(t))return null;{const s=Ot(t),a=this.children.get(s);if(null!==a){const d=a.findRootMostMatchingPathAndValue(cn(t),e);return null!=d?{path:wn(new Qt(s),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Pt(t))return this;{const e=Ot(t),s=this.children.get(e);return null!==s?s.subtree(cn(t)):new gn(null)}}set(t,e){if(Pt(t))return new gn(e,this.children);{const s=Ot(t),d=(this.children.get(s)||new gn(null)).set(cn(t),e),g=this.children.insert(s,d);return new gn(this.value,g)}}remove(t){if(Pt(t))return this.children.isEmpty()?new gn(null):new gn(null,this.children);{const e=Ot(t),s=this.children.get(e);if(s){const a=s.remove(cn(t));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new gn(null):new gn(this.value,d)}return this}}get(t){if(Pt(t))return this.value;{const e=Ot(t),s=this.children.get(e);return s?s.get(cn(t)):null}}setTree(t,e){if(Pt(t))return e;{const s=Ot(t),d=(this.children.get(s)||new gn(null)).setTree(cn(t),e);let g;return g=d.isEmpty()?this.children.remove(s):this.children.insert(s,d),new gn(this.value,g)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,d)=>{s[a]=d.fold_(wn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(Pt(t))return null;{const d=Ot(t),g=this.children.get(d);return g?g.findOnPath_(cn(t),wn(e,d),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,s){if(Pt(t))return this;{this.value&&s(e,this.value);const a=Ot(t),d=this.children.get(a);return d?d.foreachOnPath_(cn(t),wn(e,a),s):new gn(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(wn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Cs{constructor(t){this.writeTree_=t}static empty(){return new Cs(new gn(null))}}function eu(n,t,e){if(Pt(t))return new Cs(new gn(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let d=s.value;const g=Rr(a,t);return d=d.updateChild(g,e),new Cs(n.writeTree_.set(a,d))}{const a=new gn(e),d=n.writeTree_.setTree(t,a);return new Cs(d)}}}function Gm(n,t,e){let s=n;return ir(e,(a,d)=>{s=eu(s,wn(t,a),d)}),s}function zm(n,t){if(Pt(t))return Cs.empty();{const e=n.writeTree_.setTree(t,new gn(null));return new Cs(e)}}function qa(n,t){return null!=Ka(n,t)}function Ka(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Rr(e.path,t)):null}function vE(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(pn,(s,a)=>{t.push(new Le(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new Le(s,a.value))}),t}function tu(n,t){if(Pt(t))return n;{const e=Ka(n,t);return new Cs(null!=e?new gn(e):n.writeTree_.subtree(t))}}function ip(n){return n.writeTree_.isEmpty()}function Ya(n,t){return EE(Wt(),n.writeTree_,t)}function EE(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,d)=>{".priority"===a?((0,F.hu)(null!==d.value,"Priority writes must always be leaf nodes"),s=d.value):e=EE(wn(n,a),d,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(wn(n,".priority"),s)),e}}function cc(n,t){return NE(t,n)}function IE(n,t){if(n.snap)return pi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&pi(wn(n.path,e),t))return!0;return!1}function bE(n){return n.visible}function TE(n,t,e){let s=Cs.empty();for(let a=0;a<n.length;++a){const d=n[a];if(t(d)){const g=d.path;let y;if(d.snap)pi(e,g)?(y=Rr(e,g),s=eu(s,y,d.snap)):pi(g,e)&&(y=Rr(g,e),s=eu(s,Wt(),d.snap.getChild(y)));else{if(!d.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(pi(e,g))y=Rr(e,g),s=Gm(s,y,d.children);else if(pi(g,e))if(y=Rr(g,e),Pt(y))s=Gm(s,Wt(),d.children);else{const D=(0,F.DV)(d.children,Ot(y));if(D){const S=D.getChild(cn(y));s=eu(s,Wt(),S)}}}}}return s}function AE(n,t,e,s,a){if(s||a){const d=tu(n.visibleWrites,t);return!a&&ip(d)?e:a||null!=e||qa(d,Wt())?Ya(TE(n.allWrites,function(S){return(S.visible||a)&&(!s||!~s.indexOf(S.writeId))&&(pi(S.path,t)||pi(t,S.path))},t),e||It.EMPTY_NODE):null}{const d=Ka(n.visibleWrites,t);if(null!=d)return d;{const g=tu(n.visibleWrites,t);return ip(g)?e:null!=e||qa(g,Wt())?Ya(g,e||It.EMPTY_NODE):null}}}function sp(n,t,e,s){return AE(n.writeTree,n.treePath,t,e,s)}function RE(n,t){return function Hw(n,t,e){let s=It.EMPTY_NODE;const a=Ka(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(pn,(d,g)=>{s=s.updateImmediateChild(d,g)}),s;if(e){const d=tu(n.visibleWrites,t);return e.forEachChild(pn,(g,y)=>{const D=Ya(tu(d,new Qt(g)),y);s=s.updateImmediateChild(g,D)}),vE(d).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return vE(tu(n.visibleWrites,t)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(n.writeTree,n.treePath,t)}function zw(n,t,e,s){return function Ww(n,t,e,s,a){(0,F.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const d=wn(t,e);if(qa(n.visibleWrites,d))return null;{const g=tu(n.visibleWrites,d);return ip(g)?a.getChild(e):Ya(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function op(n,t){return function nb(n,t){return Ka(n.visibleWrites,t)}(n.writeTree,wn(n.treePath,t))}function qm(n,t,e){return function SE(n,t,e,s){const a=wn(t,e),d=Ka(n.visibleWrites,a);return null!=d?d:s.isCompleteForChild(e)?Ya(tu(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function PE(n,t){return NE(wn(n.treePath,t),n.writeTree)}function NE(n,t){return{treePath:n,writeTree:t}}class qw{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(s,Od(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(s,xd(s,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(s,Jo(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,Od(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const xE=new class Kw{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class Km{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new Za(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qm(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xo(this.viewCache_),d=function Zw(n,t,e,s,a,d){return function ME(n,t,e,s,a,d,g){let y;const D=tu(n.visibleWrites,t),S=Ka(D,Wt());if(null!=S)y=S;else{if(null==e)return[];y=Ya(D,e)}if(y=y.withIndex(g),y.isEmpty()||y.isLeafNode())return[];{const j=[],U=g.getCompare(),J=d?y.getReverseIteratorFrom(s,g):y.getIteratorFrom(s,g);let Ee=J.getNext();for(;Ee&&j.length<a;)0!==U(Ee,s)&&j.push(Ee),Ee=J.getNext();return j}}(n.writeTree,n.treePath,t,e,s,a,d)}(this.writes_,a,e,1,s,t);return 0===d.length?null:d[0]}}function Ym(n,t,e,s,a,d){const g=t.eventCache;if(null!=op(s,e))return t;{let y,D;if(Pt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=Xo(t),U=RE(s,S instanceof It?S:It.EMPTY_NODE);y=n.filter.updateFullNode(t.eventCache.getNode(),U,d)}else{const S=sp(s,Xo(t));y=n.filter.updateFullNode(t.eventCache.getNode(),S,d)}else{const S=Ot(e);if(".priority"===S){(0,F.hu)(1===Ga(e),"Can't have a priority with additional path components");const j=g.getNode();D=t.serverCache.getNode();const U=zw(s,e,j,D);y=null!=U?n.filter.updatePriority(j,U):g.getNode()}else{const j=cn(e);let U;if(g.isCompleteForChild(S)){D=t.serverCache.getNode();const J=zw(s,e,g.getNode(),D);U=null!=J?g.getNode().getImmediateChild(S).updateChild(j,J):g.getNode().getImmediateChild(S)}else U=qm(s,S,t.serverCache);y=null!=U?n.filter.updateChild(g.getNode(),S,U,j,a,d):g.getNode()}}return Ud(t,y,g.isFullyInitialized()||Pt(e),n.filter.filtersNodes())}}function $d(n,t,e,s,a,d,g,y){const D=t.serverCache;let S;const j=g?n.filter:n.filter.getIndexedFilter();if(Pt(e))S=j.updateFullNode(D.getNode(),s,null);else if(j.filtersNodes()&&!D.isFiltered()){const Ee=D.getNode().updateChild(e,s);S=j.updateFullNode(D.getNode(),Ee,null)}else{const Ee=Ot(e);if(!D.isCompleteForPath(e)&&Ga(e)>1)return t;const Ue=cn(e),Dt=D.getNode().getImmediateChild(Ee).updateChild(Ue,s);S=".priority"===Ee?j.updatePriority(D.getNode(),Dt):j.updateChild(D.getNode(),Ee,Dt,Ue,xE,null)}const U=yE(t,S,D.isFullyInitialized()||Pt(e),j.filtersNodes());return Ym(n,U,e,a,new Km(a,U,d),y)}function ap(n,t,e,s,a,d,g){const y=t.eventCache;let D,S;const j=new Km(a,t,d);if(Pt(e))S=n.filter.updateFullNode(t.eventCache.getNode(),s,g),D=Ud(t,S,!0,n.filter.filtersNodes());else{const U=Ot(e);if(".priority"===U)S=n.filter.updatePriority(t.eventCache.getNode(),s),D=Ud(t,S,y.isFullyInitialized(),y.isFiltered());else{const J=cn(e),Ee=y.getNode().getImmediateChild(U);let Ue;if(Pt(J))Ue=s;else{const ft=j.getCompleteChild(U);Ue=null!=ft?".priority"===bm(J)&&ft.getChild(Tm(J)).isEmpty()?ft:ft.updateChild(J,s):It.EMPTY_NODE}D=Ee.equals(Ue)?t:Ud(t,n.filter.updateChild(y.getNode(),U,Ue,J,j,g),y.isFullyInitialized(),n.filter.filtersNodes())}}return D}function Qm(n,t){return n.eventCache.isCompleteForChild(t)}function kE(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function Jm(n,t,e,s,a,d,g,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,D=t;S=Pt(e)?s:new gn(null).setTree(e,s);const j=t.serverCache.getNode();return S.children.inorderTraversal((U,J)=>{if(j.hasChild(U)){const Ue=kE(0,t.serverCache.getNode().getImmediateChild(U),J);D=$d(n,D,new Qt(U),Ue,a,d,g,y)}}),S.children.inorderTraversal((U,J)=>{const Ee=!t.serverCache.isCompleteForChild(U)&&null===J.value;if(!j.hasChild(U)&&!Ee){const ft=kE(0,t.serverCache.getNode().getImmediateChild(U),J);D=$d(n,D,new Qt(U),ft,a,d,g,y)}}),D}class tI{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new Ql(s.getIndex()),d=function Ow(n){return n.loadsAllData()?new Ql(n.getIndex()):n.hasLimit()?new xw(n):new kd(n)}(s);this.processor_=function Yw(n){return{filter:n}}(d);const g=e.serverCache,y=e.eventCache,D=a.updateFullNode(It.EMPTY_NODE,g.getNode(),null),S=d.updateFullNode(It.EMPTY_NODE,y.getNode(),null),j=new Za(D,g.isFullyInitialized(),a.filtersNodes()),U=new Za(S,y.isFullyInitialized(),d.filtersNodes());this.viewCache_=np(U,j),this.eventGenerator_=new gE(this.query_)}get query(){return this.query_}}function jd(n,t){const e=Xo(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Pt(t)&&!e.getImmediateChild(Ot(t)).isEmpty())?e.getChild(t):null}function FE(n){return 0===n.eventRegistrations_.length}function ws(n,t,e){const s=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(d=>{const g=d.createCancelEvent(e,a);g&&s.push(g)})}if(t){let a=[];for(let d=0;d<n.eventRegistrations_.length;++d){const g=n.eventRegistrations_[d];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(d+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function LE(n,t,e,s){t.type===mi.MERGE&&null!==t.source.queryId&&((0,F.hu)(Xo(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(uc(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,d=function Jw(n,t,e,s,a){const d=new qw;let g,y;if(e.type===mi.OVERWRITE){const S=e;S.source.fromUser?g=ap(n,t,S.path,S.snap,s,a,d):((0,F.hu)(S.source.fromServer,"Unknown source."),y=S.source.tagged||t.serverCache.isFiltered()&&!Pt(S.path),g=$d(n,t,S.path,S.snap,s,a,y,d))}else if(e.type===mi.MERGE){const S=e;S.source.fromUser?g=function OE(n,t,e,s,a,d,g){let y=t;return s.foreach((D,S)=>{const j=wn(e,D);Qm(t,Ot(j))&&(y=ap(n,y,j,S,a,d,g))}),s.foreach((D,S)=>{const j=wn(e,D);Qm(t,Ot(j))||(y=ap(n,y,j,S,a,d,g))}),y}(n,t,S.path,S.children,s,a,d):((0,F.hu)(S.source.fromServer,"Unknown source."),y=S.source.tagged||t.serverCache.isFiltered(),g=Jm(n,t,S.path,S.children,s,a,y,d))}else if(e.type===mi.ACK_USER_WRITE){const S=e;g=S.revert?function eI(n,t,e,s,a,d){let g;if(null!=op(s,e))return t;{const y=new Km(s,t,a),D=t.eventCache.getNode();let S;if(Pt(e)||".priority"===Ot(e)){let j;if(t.serverCache.isFullyInitialized())j=sp(s,Xo(t));else{const U=t.serverCache.getNode();(0,F.hu)(U instanceof It,"serverChildren would be complete if leaf node"),j=RE(s,U)}S=n.filter.updateFullNode(D,j,d)}else{const j=Ot(e);let U=qm(s,j,t.serverCache);null==U&&t.serverCache.isCompleteForChild(j)&&(U=D.getImmediateChild(j)),S=null!=U?n.filter.updateChild(D,j,U,cn(e),y,d):t.eventCache.getNode().hasChild(j)?n.filter.updateChild(D,j,It.EMPTY_NODE,cn(e),y,d):D,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=sp(s,Xo(t)),g.isLeafNode()&&(S=n.filter.updateFullNode(S,g,d)))}return g=t.serverCache.isFullyInitialized()||null!=op(s,Wt()),Ud(t,S,g,n.filter.filtersNodes())}}(n,t,S.path,s,a,d):function rb(n,t,e,s,a,d,g){if(null!=op(a,e))return t;const y=t.serverCache.isFiltered(),D=t.serverCache;if(null!=s.value){if(Pt(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return $d(n,t,e,D.getNode().getChild(e),a,d,y,g);if(Pt(e)){let S=new gn(null);return D.getNode().forEachChild(Vr,(j,U)=>{S=S.set(new Qt(j),U)}),Jm(n,t,e,S,a,d,y,g)}return t}{let S=new gn(null);return s.foreach((j,U)=>{const J=wn(e,j);D.isCompleteForPath(J)&&(S=S.set(j,D.getNode().getChild(J)))}),Jm(n,t,e,S,a,d,y,g)}}(n,t,S.path,S.affectedTree,s,a,d)}else{if(e.type!==mi.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);g=function Xw(n,t,e,s,a){const d=t.serverCache;return Ym(n,yE(t,d.getNode(),d.isFullyInitialized()||Pt(e),d.isFiltered()),e,s,xE,a)}(n,t,e.path,s,d)}const D=d.getChanges();return function Bd(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),d=uc(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(d)||!s.getNode().getPriority().equals(d.getPriority()))&&e.push(Fm(uc(t)))}}(t,g,D),{viewCache:g,changes:D}}(n.processor_,a,t,e,s);return function Qw(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,F.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,dc(n,d.changes,d.viewCache.eventCache.getNode(),null)}function dc(n,t,e,s){return function mE(n,t,e,s){const a=[],d=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&d.push(function uE(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),Vd(n,a,"child_removed",t,s,e),Vd(n,a,"child_added",t,s,e),Vd(n,a,"child_moved",d,s,e),Vd(n,a,"child_changed",t,s,e),Vd(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let lp,fc;class VE{constructor(){this.views=new Map}}function t_(n,t,e,s){const a=t.source.queryId;if(null!==a){const d=n.views.get(a);return(0,F.hu)(null!=d,"SyncTree gave us an op for an invalid query."),LE(d,t,e,s)}{let d=[];for(const g of n.views.values())d=d.concat(LE(g,t,e,s));return d}}function UE(n,t,e,s,a){const g=n.views.get(t._queryIdentifier);if(!g){let y=sp(e,a?s:null),D=!1;y?D=!0:s instanceof It?(y=RE(e,s),D=!1):(y=It.EMPTY_NODE,D=!1);const S=np(new Za(y,D,!1),new Za(s,a,!1));return new tI(t,S)}return g}function dp(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ea(n,t){let e=null;for(const s of n.views.values())e=e||jd(s,t);return e}function jE(n,t){return t._queryParams.loadsAllData()?hc(n):n.views.get(t._queryIdentifier)}function HE(n,t){return null!=jE(n,t)}function nu(n){return null!=hc(n)}function hc(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let r_=1;class GE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new gn(null),this.pendingWriteTree_=function Gw(){return{visibleWrites:Cs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function i_(n,t,e,s,a){return function jw(n,t,e,s,a){(0,F.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=eu(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?ru(n,new Xl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Qa(n,t,e=!1){const s=function Zm(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function wE(n,t){const e=n.allWrites.findIndex(y=>y.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,d=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const y=n.allWrites[g];y.visible&&(g>=e&&IE(y,s.path)?a=!1:pi(s.path,y.path)&&(d=!0)),g--}return!!a&&(d?(function DE(n){n.visibleWrites=TE(n.allWrites,bE,Wt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=zm(n.visibleWrites,s.path):ir(s.children,D=>{n.visibleWrites=zm(n.visibleWrites,wn(s.path,D))}),!0))}(n.pendingWriteTree_,t)){let d=new gn(null);return null!=s.snap?d=d.set(Wt(),!0):ir(s.children,g=>{d=d.set(new Qt(g),!0)}),ru(n,new tp(s.path,d,e))}return[]}function pc(n,t,e){return ru(n,new Xl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Hd(n,t,e,s,a=!1){const d=t._path,g=n.syncPointTree_.get(d);let y=[];if(g&&("default"===t._queryIdentifier||HE(g,t))){const D=function $E(n,t,e,s){const a=t._queryIdentifier,d=[];let g=[];const y=nu(n);if("default"===a)for(const[D,S]of n.views.entries())g=g.concat(ws(S,e,s)),FE(S)&&(n.views.delete(D),S.query._queryParams.loadsAllData()||d.push(S.query));else{const D=n.views.get(a);D&&(g=g.concat(ws(D,e,s)),FE(D)&&(n.views.delete(a),D.query._queryParams.loadsAllData()||d.push(D.query)))}return y&&!nu(n)&&d.push(new(function up(){return(0,F.hu)(lp,"Reference.ts has not been loaded"),lp}())(t._repo,t._path)),{removed:d,events:g}}(g,t,e,s);(function cp(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const S=D.removed;if(y=D.events,!a){const j=-1!==S.findIndex(J=>J._queryParams.loadsAllData()),U=n.syncPointTree_.findOnPath(d,(J,Ee)=>nu(Ee));if(j&&!U){const J=n.syncPointTree_.subtree(d);if(!J.isEmpty()){const Ee=function YE(n){return n.fold((t,e,s)=>{if(e&&nu(e))return[hc(e)];{let a=[];return e&&(a=dp(e)),ir(s,(d,g)=>{a=a.concat(g)}),a}})}(J);for(let Ue=0;Ue<Ee.length;++Ue){const ft=Ee[Ue],Dt=ft.query,Nn=iu(n,ft);n.listenProvider_.startListening(ta(Dt),Gd(n,Dt),Nn.hashFn,Nn.onComplete)}}}!U&&S.length>0&&!s&&(j?n.listenProvider_.stopListening(ta(t),null):S.forEach(J=>{const Ee=n.queryToTagMap.get(fp(J));n.listenProvider_.stopListening(ta(J),Ee)}))}!function uI(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=fp(s),d=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(d)}}}(n,S)}return y}function o_(n,t,e,s){const a=qE(n,s);if(null!=a){const d=KE(a),g=d.path,y=d.queryId,D=Rr(g,t);return pp(n,g,new Xl(Hm(y),D,e))}return[]}function hp(n,t,e,s=!1){const a=t._path;let d=null,g=!1;n.syncPointTree_.foreachOnPath(a,(J,Ee)=>{const Ue=Rr(J,a);d=d||ea(Ee,Ue),g=g||nu(Ee)});let D,y=n.syncPointTree_.get(a);y?(g=g||nu(y),d=d||ea(y,Wt())):(y=new VE,n.syncPointTree_=n.syncPointTree_.set(a,y)),null!=d?D=!0:(D=!1,d=It.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((Ee,Ue)=>{const ft=ea(Ue,Wt());ft&&(d=d.updateImmediateChild(Ee,ft))}));const S=HE(y,t);if(!S&&!t._queryParams.loadsAllData()){const J=fp(t);(0,F.hu)(!n.queryToTagMap.has(J),"View does not exist, but we have a tag");const Ee=function a_(){return r_++}();n.queryToTagMap.set(J,Ee),n.tagToQueryMap.set(Ee,J)}let U=function BE(n,t,e,s,a,d){const g=UE(n,t,s,a,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function Xm(n,t){n.eventRegistrations_.push(t)}(g,e),function e_(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(pn,(d,g)=>{s.push(Jo(d,g))}),e.isFullyInitialized()&&s.push(Fm(e.getNode())),dc(n,s,e.getNode(),t)}(g,e)}(y,t,e,cc(n.pendingWriteTree_,a),d,D);if(!S&&!g&&!s){const J=jE(y,t);U=U.concat(function cI(n,t,e){const s=t._path,a=Gd(n,t),d=iu(n,e),g=n.listenProvider_.startListening(ta(t),a,d.hashFn,d.onComplete),y=n.syncPointTree_.subtree(s);if(a)(0,F.hu)(!nu(y.value),"If we're adding a query, it shouldn't be shadowed");else{const D=y.fold((S,j,U)=>{if(!Pt(S)&&j&&nu(j))return[hc(j).query];{let J=[];return j&&(J=J.concat(dp(j).map(Ee=>Ee.query))),ir(U,(Ee,Ue)=>{J=J.concat(Ue)}),J}});for(let S=0;S<D.length;++S){const j=D[S];n.listenProvider_.stopListening(ta(j),Gd(n,j))}}return g}(n,t,J))}return U}function Wd(n,t,e){const a=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(g,y)=>{const S=ea(y,Rr(g,t));if(S)return S});return AE(a,t,d,e,!0)}function ru(n,t){return ZE(t,n.syncPointTree_,null,cc(n.pendingWriteTree_,Wt()))}function ZE(n,t,e,s){if(Pt(n.path))return Pr(n,t,e,s);{const a=t.get(Wt());null==e&&null!=a&&(e=ea(a,Wt()));let d=[];const g=Ot(n.path),y=n.operationForChild(g),D=t.children.get(g);if(D&&y){const S=e?e.getImmediateChild(g):null,j=PE(s,g);d=d.concat(ZE(y,D,S,j))}return a&&(d=d.concat(t_(a,n,s,e))),d}}function Pr(n,t,e,s){const a=t.get(Wt());null==e&&null!=a&&(e=ea(a,Wt()));let d=[];return t.children.inorderTraversal((g,y)=>{const D=e?e.getImmediateChild(g):null,S=PE(s,g),j=n.operationForChild(g);j&&(d=d.concat(Pr(j,y,D,S)))}),a&&(d=d.concat(t_(a,n,s,e))),d}function iu(n,t){const e=t.query,s=Gd(n,e);return{hashFn:()=>(function nI(n){return n.viewCache_.serverCache.getNode()}(t)||It.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function oI(n,t,e){const s=qE(n,e);if(s){const a=KE(s),d=a.path,g=a.queryId,y=Rr(d,t);return pp(n,d,new Ld(Hm(g),y))}return[]}(n,e._path,s):function zE(n,t){return ru(n,new Ld({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function bv(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return Hd(n,e,null,d)}}}}function Gd(n,t){const e=fp(t);return n.queryToTagMap.get(e)}function fp(n){return n._path.toString()+"$"+n._queryIdentifier}function qE(n,t){return n.tagToQueryMap.get(t)}function KE(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Qt(n.substr(0,t))}}function pp(n,t,e){const s=n.syncPointTree_.get(t);return(0,F.hu)(s,"Missing sync point for query tag that we're tracking"),t_(s,e,cc(n.pendingWriteTree_,t),null)}function ta(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function n_(){return(0,F.hu)(fc,"Reference.ts has not been loaded"),fc}())(n._repo,n._path):n}class gp{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new gp(e)}node(){return this.node_}}class l_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=wn(this.path_,t);return new l_(this.syncTree_,e)}node(){return Wd(this.syncTree_,this.path_)}}const QE=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?u_(n[".sv"],t,e):"object"==typeof n[".sv"]?JE(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},u_=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},JE=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,F.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,F.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const g=a.getValue();return"number"!=typeof g?s:g+s},c_=function(n,t,e,s){return zd(t,new l_(e,n),s)},gc=function(n,t,e){return zd(n,new gp(t),e)};function zd(n,t,e){const s=n.getPriority().val(),a=QE(s,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const g=n,y=QE(g.getValue(),t,e);return y!==g.getValue()||a!==g.getPriority().val()?new ql(y,Pn(a)):n}{const g=n;return d=g,a!==g.getPriority().val()&&(d=d.updatePriority(new ql(a))),g.forEachChild(pn,(y,D)=>{const S=zd(D,t.getImmediateChild(y),e);S!==D&&(d=d.updateImmediateChild(y,S))}),d}}class XE{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function Zd(n,t){let e=t instanceof Qt?t:new Qt(t),s=n,a=Ot(e);for(;null!==a;){const d=(0,F.DV)(s.node.children,a)||{children:{},childCount:0};s=new XE(a,s,d),e=cn(e),a=Ot(e)}return s}function su(n){return n.node.value}function mp(n,t){n.node.value=t,eC(n)}function ou(n){return n.node.childCount>0}function qd(n,t){ir(n.node.children,(e,s)=>{t(new XE(e,n,s))})}function _p(n,t,e,s){e&&!s&&t(n),qd(n,a=>{_p(a,t,!0,s)}),e&&s&&t(n)}function Kd(n){return new Qt(null===n.parent?n.name:Kd(n.parent)+"/"+n.name)}function eC(n){null!==n.parent&&function fI(n,t,e){const s=function hI(n){return void 0===su(n)&&!ou(n)}(e),a=(0,F.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,eC(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,eC(n))}(n.parent,n.name,n)}const pI=/[\[\].#$\/\u0000-\u001F\u007F]/,gI=/[\[\].#$\u0000-\u001F\u007F]/,yp=10485760,Yd=function(n){return"string"==typeof n&&0!==n.length&&!pI.test(n)},tC=function(n){return"string"==typeof n&&0!==n.length&&!gI.test(n)},mc=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!nc(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},lo=function(n,t,e,s){s&&void 0===t||Qd((0,F.gK)(n,"value"),t,e)},Qd=function(n,t,e){const s=e instanceof Qt?new eE(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+gi(s));if("function"==typeof t)throw new Error(n+"contains a function "+gi(s)+" with contents = "+t.toString());if(nc(t))throw new Error(n+"contains "+t.toString()+" "+gi(s));if("string"==typeof t&&t.length>yp/3&&(0,F.ug)(t)>yp)throw new Error(n+"contains a string greater than "+yp+" utf8 bytes "+gi(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,d=!1;if(ir(t,(g,y)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(d=!0,!Yd(g)))throw new Error(n+" contains an invalid key ("+g+") "+gi(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function tE(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),Am(n)})(s,g),Qd(n,y,s),function nE(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&d)throw new Error(n+' contains ".value" child '+gi(s)+" in addition to actual children.")}},iC=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const d=[];ir(t,(g,y)=>{const D=new Qt(g);if(Qd(a,y,wn(e,D)),".priority"===bm(D)&&!mc(y))throw new Error(a+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(D)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const d=Sd(s);for(let g=0;g<d.length;g++)if((".priority"!==d[g]||g!==d.length-1)&&!Yd(d[g]))throw new Error(n+"contains an invalid key ("+d[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Xv);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&pi(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,d)},vp=function(n,t,e){if(!e||void 0!==t){if(nc(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mc(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_c=function(n,t,e,s){if(!(s&&void 0===e||Yd(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},yc=function(n,t,e,s){if(!(s&&void 0===e||tC(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Wi=function(n,t){if(".info"===Ot(t))throw new Error(n+" failed = Can't modify data under /.info/")},oC=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Yd(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),tC(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class sb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jd(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],d=a.getPath();null!==e&&!$f(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&n.eventLists_.push(e)}function mI(n,t,e){Jd(n,e),_I(n,s=>$f(s,t))}function Gi(n,t,e){Jd(n,e),_I(n,s=>pi(s,t)||pi(t,s))}function _I(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(ob(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function ob(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();Gl&&Yn("event: "+e.toString()),zl(s)}}}const yI="repo_interrupt";class lb{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xf(),this.transactionQueueTree_=new XE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xd(n){const e=n.infoData_.getNode(new Qt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ep(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Xd(n)})}function d_(n,t,e,s,a){n.dataUpdateCount++;const d=new Qt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(s){const D=(0,F.UI)(e,S=>Pn(S));g=function aI(n,t,e,s){const a=qE(n,s);if(a){const d=KE(a),g=d.path,y=d.queryId,D=Rr(g,t),S=gn.fromObject(e);return pp(n,g,new lc(Hm(y),D,S))}return[]}(n.serverSyncTree_,d,D,a)}else{const D=Pn(e);g=o_(n.serverSyncTree_,d,D,a)}else if(s){const D=(0,F.UI)(e,S=>Pn(S));g=function s_(n,t,e){const s=gn.fromObject(e);return ru(n,new lc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,d,D)}else{const D=Pn(e);g=pc(n.serverSyncTree_,d,D)}let y=d;g.length>0&&(y=au(n,d)),Gi(n.eventQueue_,y,g)}function eh(n,t){Cp(n,"connected",t),!1===t&&function lC(n){th(n,"onDisconnectEvents");const t=Ep(n),e=Xf();ep(n.onDisconnect_,Wt(),(a,d)=>{const g=c_(a,d,n.serverSyncTree_,t);za(e,a,g)});let s=[];ep(e,Wt(),(a,d)=>{s=s.concat(pc(n.serverSyncTree_,a,d));const g=__(n,a);au(n,g)}),n.onDisconnect_=Xf(),Gi(n.eventQueue_,Wt(),s)}(n)}function Cp(n,t,e){const s=new Qt("/.info/"+t),a=Pn(e);n.infoData_.updateSnapshot(s,a);const d=pc(n.infoSyncTree_,s,a);Gi(n.eventQueue_,s,d)}function h_(n){return n.nextWriteId_++}function wp(n,t,e,s,a){th(n,"set",{path:t.toString(),value:e,priority:s});const d=Ep(n),g=Pn(e,s),y=Wd(n.serverSyncTree_,t),D=gc(g,y,d),S=h_(n),j=i_(n.serverSyncTree_,t,D,S,!0);Jd(n.eventQueue_,j),n.server_.put(t.toString(),g.val(!0),(J,Ee)=>{const Ue="ok"===J;Ue||_r("set at "+t+" failed: "+J);const ft=Qa(n.serverSyncTree_,S,!Ue);Gi(n.eventQueue_,t,ft),Ja(0,a,J,Ee)});const U=__(n,t);au(n,U),Gi(n.eventQueue_,U,[])}function cb(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&Um(n.onDisconnect_,t),Ja(0,e,s,a)})}function EI(n,t,e,s){const a=Pn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,g)=>{"ok"===d&&za(n.onDisconnect_,t,a),Ja(0,s,d,g)})}function p_(n,t,e){let s;s=".info"===Ot(t._path)?Hd(n.infoSyncTree_,t,e):Hd(n.serverSyncTree_,t,e),mI(n.eventQueue_,t._path,s)}function II(n){n.persistentConnection_&&n.persistentConnection_.interrupt(yI)}function th(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Yn(e,...t)}function Ja(n,t,e,s){t&&zl(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let d=a;s&&(d+=": "+s);const g=new Error(d);g.code=a,t(g)}})}function g_(n,t,e){return Wd(n.serverSyncTree_,t,e)||It.EMPTY_NODE}function m_(n,t=n.transactionQueueTree_){if(t||vc(n,t),su(t)){const e=zi(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function bI(n,t,e){const s=e.map(S=>S.currentWriteId),a=g_(n,t,s);let d=a;const g=a.hash();for(let S=0;S<e.length;S++){const j=e[S];(0,F.hu)(0===j.status,"tryToSendTransactionQueue_: items in queue should all be run."),j.status=1,j.retryCount++;const U=Rr(t,j.path);d=d.updateChild(U,j.currentOutputSnapshotRaw)}const y=d.val(!0),D=t;n.server_.put(D.toString(),y,S=>{th(n,"transaction put response",{path:D.toString(),status:S});let j=[];if("ok"===S){const U=[];for(let J=0;J<e.length;J++)e[J].status=2,j=j.concat(Qa(n.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&U.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();vc(n,Zd(n.transactionQueueTree_,t)),m_(n,n.transactionQueueTree_),Gi(n.eventQueue_,t,j);for(let J=0;J<U.length;J++)zl(U[J])}else{if("datastale"===S)for(let U=0;U<e.length;U++)e[U].status=3===e[U].status?4:0;else{_r("transaction at "+D.toString()+" failed: "+S);for(let U=0;U<e.length;U++)e[U].status=4,e[U].abortReason=S}au(n,t)}},g)}(n,Kd(t),e)}else ou(t)&&qd(t,e=>{m_(n,e)})}function au(n,t){const e=TI(n,t),s=Kd(e);return function uC(n,t,e){if(0===t.length)return;const s=[];let a=[];const g=t.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const D=t[y],S=Rr(e,D.path);let U,j=!1;if((0,F.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)j=!0,U=D.abortReason,a=a.concat(Qa(n.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=25)j=!0,U="maxretry",a=a.concat(Qa(n.serverSyncTree_,D.currentWriteId,!0));else{const J=g_(n,D.path,g);D.currentInputSnapshot=J;const Ee=t[y].update(J.val());if(void 0!==Ee){Qd("transaction failed: Data returned ",Ee,D.path);let Ue=Pn(Ee);"object"==typeof Ee&&null!=Ee&&(0,F.r3)(Ee,".priority")||(Ue=Ue.updatePriority(J.getPriority()));const Dt=D.currentWriteId,Nn=Ep(n),mn=gc(Ue,J,Nn);D.currentOutputSnapshotRaw=Ue,D.currentOutputSnapshotResolved=mn,D.currentWriteId=h_(n),g.splice(g.indexOf(Dt),1),a=a.concat(i_(n.serverSyncTree_,D.path,mn,D.currentWriteId,D.applyLocally)),a=a.concat(Qa(n.serverSyncTree_,Dt,!0))}else j=!0,U="nodata",a=a.concat(Qa(n.serverSyncTree_,D.currentWriteId,!0))}Gi(n.eventQueue_,e,a),a=[],j&&(t[y].status=2,setTimeout(t[y].unwatcher,Math.floor(0)),t[y].onComplete&&s.push("nodata"===U?()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot):()=>t[y].onComplete(new Error(U),!1,null)))}vc(n,n.transactionQueueTree_);for(let y=0;y<s.length;y++)zl(s[y]);m_(n,n.transactionQueueTree_)}(n,zi(n,e),s),s}function TI(n,t){let e,s=n.transactionQueueTree_;for(e=Ot(t);null!==e&&void 0===su(s);)s=Zd(s,e),e=Ot(t=cn(t));return s}function zi(n,t){const e=[];return cC(n,t,e),e.sort((s,a)=>s.order-a.order),e}function cC(n,t,e){const s=su(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);qd(t,a=>{cC(n,a,e)})}function vc(n,t){const e=su(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,mp(t,e.length>0?e:void 0)}qd(t,s=>{vc(n,s)})}function __(n,t){const e=Kd(TI(n,t)),s=Zd(n.transactionQueueTree_,t);return function ib(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{ri(n,a)}),ri(n,s),_p(s,a=>{ri(n,a)}),e}function ri(n,t){const e=su(t);if(e){const s=[];let a=[],d=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,F.hu)(d===g-1,"All SENT items should be at beginning of queue."),d=g,e[g].status=3,e[g].abortReason="set"):((0,F.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(Qa(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===d?mp(t,void 0):e.length=d+1,Gi(n.eventQueue_,Kd(t),a);for(let g=0;g<s.length;g++)zl(s[g])}}const v_=function(n,t){const e=SI(n),s=e.namespace;return"firebase.com"===e.domain&&Bi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Bi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_r("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Pf(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new Qt(e.pathString)}},SI=function(n){let t="",e="",s="",a="",d="",g=!0,y="https",D=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(y=n.substring(0,S-1),n=n.substring(S+2));let j=n.indexOf("/");-1===j&&(j=n.length);let U=n.indexOf("?");-1===U&&(U=n.length),t=n.substring(0,Math.min(j,U)),j<U&&(a=function AI(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(j,U)));const J=function y_(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):_r(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,U)));S=t.indexOf(":"),S>=0?(g="https"===y||"wss"===y,D=parseInt(t.substring(S+1),10)):S=t.length;const Ee=t.slice(0,S);if("localhost"===Ee.toLowerCase())e="localhost";else if(Ee.split(".").length<=2)e=Ee;else{const Ue=t.indexOf(".");s=t.substring(0,Ue).toLowerCase(),e=t.substring(Ue+1),d=s}"ns"in J&&(d=J.ns)}return{host:t,port:D,domain:e,subdomain:s,secure:g,scheme:y,pathString:a,namespace:d}};class Dp{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class E_{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bp{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class dC{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return cb(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Wi("OnDisconnect.remove",this._path);const t=new F.BH;return EI(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Wi("OnDisconnect.set",this._path),lo("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return EI(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Wi("OnDisconnect.setWithPriority",this._path),lo("OnDisconnect.setWithPriority",t,this._path,!1),vp("OnDisconnect.setWithPriority",e,!1);const s=new F.BH;return function CI(n,t,e,s,a){const d=Pn(e,s);n.server_.onDisconnectPut(t.toString(),d.val(!0),(g,y)=>{"ok"===g&&za(n.onDisconnect_,t,d),Ja(0,a,g,y)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){Wi("OnDisconnect.update",this._path),iC("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function wI(n,t,e,s){if((0,F.xb)(e))return Yn("onDisconnect().update() called with empty data.  Don't do anything."),void Ja(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,d)=>{"ok"===a&&ir(e,(g,y)=>{const D=Pn(y);za(n.onDisconnect_,wn(t,g),D)}),Ja(0,s,a,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ur{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return Pt(this._path)?null:bm(this._path)}get ref(){return new Zi(this._repo,this._path)}get _queryIdentifier(){const t=Vm(this._queryParams),e=Tf(t);return"{}"===e?"default":e}get _queryObject(){return Vm(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof Ur))return!1;const e=this._repo===t._repo,s=$f(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ww(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function nh(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Xa(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Vr){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==oo)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==$i)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===pn){if(null!=t&&!mc(t)||null!=e&&!mc(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof Yf||n.getIndex()===Om,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rh(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zi extends Ur{constructor(t,e){super(t,e,new Qf,!1)}get parent(){const t=Tm(this._path);return null===t?null:new Zi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class na{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Qt(t),s=ia(this.ref,t);return new na(this._node.getChild(e),s,pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new na(a,ia(this.ref,s),pn)))}hasChild(t){const e=new Qt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ra(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?ia(n._root,t):n._root}function C_(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=v_(t,n._repo.repoInfo_.nodeAdmin);oC("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Bi("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),ra(n,e.path.toString())}function ia(n,t){return null===Ot((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),yc("child","path",e,!1)):yc("child","path",t,!1),new Zi(n._repo,wn(n._path,t));var e}function w_(n,t){n=(0,F.m9)(n),Wi("set",n._path),lo("set",t,n._path,!1);const e=new F.BH;return wp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function NI(n,t){iC("update",t,n._path,!1);const e=new F.BH;return function vI(n,t,e,s){th(n,"update",{path:t.toString(),value:e});let a=!0;const d=Ep(n),g={};if(ir(e,(y,D)=>{a=!1,g[y]=c_(wn(t,y),Pn(D),n.serverSyncTree_,d)}),a)Yn("update() called with empty data.  Don't do anything."),Ja(0,s,"ok",void 0);else{const y=h_(n),D=function sI(n,t,e,s){!function CE(n,t,e,s){(0,F.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=Gm(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=gn.fromObject(e);return ru(n,new lc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,y);Jd(n.eventQueue_,D),n.server_.merge(t.toString(),e,(S,j)=>{const U="ok"===S;U||_r("update at "+t+" failed: "+S);const J=Qa(n.serverSyncTree_,y,!U),Ee=J.length>0?au(n,t):t;Gi(n.eventQueue_,Ee,J),Ja(0,s,S,j)}),ir(e,S=>{const j=__(n,wn(t,S));au(n,j)}),Gi(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function hC(n){n=(0,F.m9)(n);const t=new bp(()=>{}),e=new Tp(t);return function f_(n,t,e){const s=function lI(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(S,j)=>{const U=Rr(S,e);s=s||ea(j,U)});let a=n.syncPointTree_.get(e);a?s=s||ea(a,Wt()):(a=new VE,n.syncPointTree_=n.syncPointTree_.set(e,a));const d=null!=s,g=d?new Za(s,!0,!1):null;return function rI(n){return uc(n.viewCache_)}(UE(a,t,cc(n.pendingWriteTree_,t._path),d?g.getNode():It.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=s?Promise.resolve(s):n.server_.get(t).then(a=>{const d=Pn(a).withIndex(t._queryParams.getIndex());let g;if(hp(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())g=pc(n.serverSyncTree_,t._path,d);else{const y=Gd(n.serverSyncTree_,t);g=o_(n.serverSyncTree_,t._path,d,y)}return Gi(n.eventQueue_,t._path,g),Hd(n.serverSyncTree_,t,e,null,!0),d},a=>(th(n,"get for query "+(0,F.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(s=>new na(s,new Zi(n._repo,n._path),n._queryParams.getIndex()))}class Tp{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new Dp("value",this,new na(t.snapshotNode,new Zi(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new E_(this,t,e):null}matches(t){return t instanceof Tp&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ih{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new E_(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const s=ia(new Zi(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new Dp(t.type,this,new na(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ih&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function sh(n,t,e,s,a){let d;if("object"==typeof s&&(d=void 0,a=s),"function"==typeof s&&(d=s),a&&a.onlyOnce){const D=e,S=(j,U)=>{p_(n._repo,n,y),D(j,U)};S.userCallback=e.userCallback,S.context=e.context,e=S}const g=new bp(e,d||void 0),y="value"===t?new Tp(g):new ih(t,g);return function Ip(n,t,e){let s;s=".info"===Ot(t._path)?hp(n.infoSyncTree_,t,e):hp(n.serverSyncTree_,t,e),mI(n.eventQueue_,t._path,s)}(n._repo,n,y),()=>p_(n._repo,n,y)}function Ap(n,t,e,s){return sh(n,"value",t,e,s)}function xI(n,t,e,s){return sh(n,"child_added",t,e,s)}function Sp(n,t,e,s){return sh(n,"child_changed",t,e,s)}function I_(n,t,e,s){return sh(n,"child_moved",t,e,s)}function D_(n,t,e,s){return sh(n,"child_removed",t,e,s)}function b_(n,t,e){let s=null;const a=e?new bp(e):null;"value"===t?s=new Tp(a):t&&(s=new ih(t,a)),p_(n._repo,n,s)}class qi{}class T_ extends qi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){lo("endAt",this._value,t._path,!0);const e=Jl(t._queryParams,this._value,this._key);if(rh(e),Xa(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class Rp extends qi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){lo("endBefore",this._value,t._path,!1);const e=function Lw(n,t,e){let s,a;return n.index_===Vr?("string"==typeof t&&(t=Nw(t)),a=Jl(n,t,e)):(s=null==e?oo:Nw(e),a=Jl(n,t,s)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(rh(e),Xa(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class pC extends qi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){lo("startAt",this._value,t._path,!0);const e=Lm(t._queryParams,this._value,this._key);if(rh(e),Xa(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class mC extends qi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){lo("startAfter",this._value,t._path,!1);const e=function Fw(n,t,e){let s;if(n.index_===Vr)"string"==typeof t&&(t=Pw(t)),s=Lm(n,t,e);else{let a;a=null==e?$i:Pw(e),s=Lm(n,t,a)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(rh(e),Xa(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ur(t._repo,t._path,e,t._orderByCalled)}}class kI extends qi{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ur(t._repo,t._path,function kw(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class pb extends qi{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ur(t._repo,t._path,function cE(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class FI extends qi{constructor(t){super(),this._path=t}_apply(t){nh(t,"orderByChild");const e=new Qt(this._path);if(Pt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Yf(e),a=Fd(t._queryParams,s);return Xa(a),new Ur(t._repo,t._path,a,!0)}}class VI extends qi{_apply(t){nh(t,"orderByKey");const e=Fd(t._queryParams,Vr);return Xa(e),new Ur(t._repo,t._path,e,!0)}}class mb extends qi{_apply(t){nh(t,"orderByPriority");const e=Fd(t._queryParams,pn);return Xa(e),new Ur(t._repo,t._path,e,!0)}}class yb extends qi{_apply(t){nh(t,"orderByValue");const e=Fd(t._queryParams,Om);return Xa(e),new Ur(t._repo,t._path,e,!0)}}class UI extends qi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(lo("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new T_(this._value,this._key)._apply(new pC(this._value,this._key)._apply(t))}}function Is(n,...t){let e=(0,F.m9)(n);for(const s of t)e=s._apply(e);return e}(function iI(n){(0,F.hu)(!lp,"__referenceConstructor has already been defined"),lp=n})(Zi),function WE(n){(0,F.hu)(!fc,"__referenceConstructor has already been defined"),fc=n}(Zi);const Np={};function xp(n,t,e,s,a){let d=s||n.options.databaseURL;void 0===d&&(n.options.projectId||Bi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yn("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let D,S,g=v_(d,a),y=g.repoInfo;typeof process<"u"&&process.env&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(D=!0,d=`http://${S}?ns=${y.namespace}`,g=v_(d,a),y=g.repoInfo):D=!g.repoInfo.secure;const j=a&&D?new Sf(Sf.OWNER):new Sv(n.name,n.options,t);oC("Invalid Firebase Database URL",g),Pt(g.path)||Bi("Database URL must point to the root of a Firebase Database (not including a child path).");const U=function $I(n,t,e,s){let a=Np[t.name];a||(a={},Np[t.name]=a);let d=a[n.toURLString()];return d&&Bi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new lb(n,false,e,s),a[n.toURLString()]=d,d}(y,n,j,new Av(n.name,e));return new M_(U,n)}class M_{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ub(n,t,e){if(n.stats_=xf(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Jf(n.repoInfo_,(s,a,d,g)=>{d_(n,s,a,d,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>eh(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new ac(n.repoInfo_,t,(s,a,d,g)=>{d_(n,s,a,d,g)},s=>{eh(n,s)},s=>{!function aC(n,t){ir(t,(e,s)=>{Cp(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function JD(n,t){const e=n.toString();return ym[e]||(ym[e]=t()),ym[e]}(n.repoInfo_,()=>new Bw(n.stats_,n.server_)),n.infoData_=new hE,n.infoSyncTree_=new GE({startListening:(s,a,d,g)=>{let y=[];const D=n.infoData_.getNode(s._path);return D.isEmpty()||(y=pc(n.infoSyncTree_,s._path,D),setTimeout(()=>{g("ok")},0)),y},stopListening:()=>{}}),Cp(n,"connected",!1),n.serverSyncTree_=new GE({startListening:(s,a,d,g)=>(n.server_.listen(s,d,a,(y,D)=>{const S=g(y,D);Gi(n.eventQueue_,s._path,S)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zi(this._repo,Wt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function A_(n,t){const e=Np[t];(!e||e[n.key]!==n)&&Bi(`Database ${t}(${n.repoInfo_}) has already been deleted.`),II(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Bi("Cannot call "+t+" on a deleted database.")}}function oh(){vm.IS_TRANSPORT_INITIALIZED&&_r("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Eb(){oh(),Wa.forceDisallow()}function Cb(){oh(),Zl.forceDisallow(),Wa.forceAllow()}function wb(n=(0,so.getApp)(),t){const e=(0,so._getProvider)(n,"database").getImmediate({identifier:t}),s=(0,F.P0)("database");return s&&jI(e,...s),e}function jI(n,t,e,s={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Bi("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let d;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&Bi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Sf(Sf.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,F.Sg)(s.mockUserToken,n.app.options.projectId);d=new Sf(g)}!function yC(n,t,e,s){n.repoInfo_=new Pf(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,d)}function WI(n,t){Id(n,t)}const zI={".sv":"timestamp"};class wC{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ac.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ac.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function GI(n){dm(so.SDK_VERSION),(0,so._registerComponent)(new Ui.wA("database",(t,{instanceIdentifier:e})=>xp(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(um,cm,n),(0,so.registerVersion)(um,cm,"esm2017")}();const IC=new Cd.Yd("@firebase/database-compat"),Op=function(n){IC.warn("FIREBASE WARNING: "+n)};class bb{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),d=>s(d)),a}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,Op("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class Tb{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class nl{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),yc("DataSnapshot.child","path",t,!1),new nl(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),yc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new nl(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new _i(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class yr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var d;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const g=yr.getCancelAndContextArgs_("Query.on",s,a),y=(S,j)=>{e.call(g.context,new nl(this.database,S),j)};y.userCallback=e,y.context=g.context;const D=null===(d=g.cancel)||void 0===d?void 0:d.bind(g.context);switch(t){case"value":return Ap(this._delegate,y,D),e;case"child_added":return xI(this._delegate,y,D),e;case"child_removed":return D_(this._delegate,y,D),e;case"child_changed":return Sp(this._delegate,y,D),e;case"child_moved":return I_(this._delegate,y,D),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,b_(this._delegate,t,a)}else b_(this._delegate,t)}get(){return hC(this._delegate).then(t=>new nl(this.database,t))}once(t,e,s,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const d=yr.getCancelAndContextArgs_("Query.once",s,a),g=new F.BH,y=(S,j)=>{const U=new nl(this.database,S);e&&e.call(d.context,U,j),g.resolve(U)};y.userCallback=e,y.context=d.context;const D=S=>{d.cancel&&d.cancel.call(d.context,S),g.reject(S)};switch(t){case"value":Ap(this._delegate,y,D,{onlyOnce:!0});break;case"child_added":xI(this._delegate,y,D,{onlyOnce:!0});break;case"child_removed":D_(this._delegate,y,D,{onlyOnce:!0});break;case"child_changed":Sp(this._delegate,y,D,{onlyOnce:!0});break;case"child_moved":I_(this._delegate,y,D,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new yr(this.database,Is(this._delegate,function fb(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new kI(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new yr(this.database,Is(this._delegate,function _C(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pb(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new yr(this.database,Is(this._delegate,function LI(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return yc("orderByChild","path",n,!1),new FI(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new yr(this.database,Is(this._delegate,function gb(){return new VI}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new yr(this.database,Is(this._delegate,function _b(){return new mb}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new yr(this.database,Is(this._delegate,function vb(){return new yb}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new yr(this.database,Is(this._delegate,function gC(n=null,t){return _c("startAt","key",t,!0),new pC(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new yr(this.database,Is(this._delegate,function OI(n,t){return _c("startAfter","key",t,!0),new mC(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new yr(this.database,Is(this._delegate,function Mp(n,t){return _c("endAt","key",t,!0),new T_(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new yr(this.database,Is(this._delegate,function fC(n,t){return _c("endBefore","key",t,!0),new Rp(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new yr(this.database,Is(this._delegate,function Pp(n,t){return _c("equalTo","key",t,!0),new UI(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof yr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,F.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,F.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new _i(this.database,new Zi(this._delegate._repo,this._delegate._path))}}class _i extends yr{constructor(t,e){super(t,new Ur(e._repo,e._path,new Qf,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new _i(this.database,ia(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new _i(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new _i(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const s=w_(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,Op("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wi("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const s=NI(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function PI(n,t,e){if(Wi("setWithPriority",n._path),lo("setWithPriority",t,n._path,!1),vp("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new F.BH;return wp(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),d=>s(d)),a}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function hb(n){return Wi("remove",n._path),w_(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function ZI(n,t,e){var s;if(n=(0,F.m9)(n),Wi("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=e?.applyLocally)||void 0===s||s,d=new F.BH,y=Ap(n,()=>{});return function DI(n,t,e,s,a,d){th(n,"transaction on "+t);const g={path:t,update:e,onComplete:s,status:null,order:wv(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=g_(n,t,void 0);g.currentInputSnapshot=y;const D=g.update(y.val());if(void 0===D)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{Qd("transaction failed: Data returned ",D,g.path),g.status=0;const S=Zd(n.transactionQueueTree_,t),j=su(S)||[];let U;j.push(g),mp(S,j),"object"==typeof D&&null!==D&&(0,F.r3)(D,".priority")?(U=(0,F.DV)(D,".priority"),(0,F.hu)(mc(U),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):U=(Wd(n.serverSyncTree_,t)||It.EMPTY_NODE).getPriority().val();const J=Ep(n),Ee=Pn(D,U),Ue=gc(Ee,y,J);g.currentOutputSnapshotRaw=Ee,g.currentOutputSnapshotResolved=Ue,g.currentWriteId=h_(n);const ft=i_(n.serverSyncTree_,t,Ue,g.currentWriteId,g.applyLocally);Gi(n.eventQueue_,t,ft),m_(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(D,S,j)=>{let U=null;D?d.reject(D):(U=new na(j,new Zi(n._repo,n._path),pn),d.resolve(new wC(S,U)))},y,a),d.promise}(this._delegate,t,{applyLocally:s}).then(d=>new Tb(d.committed,new nl(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const s=function RI(n,t){n=(0,F.m9)(n),Wi("setPriority",n._path),vp("setPriority",t,!1);const e=new F.BH;return wp(n._repo,wn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const s=function MI(n,t){n=(0,F.m9)(n),Wi("push",n._path),lo("push",t,n._path,!0);const e=Xd(n._repo),s=tb(e),a=ia(n,s),d=ia(n,s);let g;return g=null!=t?w_(d,t).then(()=>d):Promise.resolve(d),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=s.then(g=>new _i(this.database,g));e&&a.then(()=>e(null),g=>e(g));const d=new _i(this.database,s);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return Wi("Reference.onDisconnect",this._delegate._path),new bb(new dC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class kp{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Eb,forceLongPolling:Cb}}useEmulator(t,e,s={}){jI(this._delegate,t,e,s)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof _i){const e=C_(this._delegate,t.toString());return new _i(this,e)}{const e=ra(this._delegate,t);return new _i(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const s=C_(this._delegate,t);return new _i(this,s)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function vC(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),II(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function HI(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function db(n){n.persistentConnection_&&n.persistentConnection_.resume(yI)}(n._repo)}(this._delegate)}}kp.ServerValue={TIMESTAMP:function EC(){return zI}(),increment:n=>function CC(n){return{".sv":{increment:n}}}(n)};var Sb=Object.freeze({__proto__:null,initStandalone:function Ab({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:d=!1}){dm(e);const g=new Ui.zt("auth-internal",new Ui.H0("database-standalone"));return g.setComponent(new Ui.wA("auth-internal",()=>s,"PRIVATE")),{instance:new kp(xp(n,g,void 0,t,d),n),namespace:a}}});const Mb=kp.ServerValue;!function Rb(n){n.INTERNAL.registerComponent(new Ui.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new kp(a,s)},"PUBLIC").setServiceProps({Reference:_i,Query:yr,Database:kp,DataSnapshot:nl,enableLogging:WI,INTERNAL:Sb,ServerValue:Mb}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(ec.Z);var Fp=x(5363),Pb=x(6063);class Nb extends Yr.x{constructor(t=1/0,e=1/0,s=Pb.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:g}=this;e||(s.push(t),!a&&s.push(d.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,d=a.slice();for(let g=0;g<d.length&&!t.closed;g+=s?1:2)t.next(d[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,d=(a?1:2)*t;if(t<1/0&&d<s.length&&s.splice(0,s.length-d),!a){const g=e.now();let y=0;for(let D=1;D<s.length&&s[D]<=g;D+=2)y=D;y&&s.splice(0,y+1)}}}function QI(n,t,e){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):s=n??1/0,(0,vd.B)({connector:()=>new Nb(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function JI(n,t){return(0,Si.m)(t)?Mn(()=>n,t):Mn(()=>n)}var DC=x(9468),lu=x(5867);class r{constructor(t){return t}}class i{constructor(){return(0,lu.C6)()}}const u=new c.OlP("angularfire2._apps"),h={provide:r,useFactory:function l(n){return n&&1===n.length?n[0]:new r((0,lu.Mq)())},deps:[[new c.FiY,u]]},m={provide:i,deps:[[new c.FiY,u]]};function v(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new r(s)}}let C=(()=>{class n{constructor(e){(0,lu.KN)("angularfire",Zt.q4.full,"core"),(0,lu.KN)("angularfire",Zt.q4.full,"app"),(0,lu.KN)("angular",c.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[h,m]}),n})();function b(n,...t){return{ngModule:C,providers:[{provide:u,useFactory:v(n),multi:!0,deps:[c.R0b,c.zs3,Zt.HU,...t]}]}}const te=(0,Zt.u3)(lu.ZF,!0),Qe=new Map,dt={activated:!1,tokenObservers:[]},Se={initialized:!1,enabled:!1};function Je(n){return Qe.get(n)||Object.assign({},dt)}function dn(){return Se}class k_{constructor(t,e,s,a,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ti.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function F_(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const vr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xb(n){if(!Je(n).activated)throw vr.create("use-before-activation",{appName:n.name})}function eD(n,t){return tD.apply(this,arguments)}function tD(){return(tD=(0,ti.Z)(function*({url:n,body:t},e){var s,a;const d={"Content-Type":"application/json"},g=e.getImmediate({optional:!0});if(g){const Ee=yield g.getHeartbeatsHeader();Ee&&(d["X-Firebase-Client"]=Ee)}const y={method:"POST",body:JSON.stringify(t),headers:d};let D,S;try{D=yield fetch(n,y)}catch(Ee){throw vr.create("fetch-network-error",{originalErrorMessage:null===(s=Ee)||void 0===s?void 0:s.message})}if(200!==D.status)throw vr.create("fetch-status-error",{httpStatus:D.status});try{S=yield D.json()}catch(Ee){throw vr.create("fetch-parse-error",{originalErrorMessage:null===(a=Ee)||void 0===a?void 0:a.message})}const j=S.ttl.match(/^([\d.]+)(s)$/);if(!j||!j[2]||isNaN(Number(j[1])))throw vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${S.ttl}`});const U=1e3*Number(j[1]),J=Date.now();return{token:S.token,expireTimeMillis:J+U,issuedAtTimeMillis:J}})).apply(this,arguments)}function ST(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const V_="firebase-app-check-store";let AC=null;function kb(){return AC||(AC=new Promise((n,t)=>{var e;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{n(a.target.result)},s.onerror=a=>{var d;t(vr.create("storage-open",{originalErrorMessage:null===(d=a.target.error)||void 0===d?void 0:d.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(V_,{keyPath:"compositeKey"})}}catch(s){t(vr.create("storage-open",{originalErrorMessage:null===(e=s)||void 0===e?void 0:e.message}))}}),AC)}function nD(){return(nD=(0,ti.Z)(function*(n,t){const s=(yield kb()).transaction(V_,"readwrite"),d=s.objectStore(V_).put({compositeKey:n,value:t});return new Promise((g,y)=>{d.onsuccess=D=>{g()},s.onerror=D=>{var S;y(vr.create("storage-set",{originalErrorMessage:null===(S=D.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const U_=new Cd.Yd("@firebase/app-check");function sD(n,t){return(0,F.hl)()?function NT(n,t){return function Fb(n,t){return nD.apply(this,arguments)}(function Vb(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{U_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Ub(){return dn().enabled}function Bb(){return aD.apply(this,arguments)}function aD(){return(aD=(0,ti.Z)(function*(){const n=dn();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const VT={error:"UNKNOWN_ERROR"};function UT(n){return F.US.encodeString(JSON.stringify(n),!1)}function SC(n){return lD.apply(this,arguments)}function lD(){return(lD=(0,ti.Z)(function*(n,t=!1){const e=n.app;xb(e);const s=Je(e);let d,a=s.token;if(a&&!Vp(a)&&(s.token=void 0,a=void 0),!a){const D=yield s.cachedTokenPromise;D&&(Vp(D)?a=D:yield sD(e,void 0))}if(!t&&a&&Vp(a))return{token:a.token};let y,g=!1;if(Ub()){s.exchangeTokenPromise||(s.exchangeTokenPromise=eD(ST(e,yield Bb()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),g=!0);const D=yield s.exchangeTokenPromise;return yield sD(e,D),s.token=D,{token:D.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),g=!0),a=yield Je(e).exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?U_.warn(D.message):U_.error(D),d=D}return a?d?y=Vp(a)?{token:a.token,internalError:d}:Hb(d):(y={token:a.token},s.token=a,yield sD(e,a)):y=Hb(d),g&&jb(e,y),y})).apply(this,arguments)}function cD(n,t){const e=Je(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function $b(n){const{app:t}=n,e=Je(t);let s=e.tokenRefresher;s||(s=function BT(n){const{app:t}=n;return new k_((0,ti.Z)(function*(){let s;if(s=Je(t).token?yield SC(n,!0):yield SC(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=Je(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function jb(n,t){const e=Je(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch{}}function Vp(n){return n.expireTimeMillis-Date.now()>0}function Hb(n){return{token:UT(VT),error:n}}class $T{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Je(this.app);for(const e of t)cD(this.app,e.next);return Promise.resolve()}}const Qb="app-check-internal";!function tA(){(0,so._registerComponent)(new Ui.wA("app-check",n=>function jT(n,t){return new $T(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Qb).initialize()})),(0,so._registerComponent)(new Ui.wA(Qb,n=>function HT(n){return{getToken:t=>SC(n,t),addTokenListener:t=>function uD(n,t,e,s){const{app:a}=n,d=Je(a);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:s,type:t}],d.token&&Vp(d.token)){const y=d.token;Promise.resolve().then(()=>{e({token:y.token}),$b(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>$b(n))}(n,"INTERNAL",t),removeTokenListener:t=>cD(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,so.registerVersion)("@firebase/app-check","0.5.17")}();class B_{constructor(){return(0,Zt.vb)("app-check")}}typeof window<"u"&&window;const Xb=new c.OlP("angularfire2.auth.use-emulator"),eT=new c.OlP("angularfire2.auth.settings"),tT=new c.OlP("angularfire2.auth.tenant-id"),nT=new c.OlP("angularfire2.auth.langugage-code"),rT=new c.OlP("angularfire2.auth.use-device-language"),iT=new c.OlP("angularfire.auth.persistence"),sT=(n,t,e,s,a,d,g,y)=>(0,Mr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const D=t.runOutsideAngular(()=>n.auth());if(e&&D.useEmulator(...e),s&&(D.tenantId=s),D.languageCode=a,d&&D.useDeviceLanguage(),g)for(const[S,j]of Object.entries(g))D.settings[S]=j;return y&&D.setPersistence(y),D},[e,s,a,d,g,y]);let oT=(()=>{class n{constructor(e,s,a,d,g,y,D,S,j,U,J,Ee){const Ue=new Yr.x,ft=Xe(void 0).pipe((0,Fp.Q)(g.outsideAngular),Mn(()=>d.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,at.U)(()=>(0,Mr.on)(e,d,s)),(0,at.U)(Dt=>sT(Dt,d,y,S,j,U,D,J)),QI({bufferSize:1,refCount:!1}));if(function mo(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{ft.pipe(q()).subscribe();const Nn=ft.pipe(Mn($n=>$n.getRedirectResult().then(uo=>uo,()=>null)),Zt.iC,QI({bufferSize:1,refCount:!1})),mn=ft.pipe(Mn($n=>new tr.y(uo=>({unsubscribe:d.runOutsideAngular(()=>$n.onAuthStateChanged(ah=>uo.next(ah),ah=>uo.error(ah),()=>uo.complete()))})))),Br=ft.pipe(Mn($n=>new tr.y(uo=>({unsubscribe:d.runOutsideAngular(()=>$n.onIdTokenChanged(ah=>uo.next(ah),ah=>uo.error(ah),()=>uo.complete()))}))));this.authState=Nn.pipe(JI(mn),(0,DC.R)(g.outsideAngular),(0,Fp.Q)(g.insideAngular)),this.user=Nn.pipe(JI(Br),(0,DC.R)(g.outsideAngular),(0,Fp.Q)(g.insideAngular)),this.idToken=this.user.pipe(Mn($n=>$n?(0,nn.D)($n.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(Mn($n=>$n?(0,nn.D)($n.getIdTokenResult()):Xe(null))),this.credential=(0,Ko.T)(Nn,Ue,this.authState.pipe(Jr($n=>!$n))).pipe((0,at.U)($n=>$n?.user?$n:null),(0,DC.R)(g.outsideAngular),(0,Fp.Q)(g.insideAngular))}return(0,Mr.pX)(this,ft,d,{spy:{apply:(Dt,Nn,mn)=>{(Dt.startsWith("signIn")||Dt.startsWith("createUser"))&&mn.then(Br=>Ue.next(Br))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Mr.Dh),c.LFG(Mr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Zt.HU),c.LFG(Xb,8),c.LFG(eT,8),c.LFG(tT,8),c.LFG(nT,8),c.LFG(rT,8),c.LFG(iT,8),c.LFG(B_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function aT(n){return null==n}function lT(n){return"function"==typeof n.set}function uT(n,t){return lT(t)?t:n.ref(t)}function cT(n,t){if(function aA(n){return"string"==typeof n}(n))return t.stringCase();if(lT(n))return t.firebaseCase();if(function lA(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function $_(n,t,e="on",s=Sr.z){return new tr.y(a=>{let d=null;return d=n[e](t,(g,y)=>{s.schedule(()=>{a.next({snapshot:g,prevKey:y})}),"once"===e&&s.schedule(()=>a.complete())},g=>{s.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,at.U)(a=>{const{snapshot:d,prevKey:g}=a;let y=null;return d.exists()&&(y=d.key),{type:t,payload:d,prevKey:g,key:y}}),(0,vd.B)())}function dT(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function dA(n,t){const{payload:e,prevKey:s,key:a}=t,d=dT(n,a),g=function cA(n,t){if(aT(t))return 0;{const e=dT(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(D=>{const S={payload:D,type:"value",prevKey:y,key:D.key};return y=D.key,n=[...n,S],!1})}return n;case"child_added":if(d>-1){const y=n[d-1];(y&&y.key||null)!==s&&(n=n.filter(D=>D.payload.key!==e.key)).splice(g,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(y=>y.payload.key!==e.key);case"child_changed":return n.map(y=>y.payload.key===a?t:y);case"child_moved":if(d>-1){const y=n.splice(d,1)[0];return(n=n.slice()).splice(g,0,y),n}return n;default:return n}}function hT(n){return(aT(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function fT(n,t,e){return function uA(n,t,e){return $_(n,"value","once",e).pipe(Mn(s=>{const a=[Xe(s)];return t.forEach(d=>a.push($_(n,d,"on",e))),(0,Ko.T)(...a).pipe(mt(dA,[]))}),function Vi(n,t=Ti.y){return n=n??lm,(0,an.e)((e,s)=>{let a,d=!0;e.subscribe((0,Sn.x)(s,g=>{const y=t(g);(d||!n(a,y))&&(d=!1,a=y,s.next(g))}))})}())}(n,t=hT(t),e)}function pT(n,t,e){const s=(t=hT(t)).map(a=>$_(n,a,"on",e));return(0,Ko.T)(...s)}function gT(n,t){return function(s,a){return cT(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function gA(n){return function(e){return e?cT(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function mT(n,t){return function(){return $_(n,"value","on",t)}}const yA=new c.OlP("angularfire2.realtimeDatabaseURL"),vA=new c.OlP("angularfire2.database.use-emulator");let Up=(()=>{class n{constructor(e,s,a,d,g,y,D,S,j,U,J,Ee,Ue,ft,Dt){this.schedulers=y;const Nn=D,mn=(0,Mr.on)(e,g,s);S&&sT(mn,g,j,J,Ee,Ue,U,ft),this.database=(0,Mr.cc)(`${mn.name}.database.${a}`,"AngularFireDatabase",mn.name,()=>{const Br=g.runOutsideAngular(()=>mn.database(a||void 0));return Nn&&Br.useEmulator(...Nn),Br},[Nn])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>uT(this.database,e));let d=a;return s&&(d=s(a)),function mA(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:gT(s,"update"),set:gT(s,"set"),push:a=>s.push(a),remove:gA(s),snapshotChanges:a=>fT(n,a,e).pipe(Zt.iC),stateChanges:a=>pT(n,a,e).pipe(Zt.iC),auditTrail:a=>function hA(n,t,e){return function pA(n,t,e){return function fA(n,t){return $_(n,"value","on",t).pipe((0,at.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function Ju(...n){const t=(0,Kr.jO)(n);return(0,an.e)((e,s)=>{const a=n.length,d=new Array(a);let g=n.map(()=>!1),y=!1;for(let D=0;D<a;D++)(0,Ai.Xf)(n[D]).subscribe((0,Sn.x)(s,S=>{d[D]=S,!y&&!g[D]&&(g[D]=!0,(y=g.every(Ti.y))&&(g=null))},Qu.Z));e.subscribe((0,Sn.x)(s,D=>{if(y){const S=[D,...d];s.next(t?t(...S):S)}}))})}(t),(0,at.U)(([a,d])=>{const g=a.lastKeyToLoad,y=d.map(D=>D.key);return{actions:d,lastKeyToLoad:g,loadedKeys:y}}),function Xu(n){return(0,an.e)((t,e)=>{let s=!1,a=0;t.subscribe((0,Sn.x)(e,d=>(s||(s=!n(d,a++)))&&e.next(d)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,at.U)(a=>a.actions))}(n,pT(n,t).pipe(mt((a,d)=>[...a,d],[])),e)}(n,a,e).pipe(Zt.iC),valueChanges:(a,d)=>fT(n,a,e).pipe((0,at.U)(y=>y.map(D=>d&&d.idField?Object.assign(Object.assign({},D.payload.val()),{[d.idField]:D.key}):D.payload.val())),Zt.iC)}}(d,this)}object(e){return function _A(n,t){return{query:n,snapshotChanges:()=>mT(n,t.schedulers.outsideAngular)().pipe(Zt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>mT(n,t.schedulers.outsideAngular)().pipe(Zt.iC,(0,at.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>uT(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Mr.Dh),c.LFG(Mr.xv,8),c.LFG(yA,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Zt.HU),c.LFG(vA,8),c.LFG(oT,8),c.LFG(Xb,8),c.LFG(eT,8),c.LFG(tT,8),c.LFG(nT,8),c.LFG(rT,8),c.LFG(iT,8),c.LFG(B_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EA=(()=>{class n{constructor(){vs.Z.registerVersion("angularfire",Zt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Up]}),n})(),CA=(()=>{class n{constructor(e){this.db=e,this.DaysOffList=e.list("daysOff")}getDaysOff(){return this.db.list("daysOff").snapshotChanges()}addUser(e,s){this.DaysOffList.push(new yd(e,s))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Up))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wA(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"Email is required"),c.qZA())}function IA(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"Email is invalid"),c.qZA())}function DA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,wA,2,0,"small",23),c.YNc(2,IA,2,0,"small",23),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.email.errors.required),c.xp6(1),c.Q6J("ngIf",e.email.errors.email)}}function bA(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"password is required"),c.qZA())}function TA(n,t){1&n&&(c.TgZ(0,"small",24),c._uU(1,"password must be 6 characters at least"),c.qZA())}function AA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,bA,2,0,"small",23),c.YNc(2,TA,2,0,"small",23),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",null==e.password.errors?null:e.password.errors.required),c.xp6(1),c.Q6J("ngIf",null==e.password.errors?null:e.password.errors.minlength)}}let SA=(()=>{class n{constructor(e,s,a,d){this.fb=e,this.authservice=s,this.router=a,this.daysOffService=d}ngOnInit(){this.initForm()}initForm(){this.loginForm=this.fb.group({email:new ei("",[zn.required,zn.email]),password:new ei("",[zn.required,zn.minLength(6)])})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}login(){const e=this.loginForm.get("email").value,s=this.loginForm.get("password").value;console.log(e+s),this.authservice.SignInUser(e,s).then(()=>{this.router.navigate(["/messaging"])},a=>{this.errorMessage=a,console.log(this.errorMessage)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(uw),c.Y36(Li),c.Y36(Bn),c.Y36(CA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:4,consts:[[1,"section","section-image","section-login",2,"background-image","url('./assets/img/login-image.jpg')"],[1,"user",3,"formGroup","ngSubmit"],[1,"container"],[1,"row"],[1,"col-lg-4","col-md-6","mx-auto"],[1,"card","card-register"],[1,"title","mx-auto"],[1,"register-form",3,"formGroup"],[1,"input-group","form-group-no-border"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"nc-icon","nc-email-85"],[1,"form-group"],["type","email","formControlName","email","id","exampleInputEmail","placeholder","Enter Email Address...",1,"form-control"],[4,"ngIf"],[1,"nc-icon","nc-key-25"],["type","password","formControlName","password","id","exampleInputPassword","placeholder","Password",1,"form-control","form-control-user"],[1,"btn","btn-danger","btn-block","btn-round",3,"click"],["routerLink","/register",1,"btn","btn-danger","btn-block","btn-round"],[1,"forgot"],["routerLink","/forgotpass",1,"btn","btn-link","btn-danger"],[1,"col","text-center"],["target","_blank",1,"btn","btn-outline-neutral","btn-round","btn-lg"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0)(1,"form",1),c.NdJ("ngSubmit",function(){return s.login()}),c.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),c._uU(7,"Welcome"),c.qZA(),c.TgZ(8,"form",7)(9,"label"),c._uU(10,"Email"),c.qZA(),c.TgZ(11,"div",8)(12,"div",9)(13,"span",10),c._UZ(14,"i",11),c.qZA()(),c.TgZ(15,"div",12),c._UZ(16,"input",13),c.YNc(17,DA,3,2,"div",14),c.qZA()(),c.TgZ(18,"label"),c._uU(19,"Password"),c.qZA(),c.TgZ(20,"div",8)(21,"div",9)(22,"span",10),c._UZ(23,"i",15),c.qZA()(),c.TgZ(24,"div",12),c._UZ(25,"input",16),c.YNc(26,AA,3,2,"div",14),c.qZA()(),c.TgZ(27,"button",17),c.NdJ("click",function(){return s.login()}),c._uU(28,"Login"),c.qZA(),c.TgZ(29,"button",18),c._uU(30,"Register"),c.qZA()(),c.TgZ(31,"div",19)(32,"a",20),c._uU(33,"Forgot password?"),c.qZA()()(),c.TgZ(34,"div",21)(35,"a",22),c._uU(36,"View Register Page"),c.qZA()()()()()()()),2&e&&(c.xp6(1),c.Q6J("formGroup",s.loginForm),c.xp6(7),c.Q6J("formGroup",s.loginForm),c.xp6(9),c.Q6J("ngIf",s.email.touched&&s.email.invalid),c.xp6(9),c.Q6J("ngIf",s.password.touched&&s.password.invalid))},dependencies:[An,Ba,qh,Yg,xi,Oi,ud,ff,gf],styles:[".input-group-text[_ngcontent-%COMP%]{height:38px}.input-group[_ngcontent-%COMP%]{flex-direction:row}"]}),n})();function MA(n,t){if(1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2),c.qZA()()),2&n){const e=t.$implicit;c.xp6(2),c.Oqu(e)}}let RA=(()=>{class n{constructor(e,s,a){this.router=e,this.db=s,this.auth=a,this.title="the_project",this.message=""}ngOnInit(){null==this.auth.Auth().currentUser&&this.router.navigate(["/"]),this.db.list("items").valueChanges().subscribe(s=>{this.data=s}),this.ScrollDownMessageBox()}ngAfterViewChecked(){this.ScrollDownMessageBox()}send(){this.db.list("items").push(this.auth.CurrentUserEmail().split("@")[0]+" : "+this.message).then(()=>{this.ScrollDownMessageBox()}).catch(s=>{console.log(s)}),this.message=""}ScrollDownMessageBox(){var e=document.getElementById("div");e.scrollTop=e.scrollHeight}slurp(){return(0,ti.Z)(function*(){const s=(yield fetch("https://api.github.com/users/github")).json();console.log(s)})()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bn),c.Y36(Up),c.Y36(Li))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-messaging"]],decls:6,vars:2,consts:[["id","div"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange","keydown.enter"],[3,"click"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0),c.YNc(1,MA,3,1,"div",1),c._UZ(2,"br"),c.TgZ(3,"input",2),c.NdJ("ngModelChange",function(d){return s.message=d})("keydown.enter",function(){return s.send()}),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return s.send()}),c._uU(5,"send"),c.qZA()()),2&e&&(c.xp6(1),c.Q6J("ngForOf",s.data),c.xp6(2),c.Q6J("ngModel",s.message))},dependencies:[yi,xi,Oi,Kg],styles:["#div[_ngcontent-%COMP%]{border:black solid 5px;max-height:98vh;overflow-y:auto}"]}),n})();class PA{constructor(t,e,s,a){this.email=t,this.firstname=e,this.lastname=s,this.phone=a}}let NA=(()=>{class n{constructor(e){this.db=e,this.userList=e.list("users")}createUser(e){this.userList.push({email:e.email,firstname:e.firstname,lastname:e.lastname,phone:e.phone}).catch(s=>{console.error(s)})}getUsers(){return this.db.list("users").snapshotChanges()}getUserById(e){return this.db.list("users",s=>s.orderByKey().equalTo(e)).snapshotChanges()}getUserByEmail(e){return this.db.list("users",s=>s.orderByChild("email").equalTo(e)).snapshotChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Up))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is required"),c.qZA())}function OA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is too short"),c.qZA())}function kA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is too long"),c.qZA())}function FA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"First name is should only contain alphabets"),c.qZA())}function LA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,xA,2,0,"small",22),c.YNc(2,OA,2,0,"small",22),c.YNc(3,kA,2,0,"small",22),c.YNc(4,FA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.firstName.errors.required),c.xp6(1),c.Q6J("ngIf",e.firstName.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.firstName.errors.maxlength),c.xp6(1),c.Q6J("ngIf",e.firstName.errors.pattern)}}function VA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is required"),c.qZA())}function UA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is too short"),c.qZA())}function BA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is too long"),c.qZA())}function $A(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Last name is should only contain alphabets"),c.qZA())}function jA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,VA,2,0,"small",22),c.YNc(2,UA,2,0,"small",22),c.YNc(3,BA,2,0,"small",22),c.YNc(4,$A,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.lastName.errors.required),c.xp6(1),c.Q6J("ngIf",e.lastName.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.lastName.errors.maxlength),c.xp6(1),c.Q6J("ngIf",e.lastName.errors.pattern)}}function HA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Email is required"),c.qZA())}function WA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Email is too short"),c.qZA())}function GA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,HA,2,0,"small",22),c.YNc(2,WA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.email.errors.required),c.xp6(1),c.Q6J("ngIf",e.email.errors.email)}}function zA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number is required"),c.qZA())}function ZA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number should be all numbers"),c.qZA())}function qA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number is too short"),c.qZA())}function KA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Phone number is too long"),c.qZA())}function YA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,zA,2,0,"small",22),c.YNc(2,ZA,2,0,"small",22),c.YNc(3,qA,2,0,"small",22),c.YNc(4,KA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.phone.errors.required),c.xp6(1),c.Q6J("ngIf",e.phone.errors.pattern),c.xp6(1),c.Q6J("ngIf",e.phone.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.phone.errors.maxlength)}}function QA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is required"),c.qZA())}function JA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too short"),c.qZA())}function XA(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too long"),c.qZA())}function eS(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,QA,2,0,"small",22),c.YNc(2,JA,2,0,"small",22),c.YNc(3,XA,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.password.errors.required),c.xp6(1),c.Q6J("ngIf",e.password.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.password.errors.maxlength)}}function tS(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is required"),c.qZA())}function nS(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too short"),c.qZA())}function rS(n,t){1&n&&(c.TgZ(0,"small",23),c._uU(1,"Password is too long"),c.qZA())}function iS(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,tS,2,0,"small",22),c.YNc(2,nS,2,0,"small",22),c.YNc(3,rS,2,0,"small",22),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.confirmPassword.errors.required),c.xp6(1),c.Q6J("ngIf",e.confirmPassword.errors.minlength),c.xp6(1),c.Q6J("ngIf",e.confirmPassword.errors.maxlength)}}let _T=(()=>{class n{constructor(e,s,a,d,g){this.fb=e,this.authservice=s,this.router=a,this.db=d,this.userService=g,this.userList=d.list("users")}ngOnInit(){this.initRegisterForm()}initRegisterForm(){this.registerForm=this.fb.group({firstName:new ei("",[zn.required,zn.minLength(3),zn.maxLength(15),zn.pattern("[a-zA-Z ]+")]),lastName:new ei("",[zn.required,zn.minLength(3),zn.maxLength(15),zn.pattern("[a-zA-Z ]+")]),email:new ei("",[zn.required,zn.email]),phone:new ei("",[zn.required,zn.pattern("[0-9]+"),zn.minLength(8),zn.maxLength(13)]),password:new ei("",[zn.required,zn.minLength(6)]),confirmPassword:new ei("",[zn.required,zn.minLength(6)])})}get email(){return this.registerForm?.get("email")}get password(){return this.registerForm?.get("password")}get firstName(){return this.registerForm?.get("firstName")}get lastName(){return this.registerForm?.get("lastName")}get phone(){return this.registerForm?.get("phone")}get confirmPassword(){return this.registerForm?.get("confirmPassword")}register(){const e=this.registerForm.get("email").value,s=this.registerForm.get("password").value;this.authservice.CreateNewUser(e,s).then(()=>{this.userService.createUser(new PA(this.email.value,this.firstName.value,this.lastName.value,this.phone.value)),this.router.navigate(["/"])},a=>{this.errorMessage=a,console.log(this.errorMessage)})}pushUser(){this.userList.push({email:this.email,firstname:this.firstName,lastname:this.lastName,phone:this.phone}).then(s=>{this.router.navigate(["/"])}).catch(s=>{console.error(s)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(uw),c.Y36(Li),c.Y36(Bn),c.Y36(Up),c.Y36(NA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:34,vars:7,consts:[[1,"container"],[1,"card","o-hidden","border-0","shadow-lg","my-5"],[1,"card-body","p-0"],[1,"row"],["id","imageHolder",1,"col-lg-5","d-none","d-lg-block","bg-register-image"],[1,"col-lg-7"],[1,"p-5"],[1,"text-center"],[1,"h4","text-gray-900","mb-4"],[1,"user",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-sm-6","mb-3","mb-sm-0"],["formControlName","firstName","type","text","id","exampleFirstName","placeholder","First Name",1,"form-control","form-control-user"],[4,"ngIf"],[1,"col-sm-6"],["formControlName","lastName","type","text","id","exampleLastName","placeholder","Last Name",1,"form-control","form-control-user"],[1,"form-group"],["formControlName","email","type","email","id","exampleInputEmail","placeholder","Email Address",1,"form-control","form-control-user"],["formControlName","phone","type","text","id","exampleInputEmail","placeholder","Phone Number",1,"form-control","form-control-user"],["formControlName","password","type","password","id","exampleInputPassword","placeholder","Password",1,"form-control","form-control-user"],["formControlName","confirmPassword","type","password","id","exampleRepeatPassword","placeholder","Repeat Password",1,"form-control","form-control-user"],["type","submit",1,"btn","btn-primary","btn-user","btn-block"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"div",4),c.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),c._uU(9,"Create an Account!"),c.qZA()(),c.TgZ(10,"form",9),c.NdJ("ngSubmit",function(){return s.register()}),c.TgZ(11,"div",10)(12,"div",11),c._UZ(13,"input",12),c.YNc(14,LA,5,4,"div",13),c.qZA(),c.TgZ(15,"div",14),c._UZ(16,"input",15),c.YNc(17,jA,5,4,"div",13),c.qZA()(),c.TgZ(18,"div",16),c._UZ(19,"input",17),c.YNc(20,GA,3,2,"div",13),c.qZA(),c.TgZ(21,"div",16),c._UZ(22,"input",18),c.YNc(23,YA,5,4,"div",13),c.qZA(),c.TgZ(24,"div",10)(25,"div",11),c._UZ(26,"input",19),c.YNc(27,eS,4,3,"div",13),c.qZA(),c.TgZ(28,"div",14),c._UZ(29,"input",20),c.YNc(30,iS,4,3,"div",13),c.qZA()(),c.TgZ(31,"button",21),c._uU(32," Register Account "),c.qZA()(),c._UZ(33,"hr"),c.qZA()()()()()()),2&e&&(c.xp6(10),c.Q6J("formGroup",s.registerForm),c.xp6(4),c.Q6J("ngIf",s.firstName.touched&&s.firstName.invalid),c.xp6(3),c.Q6J("ngIf",s.lastName.touched&&s.lastName.invalid),c.xp6(3),c.Q6J("ngIf",s.email.touched&&s.email.invalid),c.xp6(3),c.Q6J("ngIf",s.phone.touched&&s.phone.invalid),c.xp6(4),c.Q6J("ngIf",s.password.touched&&s.password.invalid),c.xp6(3),c.Q6J("ngIf",s.confirmPassword.touched&&s.confirmPassword.invalid))},dependencies:[An,Yg,xi,Oi,ud,ff,gf]}),n})();const sS=[{path:"register",component:_T},{path:"messaging",component:RA},{path:"",component:SA},{path:"register",component:_T}];let oS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Cg.forRoot(sS),Cg]}),n})(),aS=(()=>{class n{constructor(e){this.db=e,this.title="the_project",this.message=""}ngOnInit(){this.db.list("items").valueChanges().subscribe(s=>{this.data=s})}slurp(){return(0,ti.Z)(function*(){const s=(yield fetch("https://api.github.com/users/github")).json();console.log(s)})()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Up))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:10,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"]],template:function(e,s){1&e&&(c.TgZ(0,"html",0)(1,"head"),c._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),c.TgZ(5,"title"),c._uU(6,"Document"),c.qZA()(),c.TgZ(7,"body"),c._UZ(8,"router-outlet")(9,"footer"),c.qZA()())},dependencies:[ag]}),n})();var lS=x(8247);class gD{constructor(t){return t}}class vT{constructor(){return(0,Zt.vb)("auth")}}const mD=new c.OlP("angularfire2.auth-instances");function cS(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new gD(s)}}const dS={provide:vT,deps:[[new c.FiY,mD]]},hS={provide:gD,useFactory:function uS(n,t){const e=(0,Zt.JM)("auth",n,t);return e&&new gD(e)},deps:[[new c.FiY,mD],r]};let fS=(()=>{class n{constructor(){(0,lu.KN)("angularfire",Zt.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[hS,dS]}),n})();function pS(n,...t){return{ngModule:fS,providers:[{provide:mD,useFactory:cS(n),multi:!0,deps:[c.R0b,c.zs3,Zt.HU,i,[new c.FiY,B_],...t]}]}}const gS=(0,Zt.u3)(lS.n,!0);class _D{constructor(t){return t}}const ET="database",yD=new c.OlP("angularfire2.database-instances");function yS(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new _D(s)}}const vS={provide:class mS{constructor(){return(0,Zt.vb)(ET)}},deps:[[new c.FiY,yD]]},ES={provide:_D,useFactory:function _S(n,t){const e=(0,Zt.JM)(ET,n,t);return e&&new _D(e)},deps:[[new c.FiY,yD],r]};let CS=(()=>{class n{constructor(){(0,lu.KN)("angularfire",Zt.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ES,vS]}),n})();function wS(n,...t){return{ngModule:CS,providers:[{provide:yD,useFactory:yS(n),multi:!0,deps:[c.R0b,c.zs3,Zt.HU,i,[new c.FiY,vT],[new c.FiY,B_],...t]}]}}const IS=(0,Zt.u3)(wb,!0);let DS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[aS]}),n.\u0275inj=c.cJS({imports:[js,Mr.hO.initializeApp(wf_firebase),EA,oS,lw,_v,b(()=>te(wf_firebase)),pS(()=>gS()),wS(()=>IS())]}),n})();(0,c.G48)(),No().bootstrapModule(DS).catch(n=>console.error(n))},5867:(et,De,x)=>{x.d(De,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=x(9681);(0,c.registerVersion)("firebase","9.14.0","app")},127:(et,De,x)=>{x.d(De,{Z:()=>c.Z});var c=x(3942);c.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(et,De,x)=>{x.r(De);var c=x(5861),B=x(3942),P=x(8247),re=x(2090),ce=(x(9681),x(1877),x(4859));function le(){return window}function H(){return(H=(0,c.Z)(function*(V,M,k){var ee;const{BuildInfo:Me}=le();(0,P.ap)(M.sessionId,"AuthEvent did not contain a session ID");const Ke=yield de(M.sessionId),Ye={};return(0,P.aq)()?Ye.ibi=Me.packageName:(0,P.ar)()?Ye.apn=Me.packageName:(0,P.as)(V,"operation-not-supported-in-this-environment"),Me.displayName&&(Ye.appDisplayName=Me.displayName),Ye.sessionId=Ke,(0,P.at)(V,k,M.type,void 0,null!==(ee=M.eventId)&&void 0!==ee?ee:void 0,Ye)})).apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(V){const{BuildInfo:M}=le(),k={};(0,P.aq)()?k.iosBundleId=M.packageName:(0,P.ar)()?k.androidPackageName=M.packageName:(0,P.as)(V,"operation-not-supported-in-this-environment"),yield(0,P.au)(V,k)})).apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(V,M,k){const{cordova:ee}=le();let Me=()=>{};try{yield new Promise((Ke,Ye)=>{let we=null;function Pe(){var vt;Ke();const jt=null===(vt=ee.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof jt&&jt(),"function"==typeof k?.close&&k.close()}function gt(){we||(we=window.setTimeout(()=>{Ye((0,P.aw)(V,"redirect-cancelled-by-user"))},2e3))}function $t(){"visible"===document?.visibilityState&&gt()}M.addPassiveListener(Pe),document.addEventListener("resume",gt,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",$t,!1),Me=()=>{M.removePassiveListener(Pe),document.removeEventListener("resume",gt,!1),document.removeEventListener("visibilitychange",$t,!1),we&&window.clearTimeout(we)}})}finally{Me()}})).apply(this,arguments)}function de(V){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(V){const M=je(V),k=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(k)).map(Me=>Me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function je(V){if((0,P.ap)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const M=new ArrayBuffer(V.length),k=new Uint8Array(M);for(let ee=0;ee<V.length;ee++)k[ee]=V.charCodeAt(ee);return k}class Te extends P.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(M)),super.onEvent(M)}initialized(){var M=this;return(0,c.Z)(function*(){yield M.initPromise})()}}function ne(V){return ae.apply(this,arguments)}function ae(){return(ae=(0,c.Z)(function*(V){const M=yield Q()._get(ue(V));return M&&(yield Q()._remove(ue(V))),M})).apply(this,arguments)}function K(){const V=[],M="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<20;k++){const ee=Math.floor(Math.random()*M.length);V.push(M.charAt(ee))}return V.join("")}function Q(){return(0,P.az)(P.b)}function ue(V){return(0,P.aA)("authEvent",V.config.apiKey,V.name)}function xe(V){if(!V?.includes("?"))return{};const[M,...k]=V.split("?");return(0,re.zd)(k.join("?"))}function Be(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function At(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function Zn(V=(0,re.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hr(){try{const V=self.localStorage,M=P.aI();if(V)return V.setItem(M,"1"),V.removeItem(M),!function jr(V=(0,re.z$)()){return function sr(){return(0,re.w1)()&&11===document?.documentMode}()||function hn(V=(0,re.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,re.hl)()}catch{return or()&&(0,re.hl)()}return!1}function or(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _n(){return(function Ct(){return"http:"===At()||"https:"===At()}()||(0,re.ru)()||Zn())&&!function $r(){return(0,re.b$)()||(0,re.UG)()}()&&Hr()&&!or()}function Nr(){return Zn()&&typeof document<"u"}function He(){return(He=(0,c.Z)(function*(){return!!Nr()&&new Promise(V=>{const M=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),V(!0)})})})).apply(this,arguments)}const In={LOCAL:"local",NONE:"none",SESSION:"session"},Kt=P.ax,jn="persistence";function Yt(V){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(V){yield V._initializationPromise;const M=nt(),k=P.aA(jn,V.config.apiKey,V.name);M&&M.setItem(k,V._getPersistence())})).apply(this,arguments)}function nt(){var V;try{return(null===(V=function xn(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const rt=P.ax;class pt{constructor(){this.browserResolver=P.az(P.k),this.cordovaResolver=P.az(class Lt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(M){var k=this;return(0,c.Z)(function*(){const ee=M._key();let Me=k.eventManagers.get(ee);return Me||(Me=new Te(M),k.eventManagers.set(ee,Me),k.attachCallbackListeners(M,Me)),Me})()}_openPopup(M){(0,P.as)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,k,ee,Me){var Ke=this;return(0,c.Z)(function*(){!function ge(V){var M,k,ee,Me,Ke,Ye,we,Pe,gt,$t;const vt=le();(0,P.ax)("function"==typeof(null===(M=vt?.universalLinks)||void 0===M?void 0:M.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(k=vt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(Ke=null===(Me=null===(ee=vt?.cordova)||void 0===ee?void 0:ee.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===Ke?void 0:Ke.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Pe=null===(we=null===(Ye=vt?.cordova)||void 0===Ye?void 0:Ye.plugins)||void 0===we?void 0:we.browsertab)||void 0===Pe?void 0:Pe.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===($t=null===(gt=vt?.cordova)||void 0===gt?void 0:gt.InAppBrowser)||void 0===$t?void 0:$t.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const Ye=yield Ke._initialize(M);yield Ye.initialized(),Ye.resetRedirect(),(0,P.aD)(),yield Ke._originValidation(M);const we=function ye(V,M,k=null){return{type:M,eventId:k,urlResponse:null,sessionId:K(),postBody:null,tenantId:V.tenantId,error:(0,P.aw)(V,"no-auth-event")}}(M,ee,Me);yield function Ve(V,M){return Q()._set(ue(V),M)}(M,we);const Pe=yield function G(V,M,k){return H.apply(this,arguments)}(M,we,k),gt=yield function Ae(V){const{cordova:M}=le();return new Promise(k=>{M.plugins.browsertab.isAvailable(ee=>{let Me=null;ee?M.plugins.browsertab.openUrl(V):Me=M.InAppBrowser.open(V,(0,P.av)()?"_blank":"_system","location=yes"),k(Me)})})}(Pe);return function _e(V,M,k){return qe.apply(this,arguments)}(M,Ye,gt)})()}_isIframeWebStorageSupported(M,k){throw new Error("Method not implemented.")}_originValidation(M){const k=M._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Y(V){return Oe.apply(this,arguments)}(M)),this.originValidationPromises[k]}attachCallbackListeners(M,k){const{universalLinks:ee,handleOpenURL:Me,BuildInfo:Ke}=le(),Ye=setTimeout((0,c.Z)(function*(){yield ne(M),k.onEvent(Be())}),500),we=function(){var $t=(0,c.Z)(function*(vt){clearTimeout(Ye);const jt=yield ne(M);let ii=null;jt&&vt?.url&&(ii=function pe(V,M){var k,ee;const Me=function Ne(V){const M=xe(V),k=M.link?decodeURIComponent(M.link):void 0,ee=xe(k).link,Me=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return xe(Me).link||Me||ee||k||V}(M);if(Me.includes("/__/auth/callback")){const Ke=xe(Me),Ye=Ke.firebaseError?function ie(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(Ke.firebaseError)):null,we=null===(ee=null===(k=Ye?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ee?void 0:ee[1],Pe=we?(0,P.aw)(we):null;return Pe?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:Me,postBody:null}}return null}(jt,vt.url)),k.onEvent(ii||Be())});return function(jt){return $t.apply(this,arguments)}}();typeof ee<"u"&&"function"==typeof ee.subscribe&&ee.subscribe(null,we);const Pe=Me,gt=`${Ke.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var $t=(0,c.Z)(function*(vt){if(vt.toLowerCase().startsWith(gt)&&we({url:vt}),"function"==typeof Pe)try{Pe(vt)}catch(jt){console.error(jt)}});return function(vt){return $t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(M){var k=this;return(0,c.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,k,ee,Me){var Ke=this;return(0,c.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openPopup(M,k,ee,Me)})()}_openRedirect(M,k,ee,Me){var Ke=this;return(0,c.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openRedirect(M,k,ee,Me)})()}_isIframeWebStorageSupported(M,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,k)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,c.Z)(function*(){if(M.underlyingResolver)return;const k=yield function Wr(){return He.apply(this,arguments)}();M.underlyingResolver=k?M.cordovaResolver:M.browserResolver})()}}function ar(V){return V.unwrap()}function Jn(V){return Xn(V)}function Xn(V){const{_tokenResponse:M}=V instanceof re.ZR?V.customData:V;if(!M)return null;if(!(V instanceof re.ZR)&&"temporaryProof"in M&&"phoneNumber"in M)return P.P.credentialFromResult(V);const k=M.providerId;if(!k||k===P.o.PASSWORD)return null;let ee;switch(k){case P.o.GOOGLE:ee=P.Q;break;case P.o.FACEBOOK:ee=P.N;break;case P.o.GITHUB:ee=P.T;break;case P.o.TWITTER:ee=P.W;break;default:const{oauthIdToken:Me,oauthAccessToken:Ke,oauthTokenSecret:Ye,pendingToken:we,nonce:Pe}=M;return Ke||Ye||Me||we?we?k.startsWith("saml.")?P.aL._create(k,we):P.J._fromParams({providerId:k,signInMethod:k,pendingToken:we,idToken:Me,accessToken:Ke}):new P.U(k).credential({idToken:Me,accessToken:Ke,rawNonce:Pe}):null}return V instanceof re.ZR?ee.credentialFromError(V):ee.credentialFromResult(V)}function yt(V,M){return M.catch(k=>{throw k instanceof re.ZR&&function ht(V,M){var k,ee;const Me=null===(k=M.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ee=M)||void 0===ee?void 0:ee.code))M.resolver=new Vn(V,P.an(V,M));else if(Me){const Ke=Xn(M),Ye=M;Ke&&(Ye.credential=Ke,Ye.tenantId=Me.tenantId||void 0,Ye.email=Me.email||void 0,Ye.phoneNumber=Me.phoneNumber||void 0)}}(V,k),k}).then(k=>{const Me=k.user;return{operationType:k.operationType,credential:Jn(k),additionalUserInfo:P.al(k),user:sn.getOrCreate(Me)}})}function dr(V,M){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(V,M){const k=yield M;return{verificationId:k.verificationId,confirm:ee=>yt(V,k.confirm(ee))}})).apply(this,arguments)}class Vn{constructor(M,k){this.resolver=k,this.auth=function Dn(V){return V.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return yt(ar(this.auth),this.resolver.resolveSignIn(M))}}class sn{constructor(M){this._delegate=M,this.multiFactor=P.ao(M)}static getOrCreate(M){return sn.USER_MAP.has(M)||sn.USER_MAP.set(M,new sn(M)),sn.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var k=this;return(0,c.Z)(function*(){return yt(k.auth,P.Z(k._delegate,M))})()}linkWithPhoneNumber(M,k){var ee=this;return(0,c.Z)(function*(){return dr(ee.auth,P.l(ee._delegate,M,k))})()}linkWithPopup(M){var k=this;return(0,c.Z)(function*(){return yt(k.auth,P.d(k._delegate,M,pt))})()}linkWithRedirect(M){var k=this;return(0,c.Z)(function*(){return yield Yt(P.aE(k.auth)),P.g(k._delegate,M,pt)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var k=this;return(0,c.Z)(function*(){return yt(k.auth,P._(k._delegate,M))})()}reauthenticateWithPhoneNumber(M,k){return dr(this.auth,P.r(this._delegate,M,k))}reauthenticateWithPopup(M){return yt(this.auth,P.e(this._delegate,M,pt))}reauthenticateWithRedirect(M){var k=this;return(0,c.Z)(function*(){return yield Yt(P.aE(k.auth)),P.h(k._delegate,M,pt)})()}sendEmailVerification(M){return P.ab(this._delegate,M)}unlink(M){var k=this;return(0,c.Z)(function*(){return yield P.ak(k._delegate,M),k})()}updateEmail(M){return P.ag(this._delegate,M)}updatePassword(M){return P.ah(this._delegate,M)}updatePhoneNumber(M){return P.u(this._delegate,M)}updateProfile(M){return P.af(this._delegate,M)}verifyBeforeUpdateEmail(M,k){return P.ac(this._delegate,M,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sn.USER_MAP=new WeakMap;const Ge=P.ax;let Ce=(()=>{class V{constructor(k,ee){if(this.app=k,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Me}=k.options;Ge(Me,"invalid-api-key",{appName:k.name}),Ge(Me,"invalid-api-key",{appName:k.name});const Ke=typeof window<"u"?pt:void 0;this._delegate=ee.initialize({options:{persistence:ut(Me,k.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ee){P.G(this._delegate,k,ee)}applyActionCode(k){return P.a2(this._delegate,k)}checkActionCode(k){return P.a3(this._delegate,k)}confirmPasswordReset(k,ee){return P.a1(this._delegate,k,ee)}createUserWithEmailAndPassword(k,ee){var Me=this;return(0,c.Z)(function*(){return yt(Me._delegate,P.a5(Me._delegate,k,ee))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return P.aa(this._delegate,k)}isSignInWithEmailLink(k){return P.a8(this._delegate,k)}getRedirectResult(){var k=this;return(0,c.Z)(function*(){Ge(_n(),k._delegate,"operation-not-supported-in-this-environment");const ee=yield P.j(k._delegate,pt);return ee?yt(k._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Bt(V,M){(0,P.aE)(V)._logFramework(M)}(this._delegate,k)}onAuthStateChanged(k,ee,Me){const{next:Ke,error:Ye,complete:we}=ze(k,ee,Me);return this._delegate.onAuthStateChanged(Ke,Ye,we)}onIdTokenChanged(k,ee,Me){const{next:Ke,error:Ye,complete:we}=ze(k,ee,Me);return this._delegate.onIdTokenChanged(Ke,Ye,we)}sendSignInLinkToEmail(k,ee){return P.a7(this._delegate,k,ee)}sendPasswordResetEmail(k,ee){return P.a0(this._delegate,k,ee||void 0)}setPersistence(k){var ee=this;return(0,c.Z)(function*(){let Me;switch(function Ki(V,M){Kt(Object.values(In).includes(M),V,"invalid-persistence-type"),(0,re.b$)()?Kt(M!==In.SESSION,V,"unsupported-persistence-type"):(0,re.UG)()?Kt(M===In.NONE,V,"unsupported-persistence-type"):or()?Kt(M===In.NONE||M===In.LOCAL&&(0,re.hl)(),V,"unsupported-persistence-type"):Kt(M===In.NONE||Hr(),V,"unsupported-persistence-type")}(ee._delegate,k),k){case In.SESSION:Me=P.a;break;case In.LOCAL:Me=(yield P.az(P.i)._isAvailable())?P.i:P.b;break;case In.NONE:Me=P.L;break;default:return P.as("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(Me)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return yt(this._delegate,P.X(this._delegate))}signInWithCredential(k){return yt(this._delegate,P.Y(this._delegate,k))}signInWithCustomToken(k){return yt(this._delegate,P.$(this._delegate,k))}signInWithEmailAndPassword(k,ee){return yt(this._delegate,P.a6(this._delegate,k,ee))}signInWithEmailLink(k,ee){return yt(this._delegate,P.a9(this._delegate,k,ee))}signInWithPhoneNumber(k,ee){return dr(this._delegate,P.s(this._delegate,k,ee))}signInWithPopup(k){var ee=this;return(0,c.Z)(function*(){return Ge(_n(),ee._delegate,"operation-not-supported-in-this-environment"),yt(ee._delegate,P.c(ee._delegate,k,pt))})()}signInWithRedirect(k){var ee=this;return(0,c.Z)(function*(){return Ge(_n(),ee._delegate,"operation-not-supported-in-this-environment"),yield Yt(ee._delegate),P.f(ee._delegate,k,pt)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return P.a4(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=In,V})();function ze(V,M,k){let ee=V;"function"!=typeof V&&({next:ee,error:M,complete:k}=V);const Me=ee;return{next:Ye=>Me(Ye&&sn.getOrCreate(Ye)),error:M,complete:k}}function ut(V,M){const k=function Gt(V,M){const k=nt();if(!k)return[];const ee=P.aA(jn,V,M);switch(k.getItem(ee)){case In.NONE:return[P.L];case In.LOCAL:return[P.i,P.a];case In.SESSION:return[P.a];default:return[]}}(V,M);if(typeof self<"u"&&!k.includes(P.i)&&k.push(P.i),typeof window<"u")for(const ee of[P.b,P.a])k.includes(ee)||k.push(ee);return k.includes(P.L)||k.push(P.L),k}class ct{constructor(){this.providerId="phone",this._delegate=new P.P(ar(B.Z.auth()))}static credential(M,k){return P.P.credential(M,k)}verifyPhoneNumber(M,k){return this._delegate.verifyPhoneNumber(M,k)}unwrap(){return this._delegate}}ct.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,ct.PROVIDER_ID=P.P.PROVIDER_ID;const Nt=P.ax;class W{constructor(M,k,ee=B.Z.app()){var Me;Nt(null===(Me=ee.options)||void 0===Me?void 0:Me.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new P.R(M,k,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Z(V){V.INTERNAL.registerComponent(new ce.wA("auth-compat",M=>{const k=M.getProvider("app-compat").getImmediate(),ee=M.getProvider("auth");return new Ce(k,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:ct,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:W,TwitterAuthProvider:P.W,Auth:Ce,AuthCredential:P.H,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.2.24")}(B.Z)},9751:(et,De,x)=>{x.d(De,{y:()=>le});var c=x(930),B=x(727),P=x(8822),re=x(9635),oe=x(2416),he=x(576),ce=x(2806);let le=(()=>{class Y{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const _e=new Y;return _e.source=this,_e.operator=Ae,_e}subscribe(Ae,_e,qe){const ge=function H(Y){return Y&&Y instanceof c.Lv||function G(Y){return Y&&(0,he.m)(Y.next)&&(0,he.m)(Y.error)&&(0,he.m)(Y.complete)}(Y)&&(0,B.Nn)(Y)}(Ae)?Ae:new c.Hp(Ae,_e,qe);return(0,ce.x)(()=>{const{operator:de,source:We}=this;ge.add(de?de.call(ge,We):We?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(_e){Ae.error(_e)}}forEach(Ae,_e){return new(_e=fe(_e))((qe,ge)=>{const de=new c.Hp({next:We=>{try{Ae(We)}catch(je){ge(je),de.unsubscribe()}},error:ge,complete:qe});this.subscribe(de)})}_subscribe(Ae){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,re.U)(Ae)(this)}toPromise(Ae){return new(Ae=fe(Ae))((_e,qe)=>{let ge;this.subscribe(de=>ge=de,de=>qe(de),()=>_e(ge))})}}return Y.create=Oe=>new Y(Oe),Y})();function fe(Y){var Oe;return null!==(Oe=Y??oe.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(et,De,x)=>{x.d(De,{x:()=>ce});var c=x(9751),B=x(727);const re=(0,x(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=x(8737),he=x(2806);let ce=(()=>{class fe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Y=new le(this,this);return Y.operator=H,Y}_throwIfClosed(){if(this.closed)throw new re}next(H){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(H)}})}error(H){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Y}=this;for(;Y.length;)Y.shift().error(H)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Y,isStopped:Oe,observers:Ae}=this;return Y||Oe?B.Lc:(this.currentObservers=null,Ae.push(H),new B.w0(()=>{this.currentObservers=null,(0,oe.P)(Ae,H)}))}_checkFinalizedStatuses(H){const{hasError:Y,thrownError:Oe,isStopped:Ae}=this;Y?H.error(Oe):Ae&&H.complete()}asObservable(){const H=new c.y;return H.source=this,H}}return fe.create=(G,H)=>new le(G,H),fe})();class le extends ce{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Y||Y.call(H,G)}error(G){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Y||Y.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,Y;return null!==(Y=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==Y?Y:B.Lc}}},930:(et,De,x)=>{x.d(De,{Hp:()=>qe,Lv:()=>Y});var c=x(576),B=x(727),P=x(2416),re=x(7849),oe=x(5032);const he=fe("C",void 0,void 0);function fe(Re,Te,ye){return{kind:Re,value:Te,error:ye}}var G=x(3410),H=x(2806);class Y extends B.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,B.Nn)(Te)&&Te.add(this)):this.destination=je}static create(Te,ye,Ve){return new qe(Te,ye,Ve)}next(Te){this.isStopped?We(function le(Re){return fe("N",Re,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?We(function ce(Re){return fe("E",void 0,Re)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?We(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Ae(Re,Te){return Oe.call(Re,Te)}class _e{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ye}=this;if(ye.next)try{ye.next(Te)}catch(Ve){ge(Ve)}}error(Te){const{partialObserver:ye}=this;if(ye.error)try{ye.error(Te)}catch(Ve){ge(Ve)}else ge(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ye){ge(ye)}}}class qe extends Y{constructor(Te,ye,Ve){let ne;if(super(),(0,c.m)(Te)||!Te)ne={next:Te??void 0,error:ye??void 0,complete:Ve??void 0};else{let ae;this&&P.v.useDeprecatedNextContext?(ae=Object.create(Te),ae.unsubscribe=()=>this.unsubscribe(),ne={next:Te.next&&Ae(Te.next,ae),error:Te.error&&Ae(Te.error,ae),complete:Te.complete&&Ae(Te.complete,ae)}):ne=Te}this.destination=new _e(ne)}}function ge(Re){P.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Re):(0,re.h)(Re)}function We(Re,Te){const{onStoppedNotification:ye}=P.v;ye&&G.z.setTimeout(()=>ye(Re,Te))}const je={closed:!0,next:oe.Z,error:function de(Re){throw Re},complete:oe.Z}},727:(et,De,x)=>{x.d(De,{Lc:()=>he,w0:()=>oe,Nn:()=>ce});var c=x(576);const P=(0,x(3888).d)(fe=>function(H){fe(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Y,Oe)=>`${Oe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var re=x(8737);class oe{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ae of H)Ae.remove(this);else H.remove(this);const{initialTeardown:Y}=this;if((0,c.m)(Y))try{Y()}catch(Ae){G=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const Ae of Oe)try{le(Ae)}catch(_e){G=G??[],_e instanceof P?G=[...G,..._e.errors]:G.push(_e)}}if(G)throw new P(G)}}add(G){var H;if(G&&G!==this)if(this.closed)le(G);else{if(G instanceof oe){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,re.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,re.P)(H,G),G instanceof oe&&G._removeParent(this)}}oe.EMPTY=(()=>{const fe=new oe;return fe.closed=!0,fe})();const he=oe.EMPTY;function ce(fe){return fe instanceof oe||fe&&"closed"in fe&&(0,c.m)(fe.remove)&&(0,c.m)(fe.add)&&(0,c.m)(fe.unsubscribe)}function le(fe){(0,c.m)(fe)?fe():fe.unsubscribe()}},2416:(et,De,x)=>{x.d(De,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,De,x)=>{x.d(De,{E:()=>B});const B=new(x(9751).y)(oe=>oe.complete())},8996:(et,De,x)=>{x.d(De,{D:()=>Te});var c=x(8421),B=x(5363),P=x(9468),he=x(9751),le=x(2202),fe=x(576),G=x(9672);function Y(ye,Ve){if(!ye)throw new Error("Iterable cannot be null");return new he.y(ne=>{(0,G.f)(ne,Ve,()=>{const ae=ye[Symbol.asyncIterator]();(0,G.f)(ne,Ve,()=>{ae.next().then(pe=>{pe.done?ne.complete():ne.next(pe.value)})},0,!0)})})}var Oe=x(3670),Ae=x(8239),_e=x(1144),qe=x(6495),ge=x(2206),de=x(4532),We=x(3260);function Te(ye,Ve){return Ve?function Re(ye,Ve){if(null!=ye){if((0,Oe.c)(ye))return function re(ye,Ve){return(0,c.Xf)(ye).pipe((0,P.R)(Ve),(0,B.Q)(Ve))}(ye,Ve);if((0,_e.z)(ye))return function ce(ye,Ve){return new he.y(ne=>{let ae=0;return Ve.schedule(function(){ae===ye.length?ne.complete():(ne.next(ye[ae++]),ne.closed||this.schedule())})})}(ye,Ve);if((0,Ae.t)(ye))return function oe(ye,Ve){return(0,c.Xf)(ye).pipe((0,P.R)(Ve),(0,B.Q)(Ve))}(ye,Ve);if((0,ge.D)(ye))return Y(ye,Ve);if((0,qe.T)(ye))return function H(ye,Ve){return new he.y(ne=>{let ae;return(0,G.f)(ne,Ve,()=>{ae=ye[le.h](),(0,G.f)(ne,Ve,()=>{let pe,K;try{({value:pe,done:K}=ae.next())}catch(Q){return void ne.error(Q)}K?ne.complete():ne.next(pe)},0,!0)}),()=>(0,fe.m)(ae?.return)&&ae.return()})}(ye,Ve);if((0,We.L)(ye))return function je(ye,Ve){return Y((0,We.Q)(ye),Ve)}(ye,Ve)}throw(0,de.z)(ye)}(ye,Ve):(0,c.Xf)(ye)}},8421:(et,De,x)=>{x.d(De,{Xf:()=>Oe});var c=x(655),B=x(1144),P=x(8239),re=x(9751),oe=x(3670),he=x(2206),ce=x(4532),le=x(6495),fe=x(3260),G=x(576),H=x(7849),Y=x(8822);function Oe(Re){if(Re instanceof re.y)return Re;if(null!=Re){if((0,oe.c)(Re))return function Ae(Re){return new re.y(Te=>{const ye=Re[Y.L]();if((0,G.m)(ye.subscribe))return ye.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,B.z)(Re))return function _e(Re){return new re.y(Te=>{for(let ye=0;ye<Re.length&&!Te.closed;ye++)Te.next(Re[ye]);Te.complete()})}(Re);if((0,P.t)(Re))return function qe(Re){return new re.y(Te=>{Re.then(ye=>{Te.closed||(Te.next(ye),Te.complete())},ye=>Te.error(ye)).then(null,H.h)})}(Re);if((0,he.D)(Re))return de(Re);if((0,le.T)(Re))return function ge(Re){return new re.y(Te=>{for(const ye of Re)if(Te.next(ye),Te.closed)return;Te.complete()})}(Re);if((0,fe.L)(Re))return function We(Re){return de((0,fe.Q)(Re))}(Re)}throw(0,ce.z)(Re)}function de(Re){return new re.y(Te=>{(function je(Re,Te){var ye,Ve,ne,ae;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ye=(0,c.KL)(Re);!(Ve=yield ye.next()).done;)if(Te.next(Ve.value),Te.closed)return}catch(pe){ne={error:pe}}finally{try{Ve&&!Ve.done&&(ae=ye.return)&&(yield ae.call(ye))}finally{if(ne)throw ne.error}}Te.complete()})})(Re,Te).catch(ye=>Te.error(ye))})}},6451:(et,De,x)=>{x.d(De,{T:()=>he});var c=x(8189),B=x(8421),P=x(515),re=x(7669),oe=x(8996);function he(...ce){const le=(0,re.yG)(ce),fe=(0,re._6)(ce,1/0),G=ce;return G.length?1===G.length?(0,B.Xf)(G[0]):(0,c.J)(fe)((0,oe.D)(G,le)):P.E}},5403:(et,De,x)=>{x.d(De,{x:()=>B});var c=x(930);function B(re,oe,he,ce,le){return new P(re,oe,he,ce,le)}class P extends c.Lv{constructor(oe,he,ce,le,fe,G){super(oe),this.onFinalize=fe,this.shouldUnsubscribe=G,this._next=he?function(H){try{he(H)}catch(Y){oe.error(Y)}}:super._next,this._error=le?function(H){try{le(H)}catch(Y){oe.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(H){oe.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(et,De,x)=>{x.d(De,{U:()=>P});var c=x(4482),B=x(5403);function P(re,oe){return(0,c.e)((he,ce)=>{let le=0;he.subscribe((0,B.x)(ce,fe=>{ce.next(re.call(oe,fe,le++))}))})}},8189:(et,De,x)=>{x.d(De,{J:()=>P});var c=x(5577),B=x(4671);function P(re=1/0){return(0,c.z)(B.y,re)}},5577:(et,De,x)=>{x.d(De,{z:()=>le});var c=x(4004),B=x(8421),P=x(4482),re=x(9672),oe=x(5403),ce=x(576);function le(fe,G,H=1/0){return(0,ce.m)(G)?le((Y,Oe)=>(0,c.U)((Ae,_e)=>G(Y,Ae,Oe,_e))((0,B.Xf)(fe(Y,Oe))),H):("number"==typeof G&&(H=G),(0,P.e)((Y,Oe)=>function he(fe,G,H,Y,Oe,Ae,_e,qe){const ge=[];let de=0,We=0,je=!1;const Re=()=>{je&&!ge.length&&!de&&G.complete()},Te=Ve=>de<Y?ye(Ve):ge.push(Ve),ye=Ve=>{Ae&&G.next(Ve),de++;let ne=!1;(0,B.Xf)(H(Ve,We++)).subscribe((0,oe.x)(G,ae=>{Oe?.(ae),Ae?Te(ae):G.next(ae)},()=>{ne=!0},void 0,()=>{if(ne)try{for(de--;ge.length&&de<Y;){const ae=ge.shift();_e?(0,re.f)(G,_e,()=>ye(ae)):ye(ae)}Re()}catch(ae){G.error(ae)}}))};return fe.subscribe((0,oe.x)(G,Te,()=>{je=!0,Re()})),()=>{qe?.()}}(Y,Oe,fe,H)))}},5363:(et,De,x)=>{x.d(De,{Q:()=>re});var c=x(9672),B=x(4482),P=x(5403);function re(oe,he=0){return(0,B.e)((ce,le)=>{ce.subscribe((0,P.x)(le,fe=>(0,c.f)(le,oe,()=>le.next(fe),he),()=>(0,c.f)(le,oe,()=>le.complete(),he),fe=>(0,c.f)(le,oe,()=>le.error(fe),he)))})}},3099:(et,De,x)=>{x.d(De,{B:()=>oe});var c=x(8421),B=x(7579),P=x(930),re=x(4482);function oe(ce={}){const{connector:le=(()=>new B.x),resetOnError:fe=!0,resetOnComplete:G=!0,resetOnRefCountZero:H=!0}=ce;return Y=>{let Oe,Ae,_e,qe=0,ge=!1,de=!1;const We=()=>{Ae?.unsubscribe(),Ae=void 0},je=()=>{We(),Oe=_e=void 0,ge=de=!1},Re=()=>{const Te=Oe;je(),Te?.unsubscribe()};return(0,re.e)((Te,ye)=>{qe++,!de&&!ge&&We();const Ve=_e=_e??le();ye.add(()=>{qe--,0===qe&&!de&&!ge&&(Ae=he(Re,H))}),Ve.subscribe(ye),!Oe&&qe>0&&(Oe=new P.Hp({next:ne=>Ve.next(ne),error:ne=>{de=!0,We(),Ae=he(je,fe,ne),Ve.error(ne)},complete:()=>{ge=!0,We(),Ae=he(je,G),Ve.complete()}}),(0,c.Xf)(Te).subscribe(Oe))})(Y)}}function he(ce,le,...fe){if(!0===le)return void ce();if(!1===le)return;const G=new P.Hp({next:()=>{G.unsubscribe(),ce()}});return le(...fe).subscribe(G)}},9468:(et,De,x)=>{x.d(De,{R:()=>B});var c=x(4482);function B(P,re=0){return(0,c.e)((oe,he)=>{he.add(P.schedule(()=>oe.subscribe(he),re))})}},8505:(et,De,x)=>{x.d(De,{b:()=>oe});var c=x(576),B=x(4482),P=x(5403),re=x(4671);function oe(he,ce,le){const fe=(0,c.m)(he)||ce||le?{next:he,error:ce,complete:le}:he;return fe?(0,B.e)((G,H)=>{var Y;null===(Y=fe.subscribe)||void 0===Y||Y.call(fe);let Oe=!0;G.subscribe((0,P.x)(H,Ae=>{var _e;null===(_e=fe.next)||void 0===_e||_e.call(fe,Ae),H.next(Ae)},()=>{var Ae;Oe=!1,null===(Ae=fe.complete)||void 0===Ae||Ae.call(fe),H.complete()},Ae=>{var _e;Oe=!1,null===(_e=fe.error)||void 0===_e||_e.call(fe,Ae),H.error(Ae)},()=>{var Ae,_e;Oe&&(null===(Ae=fe.unsubscribe)||void 0===Ae||Ae.call(fe)),null===(_e=fe.finalize)||void 0===_e||_e.call(fe)}))}):re.y}},4408:(et,De,x)=>{x.d(De,{o:()=>oe});var c=x(727);class B extends c.w0{constructor(ce,le){super()}schedule(ce,le=0){return this}}const P={setInterval(he,ce,...le){const{delegate:fe}=P;return fe?.setInterval?fe.setInterval(he,ce,...le):setInterval(he,ce,...le)},clearInterval(he){const{delegate:ce}=P;return(ce?.clearInterval||clearInterval)(he)},delegate:void 0};var re=x(8737);class oe extends B{constructor(ce,le){super(ce,le),this.scheduler=ce,this.work=le,this.pending=!1}schedule(ce,le=0){var fe;if(this.closed)return this;this.state=ce;const G=this.id,H=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(H,G,le)),this.pending=!0,this.delay=le,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(H,this.id,le),this}requestAsyncId(ce,le,fe=0){return P.setInterval(ce.flush.bind(ce,this),fe)}recycleAsyncId(ce,le,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return le;null!=le&&P.clearInterval(le)}execute(ce,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ce,le);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,le){let G,fe=!1;try{this.work(ce)}catch(H){fe=!0,G=H||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ce,scheduler:le}=this,{actions:fe}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(fe,this),null!=ce&&(this.id=this.recycleAsyncId(le,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(et,De,x)=>{x.d(De,{v:()=>P});var c=x(6063);class B{constructor(oe,he=B.now){this.schedulerActionCtor=oe,this.now=he}schedule(oe,he=0,ce){return new this.schedulerActionCtor(this,oe).schedule(ce,he)}}B.now=c.l.now;class P extends B{constructor(oe,he=B.now){super(oe,he),this.actions=[],this._active=!1}flush(oe){const{actions:he}=this;if(this._active)return void he.push(oe);let ce;this._active=!0;do{if(ce=oe.execute(oe.state,oe.delay))break}while(oe=he.shift());if(this._active=!1,ce){for(;oe=he.shift();)oe.unsubscribe();throw ce}}}},4986:(et,De,x)=>{x.d(De,{z:()=>P});var c=x(4408);const P=new(x(7565).v)(c.o)},6063:(et,De,x)=>{x.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(et,De,x)=>{x.d(De,{z:()=>c});const c={setTimeout(B,P,...re){const{delegate:oe}=c;return oe?.setTimeout?oe.setTimeout(B,P,...re):setTimeout(B,P,...re)},clearTimeout(B){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(et,De,x)=>{x.d(De,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,De,x)=>{x.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(et,De,x)=>{x.d(De,{_6:()=>he,jO:()=>re,yG:()=>oe});var c=x(576);function P(ce){return ce[ce.length-1]}function re(ce){return(0,c.m)(P(ce))?ce.pop():void 0}function oe(ce){return function B(ce){return ce&&(0,c.m)(ce.schedule)}(P(ce))?ce.pop():void 0}function he(ce,le){return"number"==typeof P(ce)?ce.pop():le}},8737:(et,De,x)=>{function c(B,P){if(B){const re=B.indexOf(P);0<=re&&B.splice(re,1)}}x.d(De,{P:()=>c})},3888:(et,De,x)=>{function c(B){const re=B(oe=>{Error.call(oe),oe.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}x.d(De,{d:()=>c})},2806:(et,De,x)=>{x.d(De,{O:()=>re,x:()=>P});var c=x(2416);let B=null;function P(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const he=!B;if(he&&(B={errorThrown:!1,error:null}),oe(),he){const{errorThrown:ce,error:le}=B;if(B=null,ce)throw le}}else oe()}function re(oe){c.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=oe)}},9672:(et,De,x)=>{function c(B,P,re,oe=0,he=!1){const ce=P.schedule(function(){re(),he?B.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(B.add(ce),!he)return ce}x.d(De,{f:()=>c})},4671:(et,De,x)=>{function c(B){return B}x.d(De,{y:()=>c})},1144:(et,De,x)=>{x.d(De,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(et,De,x)=>{x.d(De,{D:()=>B});var c=x(576);function B(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},576:(et,De,x)=>{function c(B){return"function"==typeof B}x.d(De,{m:()=>c})},3670:(et,De,x)=>{x.d(De,{c:()=>P});var c=x(8822),B=x(576);function P(re){return(0,B.m)(re[c.L])}},6495:(et,De,x)=>{x.d(De,{T:()=>P});var c=x(2202),B=x(576);function P(re){return(0,B.m)(re?.[c.h])}},8239:(et,De,x)=>{x.d(De,{t:()=>B});var c=x(576);function B(P){return(0,c.m)(P?.then)}},3260:(et,De,x)=>{x.d(De,{L:()=>re,Q:()=>P});var c=x(655),B=x(576);function P(oe){return(0,c.FC)(this,arguments,function*(){const ce=oe.getReader();try{for(;;){const{value:le,done:fe}=yield(0,c.qq)(ce.read());if(fe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(le)}}finally{ce.releaseLock()}})}function re(oe){return(0,B.m)(oe?.getReader)}},4482:(et,De,x)=>{x.d(De,{A:()=>B,e:()=>P});var c=x(576);function B(re){return(0,c.m)(re?.lift)}function P(re){return oe=>{if(B(oe))return oe.lift(function(he){try{return re(he,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(et,De,x)=>{function c(){}x.d(De,{Z:()=>c})},9635:(et,De,x)=>{x.d(De,{U:()=>P,z:()=>B});var c=x(4671);function B(...re){return P(re)}function P(re){return 0===re.length?c.y:1===re.length?re[0]:function(he){return re.reduce((ce,le)=>le(ce),he)}}},7849:(et,De,x)=>{x.d(De,{h:()=>P});var c=x(2416),B=x(3410);function P(re){B.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw re;oe(re)})}},4532:(et,De,x)=>{function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(De,{z:()=>c})},655:(et,De,x)=>{function re(K,Q){var ue={};for(var ie in K)Object.prototype.hasOwnProperty.call(K,ie)&&Q.indexOf(ie)<0&&(ue[ie]=K[ie]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(ie=Object.getOwnPropertySymbols(K);Ne<ie.length;Ne++)Q.indexOf(ie[Ne])<0&&Object.prototype.propertyIsEnumerable.call(K,ie[Ne])&&(ue[ie[Ne]]=K[ie[Ne]])}return ue}function le(K,Q,ue,ie){return new(ue||(ue=Promise))(function(xe,tt){function Lt(Bt){try{Be(ie.next(Bt))}catch(Jt){tt(Jt)}}function bt(Bt){try{Be(ie.throw(Bt))}catch(Jt){tt(Jt)}}function Be(Bt){Bt.done?xe(Bt.value):function Ne(xe){return xe instanceof ue?xe:new ue(function(tt){tt(xe)})}(Bt.value).then(Lt,bt)}Be((ie=ie.apply(K,Q||[])).next())})}function ge(K){return this instanceof ge?(this.v=K,this):new ge(K)}function de(K,Q,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,ie=ue.apply(K,Q||[]),xe=[];return Ne={},tt("next"),tt("throw"),tt("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function tt(kt){ie[kt]&&(Ne[kt]=function(Ft){return new Promise(function(At,Ct){xe.push([kt,Ft,At,Ct])>1||Lt(kt,Ft)})})}function Lt(kt,Ft){try{!function bt(kt){kt.value instanceof ge?Promise.resolve(kt.value.v).then(Be,Bt):Jt(xe[0][2],kt)}(ie[kt](Ft))}catch(At){Jt(xe[0][3],At)}}function Be(kt){Lt("next",kt)}function Bt(kt){Lt("throw",kt)}function Jt(kt,Ft){kt(Ft),xe.shift(),xe.length&&Lt(xe[0][0],xe[0][1])}}function je(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,Q=K[Symbol.asyncIterator];return Q?Q.call(K):(K=function Y(K){var Q="function"==typeof Symbol&&Symbol.iterator,ue=Q&&K[Q],ie=0;if(ue)return ue.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ie>=K.length&&(K=void 0),{value:K&&K[ie++],done:!K}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),ue={},ie("next"),ie("throw"),ie("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function ie(xe){ue[xe]=K[xe]&&function(tt){return new Promise(function(Lt,bt){!function Ne(xe,tt,Lt,bt){Promise.resolve(bt).then(function(Be){xe({value:Be,done:Lt})},tt)}(Lt,bt,(tt=K[xe](tt)).done,tt.value)})}}}x.d(De,{FC:()=>de,KL:()=>je,_T:()=>re,mG:()=>le,qq:()=>ge})},4650:(et,De,x)=>{x.d(De,{$8M:()=>Ea,$Z:()=>Ng,AFp:()=>aC,AaK:()=>le,CRH:()=>o_,CZH:()=>eh,CqO:()=>oo,D6c:()=>_i,EJc:()=>p_,F4k:()=>Iv,FYo:()=>sd,FiY:()=>me,G48:()=>kI,GfV:()=>Cy,Gpc:()=>H,JOm:()=>Xr,LFG:()=>ln,LSH:()=>Wu,Lbi:()=>vI,Lck:()=>vE,MMx:()=>cc,NdJ:()=>$i,OlP:()=>tn,Oqu:()=>Em,PXZ:()=>RI,Q6J:()=>bf,QGY:()=>nc,QP$:()=>Me,Qsj:()=>v0,R0b:()=>ri,RDi:()=>UC,Rgc:()=>dc,SBq:()=>kl,Sil:()=>DI,Suo:()=>Hd,TTD:()=>vi,TgZ:()=>wd,X6Q:()=>OI,XFs:()=>He,Xpm:()=>Ce,Xts:()=>jh,Y36:()=>Ul,YKP:()=>Ka,YNc:()=>Df,Yjl:()=>V,Yz7:()=>Ft,Z0I:()=>$r,ZZ4:()=>R_,_Bn:()=>zm,_UZ:()=>Yn,_Vd:()=>Va,_c5:()=>nl,_uU:()=>vm,aQg:()=>Op,c2e:()=>CI,cJS:()=>Ct,cg1:()=>Mm,dDg:()=>Xa,dqk:()=>pt,eFA:()=>ih,ekj:()=>Of,eoX:()=>rh,f3M:()=>Jr,g9A:()=>wp,h0i:()=>qa,hGG:()=>yr,iGM:()=>zE,ifc:()=>rt,ip1:()=>d_,jDz:()=>CE,kL8:()=>rE,lG2:()=>Z,lqb:()=>La,lri:()=>Ur,n5z:()=>Di,oAB:()=>Nt,oxw:()=>ir,q4F:()=>wy,qLn:()=>Ba,qOj:()=>Ef,qZA:()=>Id,rWj:()=>nh,sBO:()=>FI,sIi:()=>Cf,s_b:()=>cp,soG:()=>Ip,tb:()=>lC,tp0:()=>it,uIk:()=>lm,vHH:()=>_e,vpe:()=>ws,wAp:()=>Le,xp6:()=>Ay,z2F:()=>Mp,zSh:()=>_g,zs3:()=>xi});var c=x(7579),B=x(727),P=x(9751),re=x(6451),oe=x(3099);function he(r){for(let i in r)if(r[i]===he)return i;throw Error("Could not find renamed property on target object.")}function ce(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function le(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(le).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function fe(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const G=he({__forward_ref__:he});function H(r){return r.__forward_ref__=H,r.toString=function(){return le(this())},r}function Y(r){return Oe(r)?r():r}function Oe(r){return"function"==typeof r&&r.hasOwnProperty(G)&&r.__forward_ref__===H}class _e extends Error{constructor(i,o){super(function qe(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function ge(r){return"string"==typeof r?r:null==r?"":String(r)}function Te(r,i){throw new _e(-201,!1)}function bt(r,i){null==r&&function Be(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function Ft(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ct(r){return{providers:r.providers||[],imports:r.imports||[]}}function Zn(r){return sr(r,or)||sr(r,Nr)}function $r(r){return null!==Zn(r)}function sr(r,i){return r.hasOwnProperty(i)?r[i]:null}function Hr(r){return r&&(r.hasOwnProperty(_n)||r.hasOwnProperty(Wr))?r[_n]:null}const or=he({\u0275prov:he}),_n=he({\u0275inj:he}),Nr=he({ngInjectableDef:he}),Wr=he({ngInjectorDef:he});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let xn;function Kt(r){const i=xn;return xn=r,i}function jn(r,i,o){const l=Zn(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&He.Optional?null:void 0!==i?i:void Te(le(r))}function Yt(r){return{toString:r}.toString()}var Xt=(()=>((Xt=Xt||{})[Xt.OnPush=0]="OnPush",Xt[Xt.Default=1]="Default",Xt))(),rt=(()=>{return(r=rt||(rt={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",rt;var r})();const pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jn={},ht=[],Xn=he({\u0275cmp:he}),yt=he({\u0275dir:he}),dr=he({\u0275pipe:he}),Rt=he({\u0275mod:he}),Vn=he({\u0275fac:he}),sn=he({__NG_ELEMENT_ID__:he});let Ge=0;function Ce(r){return Yt(()=>{const o=!0===r.standalone,l={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Xt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||ht,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||rt.Emulated,id:"c"+Ge++,styles:r.styles||ht,_:null,setInput:null,schemas:r.schemas||null,tView:null},h=r.dependencies,m=r.features;return u.inputs=$(r.inputs,l),u.outputs=$(r.outputs),m&&m.forEach(v=>v(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(ut).filter(ct):null,u.pipeDefs=h?()=>("function"==typeof h?h():h).map(ee).filter(ct):null,u})}function ut(r){return M(r)||k(r)}function ct(r){return null!==r}function Nt(r){return Yt(()=>({type:r.type,bootstrap:r.bootstrap||ht,declarations:r.declarations||ht,imports:r.imports||ht,exports:r.exports||ht,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function $(r,i){if(null==r)return Jn;const o={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=l,i&&(i[u]=h)}return o}const Z=Ce;function V(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function M(r){return r[Xn]||null}function k(r){return r[yt]||null}function ee(r){return r[dr]||null}function Me(r){const i=M(r)||k(r)||ee(r);return null!==i&&i.standalone}function Ke(r,i){const o=r[Rt]||null;if(!o&&!0===i)throw new Error(`Type ${le(r)} does not have '\u0275mod' property.`);return o}function On(r){return Array.isArray(r)&&"object"==typeof r[1]}function Cr(r){return Array.isArray(r)&&!0===r[1]}function bs(r){return 0!=(8&r.flags)}function il(r){return 2==(2&r.flags)}function fo(r){return 1==(1&r.flags)}function fr(r){return null!==r.template}function sl(r){return 0!=(256&r[2])}function qn(r,i){return r.hasOwnProperty(Vn)?r[Vn]:null}class Ms{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function vi(){return pu}function pu(r){return r.type.prototype.ngOnChanges&&(r.setInput=al),la}function la(){const r=Rs(this),i=r?.current;if(i){const o=r.previous;if(o===Jn)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function al(r,i,o,l){const u=Rs(r)||function ph(r,i){return r[gu]=i}(r,{previous:Jn,current:null}),h=u.current||(u.current={}),m=u.previous,v=this.declaredInputs[o],C=m[v];h[v]=new Ms(C&&C.currentValue,i,m===Jn),r[l]=i}vi.ngInherit=!0;const gu="__ngSimpleChanges__";function Rs(r){return r[gu]||null}function fn(r){for(;Array.isArray(r);)r=r[0];return r}function Or(r,i){return fn(i[r])}function Hn(r,i){return fn(i[r.index])}function Ps(r,i){return r.data[i]}function Vt(r,i){const o=i[r];return On(o)?o:o[0]}function Ei(r){return 64==(64&r[2])}function Dr(r,i){return null==i?null:r[i]}function _o(r){r[18]=0}function yn(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const _t={lFrame:So(null),bindingsEnabled:!0};function is(){return _t.bindingsEnabled}function be(){return _t.lFrame.lView}function Mt(){return _t.lFrame.tView}function kn(){let r=xs();for(;null!==r&&64===r.type;)r=r.parent;return r}function xs(){return _t.lFrame.currentTNode}function lr(r,i){const o=_t.lFrame;o.currentTNode=r,o.isParent=i}function da(){return _t.lFrame.isParent}function bo(){return _t.lFrame.bindingIndex++}function vu(r,i){const o=_t.lFrame;o.bindingIndex=o.bindingRootIndex=r,ks(i)}function ks(r){_t.lFrame.currentDirectiveIndex=r}function To(){return _t.lFrame.currentQueryIndex}function fl(r){_t.lFrame.currentQueryIndex=r}function Ao(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Eu(r,i,o){if(o&He.SkipSelf){let u=i,h=r;for(;!(u=u.parent,null!==u||o&He.Host||(u=Ao(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;i=u,r=h}const l=_t.lFrame=bc();return l.currentTNode=i,l.lView=r,!0}function Fs(r){const i=bc(),o=r[1];_t.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function bc(){const r=_t.lFrame,i=null===r?null:r.child;return null===i?So(r):i}function So(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Tc(){const r=_t.lFrame;return _t.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Cu=Tc;function Ci(){const r=Tc();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function un(){return _t.lFrame.selectedIndex}function ci(r){_t.lFrame.selectedIndex=r}function on(){const r=_t.lFrame;return Ps(r.tView,r.selectedIndex)}function ha(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:R}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),v&&((r.contentHooks||(r.contentHooks=[])).push(o,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,v)),C&&(r.viewHooks||(r.viewHooks=[])).push(-o,C),b&&((r.viewHooks||(r.viewHooks=[])).push(o,b),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,b)),null!=R&&(r.destroyHooks||(r.destroyHooks=[])).push(o,R)}}function Ls(r,i,o){Us(r,i,3,o)}function Vs(r,i,o,l){(3&r[2])===o&&Us(r,i,o,l)}function Du(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Us(r,i,o,l){const h=l??-1,m=i.length-1;let v=0;for(let C=void 0!==l?65535&r[18]:0;C<m;C++)if("number"==typeof i[C+1]){if(v=i[C],null!=l&&v>=l)break}else i[C]<0&&(r[18]+=65536),(v<h||-1==h)&&(bu(r,o,i,C),r[18]=(4294901760&r[18])+C+2),C++}function bu(r,i,o,l){const u=o[l]<0,h=o[l+1],v=r[u?-o[l]:o[l]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class br{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function di(r,i,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const h=o[l++],m=o[l++],v=o[l++];r.setAttribute(i,m,v,h)}else{const h=u,m=o[++l];vl(h)?r.setProperty(i,h,m):r.setAttribute(i,h,m),l++}}return l}function Mo(r){return 3===r||4===r||6===r}function vl(r){return 64===r.charCodeAt(0)}function Ro(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const u=i[l];"number"==typeof u?o=u:0===o||Au(r,o,u,null,-1===o||2===o?i[++l]:null)}}return r}function Au(r,i,o,l,u){let h=0,m=r.length;if(-1===i)m=-1;else for(;h<r.length;){const v=r[h++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=h-1;break}}}for(;h<r.length;){const v=r[h];if("number"==typeof v)break;if(v===o){if(null===l)return void(null!==u&&(r[h+1]=u));if(l===r[h+1])return void(r[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==m&&(r.splice(m,0,i),h=m+1),r.splice(h++,0,o),null!==l&&r.splice(h++,0,l),null!==u&&r.splice(h++,0,u)}function Mc(r){return-1!==r}function Ln(r){return 32767&r}function Ii(r,i){let o=function Rc(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let El=!0;function Po(r){const i=El;return El=r,i}let Su=0;const gr={};function hi(r,i){const o=_a(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,Cl(l.data,r),Cl(i,null),Cl(l.blueprint,null));const u=No(r,i),h=r.injectorIndex;if(Mc(u)){const m=Ln(u),v=Ii(u,i),C=v[1].data;for(let b=0;b<8;b++)i[h+b]=v[m+b]|C[m+b]}return i[h+8]=u,h}function Cl(r,i){r.push(0,0,0,0,0,0,0,0,i)}function _a(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function No(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,u=i;for(;null!==u;){if(l=Zs(u),null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function os(r,i,o){!function Mu(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(sn)&&(l=o[sn]),null==l&&(l=o[sn]=Su++);const u=255&l;i.data[r+(u>>5)]|=1<<u}(r,i,o)}function $s(r,i,o){if(o&He.Optional||void 0!==r)return r;Te()}function js(r,i,o,l){if(o&He.Optional&&void 0===l&&(l=null),0==(o&(He.Self|He.Host))){const u=r[9],h=Kt(void 0);try{return u?u.get(i,l,o&He.Optional):jn(i,l,o&He.Optional)}finally{Kt(h)}}return $s(l,0,o)}function Hs(r,i,o,l=He.Default,u){if(null!==r){if(1024&i[2]){const m=function xc(r,i,o,l,u){let h=r,m=i;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const v=Ru(h,m,o,l|He.Self,gr);if(v!==gr)return v;let C=h.parent;if(!C){const b=m[21];if(b){const R=b.get(o,gr,l);if(R!==gr)return R}C=Zs(m),m=m[15]}h=C}return u}(r,i,o,l,gr);if(m!==gr)return m}const h=Ru(r,i,o,l,gr);if(h!==gr)return h}return js(i,o,l,u)}function Ru(r,i,o,l,u){const h=function Nc(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(sn)?r[sn]:void 0;return"number"==typeof i?i>=0?255&i:wl:i}(o);if("function"==typeof h){if(!Eu(i,r,l))return l&He.Host?$s(u,0,l):js(i,o,l,u);try{const m=h(l);if(null!=m||l&He.Optional)return m;Te()}finally{Cu()}}else if("number"==typeof h){let m=null,v=_a(r,i),C=-1,b=l&He.Host?i[16][6]:null;for((-1===v||l&He.SkipSelf)&&(C=-1===v?No(r,i):i[v+8],-1!==C&&va(l,!1)?(m=i[1],v=Ln(C),i=Ii(C,i)):v=-1);-1!==v;){const R=i[1];if(Ws(h,v,R.data)){const O=ya(v,i,o,m,l,b);if(O!==gr)return O}C=i[v+8],-1!==C&&va(l,i[1].data[v+8]===b)&&Ws(h,v,i)?(m=R,v=Ln(C),i=Ii(C,i)):v=-1}}return u}function ya(r,i,o,l,u,h){const m=i[1],v=m.data[r+8],R=Oo(v,m,o,null==l?il(v)&&El:l!=m&&0!=(3&v.type),u&He.Host&&h===v);return null!==R?Zr(i,m,R,v):gr}function Oo(r,i,o,l,u){const h=r.providerIndexes,m=i.data,v=1048575&h,C=r.directiveStart,R=h>>20,z=u?v+R:r.directiveEnd;for(let te=l?v:v+R;te<z;te++){const ve=m[te];if(te<C&&o===ve||te>=C&&ve.type===o)return te}if(u){const te=m[C];if(te&&fr(te)&&te.type===o)return C}return null}function Zr(r,i,o,l){let u=r[o];const h=i.data;if(function yl(r){return r instanceof br}(u)){const m=u;m.resolving&&function We(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new _e(-200,`Circular dependency in DI detected for ${r}${o}`)}(function de(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ge(r)}(h[o]));const v=Po(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?Kt(m.injectImpl):null;Eu(r,l,He.Default);try{u=r[o]=m.factory(void 0,h,r,l),i.firstCreatePass&&o>=l.directiveStart&&function _l(r,i,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(l){const m=pu(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==C&&Kt(C),Po(v),m.resolving=!1,Cu()}}return u}function Ws(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function va(r,i){return!(r&He.Self||r&He.Host&&i)}class Gs{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return Hs(this._tNode,this._lView,i,l,o)}}function wl(){return new Gs(kn(),be())}function Di(r){return Yt(()=>{const i=r.prototype.constructor,o=i[Vn]||zs(i),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const h=u[Vn]||zs(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function zs(r){return Oe(r)?()=>{const i=zs(Y(r));return i&&i()}:qn(r)}function Zs(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function Ea(r){return function xo(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const h=o[u];if(Mo(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(h===i)return o[u+1];u+=2}}}return null}(kn(),r)}const qs="__parameters__";function Ys(r,i,o){return Yt(()=>{const l=function Il(r){return function(...o){if(r){const l=r(...o);for(const u in l)this[u]=l[u]}}}(i);function u(...h){if(this instanceof u)return l.apply(this,h),this;const m=new u(...h);return v.annotation=m,v;function v(C,b,R){const O=C.hasOwnProperty(qs)?C[qs]:Object.defineProperty(C,qs,{value:[]})[qs];for(;O.length<=R;)O.push(null);return(O[R]=O[R]||[]).push(m),C}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class tn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ft({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rn(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),rn(l,i)):i!==r&&i.push(l)}return i}function fi(r,i){r.forEach(o=>Array.isArray(o)?fi(o,i):i(o))}function ls(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function tr(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function at(r,i,o){let l=Qr(r,i);return l>=0?r[1|l]=o:(l=~l,function Fc(r,i,o,l){let u=r.length;if(u==i)r.push(o,l);else if(1===u)r.push(l,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function Dl(r,i){const o=Qr(r,i);if(o>=0)return r[1|o]}function Qr(r,i){return function ko(r,i,o){let l=0,u=r.length>>o;for(;u!==l;){const h=l+(u-l>>1),m=r[h<<o];if(i===m)return h<<o;m>i?u=h:l=h+1}return~(u<<o)}(r,i,1)}const Fr={},ba="__NG_DI_FLAG__",Si="ngTempTokenPath",nr=/\n/gm,an="__source";let ds;function hs(r){const i=ds;return ds=r,i}function Mn(r,i=He.Default){if(void 0===ds)throw new _e(-203,!1);return null===ds?jn(r,void 0,i):ds.get(r,i&He.Optional?null:void 0,i)}function ln(r,i=He.Default){return(function In(){return xn}()||Mn)(Y(r),i)}function Jr(r,i=He.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),ln(r,i)}function w(r){const i=[];for(let o=0;o<r.length;o++){const l=Y(r[o]);if(Array.isArray(l)){if(0===l.length)throw new _e(900,!1);let u,h=He.Default;for(let m=0;m<l.length;m++){const v=l[m],C=A(v);"number"==typeof C?-1===C?u=v.token:h|=C:u=v}i.push(ln(u,h))}else i.push(ln(l))}return i}function I(r,i){return r[ba]=i,r.prototype[ba]=i,r}function A(r){return r[ba]}const me=I(Ys("Optional"),8),it=I(Ys("SkipSelf"),4);var Xr=(()=>((Xr=Xr||{})[Xr.Important=1]="Important",Xr[Xr.DashCase=2]="DashCase",Xr))();const Al=new Map;let Dh=0;const f="__ngContext__";function p(r,i){On(i)?(r[f]=i[20],function Yp(r){Al.set(r[20],r)}(i)):r[f]=i}function Sl(r,i){return undefined(r,i)}function $o(r){const i=r[3];return Cr(i)?i[3]:i}function jo(r){return Mh(r[13])}function eo(r){return Mh(r[4])}function Mh(r){for(;null!==r&&!Cr(r);)r=r[4];return r}function xa(r,i,o,l,u){if(null!=l){let h,m=!1;Cr(l)?h=l:On(l)&&(m=!0,l=l[0]);const v=fn(l);0===r&&null!==o?null==u?X_(i,o,v):Oa(i,o,v,u||null,!0):1===r&&null!==o?Oa(i,o,v,u||null,!0):2===r?function xh(r,i,o){const l=Pi(r,i);l&&function tg(r,i,o,l){r.removeChild(i,o,l)}(r,l,i,o)}(i,v,m):3===r&&i.destroyNode(v),null!=h&&function FC(r,i,o,l,u){const h=o[7];h!==fn(o)&&xa(i,r,l,h,u);for(let v=10;v<o.length;v++){const C=o[v];Pl(C[1],C,r,i,l,h)}}(i,r,h,o,u)}}function zc(r,i,o){return r.createElement(i,o)}function K_(r,i){const o=r[9],l=o.indexOf(i),u=i[3];512&i[2]&&(i[2]&=-513,yn(u,-1)),o.splice(l,1)}function Jp(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const u=l[17];null!==u&&u!==r&&K_(u,l),i>0&&(r[o-1][4]=l[4]);const h=tr(r,10+i);!function Ml(r,i){Pl(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Y_(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Pl(r,i,o,3,null,null),function RC(r){let i=r[13];if(!i)return Xp(r[1],r);for(;i;){let o=null;if(On(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)On(i)&&Xp(i[1],i),i=i[3];null===i&&(i=r),On(i)&&Xp(i[1],i),o=i&&i[4]}i=o}}(i)}}function Xp(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function OC(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const u=i[o[l]];if(!(u instanceof br)){const h=o[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=u[h[m]],C=h[m+1];try{C.call(v)}finally{}}else try{h.call(u)}finally{}}}}(r,i),function xC(r,i){const o=r.cleanup,l=i[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],v="function"==typeof m?m(i):fn(i[m]),C=l[u=o[h+2]],b=o[h+3];"boolean"==typeof b?v.removeEventListener(o[h],C,b):b>=0?l[u=b]():l[u=-b].unsubscribe(),h+=2}else{const m=l[u=o[h+1]];o[h].call(m)}if(null!==l){for(let h=u+1;h<l.length;h++)(0,l[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&Cr(i[3])){o!==i[3]&&K_(o,i);const l=i[19];null!==l&&l.detachView(r)}!function Vu(r){Al.delete(r[20])}(i)}}function Q_(r,i,o){return function J_(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const u=r.data[l.directiveStart].encapsulation;if(u===rt.None||u===rt.Emulated)return null}return Hn(l,o)}(r,i.parent,o)}function Oa(r,i,o,l,u){r.insertBefore(i,o,l,u)}function X_(r,i,o){r.appendChild(i,o)}function eg(r,i,o,l,u){null!==l?Oa(r,i,o,l,u):X_(r,i,o)}function Pi(r,i){return r.parentNode(i)}let lg,ty=function rg(r,i,o){return 40&r.type?Hn(r,o):null};function Nh(r,i,o,l){const u=Q_(r,l,i),h=i[11],v=function ng(r,i,o){return ty(r,i,o)}(l.parent||i[6],l,i);if(null!=u)if(Array.isArray(o))for(let C=0;C<o.length;C++)eg(h,u,o[C],v,!1);else eg(h,u,o,v,!1)}function Rl(r,i){if(null!==i){const o=i.type;if(3&o)return Hn(i,r);if(4&o)return Zc(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return Rl(r,l);{const u=r[i.index];return Cr(u)?Zc(-1,u):fn(u)}}if(32&o)return Sl(i,r)()||fn(r[i.index]);{const l=sg(r,i);return null!==l?Array.isArray(l)?l[0]:Rl($o(r[16]),l):Rl(r,i.next)}}return null}function sg(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Zc(r,i){const o=10+r+1;if(o<i.length){const l=i[o],u=l[1].firstChild;if(null!==u)return Rl(l,u)}return i[7]}function qc(r,i,o,l,u,h,m){for(;null!=o;){const v=l[o.index],C=o.type;if(m&&0===i&&(v&&p(fn(v),l),o.flags|=4),64!=(64&o.flags))if(8&C)qc(r,i,o.child,l,u,h,!1),xa(i,r,u,v,h);else if(32&C){const b=Sl(o,l);let R;for(;R=b();)xa(i,r,u,R,h);xa(i,r,u,v,h)}else 16&C?ju(r,i,l,o,u,h):xa(i,r,u,v,h);o=m?o.projectionNext:o.next}}function Pl(r,i,o,l,u,h){qc(o,l,r.firstChild,i,u,h,!1)}function ju(r,i,o,l,u,h){const m=o[16],C=m[6].projection[l.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)xa(i,r,u,C[b],h);else qc(r,i,C,m[3],u,h,!0)}function Oh(r,i,o){r.setAttribute(i,"style",o)}function kh(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function UC(r){lg=r}class Vh{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Go(r){return r instanceof Vh?r.changingThisBreaksApplicationSecurity:r}const Xc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Un=(()=>((Un=Un||{})[Un.NONE=0]="NONE",Un[Un.HTML=1]="HTML",Un[Un.STYLE=2]="STYLE",Un[Un.SCRIPT=3]="SCRIPT",Un[Un.URL=4]="URL",Un[Un.RESOURCE_URL=5]="RESOURCE_URL",Un))();function Wu(r){const i=function Fa(){const r=be();return r&&r[12]}();return i?i.sanitize(Un.URL,r)||"":function zo(r,i){const o=function zC(r){return r instanceof Vh&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?Go(r):function xl(r){return(r=String(r)).match(Xc)?r:"unsafe:"+r}(ge(r))}const jh=new tn("ENVIRONMENT_INITIALIZER"),Gu=new tn("INJECTOR",-1),fg=new tn("INJECTOR_DEF_TYPES");class dy{get(i,o=Fr){if(o===Fr){const l=new Error(`NullInjectorError: No provider for ${le(i)}!`);throw l.name="NullInjectorError",l}return o}}function a0(...r){return{\u0275providers:hy(0,r)}}function hy(r,...i){const o=[],l=new Set;let u;return fi(i,h=>{const m=h;pg(m,o,[],l)&&(u||(u=[]),u.push(m))}),void 0!==u&&fy(u,o),o}function fy(r,i){for(let o=0;o<r.length;o++){const{providers:u}=r[o];fi(u,h=>{i.push(h)})}}function pg(r,i,o,l){if(!(r=Y(r)))return!1;let u=null,h=Hr(r);const m=!h&&M(r);if(h||m){if(m&&!m.standalone)return!1;u=r}else{const C=r.ngModule;if(h=Hr(C),!h)return!1;u=C}const v=l.has(u);if(m){if(v)return!1;if(l.add(u),m.dependencies){const C="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const b of C)pg(b,i,o,l)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let b;l.add(u);try{fi(h.imports,R=>{pg(R,i,o,l)&&(b||(b=[]),b.push(R))})}finally{}void 0!==b&&fy(b,i)}if(!v){const b=qn(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:ht},{provide:fg,useValue:u,multi:!0},{provide:jh,useValue:()=>ln(u),multi:!0})}const C=h.providers;null==C||v||fi(C,R=>{i.push(R)})}}return u!==r&&void 0!==r.providers}const l0=he({provide:String,useValue:he});function mg(r){return null!==r&&"object"==typeof r&&l0 in r}function Ol(r){return"function"==typeof r}const _g=new tn("Set Injector scope."),rd={},c0={};let Hh;function id(){return void 0===Hh&&(Hh=new dy),Hh}class La{}class yg extends La{constructor(i,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gh(i,m=>this.processProvider(m)),this.records.set(Gu,zu(void 0,this)),u.has("environment")&&this.records.set(La,zu(void 0,this));const h=this.records.get(_g);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(fg.multi,ht,He.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=hs(this),l=Kt(void 0);try{return i()}finally{hs(o),Kt(l)}}get(i,o=Fr,l=He.Default){this.assertNotDestroyed();const u=hs(this),h=Kt(void 0);try{if(!(l&He.SkipSelf)){let v=this.records.get(i);if(void 0===v){const C=function _y(r){return"function"==typeof r||"object"==typeof r&&r instanceof tn}(i)&&Zn(i);v=C&&this.injectableDefInScope(C)?zu(Wh(i),rd):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(l&He.Self?id():this.parent).get(i,o=l&He.Optional&&o===Fr?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Si]=m[Si]||[]).unshift(le(i)),u)throw m;return function L(r,i,o,l){const u=r[Si];throw i[an]&&u.unshift(i[an]),r.message=function q(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=le(i);if(Array.isArray(i))u=i.map(le).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):le(v)))}u=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${r.replace(nr,"\n  ")}`}("\n"+r.message,u,o,l),r.ngTokenPath=u,r[Si]=null,r}(m,i,"R3InjectorError",this.source)}throw m}finally{Kt(h),hs(u)}}resolveInjectorInitializers(){const i=hs(this),o=Kt(void 0);try{const l=this.get(jh.multi,ht,He.Self);for(const u of l)u()}finally{hs(i),Kt(o)}}toString(){const i=[],o=this.records;for(const l of o.keys())i.push(le(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(i){let o=Ol(i=Y(i))?i:Y(i&&i.provide);const l=function h0(r){return mg(r)?zu(void 0,r.useValue):zu(my(r),rd)}(i);if(Ol(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=zu(void 0,rd,!0),u.factory=()=>w(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,l)}hydrate(i,o){return o.value===rd&&(o.value=c0,o.value=o.factory()),"object"==typeof o.value&&o.value&&function p0(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Y(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Wh(r){const i=Zn(r),o=null!==i?i.factory:qn(r);if(null!==o)return o;if(r instanceof tn)throw new _e(204,!1);if(r instanceof Function)return function d0(r){const i=r.length;if(i>0)throw function us(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}(i,"?"),new _e(204,!1);const o=function hn(r){const i=r&&(r[or]||r[Nr]);if(i){const o=function jr(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new _e(204,!1)}function my(r,i,o){let l;if(Ol(r)){const u=Y(r);return qn(u)||Wh(u)}if(mg(r))l=()=>Y(r.useValue);else if(function gy(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...w(r.deps||[]));else if(function py(r){return!(!r||!r.useExisting)}(r))l=()=>ln(Y(r.useExisting));else{const u=Y(r&&(r.useClass||r.provide));if(!function f0(r){return!!r.deps}(r))return qn(u)||Wh(u);l=()=>new u(...w(r.deps))}return l}function zu(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function vg(r){return!!r.\u0275providers}function Gh(r,i){for(const o of r)Array.isArray(o)?Gh(o,i):vg(o)?Gh(o.\u0275providers,i):i(o)}class g0{}class _0{resolveComponentFactory(i){throw function m0(r){const i=Error(`No component factory found for ${le(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Va=(()=>{class r{}return r.NULL=new _0,r})();function Ey(){return Ua(kn(),be())}function Ua(r,i){return new kl(Hn(r,i))}let kl=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Ey,r})();function y0(r){return r instanceof kl?r.nativeElement:r}class sd{}let v0=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function E0(){const r=be(),o=Vt(kn().index,r);return(On(o)?o:r)[11]}(),r})(),C0=(()=>{class r{}return r.\u0275prov=Ft({token:r,providedIn:"root",factory:()=>null}),r})();class Cy{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const wy=new Cy("14.2.12"),zh={};function Zh(r){return r.ngOriginalError}class Ba{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Zh(i);for(;o&&Zh(o);)o=Zh(o);return o||null}}function to(r){return r instanceof Function?r():r}function Eg(r,i,o){let l=r.length;for(;;){const u=r.indexOf(i,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const h=i.length;if(u+h===l||r.charCodeAt(u+h)<=32)return u}o=u+1}}const Qh="ng-template";function S0(r,i,o){let l=0;for(;l<r.length;){let u=r[l++];if(o&&"class"===u){if(u=r[l],-1!==Eg(u.toLowerCase(),i,0))return!0}else if(1===u){for(;l<r.length&&"string"==typeof(u=r[l++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function Dy(r){return 4===r.type&&r.value!==Qh}function M0(r,i,o){return i===(4!==r.type||o?r.value:Qh)}function by(r,i,o){let l=4;const u=r.attrs||[],h=function Ty(r){for(let i=0;i<r.length;i++)if(Mo(r[i]))return i;return r.length}(u);let m=!1;for(let v=0;v<i.length;v++){const C=i[v];if("number"!=typeof C){if(!m)if(4&l){if(l=2|1&l,""!==C&&!M0(r,C,o)||""===C&&1===i.length){if(ms(l))return!1;m=!0}}else{const b=8&l?C:i[++v];if(8&l&&null!==r.attrs){if(!S0(r.attrs,b,o)){if(ms(l))return!1;m=!0}continue}const O=RD(8&l?"class":C,u,Dy(r),o);if(-1===O){if(ms(l))return!1;m=!0;continue}if(""!==b){let z;z=O>h?"":u[O+1].toLowerCase();const te=8&l?z:null;if(te&&-1!==Eg(te,b,0)||2&l&&b!==z){if(ms(l))return!1;m=!0}}}}else{if(!m&&!ms(l)&&!ms(C))return!1;if(m&&ms(C))continue;m=!1,l=C|1&l}}return ms(l)||m}function ms(r){return 0==(1&r)}function RD(r,i,o,l){if(null===i)return-1;let u=0;if(l||!o){let h=!1;for(;u<i.length;){const m=i[u];if(m===r)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function R0(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function ad(r,i,o=!1){for(let l=0;l<i.length;l++)if(by(r,i[l],o))return!0;return!1}function Cg(r,i){return r?":not("+i.trim()+")":i}function N0(r){let i=r[0],o=1,l=2,u="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&l){const v=r[++o];u+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?u+="."+m:4&l&&(u+=" "+m);else""!==u&&!ms(m)&&(i+=Cg(h,u),u=""),l=m,h=h||!ms(l);o++}return""!==u&&(i+=Cg(h,u)),i}const Tt={};function Ay(r){wg(Mt(),be(),un()+r,!1)}function wg(r,i,o,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&Ls(i,h,o)}else{const h=r.preOrderHooks;null!==h&&Vs(i,h,0,o)}ci(o)}function Ry(r,i=null,o=null,l){const u=Py(r,i,o,l);return u.resolveInjectorInitializers(),u}function Py(r,i=null,o=null,l,u=new Set){const h=[o||ht,a0(r)];return l=l||("object"==typeof r?void 0:le(r)),new yg(h,i||id(),l||null,u)}let xi=(()=>{class r{static create(o,l){if(Array.isArray(o))return Ry({name:""},l,o,"");{const u=o.name??"";return Ry({name:u},o.parent,o.providers,u)}}}return r.THROW_IF_NOT_FOUND=Fr,r.NULL=new dy,r.\u0275prov=Ft({token:r,providedIn:"any",factory:()=>ln(Gu)}),r.__NG_ELEMENT_ID__=-1,r})();function Ul(r,i=He.Default){const o=be();return null===o?ln(r,i):Hs(kn(),o,Y(r),i)}function Ng(){throw new Error("invalid")}function ur(r,i){return r<<17|i<<2}function cr(r){return r>>17&32767}function Uy(r){return 2|r}function Oi(r){return(131068&r)>>2}function ud(r,i){return-131069&r|i<<2}function Zu(r){return 1|r}function Ky(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],h=o[l+1];if(-1!==h){const m=r.data[h];fl(u),m.contentQueries(2,i[h],h)}}}function jg(r,i,o,l,u,h,m,v,C,b,R){const O=i.blueprint.slice();return O[0]=u,O[2]=76|l,(null!==R||r&&1024&r[2])&&(O[2]|=1024),_o(O),O[3]=O[15]=r,O[8]=o,O[10]=m||r&&r[10],O[11]=v||r&&r[11],O[12]=C||r&&r[12]||null,O[9]=b||r&&r[9]||null,O[6]=h,O[20]=function Kp(){return Dh++}(),O[21]=R,O[16]=2==i.type?r[16]:O,O}function Yu(r,i,o,l,u){let h=r.data[i];if(null===h)h=function cf(r,i,o,l,u){const h=xs(),m=da(),C=r.data[i]=function BD(r,i,o,l,u,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,l,u);return null===r.firstChild&&(r.firstChild=C),null!==h&&(m?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(r,i,o,l,u),function yu(){return _t.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=u;const m=function ca(){const r=_t.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return lr(h,!0),h}function pd(r,i,o,l){if(0===o)return-1;const u=i.length;for(let h=0;h<o;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return u}function gd(r,i,o){Fs(i);try{const l=r.viewQuery;null!==l&&nm(1,l,o);const u=r.template;null!==u&&Hg(r,i,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Ky(r,i),r.staticViewQueries&&nm(2,r.viewQuery,o);const h=r.components;null!==h&&function q0(r,i){for(let o=0;o<i.length;o++)rw(r,i[o])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,Ci()}}function df(r,i,o,l){const u=i[2];if(128!=(128&u)){Fs(i);try{_o(i),function Do(r){return _t.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Hg(r,i,o,2,l);const m=3==(3&u);if(m){const b=r.preOrderCheckHooks;null!==b&&Ls(i,b,null)}else{const b=r.preOrderHooks;null!==b&&Vs(i,b,0,null),Du(i,0)}if(function nw(r){for(let i=jo(r);null!==i;i=eo(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const u=o[l],h=u[3];0==(512&u[2])&&yn(h,1),u[2]|=512}}}(i),function em(r){for(let i=jo(r);null!==i;i=eo(i))for(let o=10;o<i.length;o++){const l=i[o],u=l[1];Ei(l)&&df(u,l,u.template,l[8])}}(i),null!==r.contentQueries&&Ky(r,i),m){const b=r.contentCheckHooks;null!==b&&Ls(i,b)}else{const b=r.contentHooks;null!==b&&Vs(i,b,1),Du(i,1)}!function qy(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)ci(~u);else{const h=u,m=o[++l],v=o[++l];vu(m,h),v(2,i[h])}}}finally{ci(-1)}}(r,i);const v=r.components;null!==v&&function Yy(r,i){for(let o=0;o<i.length;o++)tm(r,i[o])}(i,v);const C=r.viewQuery;if(null!==C&&nm(2,C,l),m){const b=r.viewCheckHooks;null!==b&&Ls(i,b)}else{const b=r.viewHooks;null!==b&&Vs(i,b,2),Du(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,yn(i[3],-1))}finally{Ci()}}}function Hg(r,i,o,l,u){const h=un(),m=2&l;try{ci(-1),m&&i.length>22&&wg(r,i,22,!1),o(l,u)}finally{ci(h)}}function Wg(r,i,o){!is()||(function Yg(r,i,o,l){const u=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||hi(o,i),p(l,i);const m=o.initialInputs;for(let v=u;v<h;v++){const C=r.data[v],b=fr(C);b&&iv(i,o,C);const R=Zr(i,r,v,o);p(R,i),null!==m&&sv(0,v-u,R,C,0,m),b&&(Vt(o.index,i)[8]=R)}}(r,i,o,Hn(o,i)),128==(128&o.flags)&&function Q0(r,i,o){const l=o.directiveStart,u=o.directiveEnd,h=o.index,m=function Dc(){return _t.lFrame.currentDirectiveIndex}();try{ci(h);for(let v=l;v<u;v++){const C=r.data[v],b=i[v];ks(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Qg(C,b)}}finally{ci(-1),ks(m)}}(r,i,o))}function Qy(r,i,o=Hn){const l=i.localNames;if(null!==l){let u=i.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],v=-1===m?o(i,r):r[m];r[u++]=v}}}function Jy(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=$l(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function $l(r,i,o,l,u,h,m,v,C,b){const R=22+l,O=R+u,z=function Gg(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:Tt);return o}(R,O),te="function"==typeof b?b():b;return z[1]={type:r,blueprint:z,template:o,queries:null,viewQuery:v,declTNode:i,data:z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:te,incompleteFirstPass:!1}}function ei(r,i,o,l){const u=rm(i);null===o?u.push(l):(u.push(o),r.firstCreatePass&&lv(r).push(l,u.length-1))}function ev(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const u=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,u):o[l]=[i,u]}return o}function zg(r,i){const l=i.directiveEnd,u=r.data,h=i.attrs,m=[];let v=null,C=null;for(let b=i.directiveStart;b<l;b++){const R=u[b],O=R.inputs,z=null===h||Dy(i)?null:tw(O,h);m.push(z),v=ev(O,b,v),C=ev(R.outputs,b,C)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=v,i.outputs=C}function Y0(r,i){const o=Vt(i,r);16&o[2]||(o[2]|=32)}function Zg(r,i,o,l){let u=!1;if(is()){const h=function J0(r,i,o){const l=r.directiveRegistry;let u=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];ad(o,m.selectors,!1)&&(u||(u=[]),os(hi(o,i),r,m.type),fr(m)?(X0(r,o),u.unshift(m)):u.push(m))}return u}(r,i,o),m=null===l?null:{"":-1};if(null!==h){u=!0,Jg(o,r.data.length,h.length);for(let R=0;R<h.length;R++){const O=h[R];O.providersResolver&&O.providersResolver(O)}let v=!1,C=!1,b=pd(r,i,h.length,null);for(let R=0;R<h.length;R++){const O=h[R];o.mergedAttrs=Ro(o.mergedAttrs,O.hostAttrs),rv(r,o,i,b,O),ew(b,O,m),null!==O.contentQueries&&(o.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(o.flags|=128);const z=O.type.prototype;!v&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),v=!0),!C&&(z.ngOnChanges||z.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),C=!0),b++}zg(r,o)}m&&function nv(r,i,o){if(i){const l=r.localNames=[];for(let u=0;u<i.length;u+=2){const h=o[i[u+1]];if(null==h)throw new _e(-301,!1);l.push(i[u],h)}}}(o,l,m)}return o.mergedAttrs=Ro(o.mergedAttrs,o.attrs),u}function qg(r,i,o,l,u,h){const m=h.hostBindings;if(m){let v=r.hostBindingOpCodes;null===v&&(v=r.hostBindingOpCodes=[]);const C=~i.index;(function Kg(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=C&&v.push(C),v.push(l,u,m)}}function Qg(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function X0(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function ew(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;fr(i)&&(o[""]=r)}}function Jg(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function rv(r,i,o,l,u){r.data[l]=u;const h=u.factory||(u.factory=qn(u.type)),m=new br(h,fr(u),Ul);r.blueprint[l]=m,o[l]=m,qg(r,i,0,l,pd(r,o,u.hostVars,Tt),u)}function iv(r,i,o){const l=Hn(i,r),u=Jy(o),h=r[10],m=mf(r,jg(r,u,null,o.onPush?32:16,l,i,h,h.createRenderer(l,o),null,null,null));r[i.index]=m}function Fi(r,i,o,l,u,h){const m=Hn(r,i);!function Xg(r,i,o,l,u,h,m){if(null==h)r.removeAttribute(i,u,o);else{const v=null==m?ge(h):m(h,l||"",u);r.setAttribute(i,u,v,o)}}(i[11],m,h,r.value,o,l,u)}function sv(r,i,o,l,u,h){const m=h[i];if(null!==m){const v=l.setInput;for(let C=0;C<m.length;){const b=m[C++],R=m[C++],O=m[C++];null!==v?l.setInput(o,O,b,R):o[R]=O}}}function tw(r,i){let o=null,l=0;for(;l<i.length;){const u=i[l];if(0!==u)if(5!==u){if("number"==typeof u)break;r.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,r[u],i[l+1])),l+=2}else l+=2;else l+=4}return o}function ov(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}function tm(r,i){const o=Vt(i,r);if(Ei(o)){const l=o[1];48&o[2]?df(l,o,l.template,o[8]):o[5]>0&&pf(o)}}function pf(r){for(let l=jo(r);null!==l;l=eo(l))for(let u=10;u<l.length;u++){const h=l[u];if(Ei(h))if(512&h[2]){const m=h[1];df(m,h,m.template,h[8])}else h[5]>0&&pf(h)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=Vt(o[l],r);Ei(u)&&u[5]>0&&pf(u)}}function rw(r,i){const o=Vt(i,r),l=o[1];(function gf(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),gd(l,o,o[8])}function mf(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function _f(r){for(;r;){r[2]|=32;const i=$o(r);if(sl(r)&&!i)return r;r=i}return null}function yf(r,i,o,l=!0){const u=i[10];u.begin&&u.begin();try{df(r,i,r.template,o)}catch(m){throw l&&vf(i,m),m}finally{u.end&&u.end()}}function nm(r,i,o){fl(0),i(r,o)}function rm(r){return r[7]||(r[7]=[])}function lv(r){return r.cleanup||(r.cleanup=[])}function vf(r,i){const o=r[9],l=o?o.get(Ba,null):null;l&&l.handleError(i)}function im(r,i,o,l,u){for(let h=0;h<o.length;){const m=o[h++],v=o[h++],C=i[m],b=r.data[m];null!==b.setInput?b.setInput(C,u,l,v):C[v]=u}}function md(r,i,o){let l=o?r.styles:null,u=o?r.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?h=v:1==h?u=fe(u,v):2==h&&(l=fe(l,v+": "+i[++m]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=u:r.classesWithoutHost=u}function io(r,i,o,l,u=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&l.push(fn(h)),Cr(h))for(let v=10;v<h.length;v++){const C=h[v],b=C[1].firstChild;null!==b&&io(C[1],C,b,l)}const m=o.type;if(8&m)io(r,i,o.child,l);else if(32&m){const v=Sl(o,i);let C;for(;C=v();)l.push(C)}else if(16&m){const v=sg(i,o);if(Array.isArray(v))l.push(...v);else{const C=$o(i[16]);io(C[1],C,v,l,!0)}}o=u?o.projectionNext:o.next}return l}class _d{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return io(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Cr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Jp(i,l),tr(o,l))}this._attachedToViewContainer=!1}Y_(this._lView[1],this._lView)}onDestroy(i){ei(this._lView[1],this._lView,null,i)}markForCheck(){_f(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function q_(r,i){Pl(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=i}}class uv extends _d{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;yf(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class sm extends Va{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=M(i);return new jl(o,this.ngModule)}}function om(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class ow{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,l){const u=this.injector.get(i,zh,l);return u!==zh||o===zh?u:this.parentInjector.get(i,o,l)}}class jl extends g0{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function x0(r){return r.map(N0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return om(this.componentDef.inputs)}get outputs(){return om(this.componentDef.outputs)}create(i,o,l,u){let h=(u=u||this.ngModule)instanceof La?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new ow(i,h):i,v=m.get(sd,null);if(null===v)throw new _e(407,!1);const C=m.get(C0,null),b=v.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",O=l?function Xy(r,i,o){return r.selectRootElement(i,o===rt.ShadowDom)}(b,l,this.componentDef.encapsulation):zc(b,R,function sw(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(R)),z=this.componentDef.onPush?288:272,te=$l(0,null,null,1,0,null,null,null,null,null),ve=jg(null,te,null,z,null,null,v,b,C,m,null);let ke,$e;Fs(ve);try{const Qe=function hv(r,i,o,l,u,h){const m=o[1];o[22]=r;const C=Yu(m,22,2,"#host",null),b=C.mergedAttrs=i.hostAttrs;null!==b&&(md(C,b,!0),null!==r&&(di(u,r,b),null!==C.classes&&kh(u,r,C.classes),null!==C.styles&&Oh(u,r,C.styles)));const R=l.createRenderer(r,i),O=jg(o,Jy(i),null,i.onPush?32:16,o[22],C,l,R,h||null,null,null);return m.firstCreatePass&&(os(hi(C,o),m,i.type),X0(m,C),Jg(C,o.length,1)),mf(o,O),o[22]=O}(O,this.componentDef,ve,v,b);if(O)if(l)di(b,O,["ng-version",wy.full]);else{const{attrs:dt,classes:Se}=function O0(r){const i=[],o=[];let l=1,u=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===u?""!==h&&i.push(h,r[++l]):8===u&&o.push(h);else{if(!ms(u))break;u=h}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);dt&&di(b,O,dt),Se&&Se.length>0&&kh(b,O,Se.join(" "))}if($e=Ps(te,22),void 0!==o){const dt=$e.projection=[];for(let Se=0;Se<this.ngContentSelectors.length;Se++){const Je=o[Se];dt.push(null!=Je?Array.from(Je):null)}}ke=function aw(r,i,o,l){const u=o[1],h=function tv(r,i,o){const l=kn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),rv(r,l,i,pd(r,i,1,null),o),zg(r,l));const u=Zr(i,r,l.directiveStart,l);p(u,i);const h=Hn(l,i);return h&&p(h,i),u}(u,o,i);if(r[8]=o[8]=h,null!==l)for(const v of l)v(h,i);if(i.contentQueries){const v=kn();i.contentQueries(1,h,v.directiveStart)}const m=kn();return!u.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ci(m.index),qg(o[1],m,0,m.directiveStart,m.directiveEnd,i),Qg(i,h)),h}(Qe,this.componentDef,ve,[fv]),gd(te,ve,null)}finally{Ci()}return new dv(this.componentType,ke,Ua($e,ve),ve,$e)}}class dv extends class yy{}{constructor(i,o,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new uv(u),this.componentType=i}setInput(i,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[i])){const h=this._rootLView;im(h[1],h,u,i,o),Y0(h,this._tNode.index)}}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function fv(){const r=kn();ha(be()[1],r)}function Ef(r){let i=function pv(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let u;if(fr(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new _e(903,!1);u=i.\u0275dir}if(u){if(o){l.push(u);const m=r;m.inputs=gv(r.inputs),m.declaredInputs=gv(r.declaredInputs),m.outputs=gv(r.outputs);const v=u.hostBindings;v&&lw(r,v);const C=u.viewQuery,b=u.contentQueries;if(C&&qD(r,C),b&&mv(r,b),ce(r.inputs,u.inputs),ce(r.declaredInputs,u.declaredInputs),ce(r.outputs,u.outputs),fr(u)&&u.data.animation){const R=r.data;R.animation=(R.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(r),v===Ef&&(o=!1)}}i=Object.getPrototypeOf(i)}!function ZD(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=i+=u.hostVars,u.hostAttrs=Ro(u.hostAttrs,o=Ro(o,u.hostAttrs))}}(l)}function gv(r){return r===Jn?{}:r===ht?[]:r}function qD(r,i){const o=r.viewQuery;r.viewQuery=o?(l,u)=>{i(l,u),o(l,u)}:i}function mv(r,i){const o=r.contentQueries;r.contentQueries=o?(l,u,h)=>{i(l,u,h),o(l,u,h)}:i}function lw(r,i){const o=r.hostBindings;r.hostBindings=o?(l,u)=>{i(l,u),o(l,u)}:i}let am=null;function ja(){if(!am){const r=pt.Symbol;if(r&&r.iterator)am=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(am=l)}}}return am}function Cf(r){return!!vs(r)&&(Array.isArray(r)||!(r instanceof Map)&&ja()in r)}function vs(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Sr(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function lm(r,i,o,l){const u=be();return Sr(u,bo(),i)&&(Mt(),Fi(on(),u,r,i,o,l)),lm}function Df(r,i,o,l,u,h,m,v){const C=be(),b=Mt(),R=r+22,O=b.firstCreatePass?function Hl(r,i,o,l,u,h,m,v,C){const b=i.consts,R=Yu(i,r,4,m||null,Dr(b,v));Zg(i,o,R,Dr(b,C)),ha(i,R);const O=R.tViews=$l(2,R,l,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,R),O.queries=i.queries.embeddedTView(R)),R}(R,b,C,i,o,l,u,h,m):b.data[R];lr(O,!1);const z=C[11].createComment("");Nh(b,C,z,O),p(z,C),mf(C,C[R]=ov(z,C,z,O)),fo(O)&&Wg(b,C,O),null!=m&&Qy(C,O,v)}function bf(r,i,o){const l=be();return Sr(l,bo(),i)&&function ki(r,i,o,l,u,h,m,v){const C=Hn(i,o);let R,b=i.inputs;!v&&null!=b&&(R=b[l])?(im(r,o,R,l,u),il(i)&&Y0(o,i.index)):3&i.type&&(l=function $D(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=m?m(u,i.value||"",l):u,h.setProperty(C,l,u))}(Mt(),on(),l,r,i,l[11],o,!1),bf}function Wl(r,i,o,l,u){const m=u?"class":"style";im(r,o,i.inputs[m],m,l)}function wd(r,i,o,l){const u=be(),h=Mt(),m=22+r,v=u[11],C=u[m]=zc(v,i,function ml(){return _t.lFrame.currentNamespace}()),b=h.firstCreatePass?function Gl(r,i,o,l,u,h,m){const v=i.consts,b=Yu(i,r,2,u,Dr(v,h));return Zg(i,o,b,Dr(v,m)),null!==b.attrs&&md(b,b.attrs,!1),null!==b.mergedAttrs&&md(b,b.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,b),b}(m,h,u,0,i,o,l):h.data[m];lr(b,!0);const R=b.mergedAttrs;null!==R&&di(v,C,R);const O=b.classes;null!==O&&kh(v,C,O);const z=b.styles;return null!==z&&Oh(v,C,z),64!=(64&b.flags)&&Nh(h,u,C,b),0===function vo(){return _t.lFrame.elementDepthCount}()&&p(C,u),function _u(){_t.lFrame.elementDepthCount++}(),fo(b)&&(Wg(h,u,b),function hf(r,i,o){if(bs(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,b,u)),null!==l&&Qy(u,b),wd}function Id(){let r=kn();da()?function Os(){_t.lFrame.isParent=!1}():(r=r.parent,lr(r,!1));const i=r;!function Eo(){_t.lFrame.elementDepthCount--}();const o=Mt();return o.firstCreatePass&&(ha(o,r),bs(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function pa(r){return 0!=(16&r.flags)}(i)&&Wl(o,i,be(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ga(r){return 0!=(32&r.flags)}(i)&&Wl(o,i,be(),i.stylesWithoutHost,!1),Id}function Yn(r,i,o,l){return wd(r,i,o,l),Id(),Yn}function nc(r){return!!r&&"function"==typeof r.then}function Iv(r){return!!r&&"function"==typeof r.subscribe}const oo=Iv;function $i(r,i,o,l){const u=be(),h=Mt(),m=kn();return function rc(r,i,o,l,u,h,m,v){const C=fo(l),R=r.firstCreatePass&&lv(r),O=i[8],z=rm(i);let te=!0;if(3&l.type||v){const $e=Hn(l,i),Qe=v?v($e):$e,dt=z.length,Se=v?qt=>v(fn(qt[l.index])):l.index;let Je=null;if(!v&&C&&(Je=function dw(r,i,o,l){const u=r.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===o&&u[h+1]===l){const v=i[7],C=u[h+2];return v.length>C?v[C]:null}"string"==typeof m&&(h+=2)}return null}(r,i,u,l.index)),null!==Je)(Je.__ngLastListenerFn__||Je).__ngNextListenerFn__=h,Je.__ngLastListenerFn__=h,te=!1;else{h=hm(l,i,O,h,!1);const qt=o.listen(Qe,u,h);z.push(h,qt),R&&R.push(u,Se,dt,dt+1)}}else h=hm(l,i,O,h,!1);const ve=l.outputs;let ke;if(te&&null!==ve&&(ke=ve[u])){const $e=ke.length;if($e)for(let Qe=0;Qe<$e;Qe+=2){const dn=i[ke[Qe]][ke[Qe+1]].subscribe(h),sa=z.length;z.push(h,dn),R&&R.push(u,l.index,sa,-(sa+1))}}}(h,u,u[11],m,r,i,0,l),$i}function Tf(r,i,o,l){try{return!1!==o(l)}catch(u){return vf(r,u),!1}}function hm(r,i,o,l,u){return function h(m){if(m===Function)return l;_f(2&r.flags?Vt(r.index,i):i);let C=Tf(i,0,l,m),b=h.__ngNextListenerFn__;for(;b;)C=Tf(i,0,b,m)&&C,b=b.__ngNextListenerFn__;return u&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function ir(r=1){return function wi(r){return(_t.lFrame.contextLView=function wu(r,i){for(;r>0;)i=i[15],r--;return i}(r,_t.lFrame.contextLView))[8]}(r)}function gm(r,i,o,l,u){const h=r[o+1],m=null===i;let v=l?cr(h):Oi(h),C=!1;for(;0!==v&&(!1===C||m);){const R=r[v+1];Rv(r[v],i)&&(C=!0,r[v+1]=l?Zu(R):Uy(R)),v=l?cr(R):Oi(R)}C&&(r[o+1]=l?Uy(h):Zu(h))}function Rv(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Qr(r,i)>=0}function Of(r,i){return function ji(r,i,o,l){const u=be(),h=Mt(),m=function ui(r){const i=_t.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);h.firstUpdatePass&&function Lv(r,i,o,l){const u=r.data;if(null===u[o+1]){const h=u[un()],m=function Fv(r,i){return i>=r.expandoStartIndex}(r,o);(function Zl(r,i){return 0!=(r.flags&(i?16:32))})(h,l)&&null===i&&!m&&(i=!1),i=function _w(r,i,o,l){const u=function hl(r){const i=_t.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=l?i.residualClasses:i.residualStyles;if(null===u)0===(l?i.classBindings:i.styleBindings)&&(o=Ad(o=kf(null,r,i,o,l),i.attrs,l),h=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==u)if(o=kf(u,r,i,o,l),null===h){let C=function yw(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==Oi(l))return r[cr(l)]}(r,i,l);void 0!==C&&Array.isArray(C)&&(C=kf(null,r,i,C[1],l),C=Ad(C,i.attrs,l),function vw(r,i,o,l){r[cr(o?i.classBindings:i.styleBindings)]=l}(r,i,l,C))}else h=function Vv(r,i,o){let l;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)l=Ad(l,r[h].hostAttrs,o);return Ad(l,i.attrs,o)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),o}(u,h,i,l),function Mf(r,i,o,l,u,h){let m=h?i.classBindings:i.styleBindings,v=cr(m),C=Oi(m);r[l]=o;let R,b=!1;if(Array.isArray(o)){const O=o;R=O[1],(null===R||Qr(O,R)>0)&&(b=!0)}else R=o;if(u)if(0!==C){const z=cr(r[v+1]);r[l+1]=ur(z,v),0!==z&&(r[z+1]=ud(r[z+1],l)),r[v+1]=function kD(r,i){return 131071&r|i<<17}(r[v+1],l)}else r[l+1]=ur(v,0),0!==v&&(r[v+1]=ud(r[v+1],l)),v=l;else r[l+1]=ur(C,0),0===v?v=l:r[C+1]=ud(r[C+1],l),C=l;b&&(r[l+1]=Uy(r[l+1])),gm(r,R,l,!0),gm(r,R,l,!1),function Mv(r,i,o,l,u){const h=u?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Qr(h,i)>=0&&(o[l+1]=Zu(o[l+1]))}(i,R,r,l,h),m=ur(v,C),h?i.classBindings=m:i.styleBindings=m}(u,h,i,o,m,l)}}(h,r,m,l),i!==Tt&&Sr(u,m,i)&&function Ff(r,i,o,l,u,h,m,v){if(!(3&i.type))return;const C=r.data,b=C[v+1];Lf(function rf(r){return 1==(1&r)}(b)?Bv(C,i,o,u,Oi(b),m):void 0)||(Lf(h)||function Og(r){return 2==(2&r)}(b)&&(h=Bv(C,null,o,u,v,m)),function LC(r,i,o,l,u){if(i)u?r.addClass(o,l):r.removeClass(o,l);else{let h=-1===l.indexOf("-")?void 0:Xr.DashCase;null==u?r.removeStyle(o,l,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=Xr.Important),r.setStyle(o,l,u,h))}}(l,m,Or(un(),o),u,h))}(h,h.data[un()],u,u[11],r,u[m+1]=function Vf(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=le(Go(r)))),r}(i,o),l,m)}(r,i,null,!0),Of}function kf(r,i,o,l,u){let h=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(h=i[v],l=Ad(l,h.hostAttrs,u),h!==r);)v++;return null!==r&&(o.directiveStylingLast=v),l}function Ad(r,i,o){const l=o?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?u=m:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),at(r,m,!!o||i[++h]))}return void 0===r?null:r}function Bv(r,i,o,l,u,h){const m=null===i;let v;for(;u>0;){const C=r[u],b=Array.isArray(C),R=b?C[1]:C,O=null===R;let z=o[u+1];z===Tt&&(z=O?ht:void 0);let te=O?Dl(z,l):R===l?z:void 0;if(b&&!Lf(te)&&(te=Dl(C,l)),Lf(te)&&(v=te,m))return v;const ve=r[u+1];u=m?cr(ve):Oi(ve)}if(null!==i){let C=h?i.residualClasses:i.residualStyles;null!=C&&(v=Dl(C,l))}return v}function Lf(r){return void 0!==r}function vm(r,i=""){const o=be(),l=Mt(),u=r+22,h=l.firstCreatePass?Yu(l,u,1,i,null):l.data[u],m=o[u]=function Rh(r,i){return r.createText(i)}(o[11],i);Nh(l,o,m,h),lr(h,!1)}function Em(r){return Cm("",r,""),Em}function Cm(r,i,o){const l=be(),u=function Ju(r,i,o,l){return Sr(r,bo(),o)?i+ge(o)+l:Tt}(l,r,i,o);return u!==Tt&&function ro(r,i,o){const l=Or(i,r);!function Qp(r,i,o){r.setValue(i,o)}(r[11],l,o)}(l,un(),u),Cm}const gi=void 0;var Md=["en",[["a","p"],["AM","PM"],gi],[["AM","PM"],gi,gi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gi,"{1} 'at' {0}",gi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sm(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let oc={};function Mm(r){const i=function jf(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Rm(i);if(o)return o;const l=i.split("-")[0];if(o=Rm(l),o)return o;if("en"===l)return Md;throw new _e(701,!1)}function rE(r){return Mm(r)[Le.PluralCase]}function Rm(r){return r in oc||(oc[r]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[r]),oc[r]}var Le=(()=>((Le=Le||{})[Le.LocaleId=0]="LocaleId",Le[Le.DayPeriodsFormat=1]="DayPeriodsFormat",Le[Le.DayPeriodsStandalone=2]="DayPeriodsStandalone",Le[Le.DaysFormat=3]="DaysFormat",Le[Le.DaysStandalone=4]="DaysStandalone",Le[Le.MonthsFormat=5]="MonthsFormat",Le[Le.MonthsStandalone=6]="MonthsStandalone",Le[Le.Eras=7]="Eras",Le[Le.FirstDayOfWeek=8]="FirstDayOfWeek",Le[Le.WeekendRange=9]="WeekendRange",Le[Le.DateFormat=10]="DateFormat",Le[Le.TimeFormat=11]="TimeFormat",Le[Le.DateTimeFormat=12]="DateTimeFormat",Le[Le.NumberSymbols=13]="NumberSymbols",Le[Le.NumberFormats=14]="NumberFormats",Le[Le.CurrencyCode=15]="CurrencyCode",Le[Le.CurrencySymbol=16]="CurrencySymbol",Le[Le.CurrencyName=17]="CurrencyName",Le[Le.Currencies=18]="Currencies",Le[Le.Directionality=19]="Directionality",Le[Le.PluralCase=20]="PluralCase",Le[Le.ExtraData=21]="ExtraData",Le))();const Vr="en-US";let zf=Vr;function uc(r,i,o,l,u){if(r=Y(r),Array.isArray(r))for(let h=0;h<r.length;h++)uc(r[h],i,o,l,u);else{const h=Mt(),m=be();let v=Ol(r)?r:Y(r.provide),C=my(r);const b=kn(),R=1048575&b.providerIndexes,O=b.directiveStart,z=b.providerIndexes>>20;if(Ol(r)||!r.multi){const te=new br(C,u,Ul),ve=Wm(v,i,u?R:R+z,O);-1===ve?(os(hi(b,m),h,v),Xo(h,r,i.length),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(te),m.push(te)):(o[ve]=te,m[ve]=te)}else{const te=Wm(v,i,R+z,O),ve=Wm(v,i,R,R+z),ke=te>=0&&o[te],$e=ve>=0&&o[ve];if(u&&!$e||!u&&!ke){os(hi(b,m),h,v);const Qe=function Gm(r,i,o,l,u){const h=new br(r,o,Ul);return h.multi=[],h.index=i,h.componentProviders=0,rp(h,u,l&&!o),h}(u?Cs:gn,o.length,u,l,C);!u&&$e&&(o[ve].providerFactory=Qe),Xo(h,r,i.length,0),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(Qe),m.push(Qe)}else Xo(h,r,te>-1?te:ve,rp(o[u?ve:te],C,!u&&l));!u&&l&&$e&&o[ve].componentProviders++}}}function Xo(r,i,o,l){const u=Ol(i),h=function u0(r){return!!r.useClass}(i);if(u||h){const C=(h?Y(i.useClass):i).prototype.ngOnDestroy;if(C){const b=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const R=b.indexOf(o);-1===R?b.push(o,[l,C]):b[R+1].push(l,C)}else b.push(o,C)}}}function rp(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Wm(r,i,o,l){for(let u=o;u<l;u++)if(i[u]===r)return u;return-1}function gn(r,i,o,l){return eu(this.multi,[])}function Cs(r,i,o,l){const u=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Zr(o,o[1],this.providerFactory.index,l);h=v.slice(0,m),eu(u,h);for(let C=m;C<v.length;C++)h.push(v[C])}else h=[],eu(u,h);return h}function eu(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function zm(r,i=[]){return o=>{o.providersResolver=(l,u)=>function yE(r,i,o){const l=Mt();if(l.firstCreatePass){const u=fr(r);uc(o,l.data,l.blueprint,u,!0),uc(i,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,i)}}class qa{}class Ka{}function vE(r,i){return new ip(r,i??null)}class ip extends qa{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sm(this);const l=Ke(i);this._bootstrapComponents=to(l.bootstrap),this._r3Injector=Py(i,o,[{provide:qa,useValue:this},{provide:Va,useValue:this.componentFactoryResolver}],le(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ya extends Ka{constructor(i){super(),this.moduleType=i}create(i){return new ip(this.moduleType,i)}}class EE extends qa{constructor(i,o,l){super(),this.componentFactoryResolver=new sm(this),this.instance=null;const u=new yg([...i,{provide:qa,useValue:this},{provide:Va,useValue:this.componentFactoryResolver}],o||id(),l,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function cc(r,i,o=null){return new EE(r,i,o).injector}let jw=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=hy(0,o.type),u=l.length>0?cc([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Ft({token:r,providedIn:"environment",factory:()=>new r(ln(La))}),r})();function CE(r){r.getStandaloneInjector=i=>i.get(jw).getOrCreateStandaloneInjector(r)}function Xm(r){return i=>{setTimeout(r,void 0,i)}}const ws=class FE extends c.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){let u=i,h=o||(()=>null),m=l;if(i&&"object"==typeof i){const C=i;u=C.next?.bind(C),h=C.error?.bind(C),m=C.complete?.bind(C)}this.__isAsync&&(h=Xm(h),u&&(u=Xm(u)),m&&(m=Xm(m)));const v=super.subscribe({next:u,error:h,complete:m});return i instanceof B.w0&&i.add(v),v}};function LE(){return this._results[ja()]()}class e_{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ja(),l=e_.prototype;l[o]||(l[o]=LE)}get changes(){return this._changes||(this._changes=new ws)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const u=rn(i);(this._changesDetected=!function Yr(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],h=i[l];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let dc=(()=>{class r{}return r.__NG_ELEMENT_ID__=iI,r})();const lp=dc,VE=class extends lp{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i,o){const l=this._declarationTContainer.tViews,u=jg(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,o||null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(l)),gd(l,u,i),new _d(u)}};function iI(){return up(kn(),be())}function up(r,i){return 4&r.type?new VE(i,r,Ua(r,i)):null}let cp=(()=>{class r{}return r.__NG_ELEMENT_ID__=t_,r})();function t_(){return ea(kn(),be())}const UE=cp,BE=class extends UE{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const i=No(this._hostTNode,this._hostLView);if(Mc(i)){const o=Ii(i,this._hostLView),l=Ln(i);return new Gs(o[1].data[l+8],o)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=$E(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){let u,h;"number"==typeof l?u=l:null!=l&&(u=l.index,h=l.injector);const m=i.createEmbeddedView(o||{},h);return this.insert(m,u),m}createComponent(i,o,l,u,h){const m=i&&!function Kr(r){return"function"==typeof r}(i);let v;if(m)v=o;else{const O=o||{};v=O.index,l=O.injector,u=O.projectableNodes,h=O.environmentInjector||O.ngModuleRef}const C=m?i:new jl(M(i)),b=l||this.parentInjector;if(!h&&null==C.ngModule){const z=(m?b:this.parentInjector).get(La,null);z&&(h=z)}const R=C.create(b,u,void 0,h);return this.insert(R.hostView,v),R}insert(i,o){const l=i._lView,u=l[1];if(function cl(r){return Cr(r[3])}(l)){const R=this.indexOf(i);if(-1!==R)this.detach(R);else{const O=l[3],z=new BE(O,O[6],O[3]);z.detach(z.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function PC(r,i,o,l){const u=10+l,h=o.length;l>0&&(o[u-1][4]=i),l<h-10?(i[4]=o[u],ls(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function NC(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=64}(u,l,m,h);const v=Zc(h,m),C=l[11],b=Pi(C,m[7]);return null!==b&&function Ph(r,i,o,l,u,h){l[0]=u,l[6]=i,Pl(r,l,o,1,u,h)}(u,m[6],C,l,b,v),i.attachToViewContainerRef(),ls(dp(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=$E(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Jp(this._lContainer,o);l&&(tr(dp(this._lContainer),o),Y_(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Jp(this._lContainer,o);return l&&null!=tr(dp(this._lContainer),o)?new _d(l):null}_adjustIndex(i,o=0){return i??this.length+o}};function $E(r){return r[8]}function dp(r){return r[8]||(r[8]=[])}function ea(r,i){let o;const l=i[r.index];if(Cr(l))o=l;else{let u;if(8&r.type)u=fn(l);else{const h=i[11];u=h.createComment("");const m=Hn(r,i);Oa(h,Pi(h,m),u,function $u(r,i){return r.nextSibling(i)}(h,m),!1)}i[r.index]=o=ov(l,i,u,r),mf(i,o)}return new BE(o,r,i)}class hc{constructor(i){this.queryList=i,this.matches=null}clone(){return new hc(this.queryList)}setDirty(){this.queryList.setDirty()}}class fc{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let h=0;h<l;h++){const m=o.getByIndex(h);u.push(this.queries[m.indexInDeclarationView].clone())}return new fc(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==ru(i,o).matches&&this.queries[o].setDirty()}}class WE{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class n_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(i,u);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new n_(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class r_{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new r_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(i,o,GE(o,h)),this.matchTNodeWithReadOption(i,o,Oo(o,i,h,!1,!1))}else l===dc?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Oo(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===kl||u===cp||u===dc&&4&o.type)this.addMatch(o.index,-2);else{const h=Oo(o,i,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function GE(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function sI(r,i,o,l){return-1===o?function i_(r,i){return 11&r.type?Ua(r,i):4&r.type?up(r,i):null}(i,r):-2===o?function Qa(r,i,o){return o===kl?Ua(i,r):o===dc?up(i,r):o===cp?ea(i,r):void 0}(r,i,l):Zr(r,r[1],o,i)}function pc(r,i,o,l){const u=i[19].queries[l];if(null===u.matches){const h=r.data,m=o.matches,v=[];for(let C=0;C<m.length;C+=2){const b=m[C];v.push(b<0?null:sI(i,h[b],m[C+1],o.metadata.read))}u.matches=v}return u.matches}function s_(r,i,o,l){const u=r.queries.getByIndex(o),h=u.matches;if(null!==h){const m=pc(r,i,u,o);for(let v=0;v<h.length;v+=2){const C=h[v];if(C>0)l.push(m[v/2]);else{const b=h[v+1],R=i[-C];for(let O=10;O<R.length;O++){const z=R[O];z[17]===z[3]&&s_(z[1],z,b,l)}if(null!==R[9]){const O=R[9];for(let z=0;z<O.length;z++){const te=O[z];s_(te[1],te,b,l)}}}}}return l}function zE(r){const i=be(),o=Mt(),l=To();fl(l+1);const u=ru(o,l);if(r.dirty&&function ul(r){return 4==(4&r[2])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const h=u.crossesNgTemplate?s_(o,i,l,[]):pc(o,i,u,l);r.reset(h,y0),r.notifyOnChanges()}return!0}return!1}function Hd(r,i,o,l){const u=Mt();if(u.firstCreatePass){const h=kn();(function Wd(r,i,o){null===r.queries&&(r.queries=new n_),r.queries.track(new r_(i,o))})(u,new WE(i,o,l),h.index),function lI(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function hp(r,i,o){const l=new e_(4==(4&o));ei(r,i,l,l.destroy),null===i[19]&&(i[19]=new fc),i[19].queries.push(new hc(l))}(u,be(),o)}function o_(){return function aI(r,i){return r[19].queries[i].queryList}(be(),To())}function ru(r,i){return r.queries.getByIndex(i)}function Xd(...r){}const d_=new tn("Application Initializer");let eh=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Xd,this.reject=Xd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(nc(h))o.push(h);else if(oo(h)){const m=new Promise((v,C)=>{h.subscribe({complete:v,error:C})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(ln(d_,8))},r.\u0275prov=Ft({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const aC=new tn("AppId",{providedIn:"root",factory:function Cp(){return`${f_()}${f_()}${f_()}`}});function f_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wp=new tn("Platform Initializer"),vI=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lC=new tn("appBootstrapListener");let CI=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ft({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Ip=new tn("LocaleId",{providedIn:"root",factory:()=>Jr(Ip,He.Optional|He.SkipSelf)||function wI(){return typeof $localize<"u"&&$localize.locale||Vr}()}),p_=new tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ja{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let DI=(()=>{class r{compileModuleSync(o){return new Ya(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=to(Ke(o).declarations).reduce((m,v)=>{const C=M(v);return C&&m.push(new jl(C)),m},[]);return new Ja(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ft({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const cC=(()=>Promise.resolve(0))();function vc(r){typeof Zone>"u"?cC.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class ri{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ws(!1),this.onMicrotaskEmpty=new ws(!1),this.onStable=new ws(!1),this.onError=new ws(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const u=this;if(u._nesting=0,u._outer=u._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;u._inner=u._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function __(){let r=pt.requestAnimationFrame,i=pt.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function SI(r){const i=()=>{!function v_(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(pt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Dp(r),r.isCheckStableRunning=!0,y_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Dp(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,h,m,v)=>{try{return E_(r),o.invokeTask(u,h,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),bp(r)}},onInvoke:(o,l,u,h,m,v,C)=>{try{return E_(r),o.invoke(u,h,m,v,C)}finally{r.shouldCoalesceRunChangeDetection&&i(),bp(r)}},onHasTask:(o,l,u,h)=>{o.hasTask(u,h),l===u&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,Dp(r),y_(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,u,h)=>(o.handleError(u,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ri.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(ri.isInAngularZone())throw new _e(909,!1)}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,i,AI,Xd,Xd);try{return h.runTask(m,o,l)}finally{h.cancelTask(m)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const AI={};function y_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Dp(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function E_(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function bp(r){r._nesting--,y_(r)}class dC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ws,this.onMicrotaskEmpty=new ws,this.onStable=new ws,this.onError=new ws}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,u){return i.apply(o,l)}}const Ur=new tn(""),nh=new tn("");let na,Xa=(()=>{class r{constructor(o,l,u){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,na||(function Zi(r){na=r}(u),u.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ri.assertNotInAngularZone(),vc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vc(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,u){return[]}}return r.\u0275fac=function(o){return new(o||r)(ln(ri),ln(rh),ln(nh))},r.\u0275prov=Ft({token:r,factory:r.\u0275fac}),r})(),rh=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return na?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ft({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),ra=null;const C_=new tn("AllowMultipleToken"),ia=new tn("PlatformDestroyListeners");class RI{constructor(i,o){this.name=i,this.token=o}}function ih(r,i,o=[]){const l=`Platform: ${i}`,u=new tn(l);return(h=[])=>{let m=Sp();if(!m||m.injector.get(C_,!1)){const v=[...o,...h,{provide:u,useValue:!0}];r?r(v):function PI(r){if(ra&&!ra.get(C_,!1))throw new _e(400,!1);ra=r;const i=r.get(I_);(function hC(r){const i=r.get(wp,null);i&&i.forEach(o=>o())})(r)}(function Ap(r=[],i){return xi.create({name:i,providers:[{provide:_g,useValue:"platform"},{provide:ia,useValue:new Set([()=>ra=null])},...r]})}(v,l))}return function sh(r){const i=Sp();if(!i)throw new _e(401,!1);return i}()}}function Sp(){return ra?.get(I_)??null}let I_=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const u=function b_(r,i){let o;return o="noop"===r?new dC:("zone.js"===r?void 0:r)||new ri(i),o}(l?.ngZone,function D_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:ri,useValue:u}];return u.run(()=>{const m=xi.create({providers:h,parent:this.injector,name:o.moduleType.name}),v=o.create(m),C=v.injector.get(Ba,null);if(!C)throw new _e(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:R=>{C.handleError(R)}});v.onDestroy(()=>{Rp(this._modules,v),b.unsubscribe()})}),function qi(r,i,o){try{const l=o();return nc(l)?l.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(C,u,()=>{const b=v.injector.get(eh);return b.runInitializers(),b.donePromise.then(()=>(function Zf(r){bt(r,"Expected localeId to be defined"),"string"==typeof r&&(zf=r.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Ip,Vr)||Vr),this._moduleDoBootstrap(v),v))})})}bootstrapModule(o,l=[]){const u=T_({},l);return function MI(r,i,o){const l=new Ya(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const l=o.injector.get(Mp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new _e(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(ia,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(ln(xi))},r.\u0275prov=Ft({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function T_(r,i){return Array.isArray(i)?i.reduce(T_,r):{...r,...i}}let Mp=(()=>{class r{constructor(o,l,u){this._zone=o,this._injector=l,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new P.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new P.y(v=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{ri.assertNotInAngularZone(),vc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{ri.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{C.unsubscribe(),b.unsubscribe()}});this.isStable=(0,re.T)(h,m.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const u=o instanceof g0;if(!this._injector.get(eh).done)throw!u&&Me(o),new _e(405,false);let m;m=u?o:this._injector.get(Va).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const v=function w_(r){return r.isBoundToModule}(m)?void 0:this._injector.get(qa),b=m.create(xi.NULL,[],l||m.selector,v),R=b.location.nativeElement,O=b.injector.get(Ur,null);return O?.registerApplication(R),b.onDestroy(()=>{this.detachView(b.hostView),Rp(this.components,b),O?.unregisterApplication(R)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Rp(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(lC,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Rp(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new _e(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(ln(ri),ln(La),ln(Ba))},r.\u0275prov=Ft({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Rp(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let gC=!0,mC=!1;function OI(){return mC=!0,gC}function kI(){if(mC)throw new Error("Cannot enable prod mode after platform setup.");gC=!1}let FI=(()=>{class r{}return r.__NG_ELEMENT_ID__=LI,r})();function LI(r){return function VI(r,i,o){if(il(r)&&!o){const l=Vt(r.index,i);return new _d(l,l)}return 47&r.type?new _d(i[16],i):null}(kn(),be(),16==(16&r))}class vC{constructor(){}supports(i){return Cf(i)}create(i){return new WI(i)}}const HI=(r,i)=>i;class WI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||HI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,u=0,h=null;for(;o||l;){const m=!l||o&&o.currentIndex<CC(l,u,h)?o:l,v=CC(m,u,h),C=m.currentIndex;if(m===l)u--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{h||(h=[]);const b=v-u,R=C-u;if(b!=R){for(let z=0;z<b;z++){const te=z<h.length?h[z]:h[z]=0,ve=te+z;R<=ve&&ve<b&&(h[z]=te+1)}h[m.previousIndex]=R-b}}v!==C&&i(m,v,C)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Cf(i))throw new _e(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,m,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)h=i[v],m=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,h,m,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,v),l=!0),o=o._next}else u=0,function QD(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[ja()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,v=>{m=this._trackByFn(u,v),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,v,m,u)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,u)):i=this._addAfter(new GI(o,l),h,u),i}_verifyReinsertion(i,o,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new EC),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class GI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class EC{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new zI,this.map.set(o,l)),l.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CC(r,i,o){const l=r.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+i+u}class wC{constructor(){}supports(i){return i instanceof Map||vs(i)}create(){return new ZI}}class ZI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||vs(i)))throw new _e(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const l=new Ib(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class Ib{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qI(){return new R_([new vC])}let R_=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||qI()),deps:[[r,new it,new me]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new _e(901,!1)}}return r.\u0275prov=Ft({token:r,providedIn:"root",factory:qI}),r})();function IC(){return new Op([new wC])}let Op=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||IC()),deps:[[r,new it,new me]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(l)return l;throw new _e(901,!1)}}return r.\u0275prov=Ft({token:r,providedIn:"root",factory:IC}),r})();const nl=ih(null,"core",[]);let yr=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(ln(Mp))},r.\u0275mod=Nt({type:r}),r.\u0275inj=Ct({}),r})();function _i(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(et,De,x)=>{x.d(De,{Z:()=>_e});var c=x(2090),B=x(4859),P=x(9681),re=x(1877);class oe{constructor(ge,de){this._delegate=ge,this.firebase=de,(0,P._addComponent)(ge,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ge,de=P._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(ge);return!je.isInitialized()&&"EXPLICIT"===(null===(We=je.getComponent())||void 0===We?void 0:We.instantiationMode)&&je.initialize(),je.getImmediate({identifier:de})}_removeServiceInstance(ge,de=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(de)}_addComponent(ge){(0,P._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,P._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function fe(){const qe=function le(qe){const ge={},de={__esModule:!0,initializeApp:function Re(ne,ae={}){const pe=P.initializeApp(ne,ae);if((0,c.r3)(ge,pe.name))return ge[pe.name];const K=new qe(pe,de);return ge[pe.name]=K,K},app:je,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ye(ne){const ae=ne.name,pe=ae.replace("-compat","");if(P._registerComponent(ne)&&"PUBLIC"===ne.type){const K=(Q=je())=>{if("function"!=typeof Q[pe])throw ce.create("invalid-app-argument",{appName:ae});return Q[pe]()};void 0!==ne.serviceProps&&(0,c.ZB)(K,ne.serviceProps),de[pe]=K,qe.prototype[pe]=function(...Q){return this._getService.bind(this,ae).apply(this,ne.multipleInstances?Q:[])}}return"PUBLIC"===ne.type?de[pe]:null},removeApp:function We(ne){delete ge[ne]},useAsService:function Ve(ne,ae){return"serverAuth"===ae?null:ae},modularAPIs:P}};function je(ne){if(!(0,c.r3)(ge,ne=ne||P._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:ne});return ge[ne]}return de.default=de,Object.defineProperty(de,"apps",{get:function Te(){return Object.keys(ge).map(ne=>ge[ne])}}),je.App=qe,de}(oe);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function ge(de){(0,c.ZB)(qe,de)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),qe}(),H=new re.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qe=self.firebase.SDK_VERSION;qe&&qe.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _e=G;!function Ae(qe){(0,P.registerVersion)("@firebase/app-compat","0.1.39",qe)}()},9681:(et,De,x)=>{x.r(De),x.d(De,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Hr,_DEFAULT_ENTRY_NAME:()=>bt,_addComponent:()=>kt,_addOrOverwriteComponent:()=>Ft,_apps:()=>Bt,_clearComponents:()=>$r,_components:()=>Jt,_getProvider:()=>Ct,_registerComponent:()=>At,_removeServiceInstance:()=>Zn,deleteApp:()=>Wr,getApp:()=>_n,getApps:()=>Nr,initializeApp:()=>or,onLog:()=>In,registerVersion:()=>xn,setLogLevel:()=>Kt});var c=x(5861),B=x(4859),P=x(1877),re=x(2090),oe=x(8766);class he{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function ce(Ge){return"VERSION"===Ge.getComponent()?.type}(ze)){const ut=ze.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(ze=>ze).join(" ")}}const le="@firebase/app",G=new P.Yd("@firebase/app"),bt="[DEFAULT]",Be={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bt=new Map,Jt=new Map;function kt(Ge,Ce){try{Ge.container.addComponent(Ce)}catch(ze){G.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Ge.name}`,ze)}}function Ft(Ge,Ce){Ge.container.addOrOverwriteComponent(Ce)}function At(Ge){const Ce=Ge.name;if(Jt.has(Ce))return G.debug(`There were multiple attempts to register component ${Ce}.`),!1;Jt.set(Ce,Ge);for(const ze of Bt.values())kt(ze,Ge);return!0}function Ct(Ge,Ce){const ze=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),Ge.container.getProvider(Ce)}function Zn(Ge,Ce,ze=bt){Ct(Ge,Ce).clearInstance(ze)}function $r(){Jt.clear()}const hn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jr{constructor(Ce,ze,ut){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const Hr="9.14.0";function or(Ge,Ce={}){let ze=Ge;"object"!=typeof Ce&&(Ce={name:Ce});const ut=Object.assign({name:bt,automaticDataCollectionEnabled:!1},Ce),ct=ut.name;if("string"!=typeof ct||!ct)throw hn.create("bad-app-name",{appName:String(ct)});if(ze||(ze=(0,re.aH)()),!ze)throw hn.create("no-options");const Nt=Bt.get(ct);if(Nt){if((0,re.vZ)(ze,Nt.options)&&(0,re.vZ)(ut,Nt.config))return Nt;throw hn.create("duplicate-app",{appName:ct})}const W=new B.H0(ct);for(const Z of Jt.values())W.addComponent(Z);const $=new jr(ze,ut,W);return Bt.set(ct,$),$}function _n(Ge=bt){const Ce=Bt.get(Ge);if(!Ce&&Ge===bt)return or();if(!Ce)throw hn.create("no-app",{appName:Ge});return Ce}function Nr(){return Array.from(Bt.values())}function Wr(Ge){return He.apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(Ge){const Ce=Ge.name;Bt.has(Ce)&&(Bt.delete(Ce),yield Promise.all(Ge.container.getProviders().map(ze=>ze.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function xn(Ge,Ce,ze){var ut;let ct=null!==(ut=Be[Ge])&&void 0!==ut?ut:Ge;ze&&(ct+=`-${ze}`);const Nt=ct.match(/\s|\//),W=Ce.match(/\s|\//);if(Nt||W){const $=[`Unable to register library "${ct}" with version "${Ce}":`];return Nt&&$.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Nt&&W&&$.push("and"),W&&$.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void G.warn($.join(" "))}At(new B.wA(`${ct}-version`,()=>({library:ct,version:Ce}),"VERSION"))}function In(Ge,Ce){if(null!==Ge&&"function"!=typeof Ge)throw hn.create("invalid-log-argument");(0,P.Am)(Ge,Ce)}function Kt(Ge){(0,P.Ub)(Ge)}const Yt="firebase-heartbeat-store";let Xt=null;function Gt(){return Xt||(Xt=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(Ge,Ce)=>{0===Ce&&Ge.createObjectStore(Yt)}}).catch(Ge=>{throw hn.create("idb-open",{originalErrorMessage:Ge.message})})),Xt}function rt(){return(rt=(0,c.Z)(function*(Ge){var Ce;try{return(yield Gt()).transaction(Yt).objectStore(Yt).get(Dn(Ge))}catch(ze){if(ze instanceof re.ZR)G.warn(ze.message);else{const ut=hn.create("idb-get",{originalErrorMessage:null===(Ce=ze)||void 0===Ce?void 0:Ce.message});G.warn(ut.message)}}})).apply(this,arguments)}function pt(Ge,Ce){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(Ge,Ce){var ze;try{const ct=(yield Gt()).transaction(Yt,"readwrite");return yield ct.objectStore(Yt).put(Ce,Dn(Ge)),ct.done}catch(ut){if(ut instanceof re.ZR)G.warn(ut.message);else{const ct=hn.create("idb-set",{originalErrorMessage:null===(ze=ut)||void 0===ze?void 0:ze.message});G.warn(ct.message)}}})).apply(this,arguments)}function Dn(Ge){return`${Ge.name}!${Ge.options.appId}`}class Xn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new Rt(ze),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var Ce=this;return(0,c.Z)(function*(){const ut=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=yt();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==ct&&!Ce._heartbeatsCache.heartbeats.some(Nt=>Nt.date===ct))return Ce._heartbeatsCache.heartbeats.push({date:ct,agent:ut}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Nt=>{const W=new Date(Nt.date).valueOf();return Date.now()-W<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,c.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const ze=yt(),{heartbeatsToSend:ut,unsentEntries:ct}=function dr(Ge,Ce=1024){const ze=[];let ut=Ge.slice();for(const ct of Ge){const Nt=ze.find(W=>W.agent===ct.agent);if(Nt){if(Nt.dates.push(ct.date),Vn(ze)>Ce){Nt.dates.pop();break}}else if(ze.push({agent:ct.agent,dates:[ct.date]}),Vn(ze)>Ce){ze.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:ze,unsentEntries:ut}}(Ce._heartbeatsCache.heartbeats),Nt=(0,re.L)(JSON.stringify({version:2,heartbeats:ut}));return Ce._heartbeatsCache.lastSentHeartbeatDate=ze,ct.length>0?(Ce._heartbeatsCache.heartbeats=ct,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Nt})()}}function yt(){return(new Date).toISOString().substring(0,10)}class Rt{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,c.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function nt(Ge){return rt.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var ze=this;return(0,c.Z)(function*(){var ut;if(yield ze._canUseIndexedDBPromise){const Nt=yield ze.read();return pt(ze.app,{lastSentHeartbeatDate:null!==(ut=Ce.lastSentHeartbeatDate)&&void 0!==ut?ut:Nt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var ze=this;return(0,c.Z)(function*(){var ut;if(yield ze._canUseIndexedDBPromise){const Nt=yield ze.read();return pt(ze.app,{lastSentHeartbeatDate:null!==(ut=Ce.lastSentHeartbeatDate)&&void 0!==ut?ut:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...Ce.heartbeats]})}})()}}function Vn(Ge){return(0,re.L)(JSON.stringify({version:2,heartbeats:Ge})).length}!function sn(Ge){At(new B.wA("platform-logger",Ce=>new he(Ce),"PRIVATE")),At(new B.wA("heartbeat",Ce=>new Xn(Ce),"PRIVATE")),xn(le,"0.8.4",Ge),xn(le,"0.8.4","esm2017"),xn("fire-js","")}("")},4859:(et,De,x)=>{x.d(De,{H0:()=>le,wA:()=>P,zt:()=>oe});var c=x(5861),B=x(2090);class P{constructor(G,H,Y){this.name=G,this.instanceFactory=H,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const re="[DEFAULT]";class oe{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const Y=new B.BH;if(this.instancesDeferred.set(H,Y),this.isInitialized(H)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:H});Oe&&Y.resolve(Oe)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const Y=this.normalizeInstanceIdentifier(G?.identifier),Oe=null!==(H=G?.optional)&&void 0!==H&&H;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ae){if(Oe)return null;throw Ae}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ce(fe){return"EAGER"===fe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[H,Y]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(H);try{const Ae=this.getOrInitializeService({instanceIdentifier:Oe});Y.resolve(Ae)}catch{}}}}clearInstance(G=re){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...H.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=re){return this.instances.has(G)}getOptions(G=re){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,Y=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:Y,options:H});for(const[Ae,_e]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ae)&&_e.resolve(Oe);return Oe}onInit(G,H){var Y;const Oe=this.normalizeInstanceIdentifier(H),Ae=null!==(Y=this.onInitCallbacks.get(Oe))&&void 0!==Y?Y:new Set;Ae.add(G),this.onInitCallbacks.set(Oe,Ae);const _e=this.instances.get(Oe);return _e&&G(_e,Oe),()=>{Ae.delete(G)}}invokeOnInitCallbacks(G,H){const Y=this.onInitCallbacks.get(H);if(Y)for(const Oe of Y)try{Oe(G,H)}catch{}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let Y=this.instances.get(G);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=G,fe===re?void 0:fe),options:H}),this.instances.set(G,Y),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(Y,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Y)}catch{}var fe;return Y||null}normalizeInstanceIdentifier(G=re){return this.component?this.component.multipleInstances?G:re:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new oe(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(et,De,x)=>{x.d(De,{Am:()=>fe,Ub:()=>le,Yd:()=>ce,in:()=>B});const c=[];var B=(()=>{return(G=B||(B={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",B;var G})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},re=B.INFO,oe={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},he=(G,H,...Y)=>{if(H<G.logLevel)return;const Oe=(new Date).toISOString(),Ae=oe[H];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ae](`[${Oe}]  ${G.name}:`,...Y)};class ce{constructor(H){this.name=H,this._logLevel=re,this._logHandler=he,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in B))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?P[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...H),this._logHandler(this,B.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...H),this._logHandler(this,B.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,B.INFO,...H),this._logHandler(this,B.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,B.WARN,...H),this._logHandler(this,B.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...H),this._logHandler(this,B.ERROR,...H)}}function le(G){c.forEach(H=>{H.setLogLevel(G)})}function fe(G,H){for(const Y of c){let Oe=null;H&&H.level&&(Oe=P[H.level]),Y.userLogHandler=null===G?null:(Ae,_e,...qe)=>{const ge=qe.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");_e>=(Oe??Ae.logLevel)&&G({level:B[_e].toLowerCase(),message:ge,args:qe,type:Ae.name})}}}},8766:(et,De,x)=>{x.d(De,{Lj:()=>Re,X3:()=>je});var c=x(5861);let P,re;const ce=new WeakMap,le=new WeakMap,fe=new WeakMap,G=new WeakMap,H=new WeakMap;let Ae={get(ae,pe,K){if(ae instanceof IDBTransaction){if("done"===pe)return le.get(ae);if("objectStoreNames"===pe)return ae.objectStoreNames||fe.get(ae);if("store"===pe)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return de(ae[pe])},set:(ae,pe,K)=>(ae[pe]=K,!0),has:(ae,pe)=>ae instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in ae};function ge(ae){return"function"==typeof ae?function qe(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...pe){return ae.apply(We(this),pe),de(ce.get(this))}:function(...pe){return de(ae.apply(We(this),pe))}:function(pe,...K){const Q=ae.call(We(this),pe,...K);return fe.set(Q,pe.sort?pe.sort():[pe]),de(Q)}}(ae):(ae instanceof IDBTransaction&&function Oe(ae){if(le.has(ae))return;const pe=new Promise((K,Q)=>{const ue=()=>{ae.removeEventListener("complete",ie),ae.removeEventListener("error",Ne),ae.removeEventListener("abort",Ne)},ie=()=>{K(),ue()},Ne=()=>{Q(ae.error||new DOMException("AbortError","AbortError")),ue()};ae.addEventListener("complete",ie),ae.addEventListener("error",Ne),ae.addEventListener("abort",Ne)});le.set(ae,pe)}(ae),((ae,pe)=>pe.some(K=>ae instanceof K))(ae,function oe(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,Ae):ae)}function de(ae){if(ae instanceof IDBRequest)return function Y(ae){const pe=new Promise((K,Q)=>{const ue=()=>{ae.removeEventListener("success",ie),ae.removeEventListener("error",Ne)},ie=()=>{K(de(ae.result)),ue()},Ne=()=>{Q(ae.error),ue()};ae.addEventListener("success",ie),ae.addEventListener("error",Ne)});return pe.then(K=>{K instanceof IDBCursor&&ce.set(K,ae)}).catch(()=>{}),H.set(pe,ae),pe}(ae);if(G.has(ae))return G.get(ae);const pe=ge(ae);return pe!==ae&&(G.set(ae,pe),H.set(pe,ae)),pe}const We=ae=>H.get(ae);function je(ae,pe,{blocked:K,upgrade:Q,blocking:ue,terminated:ie}={}){const Ne=indexedDB.open(ae,pe),xe=de(Ne);return Q&&Ne.addEventListener("upgradeneeded",tt=>{Q(de(Ne.result),tt.oldVersion,tt.newVersion,de(Ne.transaction))}),K&&Ne.addEventListener("blocked",()=>K()),xe.then(tt=>{ie&&tt.addEventListener("close",()=>ie()),ue&&tt.addEventListener("versionchange",()=>ue())}).catch(()=>{}),xe}function Re(ae,{blocked:pe}={}){const K=indexedDB.deleteDatabase(ae);return pe&&K.addEventListener("blocked",()=>pe()),de(K).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],Ve=new Map;function ne(ae,pe){if(!(ae instanceof IDBDatabase)||pe in ae||"string"!=typeof pe)return;if(Ve.get(pe))return Ve.get(pe);const K=pe.replace(/FromIndex$/,""),Q=pe!==K,ue=ye.includes(K);if(!(K in(Q?IDBIndex:IDBObjectStore).prototype)||!ue&&!Te.includes(K))return;const ie=function(){var Ne=(0,c.Z)(function*(xe,...tt){const Lt=this.transaction(xe,ue?"readwrite":"readonly");let bt=Lt.store;return Q&&(bt=bt.index(tt.shift())),(yield Promise.all([bt[K](...tt),ue&&Lt.done]))[0]});return function(tt){return Ne.apply(this,arguments)}}();return Ve.set(pe,ie),ie}!function _e(ae){Ae=ae(Ae)}(ae=>({...ae,get:(pe,K,Q)=>ne(pe,K)||ae.get(pe,K,Q),has:(pe,K)=>!!ne(pe,K)||ae.has(pe,K)}))},5861:(et,De,x)=>{function c(P,re,oe,he,ce,le,fe){try{var G=P[le](fe),H=G.value}catch(Y){return void oe(Y)}G.done?re(H):Promise.resolve(H).then(he,ce)}function B(P){return function(){var re=this,oe=arguments;return new Promise(function(he,ce){var le=P.apply(re,oe);function fe(H){c(le,he,ce,fe,G,"next",H)}function G(H){c(le,he,ce,fe,G,"throw",H)}fe(void 0)})}}x.d(De,{Z:()=>B})}},et=>{et(et.s=4734)}]);